{"version":3,"sources":["../../../src/utils/index.ts","../../../src/constant/index.tsx","../../src/index.tsx","../../../../src/store/annotation/actionCreators.ts","../../../src/store/Actions.ts","../../../src/utils/StepUtils.ts","../../lb-annotation/es/index.js","../../../../src/data/enums/ToolType.ts","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/common/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg","../../lb-utils/lib/i18n/index.js","../../../../src/store/annotation/reducer.ts","../../../../src/data/enums/AnnotationSize.ts","../../../src/data/Style.ts","../../../../../src/assets/annotation/common/icon_clearSmall_a.svg","../../../../../src/assets/annotation/common/icon_clearSmall.svg","../../../../../src/views/MainView/toolFooter/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_del_kj.svg","../../../src/utils/ConfigUtils.ts","../../../../src/components/customResizeHook/index.tsx","../../../src/hooks/useSize.ts","../../../../src/store/toolStyle/actionCreators.ts","../../../../src/store/imgAttribute/actionCreators.ts","../../../../src/components/attributeList/index.tsx","../../../src/utils/TextUtils.ts","../../../../../src/assets/annotation/toolHotKeyIcon/icon_line_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineCont_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_unGrip_kj.svg","../../src/configureStore.ts","../../../src/store/index.ts","../../../src/utils/data.ts","../../../src/utils/AnnotationDataUtils.ts","../../../src/constant/styleString.ts","../../../src/utils/PageOperator.ts","../../../../src/store/imgAttribute/reducer.ts","../../../../src/store/toolStyle/reducer.ts","../../../src/utils/ToolStyleUtils.ts","../../src/App.tsx","../../../../src/views/MainView/index.tsx","../../../../../src/views/MainView/toolHeader/index.tsx","../../../../../../src/views/MainView/toolHeader/ExportData/index.tsx","../../../../../../src/views/MainView/toolHeader/headerOption/index.tsx","../../../../../src/assets/annotation/common/icon_r.svg","../../../../../src/assets/annotation/common/icon_next.svg","../../../../../src/assets/annotation/common/icon_back.svg","../../../../../src/assets/annotation/common/icon_rA.svg","../../../../../src/assets/annotation/common/icon_nextA.svg","../../../../../src/assets/annotation/common/icon_backA.svg","../../../../../src/assets/annotation/common/icon_save.svg","../../../../../src/assets/annotation/common/icon_saveA.svg","../../../../../../src/views/MainView/toolHeader/StepSwitch/index.tsx","../../../../../src/components/customAntd/IconWithText/index.tsx","../../../../src/components/annotationStepPopover/index.tsx","../../../src/utils/dom.ts","../../../src/hooks/useRafState.ts","../../../../../src/views/MainView/annotationOperation/index.tsx","../../../../src/components/ImageError/index.tsx","../../../../../src/views/MainView/sidebar/index.tsx","../../../../../src/assets/annotation/rectTool/icon_rectPattern.svg","../../../../../src/assets/annotation/polygonTool/icon_polygon_a.svg","../../../../../src/assets/annotation/pointTool/icon_point_a.svg","../../../../../src/assets/annotation/lineTool/icon_line_a.svg","../../../../../../src/views/MainView/sidebar/ImgAttributeInfo/index.tsx","../../../../../src/assets/annotation/image/saturation.svg","../../../../../src/assets/annotation/image/contrast.svg","../../../../../src/assets/annotation/image/brightness.svg","../../../../src/assets/attributeIcon/zoomUp.svg","../../../../../src/assets/annotation/image/icon_yuantu.svg","../../../../../../src/views/MainView/sidebar/SwitchAttributeList/index.tsx","../../../../src/components/colorTag/index.tsx","../../../../../../src/views/MainView/sidebar/GeneralOperation/index.tsx","../../../../../src/assets/annotation/common/icon_clear.svg","../../../../../src/assets/annotation/common/icon_clear_a.svg","../../../../../src/assets/annotation/common/icon_invalid.svg","../../../../../src/assets/annotation/common/icon_invalid_a.svg","../../../../../../src/views/MainView/sidebar/AnnotationText/index.tsx","../../../../../../src/views/MainView/sidebar/TextAreaFormat/index.tsx","../../../../../../src/views/MainView/sidebar/ToolStyle/index.tsx","../../../../src/assets/toolStyle/icon_border.svg","../../../../src/assets/toolStyle/icon_borderColor.svg","../../../../src/assets/toolStyle/icon_opacityStroke.svg","../../../../src/assets/toolStyle/icon_opacityFill.svg","../../../../../../src/views/MainView/sidebar/ClearIcon/index.tsx","../../../../../../src/views/MainView/sidebar/TagSidebar/index.tsx","../../../../src/components/checkboxList/index.tsx","../../../../../../src/views/MainView/sidebar/TextToolSidebar/index.tsx","../../../../../../src/views/MainView/toolFooter/HiddenTips/index.tsx","../../../../../../src/views/MainView/toolFooter/PageNumber/index.tsx","../../../../../../src/views/MainView/toolFooter/ZoomController/index.tsx","../../../../../src/assets/annotation/common/icon_adapt.svg","../../../../../src/assets/annotation/common/icon_adapt_black.svg","../../../../../../../src/views/MainView/toolFooter/ZoomController/ZoomLevel/index.tsx","../../../src/hooks/useSafeSate.ts","../../../src/hooks/useUnmountedRef.ts","../../../../../../src/views/MainView/toolFooter/FooterTips/index.tsx","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_kj1.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_kj_h.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/rectToolShortCutTable/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_frame_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_frameNull_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_frameActive_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_frameChange_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_cencel_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_reform_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_loupe_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_mouse_middle_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_fullView_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_reload_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/setValid.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_last_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_next_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_move_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_tab_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_alttab_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_save_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineSpecial_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_noDisplay.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/point/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_point_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_pointNull_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_pointActive_kj.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/polygon/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonNull_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonActive_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonChange_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonDel_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonInsert_kj.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/line/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineNull_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_straightLine_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineActive_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineChange_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineInsert_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineDel_kj.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/tag/index.ts","../../../../../src/assets/annotation/toolHotKeyIcon/icon_tag_kj.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/text/index.ts","../../../../src/components/AnnotationView/index.tsx","components/Annotation/index.jsx","mock/index.js","mock/images/10.jpg","mock/images/19.jpg","mock/images/20.jpg","mock/images/66.jpg","mock/taskConfig.js","App.js","index.js"],"names":["className","Array","isArray","join","_","isObject","classArray","Object","keys","forEach","key","push","newNode","oldNode","isNull","content","defaultValue","JSON","parse","e","EStepType","ESubmitType","componentCls","store","configureStore","React","forwardRef","props","ref","useState","toolInstance","setToolInstance","useImperativeHandle","pageBackwardActions","dispatch","PageBackward","pageForwardActions","PageForward","pageJump","page","imgIndex","PageJump","hello","alert","Provider","I18nextProvider","i18n","App","getSubmitByPageOperation","pageTurningOperation","EPageTurningOperation","Forward","Backward","Jump","getBasicIndex","annotationStore","basicIndex","imgList","dataSourceStep","getStepConfig","stepList","step","jsonParser","result","length","type","ANNOTATION_ACTIONS","UPDATE_IMG_LIST","payload","SET_TASK_CONFIG","onSubmit","UPDATE_ON_SUBMIT","onSave","UPDATE_ON_SAVE","getFileData","UPDATE_GET_FILE_DATA","UpdateProcessingStep","toStep","index","state","annotation","SUBMIT_RESULT","SUBMIT_FILE_DATA","submitType","StepChanged","SET_STEP","CALC_STEP_PROGRESS","LoadImageAndFileData","ToSubmitFileData","SubmitAndChangeFileIndex","nextIndex","nextBasicIndex","ChangeBasicIndex","SET_BASIC_INDEX","ChangeTriggerEventAfterIndexChanged","triggerEventAfterIndexChanged","SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED","DispatcherTurning","getState","toIndex","PageOperator","getNextPageInfo","fileIndexChanged","fileIndex","basicIndexChanged","Save","SAVE_RESULT","COPY_BACKWARD_RESULT","initialIndex","tasks","UpdateOnSubmit","UpdateOnSave","UpdateGetFileData","UpdateImgList","SetTaskConfig","INIT_TOOL","map","task","dispatchTasks","loading","SET_LOADING","pageNumber","UPDATE_ROTATE","UPDATE_TOOL_INSTANCE","UPDATE_ANNOTATION_CONFIG","LOAD_FILE_DATA","GET_FILE_DATA","SET_FILE_DATA","UPDATE_IMG_ATTRIBUTE","INIT_IMG_ATTRIBUTE","INIT_TOOL_STYLE_CONFIG","UPDATE_TOOL_STYLE_CONFIG","currentStep","currentStepInfo","this","getStepInfo","QUALITY_INSPECTION","MANUAL_CORRECTION","includes","filter","info","EPointCloudName","EVideoToolName","EVideoToolName2","EToolType","EToolType2","EToolName","EToolName2","ECheckModel","ERectPattern","ERectPattern2","EDependPattern","EDependPattern2","EFilterToolOperation","EFilterToolOperation2","TOOL_NAME","Rect","Tag","Point","PointMarker","Segmentation","Filter","Text","Polygon","Line","LineMarker","FolderTag","RectTrack","Face","ClientAttribute","OCRRelation","VideoTextTool","VideoTagTool","VideoClipTool","PointCloud","EAnnotationMode","EAnnotationMode2","ELineTypes","ELineTypes2","ELineColor","ELineColor2","ESelectedType","ESelectedType2","EDragTarget$1","EDragTarget2","EDrawPointPattern","EDrawPointPattern2","EPageOperator$1","EPageOperator2","EAuditStatus","EAuditStatus2","ETextType","ETextType2","EThumbnailOption","EThumbnailOption2","TEXT_ATTRIBUTE_MAX_LENGTH","CLIENT_TOOL_HEAD_TYPE","CLIENT_TOOL_NAME","SEGMENT_NUMBER$2","tool","freeze","__proto__","editStepWidth","OPERATION_LIST","leftClick","rightClick","ctrlLeftClick","ctrlRightClick","EDragTarget","EPageOperator","TEXT_TYPE","TEXT_ATTRIBUTE_LINE_HEIGHT","SEGMENT_NUMBER","edgeAdsorptionScope","__defProp$e","defineProperty","__defProps$c","defineProperties","__getOwnPropDescs$c","getOwnPropertyDescriptors","__getOwnPropSymbols$e","getOwnPropertySymbols","__hasOwnProp$e","prototype","hasOwnProperty","__propIsEnum$e","propertyIsEnumerable","__defNormalProp$e","obj","value","enumerable","configurable","writable","__spreadValues$e","a","b","prop","call","__spreadProps$c","createSmoothCurvePoints","points","tension","closed","numberOfSegments","x","y","t1x","t2x","t1y","t2y","c1","c2","c3","c4","st","t","i","ps","slice","unshift","Math","pow","formatResult","j","d","shift","createSmoothCurvePointsFromPointList","pointList","reduce","acc","cur","isInPolygon","checkPoint","polygonPoints","xinters","p1","p2","lineType","counter","Curve","pointCount","min","max","getPolygonPointUnderZoom","zoom","v","_MathUtils","rotate","point1","point2","sqrt","MathUtils","isInRange","range","every","inRange","withinRange","calcViewportBoundaries","array","isCurve","top","bottom","left","right","MIN_LENGTH","xAxis","yAxis","minX","maxX","minY","maxY","diffX","diffY","addLen","getFootOfPerpendicular","pt","begin","end","useAxisRange","retVal","dx","dy","abs","u","getLineLength","ratio","fromX","toX","fromY","toY","allAxisOverRange","someAxisOverRange","isOverRange","footPoint","Infinity","EStepType2","EDragStatus","EDragStatus2","ESortDirection","ESortDirection2","EGrowthMode","EGrowthMode2","ELang","ELang2","DEFAULT_TEXT_OFFSET","offsetX","offsetY","DEFAULT_TEXT_SHADOW","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","headerHeight","tipsHeight","footerHeight","sidebarWidth","ANNOTATION_MAX_SIZE","__defProp$d","__defProps$b","__getOwnPropDescs$b","__getOwnPropSymbols$d","__hasOwnProp$d","__propIsEnum$d","__defNormalProp$d","__spreadValues$d","__spreadProps$b","RectUtils","resultList","basicImgInfo","data","CommonToolUtils","getCurrentStepInfo","stepName","assign","stringify","toolName","rect","imgSize","width","height","leftTopCoordinate","AxisUtils","changeCoordinateByRotate","basicRect","getRectPointList","len","coordinate","scope","polygonPointList","some","p","uuid","r","radix","chars","split","id","random","EMessage","EMessage2","__defProp$c","__getOwnPropSymbols$c","__hasOwnProp$c","__propIsEnum$c","__defNormalProp$c","__spreadValues$c","TagUtil","labelInfoSet","_a","_b","find","subSelected","console","error","entries","valueList","nameList","keyName","getTagKeyName","getTagName","inputList","resultValue","indexOf","isDefault","originResult","originResultList","basicResultList","defaultResult","getDefaultResultByConfig","sourceID","canvasEdit0","INVALID_ICON","NULL_ICON","COLORS_ARRAY","ICON_ARRAY","BASE_ICON","NULL_COLOR","FILTER_TOOL_COLOR","lc","rc","clc","crc","style","HEADER_HEIGHT","TAB_HEIGHT","SEARCH_HEIGHT","PADDING","TABLE_ROW_HEIGHT","PAGINATION_HEIGHT","TIPS_HEIGHT","FOOTER_HEIGHT","SIDERBAR_WIDTH","EDIT_STEP_WIDTH","THEME_COLOR","INVALID_COLOR","message$1","NoRotateNotice","RectErrorSizeNotice","TextCheckNumberErrorNotice","TextCheckEnglishErrorNotice","TextCheckCustomErrorNotice","UpperLimitErrorNotice","LowerLimitErrorNotice","InvalidImage","DisableDelete","ClearPartialData","MarkerFinish","LowerLimitPoint","NoRotateInDependence","message","Locale","getMessagesByLocale","locale","US","Zh","__defProp$b","__defProps$a","__getOwnPropDescs$a","__getOwnPropSymbols$b","__hasOwnProp$b","__propIsEnum$b","__defNormalProp$b","__spreadValues$b","__spreadProps$a","AttributeUtils","attribute","attributeList","valid","attributeIndex","findIndex","src","img","Image","textCheckType","customFormat","regExpString","Order","NumberOnly","EnglishOnly","CustomFormat","checkStrings","RegExp","test","getAttributeIndex","toolResultList","textAttributeList","parseInt","textAttribute","order","isNumber","Number","MAX_SAFE_INTEGER","sort","maxOrder","pop","selectedID","toolList","item","lang","text","checkString","textAttributeValidate","toolLog","changeRect","attributeConfigurable","baseIcon","keyCode","num","UnitUtils","angleDeg","PI","angleRad","DEFAULT_CURRENT_POS","DEFAULT_COLOR","DrawUtils","canvas","startPoint","endPoint","options","ctx","getContext","color","thickness","lineCap","save","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","restore","fillStyle","strokeRect","showText","drawText","textSizeWidth","marginTop","textWidth","textMaxWidth","fillRect","tagList","parentNode","oldDom","window","self","document","getElementById","contains","removeChild","dom","createElement","innerHTML","setAttribute","appendChild","hoverEdgeIndex","PolygonUtils","firstPoint","nextPointList","point","anchorPoint","radius","startAngleDeg","endAngleDeg","fill","startAngleRad","deg2rad","endAngleRad","arc","closePath","isClose","drawLineWithPointList","otherPointList","strokeColor","fillColor","drawPolygon","drawPolygonWithFill","pointColor","drawPolygonWithFillAndLine","newPointList","drawCircleWithFill","font","textAlign","wrapText","maxWidth","lineHeight","context","getComputedStyle","body","arrParagraph","arrText","line","n","testLine","measureText","fillText","theta","headLen","angle","atan2","angle1","angle2","topX","cos","topY","sin","botX","botY","drawImg","imgNode","currentPos","imgAttribute","translate","contrast","saturation","brightness","drawImage","EKeyCode","EKeyCode2","StyleUtils","toolStyle","isSelected","isHover","validSelected","invalidSelected","validHover","invalidHover","invalid","EKeyCode$1","ActionsHistory","historyChanged","record","recordIndex","minRecordIndex","emitHistoryChanged","constructor","name","undoEnabled","redoEnabled","action","newRecord","cloneDeepWith","cloneDeep","lines","isExitData","existData","DblClickEventListener","delay","rcTime","mouseDownTime","onMouseDown","Date","getTime","isDoubleClick","clientX","clientY","removeEventListener","mouseUp","mouseMove","dblclick","singleClickFun","leftDblClick","rightDblClick","isAllowDouble","removeEvent","cTime","button","clearTimeout","setTimeFun","cacheFunction","setTimeout","clickCoord","getCoord","currentCoord","getIsInScope","addEventListener","ImgPosUtils","canvasSize","zoomRatio","isOriginalSize","wScale","hScale","scale","imgInfo","size","shrinkRatio","initZoom","viewCenter","imgCenter","innerZoom","RenderDomUtils","container","invalidDOM","ZOOM_LEVEL","concat","from","ZoomUtils","zoomChanged","isZoomIn","growthMode","Linear","Intelligence","newZoom","maxZoom","minZoom","zoomIndex","newZoomIndex","wheelChangePos","coord","operator","oldCurrentPos","basicZoom","zoomMax","parseFloat","toFixed","imgWidth","imgHeight","offsetLeft","offsetTop","ratioX","ratioY","currentZoom","changeX","changeY","currentX","currentY","EStatus$1","EStatus2","EColor","EventListener","_events","Map","eventName","callback","existEvents","get","fn","set","args","listener","delete","rectToolConfig","showConfirm","skipWhileNoDependencies","drawOutsideTarget","copyBackwardResult","minWidth","minHeight","isShowOrder","filterData","textConfigurable","tagToolConfig","isMulti","lineToolConfig","lineColor","edgeAdsorption","outOfTarget","lowerLimitPointNum","upperLimitPointNum","preReferenceStep","textToolConfig","enableTextRecognition","recognitionMode","configList","label","required","default","maxLength","polygonConfig","getConfig","styleDefaultConfig","toolColor","attributeColor","attributeLineColor","opacity","__defProp$a","__defProps$9","__getOwnPropDescs$9","__getOwnPropSymbols$a","__hasOwnProp$a","__propIsEnum$a","__defNormalProp$a","__spreadValues$a","__spreadProps$9","_LineToolUtils","LineToolUtils","setSpecialEdgeStyle","setLineDash","setReferenceCtx","calcOptimalIntersection","matchLine","matchPoint","pointRadius","optimalIntersection","scopeIntersection","minDistance","pointAOnLine","isInLine","pointA","pointBOnLine","pointB","line2","intersection","lineIntersection","onLine2","onLine1","distance","calcDistance","isOnLine","cPoint","distPointA","distPointB","lineA","lineB","lineADiff","getAxisDiff","lineBDiff","denominator","numerator1","numerator2","drawCurveLine","config","applyLineWidth","isReference","lineJoin","specialEdge","curveLinePoints","splice","SEGMENT_NUMBER$1","pointIndex","calcTwoPointDistance","pointOverTarget","axis","preAxis","dependToolName","dependData","dependConfig","imageSize","getRenderAxis","getAbsAxis","absAxis","getPolygonPointList","line1","intersectionAbsAxis","endX","endY","px","py","inArea","getVHPoint","lastPoint","nextPoint","absNextPoint","renderLastPoint","getAngle","atan","__defProp$9","__defProps$8","__getOwnPropDescs$8","__getOwnPropSymbols$9","__hasOwnProp$9","__propIsEnum$9","__defNormalProp$9","__spreadValues$9","zoomInfo","BasicToolOperation","_c","_d","_e","_f","_g","_h","isDrag","isSpaceKey","isSpaceClick","isDragStart","startTime","initImgPos","__this","__arguments","generator","_imgAttribute","getInitImgPos","setCurrentPos","currentPosStorage","setZoom","render","renderBasicCanvas","emit","Promise","resolve","reject","fulfilled","next","rejected","throw","done","then","apply","getCurrentPos","_firstClickCoordinate","pos","newCurrentPos","getGetCenterCoordinate","basicCanvas","showDefaultCursor","destroyCanvas","createCanvas","isImgError","forbidOperation","isShowCursor","strokeWidth","attributeLockList","history","isHidden","dragStatus","Wait","defaultAttribute","forbidCursorLine","bind","onMouseMove","onMouseLeave","onMouseUp","onKeyDown","onKeyUp","onWheel","onLeftDblClick","onRightDblClick","onClick","clearImgDrag","dblClickListener","coordUtils","CoordinateUtils","setBasicImgInfo","preventDefault","_ctx","setZoomAndCurrentPos","params","cursor","defaultCursor","eventUnbinding","initPosition","eventBinding","position","zIndex","clearInvalidPage","setValid","originIsImgError","bounding","getBoundingClientRect","basicResult","newBoundry","basicZone","getBasicRecPos","undo","redo","clearRect","basicCtx","addEvent","parent","onContextmenu","getCoordinate","stopPropagation","Error","time","Alt","Space","Z","ctrlKey","shiftKey","isRender","delta","deltaY","wheelDelta","drawLine","init","oldImgAttribute","sendMessage","renderInvalidPage","clearResult","setBasicResult","dependToolConfig","setDependInfo","dataList","getRotate","_invalidDOM","clearBasicCanvas","drawRect","changeRectByZoom","changePointListByZoom","clearCanvas","newAttribute","__defProp$8","__getOwnPropSymbols$8","__hasOwnProp$8","__propIsEnum$8","__defNormalProp$8","__spreadValues$8","TEXT_ATTRIBUTE_OFFSET$1","CheckOperation","getHoverRectID","getCoordinateUnderZoom","currentShowList","hoverList","isInRect","hoverID","fillID","drawTag","setShowDefaultCursor","forbidMouseOperation","newMouseSelectedID","mouseHoverID","isShow","oldMouseHoverID","newMouseHoverID","polygonList","polygon","getColor","toolData","getStrokeAndFill","changePointByZoom","getAttributeShowText","transformPointList","rectList","renderRect","drawRectWithFill","tagInfoList","getTagNameList","getTagnameListWithoutConfig","CanvasUtils","event","canvasRect","viewPort","getViewPort","originOffset","canvasWidth","canvasHeight","EStatus","TextAttributeClass","textKeyDown","Enter","submitTextarea","appendToContainer","icon","getCurrentSelectedData","updateSelectedTextAttribute","_textAttributeDOM","initTextAttributeDOM","_iconDOM","initIconDOM","_textDOM","initTextDOM","_textareaDOM","initTextareaDOM","renderTextarea","removeTextareaDOM","clearTextAttribute","removeIconDOM","removeTextDOM","focus","newWidth","borderColor","isExitTextareaDOM","__defProp$7","__defProps$7","__getOwnPropDescs$7","__getOwnPropSymbols$7","__hasOwnProp$7","__propIsEnum$7","__defNormalProp$7","__spreadValues$7","__spreadProps$7","TEXT_ATTRIBUTE_OFFSET","PolygonOperation","currentSelectedID","getHoverID","textChange","setPolygonList","drawingPointList","hoverPointIndex","drawingHistory","isCtrl","isAlt","dragMouseUp","_textAttributInstance","getPolygonByID","selectedPolygon","getRenderResultList","getSourceID","showingPolygon","selectdPolygon","clearActiveStatus","newPolygonData","setSelectedID","coordinateZoom","changeDrawOutsideTarget","returnClosePointIndex","dropFoot","getClosestPoint","polygonListUnderZoom","coordinateWithOrigin","altKey","initRecord","pushHistory","addDrawingPointToPolygonList","dragInfo","clearPolygonDrag","oldLen","newID","oldID","changeSelected","oldDefault","changeStyle","updateIcon","getTextIconSvg","newPolygonList","editPolygonID","basicSourceID","samePolygon","newPolygon","getMaxOrder","isSameSourceID","getTextAttribute","setSelectedIdAfterAddingDrawing","polygonListWithZoom","getHoverPolygonID","selectPolygon","editPointListUnderZoom","getHoverEdgeIndex","empty","ascend","descend","showingResult","selectedResult","sortList","inViewPort","nextSelectedResult","getNextSelectedRectID","setDefaultAttribute","hotkeyFilter","spaceKeydown","Esc","F","setPolygonValidAndRender","setIsHidden","Delete","deletePolygon","Ctrl","Tab","onTabKeyDown","keyCode2Attribute","getAttributeByKeycode","oldAlt","setPolygonDataByID","getHoverPointIndex","deletePolygonPoint","firstPolygon","initPointList","dragStartCoord","changePointIndex","dragTarget","Plane","Start","closePointIndex","closeEdgeIndex","selectedPointList","offset","Move","isOutSide","isPointListOutSidePolygon","onDragMove","newHoverID","addPointInDrawing","leftMouseUp","rightMouseUp","newTextAttribute","getErrorNotice","getOffsetCoordinate","isExit","update","_i","_a2","_b2","_c2","_d2","_e2","toolData2","hoverPolygon","drawSelectedPolygonWithFillAndLine","renderTextAttribute","defaultColor","getOriginCoordinateWithOffsetCoordinate","hoverColor","selectedColor","renderCursorLine","getLineColor","renderPolygon","TagOperation","getInitResultList","getDefaultTagResult","setLabel","basicTagResult","tagResult","times","oldKey","keyList","isDifferSourceID","labelSelectedList","clearTag","currentTagResult","renderTag","__defProp$6","__defProps$6","__getOwnPropDescs$6","__getOwnPropSymbols$6","__hasOwnProp$6","__propIsEnum$6","__defNormalProp$6","__spreadValues$6","__spreadProps$6","LINE_ORDER_OFFSET","LineToolOperation","drawActivatedLine","hideTempAxis","activeLine","isActiveLineValid","existLine","lineList","nextOrder","getLineColorByAttribute","getRenderCoord","updateActiveArea","drawLineNumber","isCreate","selectedPoint","isShift","drawHoverPoint","isMousedown","isLineSelected","nearestPoint","getPointList","hoverPoint","findNearestPoint","hoverPointID","coordsInsideActiveArea","hoverLineSegmentIndex","showPoint","isActive","pointsToDraw","lineConfig","lineStyle","drawStraightLine","pointID","prePoint","drawLines","attributeFilteredLines","displayOrder","textEditingID","drawLineTextAttribute","moveLineInPolygon","isInBasicPolygon","lineDragging","moveActiveArea","moveLineInRectRange","rectHorizontalRange","rectVerticalRange","activeArea","hBoundaries","vBoundaries","horizontalInRange","verticalInRange","calcOffsetX","calcOffsetY","onRightClick","isLinePointsNotEnough","stopLineCreating","setActiveArea","updateSelectedAttributeAfterHistoryChanged","updateAttribute","onLeftClick","isNone","hoveredLine","findHoverLine","setInvalidLine","isLinePointsExceed","nextAxis","getNextPoint","setCreatStatusAndAddPoint","isMouseCoordOutsideActiveArea","setNoneStatus","updateLineSegmentSpecial","addLinePointToActiveLine","onDblclick","deleteLine","continueToEdit","keyboardEventWhileLineCreating","findHoveredPoint","deleteSelectedLinePoint","deleteSelectedLine","setReference","pointsWithinRange","count","setLineList","lengthChanged","lineListLen","status","isLineValid","setConfig","prevAxis","actionsHistory","MultiColor","enableOutOfTarget","showOrder","resetText","defaultText","isTextConfigurable","lineStatusChanged","renderCoord","getNextCoordByAbsCoord","getAbsCoord","absCoord","getNextCoordByDependTool","isRestText","updateStatus","addLinePoint","getActiveArea","renderActiveArea","hasActiveLine","toString","keyForAttribute","updateLines","iAxis","reverse","list","getLineWidthScope","minLength","twoPointDistance1","twoPointDistance2","isDependPolygon","isDependRect","pointPosition","isVH","disabledAdsorb","edgeAdsorptionEnabled","getAdsorptionPoint","newPoint","getCoordByConfig","getNextCoordByRenderCoord","isLeftClick","which","renderNextPoint","lineHover","edgeAdsorptionPoint","moveSelectPoint","moveSelectedLine","mouseMoveHandler","outsideCancel","area","setActiveLine","setSelectedLineID","updateLineAttributes","funcName","enableKeyName","currentHistory","straightLinePoints","pointInLine","specialEdgeIndex","getPointInsertIndex","pointData","insertIndex","pointsWithInRange","reset","newLine","isAppend","setActiveAfterCreating","cloneWith","isEqual","createLineData","setActiveStatus","Shift","setKeyDownStatus","toggleIsHide","selectToNextLine","nextSelectedLine","getNextSelectedRectIDByEvent","viewPortLines","setActiveLineByID","setInvalidLineOnCreating","boundary","setLineAttribute","applyAttribute","targetID","updateTextAttribute","updateHistory","selectedLineID","_textAttributeInstance","setResult","setTextAttribute","__defProp$5","__defProps$5","__getOwnPropDescs$5","__getOwnPropSymbols$5","__hasOwnProp$5","__propIsEnum$5","__pow","__defNormalProp$5","__spreadValues$5","__spreadProps$5","PointOperation","setPointList","setStyle","createPoint","isUpload","isClear","getHoverId","zoomCoordinate","deletePoint","upperLimit","newDrawingPoint","selectPoint","print","isInPoint","nextSelectedRect","undoAndRedo","selected","transformPoint","drawCircle","renderPoint","TextToolOperation","getSingleResult","initValue","textList","initTextDisplayContainer","textValueContainerID","textResultList","toggleTextContainerVisible","values","k","renderText","textDom","innerText","domStyle","background","pre","div","getTextDomID","textValueContainer","isVisible","display","__defProp$4","__defProps$4","__getOwnPropDescs$4","__getOwnPropSymbols$4","__hasOwnProp$4","__propIsEnum$4","__defNormalProp$4","__spreadValues$4","__spreadProps$4","target","srcElement","tagName","flag","isContentEditable","readOnly","RectOperation","Check","sign","sortRectList","sortDirection","selectedRect","showingRect","arr","sourceIDA","sourceIDB","translateSourceID","markerList","markerIndex","newSortList","markerInfo","marker","EAnnotationStatus","EAnnotationStatus2","hoverPolygonID","minSize","axisList","axisArea","calcPolygonSize","nextVal","m","edgeIndex","floor","closestPolygonID","closestEdgeIndex","findAllLine","lineIndex","total","l","__defProp$3","__defProps$3","__getOwnPropDescs$3","__getOwnPropSymbols$3","__hasOwnProp$3","__propIsEnum$3","__defNormalProp$3","__spreadValues$3","__spreadProps$3","axisArray","cX","cY","targetCoord","curCoord","preCoord","polygonPointListToLineList","drawingLine","polygonToolConfig","getIntersection","coordInsideRect","curAbsCoord","preAbsCoord","coordInsidePolygon","isDependOriginalImage","coordInsideImage","MarkerUtils","__defProp$2","__defProps$2","__getOwnPropDescs$2","__getOwnPropSymbols$2","__hasOwnProp$2","__propIsEnum$2","__defNormalProp$2","__spreadValues$2","__spreadProps$2","setMarkerIndex","setMarkerIndexAndSelect","markerValue","currentRect","selectedRectID","setRectList","drawOutSideTarget","isFlow","hoverRectEdgeIndex","hoverRectPointIndex","createNewDrawingRect","getDrawingRectWithRectList","setSelectedIdAfterAddingDrawingRect","updateSelectedRectTextAttribute","hasMarkerConfig","nextMarkerInfo","getNextMarker","markerConfigurable","setSelectedRectID","edgeList","getRectEdgeList","edge","hoverRectID","firstRect","getHoverRectPointIndex","getHoverRectEdgeIndex","drawingRect","dragRect","getRectUnderZoom","newX","newY","newHeight","isRectNotInPolygon","basicX","basicY","basicWidth","basicHeight","oldHoverRectID","firstClickCoord","nextMarkInfo","firstCurrentPos","round","newRectList","hoverRect","clearRightDblClick","getCurrentMarkerIndex","addDrawingRectToRectList","setRectValidAndRender","shiftRightMouseUp","deleteRect","newDrawingRect","newFirsClickCoord","oldZoom","isZoom","hiddenText","getMarkerShowText","rectSize","textColor","renderDrawingRect","renderSelectedRect","disableDelete","rectID","__defProp$1","__defProps$1","__getOwnPropDescs$1","__getOwnPropSymbols$1","__hasOwnProp$1","__propIsEnum$1","__defNormalProp$1","MeasureOperation","__spreadValues$1","__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","__spreadValues","__spreadProps","ViewOperation","annotations","originCoordinate","minArea","getPolygonArea","specificStyle","pick","getSpecificStyle","fillArr","rgba","renderLine","annotationTask","ANNOTATION_TYPE","ANNOTATION_STATUS","ImgUtils","startsWith","encodeURI","onload","onerror","loadImage","imgSrc","crossOrigin","AnnotationEngine","setImgSrc","setImgNode","_initToolOperation","defaultConfig","destroy","ToolOperation","getCurrentOperation","defaultData","setDependName","setBasicInfo","setForbidOperation","i18nLanguage","setLang","toolUtils","revoke","shortCut","fullScreen","noticeInfo","backward","forward","dargWithRightClick","dargWithLeftClick","tabChangeSelected","tabReverseChangeSelected","hidden","changeSpecialLine","saveResult","use","initReactI18next","resources","lng","interpolation","escapeValue","initialState","annotationEngine","imgPageSize","stepProgress","calcStepProgress","fileList","resultStr","updateToolInstance","stepConfig","StepUtils","ConfigUtils","getFormatSize","innerWidth","innerHeight","styleString","SetAnnotationLoading","fileData","url","load","catch","setErrorImg","oldResultString","exportData","resultWithBasicInfo","composeResultWithBasicImgInfo","newResultString","composeResult","AnnotationDataUtils","dataCorrection","exportResult","previousResultList","newResultData","fileResult","dependStepConfig","stepBasicResultList","launchOperation","imgError","stepResult","isInitData","hasDataSourceStep","getInitialResultList","resultForBasicIndex","updateRotate","backwardResult","newResult","copyResultChange","setToolName","ceil","select","hover","PageInput","jumpSkip","newIndex","setIndex","inputEl","useRef","useEffect","Input","onChange","footerCls","prefix","FooterDivider","Divider","connect","totalPage","getTotalPage","mode","useDispatch","useTranslation","hasSourceStep","FooterTips","flex","HiddenTips","PageNumber","LeftOutlined","RightOutlined","current","ZoomController","cKeyCode","viewportContext","createContext","ViewportProviderComponent","children","keydown","A","D","R","UpdateRotate","useMemo","ViewportProvider","windowSize","isEdit","isTips","otherHeight","placeholderHeight","placeholderWidth","useRafState","el","getTargetElement","clientWidth","clientHeight","setState","useLayoutEffect","resizeObserver","ResizeObserver","entry","observe","disconnect","TOOL_STYLE_ACTIONS","IMAGE_ATTRIBUTE_ACTIONS","UpdateImgAttribute","InitImgAttribute","ATTRIBUTE_COLORS","AttributeList","radioRef","NEW_ATTRIBUTE_COLORS","forbidDefault","noHeightLimit","Radio","Group","selectedAttribute","attributeChanged","hotKey","title","forbidColor","ColorTag","marginRight","REGEXP_NUMBER","REGEXP_ENGLISH","createStore","rootReducer","applyMiddleware","combineReducers","annotationReducer","imgAttributeReducer","toolStyleReducer","newData","basicRectID","copyResult","currentResult","copyData","currentData","sourceIDForCurStep","sourceIDForDependStep","deltaResultList","deltaUpdateBasicResultList","newResStr","oldResStr","curStep","stepKey","newRes","oldRes","newResForCurStep","oldResForCurStep","idCmp","deletedIds","findDeletedIds","stepKeys","getStepKeys","deleteRes","idA","idB","findDeletedItems","deletedItems","res","replace","isNaN","resData","s","stepRes","newDeletedIds","basicList","pageInfo","getPageInfo","currentFileIndex","nextFileIndex","getNextFileIndex","getNextBasicIndex","hasNextBasicIndex","pageChangedInfo","getBasicResultIndexForNextFile","borderOpacity","fillOpacity","ToolStyleUtils","getToolColors","getAttributeColors","getDefaultToolLineColors","computeColor","initByOpacity","FILL_OPACITY","firstOpacity","match","borderOpacityParam","fillOpacityParam","colorSplit","computeOpacity","CHANGE_COLOR","BORDER_OPACITY_LEVEL","FILL_OPACITY_LEVEL","showColor","AttributeColorList","changeOpacity","defaultLang","InitTaskData","changeLanguage","MainView","Layout","Sider","Content","layoutCls","layout","header","getNewNode","ToolHeader","headerName","goBack","AnnotationOperation","footer","ToolFooter","sider","Sidebar","NextButton","disabled","Button","marginLeft","ToNextStep","NextStep","Tooltip","stepInfo","useReducer","forceUpdate","useSize","currentOption","ExportData","curLang","language","classNames","Quit","StepSwitch","HeaderOption","Export","toolHover","setToolHover","useSelector","isBegin","revocation","useCallback","commonOptionList","show","commonSvg","selectedSvg","click","ChangeSave","fontSize","Normal","Hover","onMouseEnter","Dropdown","overlay","AnnotationStepPopover","updateStep","IconWithText","Icon","OrderedListOutlined","iconChildren","CaretDownOutlined","otherProps","classnames","highlight","defaultElement","frame","setRafState","cancelAnimationFrame","requestAnimationFrame","annotationState","pickBy","forceRender","annotationRef","containerRef","InitToolStyleConfig","singleOn","setImgAttribute","setSize","Spin","spinning","ImageError","reloadImage","backgroundColor","ignoreOffsetY","hideSetInvalidTips","fileTypeName","layerStyle","transform","marginBottom","shape","ReloadOutlined","Panel","Collapse","pattern","sidebarCls","renderTool","Row","SwitchAttributeList","AnnotationText","defaultActiveKey","bordered","expandIconPosition","expandIcon","expandIconFuc","ToolStyleComponent","ToolStyle","renderStylePanel","ClearIcon","ImgAttributeInfo","GeneralOperation","TagSidebar","TextToolSidebar","imgAttributeChange","throttle","ImgAttribute","trailing","imgAttributeInfo","svg","padding","Col","span","Slider","trackStyle","Switch","checked","listRef","scrollIntoView","block","unbindAll","verticalAlign","makeSure","setHover","allOperation","imgSvg","hoverSvg","iconStyle","justifyContent","alignItems","StopOutlined","CopyBackWordResult","annotationLength","Popconfirm","placement","okText","cancelText","onConfirm","renderImg","TextAreaFormat","textValue","selectedText","TextUtils","textLength","setTextLength","setError","onFocus","setOnFocus","hoverDelete","setHoverDelete","clearIcon","IconClearSmallA","textareaContainer","toolTextAreaBox","toolTextAreaBoxFocus","TextArea","resize","wordBreak","onKeyDownCapture","onKeyUpCapture","onBlur","checkText","getMarks","marks","getImage","getDefaultValue","getStyleType","styleConfig","annotationConfig","getTitle","tipFormatter","UpdateToolStyleConfig","clearSmallA","CaretRightOutlined","expandKeyList","setExpandKeyList","sidebarRef","hoverDeleteIndex","setHoverDeleteIndex","expendRender","scrollTop","setExpendKeyList","expend","newKeyList","selectedButton","labelPanel","isResult","TagUtils","judgeResultIsInInputList","activeKey","Badge","CheckBoxList","RadioList","checkboxRef","Checkbox","blur","syntheticEventStopPagination","nativeEvent","stopImmediatePropagation","TextareaWithFooter","textareaProps","rows","textAreaLength","SingleTextInput","textAreaFocus","setTextAreaFocus","setInvalid","updateText","switchToNextTextarea","hasMultiple","onNext","updateTextWithKey","newVal","tabToSwitchEnabled","autoSize","minRows","maxRows","TextareaFooter","clearText","setConfigList","focusIndex","setFocusIndex","currentIndex","textareaFocus","textarea","behavior","updateTextValue","currentPageResult","defaultIcon","adaptIcon","MinusOutlined","ZoomLevel","PlusOutlined","useSafeState","unmountedRef","useUnmountedRef","currentState","ToolHotKey","shortCutTable","isSingleImg","svgFlag","setFlag","shortCutStyle","margin","shortCutNameStyles","border","setHotKey","setSVG","shortCutUseHtml","linkSymbol","useDangerInnerHtml","listDom","dangerouslySetInnerHTML","__html","containerStyle","Popover","overlayClassName","hotKeyHoverSvg","MouseLeftSvg","drawInvalidRect","selectRect","changeValid","changeValidByClick","rectToolShortcutTable","drawPoint","drawInvalidPoint","pointToolShortCutTable","invalidPolygon","changePolygonAttribute","keepLine","insertPolygonPoint","suspendAbsorption","invalidLine","horizontalLine","selectLine","changeLineAttribute","insertPoint","lineToolShortCutTable","tagInSingleImg","tagToolSingleShortCutTable","textToolShortCutTable","DEFAULT_SIZE","zoomChange","backgroundStyle","showLoading","setLoading","viewOperation","zoomIn","zoomOut","updateData","on","mainRender","Annotation","log","rectDefaultResult","step_1","dataSource","tagDefaultResult","getMockResult","DEFAULT_ANNOTATIONS","sourceStep","qs","location","search","ignoreQueryPrefix","comma","isSingleTool","getStepList","mockFileList","ReactDOM"],"mappings":"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","file":"static/js/main.03ee85ca.chunk.js","sourcesContent":["import _ from 'lodash';\n\nexport const jsonParser = (content: any, defaultValue: any = {}) => {\n  try {\n    if (typeof content === 'string') {\n      return JSON.parse(content);\n    }\n    return _.isObject(content) ? content : defaultValue;\n  } catch (e) {\n    return defaultValue;\n  }\n};\n\nexport const getNewNode = <T>(newNode: T, oldNode: T): T => {\n  return newNode || _.isNull(newNode) ? newNode : oldNode;\n};\n\nexport const classnames = (className: { [key: string]: boolean } | string[]) => {\n  if (Array.isArray(className)) {\n    return className.join(' ');\n  }\n\n  if (_.isObject(className)) {\n    const classArray: string[] = [];\n    Object.keys(className).forEach((key) => {\n      if (className[key]) {\n        classArray.push(key);\n      }\n    });\n\n    return classArray.join(' ');\n  }\n\n  return '';\n};\n","export enum EStepType {\n  Check = 0, // 查看模式\n  ANNOTATION = 1, // 正常标注\n  QUALITY_INSPECTION, // 标注质检\n  PRE_ANNOTATION, // 预标注\n  MANUAL_CORRECTION, // 人工修正\n}\n\nexport enum ESubmitType {\n  Backward = 1, // 向前翻页\n  Forward = 2, // 向后翻页\n  Jump = 3, // 分页器的跳页翻页\n  Quit = 4, // 左上角后退触发\n  Export = 5, // 数据导出时\n  StepChanged = 6, // 切换步骤\n  Save = 7, // 点击保存\n}\n// css 命名前缀\nexport const prefix = 'bee';\nexport const componentCls = `${prefix}-component`;\n","import React, { useImperativeHandle, useState } from 'react';\nimport { Provider } from 'react-redux';\nimport { AnyAction } from 'redux';\nimport configureStore from './configureStore';\nimport { ToolInstance } from './store/annotation/types';\nimport App from './App';\nimport { PageBackward, PageForward, PageJump } from './store/annotation/actionCreators';\nimport { i18n } from '@labelbee/lb-utils';\nimport { I18nextProvider } from 'react-i18next';\nimport AnnotationView from '@/components/AnnotationView';\n\nexport const store = configureStore();\n\nconst OutputApp = (props: any, ref: any) => {\n  const [toolInstance, setToolInstance] = useState<ToolInstance>();\n  // 暴露给 ref 的一些方法\n  useImperativeHandle(\n    ref,\n    () => {\n      return {\n        toolInstance,\n        pageBackwardActions: () => store.dispatch(PageBackward() as unknown as AnyAction),\n        pageForwardActions: () => store.dispatch(PageForward() as unknown as AnyAction),\n        pageJump: (page: string) => {\n          const imgIndex = ~~page - 1;\n          store.dispatch(PageJump(imgIndex) as unknown as AnyAction);\n        },\n        hello: () => alert(`hello labelBee!!!`),\n      };\n    },\n    [toolInstance],\n  );\n\n  return (\n    <Provider store={store}>\n      <I18nextProvider i18n={i18n}>\n        <App {...props} setToolInstance={setToolInstance} />\n      </I18nextProvider>\n    </Provider>\n  );\n};\n\nexport default React.forwardRef(OutputApp);\n\nexport { AnnotationView, i18n };\n","import { ANNOTATION_ACTIONS } from '@/store/Actions';\nimport { IStepInfo } from '@/types/step';\nimport { GetFileData, IFileItem, OnSave, OnSubmit } from '@/types/data';\nimport { AnnotationActionTypes, ToolInstance } from './types';\nimport { LoadImageAndFileData, getStepConfig } from './reducer';\nimport { ESubmitType } from '@/constant';\nimport { EPageTurningOperation } from '@/data/enums/AnnotationSize';\nimport PageOperator from '@/utils/PageOperator';\nimport { jsonParser } from '@/utils';\n\nconst dispatchTasks = (dispatch: any, tasks: any[]) => tasks.map((task) => dispatch(task));\n\n/**\n * @param {pageTurningOperation} pageTurningOperation 翻页操作\n * @returns {ESubmitType} 提数据交类型\n */\nconst getSubmitByPageOperation = (pageTurningOperation: EPageTurningOperation) => {\n  if (pageTurningOperation === EPageTurningOperation.Forward) {\n    return ESubmitType.Forward;\n  }\n\n  if (pageTurningOperation === EPageTurningOperation.Backward) {\n    return ESubmitType.Backward;\n  }\n\n  if (pageTurningOperation === EPageTurningOperation.Jump) {\n    return ESubmitType.Jump;\n  }\n\n  return ESubmitType.Forward;\n};\n\nconst getBasicIndex = (annotationStore: any, basicIndex: number) => {\n  const {imgList, imgIndex} = annotationStore;\n  const { dataSourceStep } = getStepConfig(annotationStore.stepList, annotationStore.step);\n  let backwardResult = jsonParser(imgList[imgIndex - 1].result)\n  const index = backwardResult[`step_${dataSourceStep}`]?.result?.length - 1\n  return index || basicIndex\n}\n\nexport function UpdateToolInstance(toolInstance: ToolInstance): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_TOOL_INSTANCE,\n    payload: {\n      toolInstance,\n    },\n  };\n}\n\nexport function UpdateImgList(imgList: IFileItem[]): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_IMG_LIST,\n    payload: {\n      imgList,\n    },\n  };\n}\n\nexport function UpdateAnnotationConfig(config: string): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ANNOTATION_CONFIG,\n    payload: {\n      config,\n    },\n  };\n}\n\nexport function SetTaskConfig({\n  stepList,\n  step,\n}: {\n  stepList: IStepInfo[];\n  step: number;\n}): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.SET_TASK_CONFIG,\n    payload: {\n      stepList,\n      step,\n    },\n  };\n}\n\nexport function UpdateOnSubmit(onSubmit: OnSubmit): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ON_SUBMIT,\n    payload: {\n      onSubmit,\n    },\n  };\n}\n\nexport function UpdateOnSave(onSave: OnSave): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ON_SAVE,\n    payload: {\n      onSave,\n    },\n  };\n}\n\nexport function UpdateGetFileData(getFileData: GetFileData): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_GET_FILE_DATA,\n    payload: {\n      getFileData,\n    },\n  };\n}\n\nexport function UpdateRotate(): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ROTATE,\n  };\n}\n\nexport function CopyBackWordResult(): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.COPY_BACKWARD_RESULT,\n  };\n}\n\n/**\n * 初始化任务数据\n * @param param0\n */\nexport function InitTaskData({\n  onSubmit,\n  onSave,\n  getFileData,\n  imgList,\n  step,\n  stepList,\n  initialIndex,\n}: any): any {\n  const tasks: any[] = [];\n\n  if (onSubmit) {\n    tasks.push(UpdateOnSubmit(onSubmit));\n  }\n  if (onSave) {\n    tasks.push(UpdateOnSave(onSave));\n  }\n\n  if (getFileData) {\n    tasks.push(UpdateGetFileData(getFileData));\n  }\n\n  tasks.push(UpdateImgList(imgList));\n  tasks.push(SetTaskConfig({ stepList, step }));\n  tasks.push({\n    type: ANNOTATION_ACTIONS.CALC_STEP_PROGRESS,\n  });\n  tasks.push({\n    type: ANNOTATION_ACTIONS.INIT_TOOL,\n  });\n\n  tasks.push(LoadImageAndFileData(initialIndex));\n\n  return (dispatch: any) => dispatchTasks(dispatch, tasks);\n}\n\n/** 切换到下一步 */\nexport const ToNextStep = (pageNumber?: number) => (dispatch: any, getState: any) => {\n  const { step } = getState().annotation;\n  return [dispatch(UpdateProcessingStep(step + 1, pageNumber))];\n};\n\n/**\n * 更新当前操作的步骤\n * @param {number} toStep\n */\nexport const UpdateProcessingStep = (toStep: number, index?: number) => (dispatch: any, state: any) => {\n  const imgIndex = state()?.annotation?.imgIndex ?? 0;\n  return [\n    dispatch({ type: ANNOTATION_ACTIONS.SUBMIT_RESULT }),\n    dispatch({\n      type: ANNOTATION_ACTIONS.SUBMIT_FILE_DATA,\n      payload: { submitType: ESubmitType.StepChanged },\n    }),\n    // ToSubmitFileData(ESubmitType.StepChanged),\n    dispatch({ type: ANNOTATION_ACTIONS.SET_STEP, payload: { toStep } }),\n    dispatch({ type: ANNOTATION_ACTIONS.CALC_STEP_PROGRESS }),\n    // 切换步骤保持图片位置\n    dispatch(LoadImageAndFileData(index ?? imgIndex, 0)),\n  ];\n};\n\n/**\n * 提交当前的文件数据\n * @param submitType\n */\nexport const ToSubmitFileData = (submitType: ESubmitType) => (dispatch: any) =>\n  [\n    dispatch({ type: ANNOTATION_ACTIONS.SUBMIT_RESULT }),\n    dispatch({ type: ANNOTATION_ACTIONS.SUBMIT_FILE_DATA, payload: { submitType } }),\n  ];\n\n/**\n * 提交数据并且切换标注文件\n * @param dispatch\n * @param nextIndex\n * @param submitType\n * @param nextBasicIndex\n */\nconst SubmitAndChangeFileIndex = (\n  dispatch: any,\n  nextIndex: number,\n  submitType: ESubmitType,\n  nextBasicIndex?: number,\n) => [\n  dispatch(ToSubmitFileData(submitType)),\n  dispatch(LoadImageAndFileData(nextIndex, nextBasicIndex)),\n];\n\nconst ChangeBasicIndex = (dispatch: any, nextBasicIndex: number) => [\n  dispatch({ type: ANNOTATION_ACTIONS.SUBMIT_RESULT }),\n  dispatch({ type: ANNOTATION_ACTIONS.SET_BASIC_INDEX, payload: { basicIndex: nextBasicIndex } }),\n];\n\nconst ChangeTriggerEventAfterIndexChanged = (\n  dispatch: any,\n  triggerEventAfterIndexChanged: boolean,\n) => {\n  dispatch({\n    type: ANNOTATION_ACTIONS.SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED,\n    payload: {\n      triggerEventAfterIndexChanged,\n    },\n  });\n};\n\n/** 向前翻页 */\nexport const PageBackward =\n  (triggerEventAfterIndexChanged = false) =>\n  (dispatch: any, getState: any) => {\n    return DispatcherTurning(\n      dispatch,\n      getState,\n      EPageTurningOperation.Backward,\n      triggerEventAfterIndexChanged,\n    );\n  };\n\n/** 向后翻页 */\nexport const PageForward =\n  (triggerEventAfterIndexChanged = false) =>\n  (dispatch: any, getState: any) => {\n    return DispatcherTurning(\n      dispatch,\n      getState,\n      EPageTurningOperation.Forward,\n      triggerEventAfterIndexChanged,\n    );\n  };\n\n/**\n * 跳到指定文件索引\n * @param toIndex\n */\nexport const PageJump =\n  (toIndex: number, triggerEventAfterIndexChanged = false) =>\n  (dispatch: any, getState: any) => {\n    if (toIndex === getState().imgIndex) {\n      return;\n    }\n\n    return DispatcherTurning(\n      dispatch,\n      getState,\n      EPageTurningOperation.Jump,\n      triggerEventAfterIndexChanged,\n      toIndex,\n    );\n  };\n\n/**\n * 判断翻页还是切换依赖数据\n * @param dispatch\n * @param getState\n * @param pageTurningOperation\n * @param toIndex\n */\nexport const DispatcherTurning = (\n  dispatch: any,\n  getState: any,\n  pageTurningOperation: EPageTurningOperation,\n  triggerEventAfterIndexChanged = false,\n  toIndex?: number,\n) => {\n  const annotationStore = getState().annotation;\n  const { fileIndexChanged, fileIndex, basicIndexChanged, basicIndex } =\n    PageOperator.getNextPageInfo(pageTurningOperation, annotationStore, toIndex);\n\n  const submitType: ESubmitType = getSubmitByPageOperation(pageTurningOperation);\n\n  ChangeTriggerEventAfterIndexChanged(dispatch, triggerEventAfterIndexChanged);\n\n  if (fileIndexChanged) {\n    const index = submitType === ESubmitType.Backward ? getBasicIndex(annotationStore, basicIndex) : basicIndex;\n    return SubmitAndChangeFileIndex(dispatch, fileIndex, submitType, index);\n  }\n\n  if (basicIndexChanged) {\n    return ChangeBasicIndex(dispatch, basicIndex);\n  }\n\n  return dispatch(ToSubmitFileData(submitType));\n};\n\n/**\n * 保存当前页数据\n * */\nexport const ChangeSave = (dispatch: Function) => {\n  dispatch(ToSubmitFileData(ESubmitType.Save));\n  dispatch({ type: ANNOTATION_ACTIONS.SAVE_RESULT });\n};\n\nexport const SetAnnotationLoading = (dispatch: Function, loading: boolean) => {\n  dispatch({\n    type: ANNOTATION_ACTIONS.SET_LOADING,\n    payload: {\n      loading,\n    },\n  });\n};\n","export const ANNOTATION_ACTIONS = {\n  UPDATE_TOOL_INSTANCE: '@@UPDATE_TOOL_INSTANCE',\n  UPDATE_IMG_LIST: '@@UPDATE_IMG_LIST',\n  UPDATE_ANNOTATION_CONFIG: '@@UPDATE_ANNOTATION_CONFIG',\n  LOAD_FILE_DATA: '@@LOAD_FILE_DATA',\n  SUBMIT_FILE_DATA: '@@SUBMIT_FILE_DATA',\n  SET_TASK_CONFIG: '@@SET_TASK_CONFIG',\n  INIT_TOOL: '@@INIT_TOOL',\n  UPDATE_ON_SUBMIT: '@@UPDATE_ON_SUBMIT',\n  UPDATE_ON_SAVE: '@@UPDATE_ON_SAVE',\n  UPDATE_ROTATE: '@@UPDATE_ROTATE',\n  UPDATE_GET_FILE_DATA: '@@UPDATE_GET_FILE_DATA',\n  GET_FILE_DATA: '@@GET_FILE_DATA',\n  SET_FILE_DATA: '@@SET_FILE_DATA',\n  COPY_BACKWARD_RESULT: '@@COPY_BACKWARD_RESULT',\n  SET_STEP: '@@SET_STEP',\n  SUBMIT_RESULT: '@@SUBMIT_RESULT',\n  SAVE_RESULT: '@@SAVE_RESULT',\n  SET_BASIC_INDEX: '@@SET_BASIC_INDEX',\n  CALC_STEP_PROGRESS: '@@CALC_STEP_PROGRESS',\n  SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED: '@@SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED',\n\n  SET_LOADING: '@@SET_LOADING',\n};\n\nexport const IMAGE_ATTRIBUTE_ACTIONS = {\n  UPDATE_IMG_ATTRIBUTE: '@@UPDATE_IMG_ATTRIBUTE',\n  INIT_IMG_ATTRIBUTE: '@@INIT_IMG_ATTRIBUTE',\n};\n\nexport const TOOL_STYLE_ACTIONS = {\n  INIT_TOOL_STYLE_CONFIG: '@@INIT_TOOL_STYLE_CONFIG',\n  UPDATE_TOOL_STYLE_CONFIG: '@@UPDATE_TOOL_STYLE_CONFIG',\n};\n","import { EStepType } from '@/constant';\nimport { IStepInfo } from '@/types/step';\n\nexport default class StepUtils {\n  /**\n   * 获取当前步骤的步骤配置信息，用于当前标注配置的获取\n   * @export\n   * @param {number} currentStep\n   * @param {IStepInfo[]} stepList\n   * @returns {*}\n   */\n   public static getCurrentStepInfo(currentStep: number, stepList: IStepInfo[]) {\n    const currentStepInfo = this.getStepInfo(currentStep, stepList);\n\n    const useDataSourceStep = [EStepType.QUALITY_INSPECTION, EStepType.MANUAL_CORRECTION].includes(\n      currentStepInfo?.type,\n    );\n\n    /** 人工修正、质检获取 dataSourceStep 作为步骤配置 */\n    if (useDataSourceStep) {\n      return this.getStepInfo(currentStepInfo.dataSourceStep, stepList);\n    }\n\n    return currentStepInfo;\n  }\n\n  /**\n   * 找到指定步骤的数据\n   * @param step 获取的步骤\n   * @param stepList 步骤列表\n   * @returns 步骤配置\n   */\n   public static getStepInfo(step: number, stepList: IStepInfo[]) {\n    return stepList?.filter((info) => info.step === step)[0];\n  }\n}\n","\n  /* eslint-disable */\n  /*!\n  * sense-annotation v1.5.3\n  * (c) 2020-2021\n  * Released under the MIT License.\n  */\n\nimport _, { isNumber, cloneDeep, isObject } from 'lodash';\nimport rgba from 'color-rgba';\n\nconst editStepWidth = 320;\nvar EPointCloudName;\n(function(EPointCloudName2) {\n  EPointCloudName2[\"PointCloud\"] = \"pointCloudTool\";\n})(EPointCloudName || (EPointCloudName = {}));\nvar EVideoToolName;\n(function(EVideoToolName2) {\n  EVideoToolName2[\"VideoTextTool\"] = \"videoTextTool\";\n  EVideoToolName2[\"VideoTagTool\"] = \"videoTagTool\";\n  EVideoToolName2[\"VideoClipTool\"] = \"videoClipTool\";\n})(EVideoToolName || (EVideoToolName = {}));\nvar EToolType;\n(function(EToolType2) {\n  EToolType2[EToolType2[\"Rect\"] = 0] = \"Rect\";\n  EToolType2[EToolType2[\"Tag\"] = 1] = \"Tag\";\n})(EToolType || (EToolType = {}));\nvar EToolName;\n(function(EToolName2) {\n  EToolName2[\"Rect\"] = \"rectTool\";\n  EToolName2[\"Tag\"] = \"tagTool\";\n  EToolName2[\"Point\"] = \"pointTool\";\n  EToolName2[\"PointMarker\"] = \"pointMarkerTool\";\n  EToolName2[\"Segmentation\"] = \"segmentationTool\";\n  EToolName2[\"Filter\"] = \"filterTool\";\n  EToolName2[\"Text\"] = \"textTool\";\n  EToolName2[\"Polygon\"] = \"polygonTool\";\n  EToolName2[\"Line\"] = \"lineTool\";\n  EToolName2[\"LineMarker\"] = \"lineMarkerTool\";\n  EToolName2[\"Empty\"] = \"emptyTool\";\n  EToolName2[\"FolderTag\"] = \"folderTagTool\";\n  EToolName2[\"RectTrack\"] = \"rectTrackTool\";\n  EToolName2[\"Face\"] = \"faceTool\";\n  EToolName2[\"ClientAttribute\"] = \"clientAttributeTool\";\n  EToolName2[\"OCRRelation\"] = \"OCRRelationTool\";\n})(EToolName || (EToolName = {}));\nvar ECheckModel;\n(function(ECheckModel2) {\n  ECheckModel2[\"Check\"] = \"check\";\n})(ECheckModel || (ECheckModel = {}));\nvar ERectPattern;\n(function(ERectPattern2) {\n  ERectPattern2[ERectPattern2[\"nothing\"] = 0] = \"nothing\";\n  ERectPattern2[ERectPattern2[\"RectBG\"] = 1] = \"RectBG\";\n  ERectPattern2[ERectPattern2[\"showOrder\"] = 2] = \"showOrder\";\n})(ERectPattern || (ERectPattern = {}));\nconst TOOL_NAME = {\n  [EToolName.Rect]: \"\\u62C9\\u6846\",\n  [EToolName.Tag]: \"\\u6807\\u7B7E\",\n  [EToolName.Point]: \"\\u6807\\u70B9\",\n  [EToolName.PointMarker]: \"\\u5217\\u8868\\u6807\\u70B9\",\n  [EToolName.Segmentation]: \"\\u524D\\u666F\\u5206\\u5272\",\n  [EToolName.Filter]: \"\\u7B5B\\u9009\",\n  [EToolName.Text]: \"\\u6587\\u672C\",\n  [EToolName.Polygon]: \"\\u591A\\u8FB9\\u5F62\",\n  [EToolName.Line]: \"\\u7EBF\\u6761\",\n  [EToolName.LineMarker]: \"\\u5217\\u8868\\u7EBF\\u6761\",\n  [EToolName.FolderTag]: \"\\u6587\\u4EF6\\u5939\\u6807\\u7B7E\",\n  [EToolName.RectTrack]: \"\\u62C9\\u6846\\u8DDF\\u8E2A\",\n  [EToolName.Face]: \"\\u4EBA\\u8138106\\u5DE5\\u5177\",\n  [EToolName.ClientAttribute]: \"\\u5BA2\\u6237\\u7AEF\\u5C5E\\u6027\\u5DE5\\u5177\",\n  [EToolName.OCRRelation]: \"OCR\\u5173\\u8054\\u5173\\u7CFB\\u5DE5\\u5177\",\n  [EVideoToolName.VideoTextTool]: \"\\u89C6\\u9891\\u6587\\u672C\",\n  [EVideoToolName.VideoTagTool]: \"\\u89C6\\u9891\\u6807\\u7B7E\",\n  [EVideoToolName.VideoClipTool]: \"\\u89C6\\u9891\\u622A\\u53D6\",\n  [EPointCloudName.PointCloud]: \"\\u70B9\\u4E91\"\n};\nvar EDependPattern;\n(function(EDependPattern2) {\n  EDependPattern2[EDependPattern2[\"noDepend\"] = 1] = \"noDepend\";\n  EDependPattern2[EDependPattern2[\"dependOrigin\"] = 2] = \"dependOrigin\";\n  EDependPattern2[EDependPattern2[\"dependShape\"] = 3] = \"dependShape\";\n  EDependPattern2[EDependPattern2[\"dependLine\"] = 4] = \"dependLine\";\n  EDependPattern2[EDependPattern2[\"dependPolygon\"] = 5] = \"dependPolygon\";\n  EDependPattern2[EDependPattern2[\"dependPreShape\"] = 101] = \"dependPreShape\";\n  EDependPattern2[EDependPattern2[\"dependPreLine\"] = 102] = \"dependPreLine\";\n  EDependPattern2[EDependPattern2[\"dependPrePolygon\"] = 103] = \"dependPrePolygon\";\n})(EDependPattern || (EDependPattern = {}));\nvar EFilterToolOperation;\n(function(EFilterToolOperation2) {\n  EFilterToolOperation2[\"lc\"] = \"leftClick\";\n  EFilterToolOperation2[\"rc\"] = \"rightClick\";\n  EFilterToolOperation2[\"clc\"] = \"ctrlLeftClick\";\n  EFilterToolOperation2[\"crc\"] = \"ctrlRightClick\";\n})(EFilterToolOperation || (EFilterToolOperation = {}));\nconst OPERATION_LIST = {\n  leftClick: \"\\u9F20\\u6807\\u5DE6\\u952E\",\n  rightClick: \"\\u9F20\\u6807\\u53F3\\u952E\",\n  ctrlLeftClick: \"ctrl + \\u9F20\\u6807\\u5DE6\\u952E\",\n  ctrlRightClick: \"ctrl + \\u9F20\\u6807\\u53F3\\u952E\"\n};\nvar EAnnotationMode;\n(function(EAnnotationMode2) {\n  EAnnotationMode2[EAnnotationMode2[\"Normal\"] = 1] = \"Normal\";\n  EAnnotationMode2[EAnnotationMode2[\"Modify\"] = 2] = \"Modify\";\n})(EAnnotationMode || (EAnnotationMode = {}));\nvar ELineTypes;\n(function(ELineTypes2) {\n  ELineTypes2[ELineTypes2[\"Line\"] = 0] = \"Line\";\n  ELineTypes2[ELineTypes2[\"Curve\"] = 1] = \"Curve\";\n})(ELineTypes || (ELineTypes = {}));\nvar ELineColor;\n(function(ELineColor2) {\n  ELineColor2[ELineColor2[\"SingleColor\"] = 0] = \"SingleColor\";\n  ELineColor2[ELineColor2[\"MultiColor\"] = 1] = \"MultiColor\";\n})(ELineColor || (ELineColor = {}));\nvar ESelectedType;\n(function(ESelectedType2) {\n  ESelectedType2[ESelectedType2[\"Form\"] = 1] = \"Form\";\n  ESelectedType2[ESelectedType2[\"Json\"] = 2] = \"Json\";\n})(ESelectedType || (ESelectedType = {}));\nvar EDragTarget$1;\n(function(EDragTarget2) {\n  EDragTarget2[EDragTarget2[\"Point\"] = 0] = \"Point\";\n  EDragTarget2[EDragTarget2[\"Line\"] = 1] = \"Line\";\n  EDragTarget2[EDragTarget2[\"Plane\"] = 2] = \"Plane\";\n})(EDragTarget$1 || (EDragTarget$1 = {}));\nvar EDrawPointPattern;\n(function(EDrawPointPattern2) {\n  EDrawPointPattern2[EDrawPointPattern2[\"None\"] = 0] = \"None\";\n  EDrawPointPattern2[EDrawPointPattern2[\"Drawing\"] = 1] = \"Drawing\";\n  EDrawPointPattern2[EDrawPointPattern2[\"Edit\"] = 2] = \"Edit\";\n})(EDrawPointPattern || (EDrawPointPattern = {}));\nvar EPageOperator$1;\n(function(EPageOperator2) {\n  EPageOperator2[EPageOperator2[\"Backward\"] = 0] = \"Backward\";\n  EPageOperator2[EPageOperator2[\"Forward\"] = 1] = \"Forward\";\n  EPageOperator2[EPageOperator2[\"JumpSkip\"] = 2] = \"JumpSkip\";\n  EPageOperator2[EPageOperator2[\"None\"] = 3] = \"None\";\n})(EPageOperator$1 || (EPageOperator$1 = {}));\nvar EAuditStatus;\n(function(EAuditStatus2) {\n  EAuditStatus2[EAuditStatus2[\"Wait\"] = 0] = \"Wait\";\n  EAuditStatus2[EAuditStatus2[\"Pass\"] = 1] = \"Pass\";\n  EAuditStatus2[EAuditStatus2[\"Fail\"] = 2] = \"Fail\";\n  EAuditStatus2[EAuditStatus2[\"Loading\"] = 3] = \"Loading\";\n})(EAuditStatus || (EAuditStatus = {}));\nvar ETextType;\n(function(ETextType2) {\n  ETextType2[ETextType2[\"AnyString\"] = 0] = \"AnyString\";\n  ETextType2[ETextType2[\"Order\"] = 1] = \"Order\";\n  ETextType2[ETextType2[\"EnglishOnly\"] = 2] = \"EnglishOnly\";\n  ETextType2[ETextType2[\"NumberOnly\"] = 3] = \"NumberOnly\";\n  ETextType2[ETextType2[\"CustomFormat\"] = 4] = \"CustomFormat\";\n})(ETextType || (ETextType = {}));\nconst TEXT_TYPE = {\n  0: \"\\u4EFB\\u610F\\u5B57\\u7B26\",\n  1: \"\\u5E8F\\u53F7\",\n  2: \"\\u4EC5\\u82F1\\u6587\",\n  3: \"\\u4EC5\\u6570\\u5B57\"\n};\nconst TEXT_ATTRIBUTE_MAX_LENGTH = 1e3;\nconst TEXT_ATTRIBUTE_LINE_HEIGHT = 16;\nvar EThumbnailOption;\n(function(EThumbnailOption2) {\n  EThumbnailOption2[EThumbnailOption2[\"ImgList\"] = 1e3] = \"ImgList\";\n  EThumbnailOption2[EThumbnailOption2[\"TrackPrediction\"] = 1001] = \"TrackPrediction\";\n  EThumbnailOption2[EThumbnailOption2[\"ImgSearch\"] = 1002] = \"ImgSearch\";\n})(EThumbnailOption || (EThumbnailOption = {}));\nconst CLIENT_TOOL_HEAD_TYPE = {\n  [EPointCloudName.PointCloud]: \"sensebeepc\",\n  [EToolName.ClientAttribute]: \"sensebeepc-EnumAttributeTool\",\n  [EToolName.Face]: \"sensebeepc-FacePointsLabellingTool\",\n  [EToolName.OCRRelation]: \"sensebeepc-OCRRelationTool\"\n};\nconst CLIENT_TOOL_NAME = {\n  [EPointCloudName.PointCloud]: \"\\u70B9\\u4E91\\u5BA2\\u6237\\u7AEF\",\n  [EToolName.ClientAttribute]: \"\\u5BA2\\u6237\\u7AEF\\u5C5E\\u6027\\u5DE5\\u5177\",\n  [EToolName.Face]: \"\\u4EBA\\u8138106\\u70B9\\u5DE5\\u5177\",\n  [EToolName.OCRRelation]: \"OCR\\u5173\\u8054\\u5173\\u7CFB\\u5DE5\\u5177\"\n};\nconst SEGMENT_NUMBER$2 = 16;\nconst edgeAdsorptionScope = 10;\n\nvar tool = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  editStepWidth: editStepWidth,\n  get EPointCloudName () { return EPointCloudName; },\n  get EVideoToolName () { return EVideoToolName; },\n  get EToolType () { return EToolType; },\n  get EToolName () { return EToolName; },\n  get ECheckModel () { return ECheckModel; },\n  get ERectPattern () { return ERectPattern; },\n  TOOL_NAME: TOOL_NAME,\n  get EDependPattern () { return EDependPattern; },\n  get EFilterToolOperation () { return EFilterToolOperation; },\n  OPERATION_LIST: OPERATION_LIST,\n  get EAnnotationMode () { return EAnnotationMode; },\n  get ELineTypes () { return ELineTypes; },\n  get ELineColor () { return ELineColor; },\n  get ESelectedType () { return ESelectedType; },\n  get EDragTarget () { return EDragTarget$1; },\n  get EDrawPointPattern () { return EDrawPointPattern; },\n  get EPageOperator () { return EPageOperator$1; },\n  get EAuditStatus () { return EAuditStatus; },\n  get ETextType () { return ETextType; },\n  TEXT_TYPE: TEXT_TYPE,\n  TEXT_ATTRIBUTE_MAX_LENGTH: TEXT_ATTRIBUTE_MAX_LENGTH,\n  TEXT_ATTRIBUTE_LINE_HEIGHT: TEXT_ATTRIBUTE_LINE_HEIGHT,\n  get EThumbnailOption () { return EThumbnailOption; },\n  CLIENT_TOOL_HEAD_TYPE: CLIENT_TOOL_HEAD_TYPE,\n  CLIENT_TOOL_NAME: CLIENT_TOOL_NAME,\n  SEGMENT_NUMBER: SEGMENT_NUMBER$2,\n  edgeAdsorptionScope: edgeAdsorptionScope\n});\n\nvar __defProp$e = Object.defineProperty;\nvar __defProps$c = Object.defineProperties;\nvar __getOwnPropDescs$c = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$e = Object.getOwnPropertySymbols;\nvar __hasOwnProp$e = Object.prototype.hasOwnProperty;\nvar __propIsEnum$e = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$e = (obj, key, value) => key in obj ? __defProp$e(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$e = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$e.call(b, prop))\n      __defNormalProp$e(a, prop, b[prop]);\n  if (__getOwnPropSymbols$e)\n    for (var prop of __getOwnPropSymbols$e(b)) {\n      if (__propIsEnum$e.call(b, prop))\n        __defNormalProp$e(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$c = (a, b) => __defProps$c(a, __getOwnPropDescs$c(b));\nfunction createSmoothCurvePoints(points, tension = 0.5, closed = false, numberOfSegments = 16) {\n  if (points.length < 4) {\n    return points;\n  }\n  const result = [];\n  const ps = points.slice(0);\n  let x;\n  let y;\n  let t1x;\n  let t2x;\n  let t1y;\n  let t2y;\n  let c1;\n  let c2;\n  let c3;\n  let c4;\n  let st;\n  let t;\n  let i;\n  if (closed) {\n    ps.unshift(points[points.length - 1]);\n    ps.unshift(points[points.length - 2]);\n    ps.unshift(points[points.length - 1]);\n    ps.unshift(points[points.length - 2]);\n    ps.push(points[0]);\n    ps.push(points[1]);\n  } else {\n    ps.unshift(points[1]);\n    ps.unshift(points[0]);\n    ps.push(points[points.length - 2]);\n    ps.push(points[points.length - 1]);\n  }\n  for (i = 2; i < ps.length - 4; i += 2) {\n    t1x = (ps[i + 2] - ps[i - 2]) * tension;\n    t2x = (ps[i + 4] - ps[i - 0]) * tension;\n    t1y = (ps[i + 3] - ps[i - 1]) * tension;\n    t2y = (ps[i + 5] - ps[i + 1]) * tension;\n    for (t = 0; t <= numberOfSegments; t++) {\n      st = t / numberOfSegments;\n      c1 = 2 * Math.pow(st, 3) - 3 * Math.pow(st, 2) + 1;\n      c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2);\n      c3 = Math.pow(st, 3) - 2 * Math.pow(st, 2) + st;\n      c4 = Math.pow(st, 3) - Math.pow(st, 2);\n      x = c1 * ps[i] + c2 * ps[i + 2] + c3 * t1x + c4 * t2x;\n      y = c1 * ps[i + 1] + c2 * ps[i + 3] + c3 * t1y + c4 * t2y;\n      result.push(x);\n      result.push(y);\n    }\n  }\n  const formatResult = [];\n  for (let j = 0; j < result.length - 1; j += 2) {\n    formatResult.push({\n      x: result[j],\n      y: result[j + 1]\n    });\n  }\n  if (closed) {\n    for (let j = 0; j < numberOfSegments + 1; j++) {\n      const d = formatResult.shift();\n      formatResult.push(d);\n    }\n  }\n  return formatResult;\n}\nconst createSmoothCurvePointsFromPointList = (pointList, numberOfSegments = 16) => createSmoothCurvePoints(pointList.reduce((acc, cur) => {\n  return [...acc, cur.x, cur.y];\n}, []), 0.5, false, numberOfSegments);\nfunction isInPolygon(checkPoint, polygonPoints, lineType = ELineTypes.Line) {\n  let counter = 0;\n  let i;\n  let xinters;\n  let p1;\n  let p2;\n  polygonPoints = [...polygonPoints];\n  if (lineType === ELineTypes.Curve) {\n    polygonPoints = createSmoothCurvePoints(polygonPoints.reduce((acc, cur) => {\n      return [...acc, cur.x, cur.y];\n    }, []), 0.5, true, SEGMENT_NUMBER$2);\n  }\n  [p1] = polygonPoints;\n  const pointCount = polygonPoints.length;\n  for (i = 1; i <= pointCount; i++) {\n    p2 = polygonPoints[i % pointCount];\n    if (checkPoint.x > Math.min(p1.x, p2.x) && checkPoint.x <= Math.max(p1.x, p2.x)) {\n      if (checkPoint.y <= Math.max(p1.y, p2.y)) {\n        if (p1.x !== p2.x) {\n          xinters = (checkPoint.x - p1.x) * (p2.y - p1.y) / (p2.x - p1.x) + p1.y;\n          if (p1.y === p2.y || checkPoint.y <= xinters) {\n            counter++;\n          }\n        }\n      }\n    }\n    p1 = p2;\n  }\n  if (counter % 2 === 0) {\n    return false;\n  }\n  return true;\n}\nfunction getPolygonPointUnderZoom(pointList, zoom = 1) {\n  return pointList.map((v) => __spreadProps$c(__spreadValues$e({}, v), {x: v.x * zoom, y: v.y * zoom}));\n}\n\nconst _MathUtils = class {\n  static getRotate(rotate) {\n    if (rotate + 90 >= 360) {\n      return rotate + 90 - 360;\n    }\n    return rotate + 90;\n  }\n  static getLineLength(point1, point2) {\n    return Math.sqrt(Math.pow(point2.y - point1.y, 2) + Math.pow(point2.x - point1.x, 2));\n  }\n};\nlet MathUtils = _MathUtils;\nMathUtils.isInRange = (value, range) => {\n  const min = Math.min(...range);\n  const max = Math.max(...range);\n  const inRange = (v) => v <= max && v >= min;\n  const values = Array.isArray(value) ? value : [value];\n  return values.every((v) => inRange(v));\n};\nMathUtils.withinRange = (value, range) => {\n  const min = Math.min(...range);\n  const max = Math.max(...range);\n  if (value > max) {\n    return max;\n  }\n  if (value < min) {\n    return min;\n  }\n  return value;\n};\nMathUtils.calcViewportBoundaries = (array, isCurve = false, numberOfSegments = SEGMENT_NUMBER$2, zoom = 1) => {\n  if (!array) {\n    return {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n  }\n  const MIN_LENGTH = 20 / zoom;\n  const xAxis = [];\n  const yAxis = [];\n  let points = array;\n  if (isCurve) {\n    points = createSmoothCurvePointsFromPointList(array, numberOfSegments);\n  }\n  points.forEach(({x, y}) => {\n    xAxis.push(x);\n    yAxis.push(y);\n  });\n  let minX = Math.min(...xAxis);\n  let maxX = Math.max(...xAxis);\n  let minY = Math.min(...yAxis);\n  let maxY = Math.max(...yAxis);\n  const diffX = maxX - minX;\n  const diffY = maxY - minY;\n  if (diffX < MIN_LENGTH) {\n    const addLen = (MIN_LENGTH - diffX) / 2;\n    minX -= addLen;\n    maxX += addLen;\n  }\n  if (diffY < MIN_LENGTH) {\n    const addLen = (MIN_LENGTH - diffY) / 2;\n    minY -= addLen;\n    maxY += addLen;\n  }\n  return {\n    top: minY,\n    bottom: maxY,\n    left: minX,\n    right: maxX\n  };\n};\nMathUtils.getFootOfPerpendicular = (pt, begin, end, useAxisRange = false) => {\n  let retVal = {x: 0, y: 0};\n  const dx = begin.x - end.x;\n  const dy = begin.y - end.y;\n  if (Math.abs(dx) < 1e-8 && Math.abs(dy) < 1e-8) {\n    retVal = begin;\n    return retVal;\n  }\n  let u = (pt.x - begin.x) * (begin.x - end.x) + (pt.y - begin.y) * (begin.y - end.y);\n  u /= dx * dx + dy * dy;\n  retVal.x = begin.x + u * dx;\n  retVal.y = begin.y + u * dy;\n  const length = _MathUtils.getLineLength(pt, retVal);\n  const ratio = 2;\n  const fromX = Math.min(begin.x, end.x);\n  const toX = Math.max(begin.x, end.x);\n  const fromY = Math.min(begin.y, end.y);\n  const toY = Math.max(begin.y, end.y);\n  const allAxisOverRange = !(_MathUtils.isInRange(pt.x, [fromX, toX]) || _MathUtils.isInRange(pt.y, [fromY, toY]));\n  const someAxisOverRange = pt.x > toX + ratio || pt.x < fromX - ratio || pt.y > toY + ratio || pt.y < fromY - ratio;\n  const isOverRange = useAxisRange ? allAxisOverRange : someAxisOverRange;\n  if (isOverRange) {\n    return {\n      footPoint: retVal,\n      length: Infinity\n    };\n  }\n  return {\n    footPoint: retVal,\n    length\n  };\n};\n\nconst headerHeight = 61;\nconst tipsHeight = 40;\nconst footerHeight = 40;\nconst sidebarWidth = 240;\nvar EStepType;\n(function(EStepType2) {\n  EStepType2[EStepType2[\"ANNOTATION\"] = 1] = \"ANNOTATION\";\n  EStepType2[EStepType2[\"QUALITY_INSPECTION\"] = 2] = \"QUALITY_INSPECTION\";\n  EStepType2[EStepType2[\"PRE_ANNOTATION\"] = 3] = \"PRE_ANNOTATION\";\n  EStepType2[EStepType2[\"MANUAL_CORRECTION\"] = 4] = \"MANUAL_CORRECTION\";\n})(EStepType || (EStepType = {}));\nconst ANNOTATION_MAX_SIZE = 1e3;\nvar EPageOperator;\n(function(EPageOperator2) {\n  EPageOperator2[EPageOperator2[\"Backward\"] = 0] = \"Backward\";\n  EPageOperator2[EPageOperator2[\"Forward\"] = 1] = \"Forward\";\n  EPageOperator2[EPageOperator2[\"JumpSkip\"] = 2] = \"JumpSkip\";\n  EPageOperator2[EPageOperator2[\"None\"] = 3] = \"None\";\n})(EPageOperator || (EPageOperator = {}));\nvar EDragStatus;\n(function(EDragStatus2) {\n  EDragStatus2[EDragStatus2[\"Start\"] = 0] = \"Start\";\n  EDragStatus2[EDragStatus2[\"Stop\"] = 1] = \"Stop\";\n  EDragStatus2[EDragStatus2[\"Wait\"] = 2] = \"Wait\";\n  EDragStatus2[EDragStatus2[\"Move\"] = 3] = \"Move\";\n})(EDragStatus || (EDragStatus = {}));\nvar EDragTarget;\n(function(EDragTarget2) {\n  EDragTarget2[EDragTarget2[\"Point\"] = 0] = \"Point\";\n  EDragTarget2[EDragTarget2[\"Line\"] = 1] = \"Line\";\n  EDragTarget2[EDragTarget2[\"Plane\"] = 2] = \"Plane\";\n})(EDragTarget || (EDragTarget = {}));\nvar ESortDirection;\n(function(ESortDirection2) {\n  ESortDirection2[ESortDirection2[\"ascend\"] = 0] = \"ascend\";\n  ESortDirection2[ESortDirection2[\"descend\"] = 1] = \"descend\";\n})(ESortDirection || (ESortDirection = {}));\nvar EGrowthMode;\n(function(EGrowthMode2) {\n  EGrowthMode2[EGrowthMode2[\"Intelligence\"] = 0] = \"Intelligence\";\n  EGrowthMode2[EGrowthMode2[\"Linear\"] = 1] = \"Linear\";\n})(EGrowthMode || (EGrowthMode = {}));\nvar ELang;\n(function(ELang2) {\n  ELang2[\"Zh\"] = \"zh_CN\";\n  ELang2[\"US\"] = \"en_US\";\n})(ELang || (ELang = {}));\nconst DEFAULT_TEXT_OFFSET = {\n  offsetX: -10,\n  offsetY: -10\n};\nconst DEFAULT_TEXT_SHADOW = {\n  shadowColor: \"rgba(0,0,0,0.6)\",\n  shadowOffsetX: 0,\n  shadowOffsetY: 2,\n  shadowBlur: 4\n};\n\nvar annotation = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  headerHeight: headerHeight,\n  tipsHeight: tipsHeight,\n  footerHeight: footerHeight,\n  sidebarWidth: sidebarWidth,\n  get EStepType () { return EStepType; },\n  ANNOTATION_MAX_SIZE: ANNOTATION_MAX_SIZE,\n  get EPageOperator () { return EPageOperator; },\n  get EDragStatus () { return EDragStatus; },\n  get EDragTarget () { return EDragTarget; },\n  get ESortDirection () { return ESortDirection; },\n  get EGrowthMode () { return EGrowthMode; },\n  get ELang () { return ELang; },\n  DEFAULT_TEXT_OFFSET: DEFAULT_TEXT_OFFSET,\n  DEFAULT_TEXT_SHADOW: DEFAULT_TEXT_SHADOW\n});\n\nvar __defProp$d = Object.defineProperty;\nvar __defProps$b = Object.defineProperties;\nvar __getOwnPropDescs$b = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$d = Object.getOwnPropertySymbols;\nvar __hasOwnProp$d = Object.prototype.hasOwnProperty;\nvar __propIsEnum$d = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$d = (obj, key, value) => key in obj ? __defProp$d(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$d = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$d.call(b, prop))\n      __defNormalProp$d(a, prop, b[prop]);\n  if (__getOwnPropSymbols$d)\n    for (var prop of __getOwnPropSymbols$d(b)) {\n      if (__propIsEnum$d.call(b, prop))\n        __defNormalProp$d(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$b = (a, b) => __defProps$b(a, __getOwnPropDescs$b(b));\nclass RectUtils {\n  static composeResult(result, currentStep, resultList, stepList, basicImgInfo) {\n    try {\n      const data = JSON.parse(result);\n      const currentStepInfo = CommonToolUtils.getCurrentStepInfo(currentStep, stepList);\n      const {dataSourceStep} = currentStepInfo;\n      const stepName = `step_${currentStepInfo.step}`;\n      Object.assign(data, basicImgInfo);\n      if (data[stepName]) {\n        const info = data[stepName];\n        if (info.result) {\n          info.result = resultList;\n          return JSON.stringify(data);\n        }\n        return JSON.stringify(__spreadProps$b(__spreadValues$d({}, data), {\n          [stepName]: __spreadProps$b(__spreadValues$d({}, data[stepName]), {\n            result: resultList\n          })\n        }));\n      }\n      return JSON.stringify(__spreadProps$b(__spreadValues$d({}, data), {\n        [stepName]: {\n          dataSourceStep,\n          toolName: currentStepInfo.tool,\n          result: resultList\n        }\n      }));\n    } catch (e) {\n      return result;\n    }\n  }\n  static changeCoordinateByRotate(rect, rotate, imgSize) {\n    const {x, y, width, height} = rect;\n    const leftTopCoordinate = AxisUtils.changeCoordinateByRotate({x, y}, rotate, imgSize);\n    switch (rotate % 360) {\n      case 90:\n        return __spreadProps$b(__spreadValues$d({}, rect), {\n          x: leftTopCoordinate.x - height,\n          y: leftTopCoordinate.y,\n          width: height,\n          height: width\n        });\n      case 180:\n        return __spreadProps$b(__spreadValues$d({}, rect), {\n          x: leftTopCoordinate.x - width,\n          y: leftTopCoordinate.y - height\n        });\n      case 270:\n        return __spreadProps$b(__spreadValues$d({}, rect), {\n          x: leftTopCoordinate.x,\n          y: leftTopCoordinate.y - width,\n          width: height,\n          height: width\n        });\n      default:\n        return rect;\n    }\n  }\n  static translateRect2Points(rect) {\n    const {x, y, width, height} = rect;\n    return [\n      {\n        x,\n        y\n      },\n      {\n        x: x + width,\n        y\n      },\n      {\n        x: x + width,\n        y: y + height\n      },\n      {\n        x,\n        y: y + height\n      }\n    ];\n  }\n  static translatePoints2Rect(points, basicRect) {\n    if (points.length !== 4) {\n      return;\n    }\n    const {x, y} = points[0];\n    const width = points[1].x - points[0].x;\n    const height = points[2].y - points[1].y;\n    return __spreadProps$b(__spreadValues$d({}, basicRect), {\n      x,\n      y,\n      width,\n      height\n    });\n  }\n  static getRectPointList(rect, zoom = 1) {\n    return [\n      {x: rect.x * zoom, y: rect.y * zoom},\n      {x: (rect.x + rect.width) * zoom, y: rect.y * zoom},\n      {x: (rect.x + rect.width) * zoom, y: (rect.y + rect.height) * zoom},\n      {x: rect.x * zoom, y: (rect.y + rect.height) * zoom}\n    ];\n  }\n  static getRectEdgeList(rect, zoom = 1) {\n    const pointList = this.getRectPointList(rect, zoom);\n    const len = pointList.length;\n    return pointList.map((v, i) => {\n      return {\n        begin: v,\n        end: pointList[(i + 1) % len]\n      };\n    });\n  }\n  static isInRect(coordinate, rect, scope = 0, zoom = 1) {\n    return coordinate.x >= rect.x * zoom - scope && coordinate.x <= (rect.x + rect.width) * zoom + scope && coordinate.y >= rect.y * zoom - scope && coordinate.y <= (rect.y + rect.height) * zoom + scope;\n  }\n  static getRectUnderZoom(rect, zoom = 1) {\n    const {x, y, width, height} = rect;\n    return __spreadProps$b(__spreadValues$d({}, rect), {\n      x: x * zoom,\n      y: y * zoom,\n      width: width * zoom,\n      height: height * zoom\n    });\n  }\n  static isRectNotInPolygon(rect, polygonPointList) {\n    const rectPointList = this.getRectPointList(rect);\n    return rectPointList.some((p) => !isInPolygon(p, polygonPointList));\n  }\n}\n\nfunction uuid(len = 8, radix = 62) {\n  const chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\".split(\"\");\n  const id = [];\n  let i;\n  radix = radix || chars.length;\n  if (len) {\n    for (i = 0; i < len; i++) {\n      id[i] = chars[0 | Math.random() * radix];\n    }\n  } else {\n    let r;\n    id[8] = id[13] = id[18] = id[23] = \"-\";\n    id[14] = \"4\";\n    for (i = 0; i < 36; i++) {\n      if (!id[i]) {\n        r = 0 | Math.random() * 16;\n        id[i] = chars[i === 19 ? r & 3 | 8 : r];\n      }\n    }\n  }\n  return id.join(\"\");\n}\n\nvar __defProp$c = Object.defineProperty;\nvar __getOwnPropSymbols$c = Object.getOwnPropertySymbols;\nvar __hasOwnProp$c = Object.prototype.hasOwnProperty;\nvar __propIsEnum$c = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$c = (obj, key, value) => key in obj ? __defProp$c(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$c = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$c.call(b, prop))\n      __defNormalProp$c(a, prop, b[prop]);\n  if (__getOwnPropSymbols$c)\n    for (var prop of __getOwnPropSymbols$c(b)) {\n      if (__propIsEnum$c.call(b, prop))\n        __defNormalProp$c(a, prop, b[prop]);\n    }\n  return a;\n};\nclass TagUtil {\n  static getTagKeyName(key, labelInfoSet) {\n    var _a, _b;\n    if (!labelInfoSet) {\n      return;\n    }\n    return (_b = (_a = labelInfoSet.find((v) => v.value === key)) == null ? void 0 : _a.key) != null ? _b : \"\";\n  }\n  static getTagName([key = \"\", value = \"\"], labelInfoSet) {\n    if (!labelInfoSet) {\n      return;\n    }\n    for (const i of labelInfoSet) {\n      if (i.value === key) {\n        if (!i.subSelected) {\n          console.error(\"\\u6807\\u7B7E\\u89E3\\u6790\\u9519\\u8BEF\", key, value);\n          return \"\";\n        }\n        for (const j of i.subSelected) {\n          if (j.value === value) {\n            return j.key;\n          }\n        }\n      }\n    }\n  }\n  static getTagNameList(result, labelInfoSet) {\n    if (Object.keys(result).length <= 0) {\n      return [];\n    }\n    return Object.entries(result).reduce((acc, cur) => {\n      const [key, value] = cur;\n      if (value && value.length > 0) {\n        const valueList = value.split(\";\");\n        const nameList = {\n          keyName: this.getTagKeyName(key, labelInfoSet),\n          value: valueList.map((v) => this.getTagName([key, v], labelInfoSet))\n        };\n        return [...acc, nameList];\n      }\n      return acc;\n    }, []).filter((v) => v);\n  }\n  static getTagnameListWithoutConfig(result) {\n    if (Object.keys(result).length <= 0) {\n      return [];\n    }\n    return Object.entries(result).reduce((acc, cur) => {\n      const [key, value] = cur;\n      const valueList = value.split(\";\");\n      const nameList = {\n        keyName: key,\n        value: valueList\n      };\n      return [...acc, nameList];\n    }, []).filter((v) => v);\n  }\n  static judgeResultIsInInputList(key, value, inputList) {\n    if (!key || !value || !inputList) {\n      return false;\n    }\n    const a = inputList.filter((v) => {\n      if (v.value === key && v.subSelected) {\n        const resultValue = value == null ? void 0 : value.split(\";\");\n        return (v == null ? void 0 : v.subSelected.filter((i) => resultValue.indexOf(i.value) > -1).length) > 0;\n      }\n      return false;\n    });\n    return a.length > 0;\n  }\n  static getDefaultResultByConfig(inputList) {\n    return inputList.reduce((acc, cur) => {\n      if (cur.subSelected) {\n        cur.subSelected.forEach((data) => {\n          var _a;\n          if (data.isDefault) {\n            const originResult = (_a = acc[cur.value]) != null ? _a : \"\";\n            let originResultList = [];\n            if (originResult.length > 0) {\n              originResultList = originResult.split(\";\");\n            }\n            originResultList.push(data.value);\n            acc[cur.value] = originResultList.join(\";\");\n          }\n        });\n      }\n      return acc;\n    }, {});\n  }\n  static getDefaultTagResult(inputList, basicResultList) {\n    const defaultResult = this.getDefaultResultByConfig(inputList);\n    if (basicResultList.length > 0) {\n      return basicResultList.map((v) => ({\n        id: uuid(),\n        sourceID: v.id,\n        result: __spreadValues$c({}, defaultResult)\n      }));\n    }\n    return [\n      {\n        id: uuid(),\n        sourceID: \"\",\n        result: __spreadValues$c({}, defaultResult)\n      }\n    ];\n  }\n}\n\nvar canvasEdit0 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#ccc\\\"/></g></g></svg>\";\n\nvar canvasEdit1 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#ff2323\\\"/></g></g></svg>\";\n\nvar canvasEdit2 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#ffe232\\\"/></g></g></svg>\";\n\nvar canvasEdit3 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#01ff30\\\"/></g></g></svg>\";\n\nvar canvasEdit4 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#00ffea\\\"/></g></g></svg>\";\n\nvar canvasEdit5 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#0282fa\\\"/></g></g></svg>\";\n\nvar canvasEdit6 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#800cf9\\\"/></g></g></svg>\";\n\nvar canvasEdit7 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#ff88f7\\\"/></g></g></svg>\";\n\nvar canvasEdit8 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#994217\\\"/></g></g></svg>\";\n\nvar baseEditLan = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#1f0bf9\\\"/></g></g></svg>\";\n\nvar baseEditQing = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#3fe\\\"/></g></g></svg>\";\n\nvar baseEditLv = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#33fe33\\\"/></g></g></svg>\";\n\nvar baseEditHuang = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#fdff37\\\"/></g></g></svg>\";\n\nvar baseEditFen = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#f70efa\\\"/></g></g></svg>\";\n\nvar INVALID_ICON = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#f33\\\"/></g></g></svg>\";\n\nconst NULL_ICON = canvasEdit0;\nconst HEADER_HEIGHT = 61;\nconst TAB_HEIGHT = 80;\nconst SEARCH_HEIGHT = 62;\nconst PADDING = 20;\nconst TABLE_ROW_HEIGHT = 55;\nconst PAGINATION_HEIGHT = 55;\nconst TIPS_HEIGHT = 40;\nconst FOOTER_HEIGHT = 80;\nconst SIDERBAR_WIDTH = 240;\nconst EDIT_STEP_WIDTH = 320;\nconst THEME_COLOR = \"rgba(102, 111, 255, 1)\";\nconst COLORS_ARRAY = [\n  \"rgba(128, 12, 249, 1)\",\n  \"rgba(0, 255, 48, 1)\",\n  \"rgba(255, 136, 247, 1)\",\n  \"rgba(255, 226, 50, 1)\",\n  \"rgba(153, 66, 23, 1)\",\n  \"rgba(2, 130, 250, 1)\",\n  \"rgba(255, 35, 35, 1)\",\n  \"rgba(0, 255, 234, 1)\"\n];\nconst ICON_ARRAY = [\n  canvasEdit0,\n  canvasEdit6,\n  canvasEdit3,\n  canvasEdit7,\n  canvasEdit2,\n  canvasEdit8,\n  canvasEdit5,\n  canvasEdit1,\n  canvasEdit4\n];\nconst BASE_ICON = {\n  1: baseEditLan,\n  3: baseEditQing,\n  5: baseEditLv,\n  7: baseEditHuang,\n  9: baseEditFen\n};\nconst INVALID_COLOR = \"rgba(255, 51, 51, 1)\";\nconst NULL_COLOR = \"rgba(204, 204, 204, 1)\";\nconst FILTER_TOOL_COLOR = {\n  [EFilterToolOperation.lc]: \"rgba(153, 51, 255, 1)\",\n  [EFilterToolOperation.rc]: \"rgba(51, 153, 255, 1)\",\n  [EFilterToolOperation.clc]: \"rgba(46, 230, 46, 1)\",\n  [EFilterToolOperation.crc]: \"rgba(255, 51, 51, 1)\"\n};\n\nvar style = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  HEADER_HEIGHT: HEADER_HEIGHT,\n  TAB_HEIGHT: TAB_HEIGHT,\n  SEARCH_HEIGHT: SEARCH_HEIGHT,\n  PADDING: PADDING,\n  TABLE_ROW_HEIGHT: TABLE_ROW_HEIGHT,\n  PAGINATION_HEIGHT: PAGINATION_HEIGHT,\n  TIPS_HEIGHT: TIPS_HEIGHT,\n  FOOTER_HEIGHT: FOOTER_HEIGHT,\n  SIDERBAR_WIDTH: SIDERBAR_WIDTH,\n  EDIT_STEP_WIDTH: EDIT_STEP_WIDTH,\n  THEME_COLOR: THEME_COLOR,\n  COLORS_ARRAY: COLORS_ARRAY,\n  ICON_ARRAY: ICON_ARRAY,\n  BASE_ICON: BASE_ICON,\n  INVALID_COLOR: INVALID_COLOR,\n  NULL_COLOR: NULL_COLOR,\n  NULL_ICON: NULL_ICON,\n  INVALID_ICON: INVALID_ICON,\n  FILTER_TOOL_COLOR: FILTER_TOOL_COLOR\n});\n\nvar EMessage;\n(function(EMessage2) {\n  EMessage2[\"NoRotateNotice\"] = \"noRotateNotice\";\n  EMessage2[\"RectErrorSizeNotice\"] = \"rectErrorSizeNotice\";\n  EMessage2[\"TextCheckNumberErrorNotice\"] = \"textCheckNumberErrorNotice\";\n  EMessage2[\"TextCheckEnglishErrorNotice\"] = \"textCheckEnglishErrorNotice\";\n  EMessage2[\"TextCheckCustomErrorNotice\"] = \"textCheckCustomErrorNotice\";\n  EMessage2[\"UpperLimitErrorNotice\"] = \"UpperLimitErrorNotice\";\n  EMessage2[\"LowerLimitErrorNotice\"] = \"LowerLimitErrorNotice\";\n  EMessage2[\"InvalidImage\"] = \"InvalidImage\";\n  EMessage2[\"DisableDelete\"] = \"DisableDelete\";\n  EMessage2[\"ClearPartialData\"] = \"ClearPartialData\";\n  EMessage2[\"MarkerFinish\"] = \"MarkerFinish\";\n  EMessage2[\"LowerLimitPoint\"] = \"LowerLimitPoint\";\n  EMessage2[\"NoRotateInDependence\"] = \"noRotateInDependence\";\n})(EMessage || (EMessage = {}));\n\nconst message$1 = {\n  [EMessage.NoRotateNotice]: \"This Image contains data and cannot be rotated\",\n  [EMessage.RectErrorSizeNotice]: \"The drawing frame size is smaller than the minimum drawing size\",\n  [EMessage.TextCheckNumberErrorNotice]: \"Please enter in number-only format\",\n  [EMessage.TextCheckEnglishErrorNotice]: \"Please enter in English only format\",\n  [EMessage.TextCheckCustomErrorNotice]: \"Please enter in the required format\",\n  [EMessage.UpperLimitErrorNotice]: \"The number of vertices is not more than\",\n  [EMessage.LowerLimitErrorNotice]: \"The number of vertices is not less than\",\n  [EMessage.InvalidImage]: \"Invalid image, please skip this image\",\n  [EMessage.DisableDelete]: \"Disable delete\",\n  [EMessage.ClearPartialData]: \"Clear partial data\",\n  [EMessage.MarkerFinish]: \"ListAnnotation is finished\",\n  [EMessage.LowerLimitPoint]: \"\\u5DF2\\u5230\\u8FBE\\u6807\\u70B9\\u6570\\u91CF\\u4E0A\\u9650\",\n  [EMessage.NoRotateInDependence]: \"Disallow rotation in dependent cases\"\n};\n\nconst message = {\n  [EMessage.NoRotateNotice]: \"\\u672C\\u56FE\\u542B\\u6709\\u6570\\u636E\\uFF0C\\u65E0\\u6CD5\\u8FDB\\u884C\\u65CB\\u8F6C\",\n  [EMessage.RectErrorSizeNotice]: \"\\u7ED8\\u5236\\u6846\\u5C3A\\u5BF8\\u5C0F\\u4E8E\\u6700\\u5C0F\\u7ED8\\u5236\\u5C3A\\u5BF8\",\n  [EMessage.TextCheckNumberErrorNotice]: \"\\u8BF7\\u6309\\u4EC5\\u6570\\u5B57\\u7684\\u683C\\u5F0F\\u8F93\\u5165\",\n  [EMessage.TextCheckEnglishErrorNotice]: \"\\u8BF7\\u6309\\u4EC5\\u82F1\\u6587\\u7684\\u683C\\u5F0F\\u8F93\\u5165\",\n  [EMessage.TextCheckCustomErrorNotice]: \"\\u8BF7\\u6309\\u8981\\u6C42\\u7684\\u683C\\u5F0F\\u8F93\\u5165\",\n  [EMessage.UpperLimitErrorNotice]: \"\\u9876\\u70B9\\u6570\\u4E0D\\u591A\\u4E8E\",\n  [EMessage.LowerLimitErrorNotice]: \"\\u9876\\u70B9\\u6570\\u4E0D\\u5C11\\u4E8E\",\n  [EMessage.InvalidImage]: \"\\u65E0\\u6548\\u56FE\\u7247\\uFF0C\\u8BF7\\u8DF3\\u8FC7\\u6B64\\u56FE\",\n  [EMessage.DisableDelete]: \"\\u8BE5\\u6570\\u636E\\u7981\\u6B62\\u5220\\u9664\",\n  [EMessage.ClearPartialData]: \"\\u5B58\\u5728\\u90E8\\u5206\\u6570\\u636E\\u65E0\\u6CD5\\u6E05\\u9664\",\n  [EMessage.MarkerFinish]: \"\\u5217\\u8868\\u6807\\u6CE8\\u5DF2\\u5B8C\\u6210\",\n  [EMessage.LowerLimitPoint]: \"\\u5DF2\\u5230\\u8FBE\\u6807\\u70B9\\u6570\\u91CF\\u4E0A\\u9650\",\n  [EMessage.NoRotateInDependence]: \"\\u4F9D\\u8D56\\u60C5\\u51B5\\u4E0B\\u65E0\\u6CD5\\u8FDB\\u884C\\u65CB\\u8F6C\"\n};\n\nclass Locale {\n}\nLocale.getMessagesByLocale = (key, locale) => {\n  switch (locale) {\n    case ELang.US:\n      return message$1[key];\n    case ELang.Zh:\n    default:\n      return message[key];\n  }\n};\n\nvar __defProp$b = Object.defineProperty;\nvar __defProps$a = Object.defineProperties;\nvar __getOwnPropDescs$a = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$b = Object.getOwnPropertySymbols;\nvar __hasOwnProp$b = Object.prototype.hasOwnProperty;\nvar __propIsEnum$b = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$b = (obj, key, value) => key in obj ? __defProp$b(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$b = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$b.call(b, prop))\n      __defNormalProp$b(a, prop, b[prop]);\n  if (__getOwnPropSymbols$b)\n    for (var prop of __getOwnPropSymbols$b(b)) {\n      if (__propIsEnum$b.call(b, prop))\n        __defNormalProp$b(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$a = (a, b) => __defProps$a(a, __getOwnPropDescs$a(b));\nconst REGEXP_NUMBER = \"^[0-9]+$\";\nconst REGEXP_ENGLISH = \"^[A-Za-z]+$\";\nclass AttributeUtils {\n  static getAttributeIcon(attribute, attributeList, valid = true) {\n    var _a;\n    const attributeIndex = attributeList.findIndex((i) => i.value === attribute);\n    let src = (_a = ICON_ARRAY[attributeIndex % ICON_ARRAY.length]) != null ? _a : NULL_ICON;\n    if (!valid) {\n      src = INVALID_ICON;\n    }\n    src = \"\";\n    const img = new Image();\n    img.src = src;\n    return img;\n  }\n  static checkString(textCheckType, customFormat) {\n    let regExpString = \"\";\n    switch (textCheckType) {\n      case ETextType.Order:\n      case ETextType.NumberOnly:\n        regExpString = REGEXP_NUMBER;\n        break;\n      case ETextType.EnglishOnly:\n        regExpString = REGEXP_ENGLISH;\n        break;\n      case ETextType.CustomFormat:\n        regExpString = customFormat;\n        break;\n    }\n    return regExpString;\n  }\n  static checkTextAttibute(value, checkStrings) {\n    if (value === void 0 || value === \"\") {\n      return true;\n    }\n    try {\n      return new RegExp(checkStrings).test(value);\n    } catch (error) {\n      return false;\n    }\n  }\n  static getAttributeShowText(attribute, attributeList = []) {\n    var _a, _b;\n    try {\n      const attributeIndex = attributeList.findIndex((i) => i.value === attribute);\n      return (_b = (_a = attributeList[attributeIndex]) == null ? void 0 : _a.key) != null ? _b : attribute;\n    } catch (error) {\n      return attribute;\n    }\n  }\n  static getAttributeIndex(attribute, attributeList) {\n    try {\n      const attributeIndex = attributeList.findIndex((i) => i.value === attribute);\n      if (attributeIndex >= 8) {\n        return attributeIndex % 8;\n      }\n      return attributeIndex;\n    } catch (error) {\n      return -1;\n    }\n  }\n  static getAttributeColor(attribute, attributeList) {\n    try {\n      const attributeIndex = this.getAttributeIndex(attribute, attributeList);\n      if (attributeIndex === -1) {\n        return NULL_COLOR;\n      }\n      return COLORS_ARRAY[attributeIndex % COLORS_ARRAY.length];\n    } catch (error) {\n      return NULL_COLOR;\n    }\n  }\n  static getTextAttribute(toolResultList, textCheckType) {\n    try {\n      if (textCheckType === ETextType.Order) {\n        const textAttributeList = toolResultList.map((i) => parseInt(i.textAttribute, 10)).filter((order) => {\n          return isNumber(order) && order < Number.MAX_SAFE_INTEGER && order >= 0;\n        });\n        textAttributeList.sort((a, b) => a - b);\n        const maxOrder = textAttributeList.pop();\n        return `${(maxOrder || 0) + 1}`;\n      }\n      return \"\";\n    } catch (error) {\n      return \"\";\n    }\n  }\n  static textChange(value, selectedID, toolList) {\n    return toolList.map((item) => {\n      if (item.id === selectedID) {\n        return __spreadProps$a(__spreadValues$b({}, item), {\n          textAttribute: value\n        });\n      }\n      return item;\n    });\n  }\n  static getErrorNotice(textCheckType, lang) {\n    switch (textCheckType) {\n      case ETextType.Order:\n      case ETextType.NumberOnly:\n        return Locale.getMessagesByLocale(EMessage.TextCheckNumberErrorNotice, lang);\n      case ETextType.EnglishOnly:\n        return Locale.getMessagesByLocale(EMessage.TextCheckEnglishErrorNotice, lang);\n      case ETextType.CustomFormat:\n        return Locale.getMessagesByLocale(EMessage.TextCheckCustomErrorNotice, lang);\n      default:\n        return \"\";\n    }\n  }\n  static textAttributeValidate(textCheckType, customFormat, text) {\n    try {\n      const reg = new RegExp(this.checkString(textCheckType, customFormat));\n      return reg.test(text);\n    } catch (error) {\n    }\n  }\n  static checkTextAttribute(textCheckType, customFormat, resultList, selectedID) {\n    let error = false;\n    resultList.forEach((item) => {\n      if ((item == null ? void 0 : item.textAttribute) === void 0 || (item == null ? void 0 : item.textAttribute) === \"\") {\n        return;\n      }\n      if ((selectedID ? item.id === selectedID : true) && !this.textAttributeValidate(textCheckType, customFormat, item.textAttribute)) {\n        error = true;\n      }\n    });\n    if (error) {\n      return true;\n    }\n    return false;\n  }\n  static changeTextAttributeInLog(toolLog, toolList) {\n    return toolLog == null ? void 0 : toolLog.map((item) => {\n      return item == null ? void 0 : item.map((info) => {\n        if ((toolList == null ? void 0 : toolList.findIndex((i) => (i == null ? void 0 : i.id) === (info == null ? void 0 : info.id))) > -1) {\n          const changeRect = toolList == null ? void 0 : toolList.find((i) => (i == null ? void 0 : i.id) === (info == null ? void 0 : info.id));\n          return __spreadProps$a(__spreadValues$b({}, info), {\n            textAttribute: changeRect == null ? void 0 : changeRect.textAttribute\n          });\n        }\n        return info;\n      });\n    });\n  }\n  static getTextIconSvg(attribute = \"\", attributeList, attributeConfigurable = false, baseIcon) {\n    if (attributeConfigurable === true) {\n      const attributeIndex = (attributeList == null ? void 0 : attributeList.findIndex((i) => (i == null ? void 0 : i.value) === attribute)) % COLORS_ARRAY.length + 1;\n      return ICON_ARRAY[attributeIndex];\n    }\n    return baseIcon;\n  }\n  static getAttributeByKeycode(keyCode, attributeList) {\n    var _a;\n    let num;\n    if (MathUtils.isInRange(keyCode, [48, 57])) {\n      num = keyCode - 48;\n    }\n    if (MathUtils.isInRange(keyCode, [96, 105])) {\n      num = keyCode - 96;\n    }\n    if (num === 0) {\n      return \"\";\n    }\n    return num ? (_a = attributeList[num - 1]) == null ? void 0 : _a.value : void 0;\n  }\n}\n\nclass UnitUtils {\n  static deg2rad(angleDeg) {\n    return angleDeg * Math.PI / 180;\n  }\n  static rad2deg(angleRad) {\n    return angleRad * 180 / Math.PI;\n  }\n}\n\nconst DEFAULT_ZOOM = 1;\nconst DEFAULT_CURRENT_POS = {\n  x: 0,\n  y: 0\n};\nconst DEFAULT_ROTATE = 0;\nconst DEFAULT_COLOR = \"\";\nclass DrawUtils {\n  static drawLine(canvas, startPoint, endPoint, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    const {color = DEFAULT_COLOR, thickness = 1, lineCap = \"round\"} = options;\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = thickness;\n    ctx.lineCap = lineCap;\n    ctx.beginPath();\n    ctx.moveTo(startPoint.x, startPoint.y);\n    ctx.lineTo(endPoint.x + 1, endPoint.y + 1);\n    ctx.stroke();\n    ctx.restore();\n  }\n  static drawRect(canvas, rect, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    const {color = DEFAULT_COLOR, thickness = 1, lineCap = \"round\"} = options;\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = thickness;\n    ctx.lineCap = lineCap;\n    ctx.beginPath();\n    ctx.fillStyle = color;\n    ctx.strokeRect(rect.x, rect.y, rect.width, rect.height);\n    let showText = \"\";\n    if (rect.attribute) {\n      showText = `${showText}  ${rect.attribute}`;\n    }\n    this.drawText(canvas, {x: rect.x, y: rect.y - 5}, showText);\n    if (rect.textAttribute) {\n      const text = `${~~rect.width} * ${~~rect.height}`;\n      const textSizeWidth = text.length * 7;\n      const marginTop = 0;\n      const textWidth = Math.max(20, rect.width - textSizeWidth);\n      this.drawText(canvas, {x: rect.x, y: rect.y + rect.height + 20 + marginTop}, rect.textAttribute, {\n        textMaxWidth: textWidth\n      });\n    }\n    ctx.restore();\n  }\n  static drawRectWithFill(canvas, rect, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    const {color = DEFAULT_COLOR} = options;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = color;\n    ctx.fillRect(rect.x, rect.y, rect.width, rect.height);\n    ctx.restore();\n  }\n  static drawTag(canvas, tagList) {\n    var _a;\n    const parentNode = canvas == null ? void 0 : canvas.parentNode;\n    const oldDom = window.self.document.getElementById(\"tagToolTag\");\n    if (oldDom && parentNode && parentNode.contains(oldDom)) {\n      parentNode == null ? void 0 : parentNode.removeChild(oldDom);\n    }\n    if (!((tagList == null ? void 0 : tagList.length) > 0)) {\n      return;\n    }\n    const dom = document.createElement(\"div\");\n    dom.innerHTML = (_a = tagList.reduce((acc, cur) => {\n      return `${acc}${cur.keyName}: ${cur.value.join(` \\u3001 `)}\n`;\n    }, \"\")) != null ? _a : \"\";\n    dom.setAttribute(\"id\", \"tagToolTag\");\n    parentNode == null ? void 0 : parentNode.appendChild(dom);\n  }\n  static drawLineWithPointList(canvas, pointList, options = {}) {\n    if (pointList.length < 2) {\n      return;\n    }\n    const ctx = canvas.getContext(\"2d\");\n    const {\n      color = DEFAULT_COLOR,\n      thickness = 1,\n      lineCap = \"round\",\n      lineType = ELineTypes.Line,\n      hoverEdgeIndex\n    } = options;\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = thickness;\n    ctx.lineCap = lineCap;\n    ctx.beginPath();\n    if (lineType === ELineTypes.Curve) {\n      if (hoverEdgeIndex !== void 0 && hoverEdgeIndex > -1) {\n        pointList.push(pointList[0]);\n      }\n      pointList = PolygonUtils.createSmoothCurvePointsFromPointList([...pointList], SEGMENT_NUMBER$2);\n      if (hoverEdgeIndex !== void 0 && hoverEdgeIndex > -1) {\n        pointList = pointList.slice((SEGMENT_NUMBER$2 + 1) * hoverEdgeIndex, (SEGMENT_NUMBER$2 + 1) * (hoverEdgeIndex + 1));\n      }\n    } else if (hoverEdgeIndex !== void 0 && hoverEdgeIndex > -1) {\n      pointList = [...pointList, pointList[0]];\n      pointList = pointList.slice(hoverEdgeIndex, hoverEdgeIndex + 2);\n    }\n    const [firstPoint, ...nextPointList] = pointList;\n    ctx.moveTo(firstPoint.x, firstPoint.y);\n    nextPointList.forEach((point) => {\n      ctx.lineTo(point.x, point.y);\n    });\n    ctx.stroke();\n    ctx.restore();\n  }\n  static drawCircle(canvas, anchorPoint, radius, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    const {\n      startAngleDeg = 0,\n      endAngleDeg = 360,\n      thickness = 1,\n      color = DEFAULT_COLOR,\n      fill = DEFAULT_COLOR\n    } = options;\n    const startAngleRad = UnitUtils.deg2rad(startAngleDeg);\n    const endAngleRad = UnitUtils.deg2rad(endAngleDeg);\n    ctx.save();\n    ctx.beginPath();\n    ctx.strokeStyle = color;\n    ctx.fillStyle = fill;\n    ctx.lineWidth = thickness;\n    ctx.arc(anchorPoint.x, anchorPoint.y, radius, startAngleRad, endAngleRad, false);\n    ctx.stroke();\n    ctx.fill();\n    ctx.closePath();\n    ctx.restore();\n  }\n  static drawCircleWithFill(canvas, anchorPoint, radius = 3, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    const {color = DEFAULT_COLOR} = options;\n    ctx.save();\n    const startAngleRad = UnitUtils.deg2rad(0);\n    const endAngleRad = UnitUtils.deg2rad(360);\n    ctx.fillStyle = color;\n    ctx.beginPath();\n    ctx.arc(anchorPoint.x, anchorPoint.y, radius, startAngleRad, endAngleRad, false);\n    ctx.fill();\n    ctx.restore();\n  }\n  static drawPolygon(canvas, pointList, options = {}) {\n    const {isClose = false, lineType = ELineTypes.Line} = options;\n    if (isClose === true) {\n      pointList = [...pointList, pointList[0]];\n    }\n    if (lineType === ELineTypes.Curve) {\n      pointList = PolygonUtils.createSmoothCurvePointsFromPointList([...pointList]);\n    }\n    this.drawLineWithPointList(canvas, pointList, options);\n  }\n  static drawPolygonWithFill(canvas, pointList, options = {}) {\n    if (pointList.length < 2) {\n      return;\n    }\n    const ctx = canvas.getContext(\"2d\");\n    const {color = DEFAULT_COLOR, lineType = ELineTypes.Line} = options;\n    ctx.save();\n    ctx.fillStyle = color;\n    ctx.beginPath();\n    if (lineType === ELineTypes.Curve) {\n      pointList = PolygonUtils.createSmoothCurvePointsFromPointList([...pointList, pointList[0]]);\n    }\n    const [startPoint, ...otherPointList] = pointList;\n    ctx.moveTo(startPoint.x, startPoint.y);\n    otherPointList.forEach((point) => {\n      ctx.lineTo(point.x, point.y);\n    });\n    ctx.fill();\n    ctx.restore();\n  }\n  static drawPolygonWithFillAndLine(canvas, pointList, options = {}) {\n    const {strokeColor, fillColor, thickness, lineCap, isClose, lineType} = options;\n    this.drawPolygon(canvas, pointList, {color: strokeColor, thickness, lineCap, isClose, lineType});\n    this.drawPolygonWithFill(canvas, pointList, {color: fillColor, lineType});\n  }\n  static drawSelectedPolygonWithFillAndLine(canvas, pointList, options = {}) {\n    const {pointColor = \"white\", strokeColor} = options;\n    this.drawPolygonWithFillAndLine(canvas, pointList, options);\n    const newPointList = [...pointList];\n    newPointList.forEach((point) => {\n      this.drawCircleWithFill(canvas, point, 4, {color: strokeColor});\n      this.drawCircleWithFill(canvas, point, 3, {color: pointColor});\n    });\n  }\n  static drawText(canvas, startPoint, text, options = {}) {\n    if (!text) {\n      return;\n    }\n    const ctx = canvas.getContext(\"2d\");\n    const {\n      color = DEFAULT_COLOR,\n      font = \"normal normal 500 14px Arial\",\n      shadowColor = \"\",\n      shadowBlur = 0,\n      shadowOffsetX = 0,\n      shadowOffsetY = 0,\n      textMaxWidth = 164,\n      offsetX = 0,\n      offsetY = 0,\n      textAlign = \"start\"\n    } = options;\n    ctx.save();\n    ctx.textAlign = textAlign;\n    ctx.fillStyle = color != null ? color : \"white\";\n    ctx.font = font;\n    ctx.shadowColor = shadowColor;\n    ctx.shadowOffsetX = shadowOffsetX;\n    ctx.shadowOffsetY = shadowOffsetY;\n    ctx.shadowBlur = shadowBlur;\n    this.wrapText(canvas, `${text}`, startPoint.x + offsetX, startPoint.y + offsetY, textMaxWidth);\n    ctx.restore();\n  }\n  static wrapText(canvas, text, x, y, maxWidth, lineHeight) {\n    if (typeof text !== \"string\" || typeof x !== \"number\" || typeof y !== \"number\") {\n      return;\n    }\n    const context = canvas.getContext(\"2d\");\n    if (typeof maxWidth === \"undefined\") {\n      maxWidth = canvas && canvas.width || 300;\n    }\n    if (typeof lineHeight === \"undefined\") {\n      lineHeight = canvas && parseInt(window.getComputedStyle(canvas).lineHeight, 10) || parseInt(window.getComputedStyle(document.body).lineHeight, 10);\n    }\n    const arrParagraph = text.split(\"\\n\");\n    for (let i = 0; i < arrParagraph.length; i++) {\n      const arrText = arrParagraph[i].split(\"\");\n      let line = \"\";\n      for (let n = 0; n < arrText.length; n++) {\n        const testLine = line + arrText[n];\n        const metrics = context.measureText(testLine);\n        const testWidth = metrics.width;\n        if (!maxWidth) {\n          maxWidth = 300;\n        }\n        if (testWidth > maxWidth && n > 0) {\n          context.fillText(line, x, y);\n          line = arrText[n];\n          y += lineHeight;\n        } else {\n          line = testLine;\n        }\n      }\n      context.fillText(line, x, y);\n      y += lineHeight;\n    }\n  }\n  static drawArrow(ctx, startPoint, endPoint, options = {}) {\n    const {color = DEFAULT_COLOR, thickness = 1, lineCap = \"round\", theta = 30, headLen = 10} = options;\n    const angle = Math.atan2(startPoint.y - endPoint.y, startPoint.x - endPoint.x) * 180 / Math.PI;\n    const angle1 = (angle + theta) * Math.PI / 180;\n    const angle2 = (angle - theta) * Math.PI / 180;\n    const topX = headLen * Math.cos(angle1);\n    const topY = headLen * Math.sin(angle1);\n    const botX = headLen * Math.cos(angle2);\n    const botY = headLen * Math.sin(angle2);\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = thickness;\n    ctx.lineCap = lineCap;\n    ctx.beginPath();\n    ctx.moveTo(endPoint.x + topX, endPoint.y + topY);\n    ctx.lineTo(endPoint.x, endPoint.y);\n    ctx.lineTo(endPoint.x + botX, endPoint.y + botY);\n    ctx.stroke();\n    ctx.restore();\n  }\n}\nDrawUtils.drawImg = (canvas, imgNode, options = {}) => {\n  const ctx = canvas.getContext(\"2d\");\n  const {zoom = DEFAULT_ZOOM, currentPos = DEFAULT_CURRENT_POS, rotate = DEFAULT_ROTATE, imgAttribute} = options;\n  ctx.save();\n  switch (rotate) {\n    case 0:\n      ctx.translate(currentPos.x, currentPos.y);\n      break;\n    case 90:\n      ctx.translate(currentPos.x + imgNode.height * zoom, currentPos.y);\n      ctx.rotate(90 * Math.PI / 180);\n      break;\n    case 180:\n      ctx.translate(currentPos.x + imgNode.width * zoom, currentPos.y + imgNode.height * zoom);\n      ctx.rotate(Math.PI);\n      break;\n    case 270:\n      ctx.translate(currentPos.x, currentPos.y + imgNode.width * zoom);\n      ctx.rotate(270 * Math.PI / 180);\n      break;\n    default:\n      ctx.translate(currentPos.x, currentPos.y);\n      break;\n  }\n  if (imgAttribute) {\n    const {contrast, saturation, brightness} = imgAttribute;\n    ctx.filter = `saturate(${saturation + 100}%) contrast(${contrast + 100}%) brightness(${brightness + 100}%)`;\n  }\n  ctx.drawImage(imgNode, 0, 0, imgNode.width * zoom, imgNode.height * zoom);\n  ctx.restore();\n};\n\nclass StyleUtils {\n  static getStrokeAndFill(toolStyle, valid = true, options = {}) {\n    const {isSelected = false, isHover = false} = options;\n    if (isSelected) {\n      return {\n        stroke: valid ? toolStyle.validSelected.stroke : toolStyle.invalidSelected.stroke,\n        fill: valid ? toolStyle.validSelected.fill : toolStyle.invalidSelected.fill\n      };\n    }\n    if (isHover) {\n      return {\n        stroke: valid ? toolStyle.validHover.stroke : toolStyle.invalidHover.stroke,\n        fill: valid ? toolStyle.validHover.fill : toolStyle.invalidHover.fill\n      };\n    }\n    return {\n      stroke: valid ? toolStyle.valid.stroke : toolStyle.invalid.stroke,\n      fill: valid ? toolStyle.valid.fill : toolStyle.invalid.fill\n    };\n  }\n}\n\nvar EKeyCode;\n(function(EKeyCode2) {\n  EKeyCode2[EKeyCode2[\"A\"] = 65] = \"A\";\n  EKeyCode2[EKeyCode2[\"B\"] = 66] = \"B\";\n  EKeyCode2[EKeyCode2[\"C\"] = 67] = \"C\";\n  EKeyCode2[EKeyCode2[\"D\"] = 68] = \"D\";\n  EKeyCode2[EKeyCode2[\"E\"] = 69] = \"E\";\n  EKeyCode2[EKeyCode2[\"F\"] = 70] = \"F\";\n  EKeyCode2[EKeyCode2[\"G\"] = 71] = \"G\";\n  EKeyCode2[EKeyCode2[\"H\"] = 72] = \"H\";\n  EKeyCode2[EKeyCode2[\"L\"] = 76] = \"L\";\n  EKeyCode2[EKeyCode2[\"R\"] = 82] = \"R\";\n  EKeyCode2[EKeyCode2[\"Z\"] = 90] = \"Z\";\n  EKeyCode2[EKeyCode2[\"W\"] = 87] = \"W\";\n  EKeyCode2[EKeyCode2[\"X\"] = 88] = \"X\";\n  EKeyCode2[EKeyCode2[\"Y\"] = 89] = \"Y\";\n  EKeyCode2[EKeyCode2[\"S\"] = 83] = \"S\";\n  EKeyCode2[EKeyCode2[\"Q\"] = 81] = \"Q\";\n  EKeyCode2[EKeyCode2[\"Delete\"] = 46] = \"Delete\";\n  EKeyCode2[EKeyCode2[\"F11\"] = 122] = \"F11\";\n  EKeyCode2[EKeyCode2[\"Space\"] = 32] = \"Space\";\n  EKeyCode2[EKeyCode2[\"Esc\"] = 27] = \"Esc\";\n  EKeyCode2[EKeyCode2[\"Left\"] = 37] = \"Left\";\n  EKeyCode2[EKeyCode2[\"Up\"] = 38] = \"Up\";\n  EKeyCode2[EKeyCode2[\"Right\"] = 39] = \"Right\";\n  EKeyCode2[EKeyCode2[\"Down\"] = 40] = \"Down\";\n  EKeyCode2[EKeyCode2[\"Enter\"] = 13] = \"Enter\";\n  EKeyCode2[EKeyCode2[\"Ctrl\"] = 17] = \"Ctrl\";\n  EKeyCode2[EKeyCode2[\"Alt\"] = 18] = \"Alt\";\n  EKeyCode2[EKeyCode2[\"Shift\"] = 16] = \"Shift\";\n  EKeyCode2[EKeyCode2[\"Tab\"] = 9] = \"Tab\";\n})(EKeyCode || (EKeyCode = {}));\nvar EKeyCode$1 = EKeyCode;\n\nvar keyCode = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': EKeyCode$1\n});\n\nclass ActionsHistory {\n  constructor(historyChanged) {\n    this.record = [];\n    this.recordIndex = -1;\n    this.minRecordIndex = -1;\n    this.emitHistoryChanged = () => {\n      if (this.historyChanged) {\n        const isEmit = this.constructor.name === \"ActionsHistory\" ? true : this.record.length > 0;\n        if (isEmit) {\n          this.historyChanged(this.undoEnabled, this.redoEnabled);\n        }\n      }\n    };\n    this.historyChanged = historyChanged;\n  }\n  get undoEnabled() {\n    return this.recordIndex > this.minRecordIndex;\n  }\n  get redoEnabled() {\n    return this.recordIndex < this.record.length - 1;\n  }\n  pushHistory(action) {\n    if (this.recordIndex !== this.record.length - 1) {\n      const newRecord = this.record.slice(0, Math.min(this.recordIndex + 1, this.record.length));\n      this.record = newRecord;\n    }\n    this.record.push(_.cloneDeepWith(action));\n    this.recordIndex += 1;\n    this.emitHistoryChanged();\n  }\n  updateHistory(newRecord) {\n    this.record[this.recordIndex] = _.cloneDeep(newRecord);\n  }\n  applyAttribute(id, key, value) {\n    if (id) {\n      this.record.forEach((lines) => {\n        const line = lines.find((i) => i.id === id);\n        if (line) {\n          line[key] = value;\n        }\n      });\n    }\n  }\n  undo() {\n    if (this.undoEnabled) {\n      this.recordIndex -= 1;\n      this.emitHistoryChanged();\n      return _.cloneDeep(this.record[this.recordIndex]) || [];\n    }\n  }\n  redo() {\n    if (this.redoEnabled) {\n      this.recordIndex += 1;\n      this.emitHistoryChanged();\n      return _.cloneDeep(this.record[this.recordIndex]);\n    }\n  }\n  init() {\n    this.record = [[]];\n    this.recordIndex = 0;\n    this.emitHistoryChanged();\n  }\n  empty() {\n    this.record = [];\n    this.recordIndex = -1;\n    this.emitHistoryChanged();\n  }\n  initRecord(data, isExitData = false) {\n    const existData = data.length > 0 || isExitData;\n    this.record = existData ? [_.cloneDeep(data)] : [];\n    this.minRecordIndex = existData ? 0 : -1;\n    this.recordIndex = 0;\n  }\n}\n\nclass DblClickEventListener {\n  constructor(dom, delay) {\n    this.rcTime = 0;\n    this.mouseDownTime = 0;\n    this.onMouseDown = () => {\n      this.mouseDownTime = new Date().getTime();\n    };\n    this.dom = dom;\n    this.isDoubleClick = false;\n    this.delay = delay;\n  }\n  getRcTime() {\n    return this.rcTime;\n  }\n  getCoord(e) {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n  removeEvent() {\n    if (!this.dom) {\n      return;\n    }\n    this.dom.removeEventListener(\"mouseup\", this.mouseUp);\n    this.dom.removeEventListener(\"mousemove\", this.mouseMove);\n    this.dom.removeEventListener(\"dblclick\", this.dblclick);\n    this.dom.removeEventListener(\"mousedown\", this.onMouseDown);\n  }\n  addEvent(singleClickFun, leftDblClick, rightDblClick, isAllowDouble) {\n    if (!this.dom) {\n      return;\n    }\n    this.removeEvent();\n    this.mouseUp = (e) => {\n      const cTime = new Date().getTime();\n      const isDoubleClick = isAllowDouble ? isAllowDouble(e) : true;\n      if (cTime - this.mouseDownTime > this.delay || isDoubleClick !== true) {\n        singleClickFun(e);\n        return;\n      }\n      if (e.button === 2) {\n        if (this.rcTime === 0) {\n          setTimeout(() => {\n            this.rcTime = 0;\n          }, this.delay);\n          this.rcTime = cTime;\n        } else {\n          if (cTime - this.rcTime < this.delay) {\n            rightDblClick(e);\n            clearTimeout(this.setTimeFun);\n            this.cacheFunction = void 0;\n          }\n          this.rcTime = 0;\n          return;\n        }\n      }\n      if (this.setTimeFun) {\n        clearTimeout(this.setTimeFun);\n      }\n      this.clickCoord = this.getCoord(e);\n      this.cacheFunction = () => singleClickFun(e);\n      this.setTimeFun = setTimeout(() => {\n        if (this.isDoubleClick) {\n          this.isDoubleClick = false;\n          return;\n        }\n        this.cacheFunction();\n        this.clickCoord = void 0;\n      }, this.delay);\n    };\n    this.mouseMove = (e) => {\n      const currentCoord = this.getCoord(e);\n      if (this.clickCoord && !AxisUtils.getIsInScope(currentCoord, this.clickCoord, 10)) {\n        if (this.cacheFunction) {\n          this.cacheFunction();\n        }\n        this.clickCoord = void 0;\n        this.cacheFunction = null;\n        clearTimeout(this.setTimeFun);\n      }\n    };\n    this.dblclick = (e) => {\n      this.isDoubleClick = true;\n      this.clickCoord = void 0;\n      leftDblClick(e);\n    };\n    this.dom.addEventListener(\"mouseup\", this.mouseUp);\n    this.dom.addEventListener(\"mousemove\", this.mouseMove);\n    this.dom.addEventListener(\"dblclick\", this.dblclick);\n    this.dom.addEventListener(\"mousedown\", this.onMouseDown);\n  }\n  clearRightDblClick() {\n    this.rcTime = 0;\n  }\n}\n\nclass ImgPosUtils {\n  static getInitImgPos(canvasSize, imgSize, rotate = 0, zoomRatio = 1, isOriginalSize = false) {\n    if (rotate === 90 || rotate === 270) {\n      imgSize = {\n        width: imgSize.height,\n        height: imgSize.width\n      };\n    }\n    const wScale = canvasSize.width * zoomRatio / imgSize.width;\n    const hScale = canvasSize.height * zoomRatio / imgSize.height;\n    let scale = isOriginalSize ? 1 : Math.min(wScale, hScale);\n    const currentPos = {\n      x: (canvasSize.width - imgSize.width * scale) / 2,\n      y: (canvasSize.height - imgSize.height * scale) / 2\n    };\n    const width = imgSize.width * scale;\n    const height = imgSize.height * scale;\n    if (isOriginalSize) {\n      scale = 1;\n    }\n    return {\n      zoom: scale,\n      currentPos,\n      imgInfo: {width, height}\n    };\n  }\n  static getBasicRecPos(imgNode, basicRect, size, shrinkRatio = 0.9, zoomRatio = 1, isOriginalSize = false) {\n    if (basicRect && imgNode) {\n      const {x, y, height, width} = basicRect;\n      let initZoom = size.height / height;\n      if (width / height > size.width / size.height) {\n        initZoom = size.width / width;\n      }\n      const zoom = isOriginalSize ? 1 : initZoom * shrinkRatio * zoomRatio;\n      const viewCenter = {\n        x: size.width / 2,\n        y: size.height / 2\n      };\n      const imgCenter = {\n        x: (x + width / 2) * zoom,\n        y: (y + height / 2) * zoom\n      };\n      const currentPos = {\n        x: viewCenter.x - imgCenter.x,\n        y: viewCenter.y - imgCenter.y\n      };\n      return {\n        currentPos,\n        innerZoom: zoom\n      };\n    }\n    return false;\n  }\n}\n\nclass RenderDomUtils {\n  static renderInvalidPage(canvas, container, lang) {\n    const invalidDOM = document.createElement(\"div\");\n    invalidDOM.setAttribute(\"style\", `\n        position: absolute;\n        left: 0px;\n        top: 0px;\n        width: ${canvas.width}px;\n        height: ${canvas.height}px;\n        background: rgba(255, 87, 34, 1);\n        overflow: hidden;\n        color: white;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 30px;\n        opacity: 0.7;\n        z-index: 30;\n      `);\n    invalidDOM.innerHTML = Locale.getMessagesByLocale(EMessage.InvalidImage, lang);\n    container.appendChild(invalidDOM);\n    return invalidDOM;\n  }\n}\n\nconst ZOOM_LEVEL = [1, 5, 10, 20, 30, 50, 80, 100].concat(Array.from({length: 9}).map((i, index) => (index + 2) * 100));\nclass ZoomUtils {\n}\nZoomUtils.zoomChanged = (zoom, isZoomIn, growthMode = EGrowthMode.Linear) => {\n  switch (growthMode) {\n    case EGrowthMode.Intelligence: {\n      const maxZoom = Math.max(...ZOOM_LEVEL);\n      const minZoom = Math.min(...ZOOM_LEVEL);\n      const zoomIndex = ZOOM_LEVEL.slice(0, ZOOM_LEVEL.length).findIndex((i, index) => zoom >= i && (zoom < ZOOM_LEVEL[index + 1] || i === maxZoom));\n      let newZoom;\n      if (zoomIndex === -1) {\n        if (zoom >= minZoom && zoom <= maxZoom) {\n          newZoom = isZoomIn ? maxZoom : minZoom;\n        } else {\n          newZoom = isZoomIn ? minZoom : zoom;\n        }\n      } else {\n        const newZoomIndex = isZoomIn ? zoomIndex + 1 : zoomIndex - (ZOOM_LEVEL.includes(zoom) ? 1 : 0);\n        newZoom = ZOOM_LEVEL[MathUtils.withinRange(newZoomIndex, [0, ZOOM_LEVEL.length - 1])];\n      }\n      return newZoom;\n    }\n    default: {\n      const ratio = isZoomIn ? 2 : 1 / 2;\n      return zoom * ratio;\n    }\n  }\n};\nZoomUtils.wheelChangePos = (imgNode, coord, operator, oldCurrentPos, options = {}) => {\n  const {zoom = 1, innerZoom = 1, basicZoom = 1, zoomMax = 1e3, rotate = 0} = options;\n  const {x, y} = oldCurrentPos;\n  const ratio = parseFloat((zoom + 1 / 10).toFixed(1)) / 5;\n  if (imgNode && coord) {\n    let {width, height} = imgNode;\n    if ([90, 270].includes(rotate)) {\n      width = imgNode.height;\n      height = imgNode.width;\n    }\n    const imgWidth = width * innerZoom;\n    const imgHeight = height * innerZoom;\n    const offsetLeft = coord.x - x;\n    const offsetTop = coord.y - y;\n    const ratioX = offsetLeft / imgWidth;\n    const ratioY = offsetTop / imgHeight;\n    let currentZoom = zoom + operator * ratio;\n    currentZoom = MathUtils.withinRange(currentZoom, [basicZoom, zoomMax]);\n    const changeX = width * currentZoom * ratioX;\n    const changeY = height * currentZoom * ratioY;\n    const currentX = x + (offsetLeft - changeX);\n    const currentY = y + (offsetTop - changeY);\n    return {\n      zoom: currentZoom,\n      currentPos: {\n        x: currentX,\n        y: currentY\n      },\n      imgInfo: {\n        width: width * currentZoom,\n        height: height * currentZoom\n      },\n      ratio\n    };\n  }\n  return null;\n};\n\nclass EventListener {\n  constructor() {\n    this._events = new Map();\n  }\n  on(eventName, callback) {\n    const existEvents = this._events.get(eventName) || [];\n    if (!existEvents.some((fn) => fn === callback)) {\n      this._events.set(eventName, existEvents.concat(callback));\n    }\n  }\n  singleOn(eventName, callback) {\n    this._events.set(eventName, [callback]);\n  }\n  emit(eventName, ...args) {\n    const listener = this._events.get(eventName);\n    if (listener) {\n      listener.forEach((fn) => {\n        if (fn) {\n          fn(...args);\n        }\n      });\n    }\n  }\n  unbind(eventName, callback) {\n    const existEvents = this._events.get(eventName);\n    if (existEvents) {\n      this._events.set(eventName, existEvents.filter((fn) => fn !== callback));\n    }\n  }\n  unbindAll(eventName) {\n    this._events.delete(eventName);\n  }\n}\n\nconst rectToolConfig = {\n  showConfirm: false,\n  skipWhileNoDependencies: false,\n  drawOutsideTarget: false,\n  copyBackwardResult: false,\n  minWidth: 1,\n  minHeight: 1,\n  isShowOrder: false,\n  filterData: [\"valid\", \"invalid\"],\n  attributeConfigurable: false,\n  attributeList: [],\n  textConfigurable: false,\n  textCheckType: 0,\n  customFormat: \"\"\n};\nconst tagToolConfig = {\n  showConfirm: false,\n  skipWhileNoDependencies: false,\n  inputList: [\n    {\n      key: \"\\u7C7B\\u522B1\",\n      value: \"class1\",\n      isMulti: false,\n      subSelected: [\n        {key: \"\\u9009\\u98791\", value: \"option1\", isDefault: false},\n        {key: \"\\u9009\\u98792\", value: \"option1-2\", isDefault: false}\n      ]\n    },\n    {\n      key: \"\\u7C7B\\u522B2\",\n      value: \"class-AH\",\n      isMulti: true,\n      subSelected: [\n        {key: \"\\u9009\\u98792-1\", value: \"option2-1\", isDefault: false},\n        {key: \"\\u9009\\u98792-2\", value: \"option2-2\", isDefault: false},\n        {key: \"\\u9009\\u98792-3\", value: \"option2-3\", isDefault: false}\n      ]\n    },\n    {\n      key: \"\\u7C7B\\u522B3\",\n      value: \"class-0P\",\n      isMulti: false,\n      subSelected: [\n        {key: \"\\u9009\\u98793-1\", value: \"option3-1\", isMulti: false},\n        {key: \"\\u9009\\u98793-2\", value: \"option3-2\", isDefault: false},\n        {key: \"\\u9009\\u98793-3\", value: \"option3-3\", isDefault: false}\n      ]\n    }\n  ]\n};\nconst lineToolConfig = {\n  lineType: 0,\n  lineColor: 0,\n  edgeAdsorption: false,\n  outOfTarget: true,\n  copyBackwardResult: false,\n  isShowOrder: false,\n  attributeConfigurable: false,\n  attributeList: [\n    {key: \"\\u7C7B\\u522B1\", value: \"\\u7C7B\\u522B1\"},\n    {key: \"\\u7C7B\\u522Bao\", value: \"class-ao\"},\n    {key: \"\\u7C7B\\u522BM1\", value: \"class-M1\"},\n    {key: \"\\u7C7B\\u522BCm\", value: \"class-Cm\"},\n    {key: \"\\u7C7B\\u522Bc3\", value: \"class-c3\"},\n    {key: \"\\u7C7B\\u522Ba0\", value: \"class-a0\"},\n    {key: \"\\u7C7B\\u522Bu7\", value: \"class-u7\"},\n    {key: \"\\u7C7B\\u522BZb\", value: \"class-Zb\"},\n    {key: \"\\u7C7B\\u522Bzi\", value: \"class-zi\"}\n  ],\n  textConfigurable: false,\n  textCheckType: 2,\n  customFormat: \"\",\n  showConfirm: false,\n  lowerLimitPointNum: 2,\n  upperLimitPointNum: \"\",\n  preReferenceStep: 0,\n  skipWhileNoDependencies: false,\n  filterData: [\"valid\", \"invalid\"]\n};\nconst textToolConfig = {\n  showConfirm: false,\n  skipWhileNoDependencies: false,\n  enableTextRecognition: false,\n  recognitionMode: \"general\",\n  configList: [{label: \"\\u6587\\u672C\", key: \"text\", required: false, default: \"\", maxLength: 1e3}],\n  filterData: [\"valid\", \"invalid\"]\n};\nconst polygonConfig = {\n  lineType: 0,\n  lineColor: 0,\n  lowerLimitPointNum: 3,\n  edgeAdsorption: false,\n  drawOutsideTarget: false,\n  copyBackwardResult: false,\n  isShowOrder: false,\n  attributeConfigurable: false,\n  attributeList: [],\n  textConfigurable: true,\n  textCheckType: 0,\n  customFormat: \"\"\n};\nconst getConfig = (tool) => {\n  if (tool === \"lineTool\") {\n    return lineToolConfig;\n  }\n  if (tool === \"rectTool\") {\n    return rectToolConfig;\n  }\n  if (tool === \"tagTool\") {\n    return tagToolConfig;\n  }\n  if (tool === \"textTool\") {\n    return textToolConfig;\n  }\n  if (tool === \"polygonTool\") {\n    return polygonConfig;\n  }\n  return rectToolConfig;\n};\nconst styleDefaultConfig = {\n  toolColor: {\n    1: {\n      valid: {stroke: \"rgba(0,0,255,0.50)\", fill: \"rgba(0,0,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.80)\"},\n      validSelected: {stroke: \"rgba(0,15,255,1.00)\", fill: \"rgba(0,15,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,0.60)\", fill: \"rgba(255,0,0,0.24)\"},\n      validHover: {stroke: \"rgba(0,15,255,0.80)\", fill: \"rgba(0,15,255,0.64)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,0.50)\", fill: \"rgba(255,0,0,0.40)\"}\n    },\n    3: {\n      valid: {stroke: \"rgba(0,255,255,0.50)\", fill: \"rgba(0,255,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.80)\"},\n      validSelected: {stroke: \"rgba(0,212,255,1.00)\", fill: \"rgba(0,212,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,0.60)\", fill: \"rgba(255,0,0,0.24)\"},\n      validHover: {stroke: \"rgba(0,212,255,0.80)\", fill: \"rgba(0,212,255,0.64)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,0.50)\", fill: \"rgba(255,0,0,0.40)\"}\n    },\n    5: {\n      valid: {stroke: \"rgba(0,255,0,0.50)\", fill: \"rgba(0,255,0,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.80)\"},\n      validSelected: {stroke: \"rgba(149,255,1.00)\", fill: \"rgba(149,255,0,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,0.60)\", fill: \"rgba(255,0,0,0.24)\"},\n      validHover: {stroke: \"rgba(149,255,0,0.80)\", fill: \"rgba(149,255,0,0.64)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,0.50)\", fill: \"rgba(255,0,0,0.40)\"}\n    },\n    7: {\n      valid: {stroke: \"rgba(255,255,0,0.50)\", fill: \"rgba(255,255,0,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.80)\"},\n      validSelected: {stroke: \"rgba(255,230,102,1.00)\", fill: \"rgba(255,213,0,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,0.60)\", fill: \"rgba(255,0,0,0.24)\"},\n      validHover: {stroke: \"rgba(255,230,102,0.80)\", fill: \"rgba(255,230,102,0.64)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,0.50)\", fill: \"rgba(255,0,0,0.40)\"}\n    },\n    9: {\n      valid: {stroke: \"rgba(255,0,255,0.50)\", fill: \"rgba(255,0,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.80)\"},\n      validSelected: {stroke: \"rgba(230,102,255,1.00)\", fill: \"rgba(213,0,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,0.60)\", fill: \"rgba(255,0,0,0.24)\"},\n      validHover: {stroke: \"rgba(230,102,255,0.80)\", fill: \"rgba(230,102,255,0.64)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,0.50)\", fill: \"rgba(255,0,0,0.40)\"}\n    }\n  },\n  attributeColor: [\n    {\n      valid: {stroke: \"rgba(204,204,204,1.00)\", fill: \"rgba(204,204,204,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(204,204,204,1.00)\", fill: \"rgba(204,204,204,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(204,204,204,1.00)\", fill: \"rgba(204,204,204,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(153,51,255,1.00)\", fill: \"rgba(153,51,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(153,51,255,1.00)\", fill: \"rgba(153,51,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(153,51,255,1.00)\", fill: \"rgba(153,51,255,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(51,254,51,1.00)\", fill: \"rgba(51,254,51,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(51,254,51,1.00)\", fill: \"rgba(51,254,51,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(51,254,51,1.00)\", fill: \"rgba(51,254,51,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(255,51,255,1.00)\", fill: \"rgba(255,51,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(255,51,255,1.00)\", fill: \"rgba(255,51,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(255,51,255,1.00)\", fill: \"rgba(255,51,255,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(204,255,51,1.00)\", fill: \"rgba(204,255,51,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(204,255,51,1.00)\", fill: \"rgba(204,255,51,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(204,255,51,1.00)\", fill: \"rgba(204,255,51,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(51,153,255,1.00)\", fill: \"rgba(51,153,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(51,153,255,1.00)\", fill: \"rgba(51,153,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(51,153,255,1.00)\", fill: \"rgba(51,153,255,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(255,153,51,1.00)\", fill: \"rgba(255,153,51,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(255,153,51,1.00)\", fill: \"rgba(255,153,51,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(255,153,51,1.00)\", fill: \"rgba(255,153,51,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(51,255,238,1.00)\", fill: \"rgba(51,255,238,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(51,255,238,1.00)\", fill: \"rgba(51,255,238,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(51,255,238,1.00)\", fill: \"rgba(51,255,238,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(255,221,51,1.00)\", fill: \"rgba(255,221,51,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(255,221,51,1.00)\", fill: \"rgba(255,221,51,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(255,221,51,1.00)\", fill: \"rgba(255,221,51,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    }\n  ],\n  lineColor: {\n    1: \"rgba(102, 111, 255, 1 )\",\n    3: \"rgba(102, 230, 255, 1)\",\n    5: \"rgba(191, 255, 102, 1)\",\n    7: \"rgba(255, 230, 102, 1)\",\n    9: \"rgba(230, 102, 255, 1)\"\n  },\n  attributeLineColor: [\n    \"rgba(204, 204, 204, 1)\",\n    \"rgba(153, 51, 255, 1)\",\n    \"rgba(51, 254, 51, 1)\",\n    \"rgba(255, 51, 255, 1)\",\n    \"rgba(204, 255, 51, 1)\",\n    \"rgba(51, 153, 255, 1)\",\n    \"rgba(255, 153, 51, 1)\",\n    \"rgba(51, 255, 238, 1)\",\n    \"rgba(255, 221, 51, 1)\"\n  ],\n  color: 1,\n  width: 2,\n  opacity: 9\n};\n\nvar __defProp$a = Object.defineProperty;\nvar __defProps$9 = Object.defineProperties;\nvar __getOwnPropDescs$9 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$a = Object.getOwnPropertySymbols;\nvar __hasOwnProp$a = Object.prototype.hasOwnProperty;\nvar __propIsEnum$a = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$a = (obj, key, value) => key in obj ? __defProp$a(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$a = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$a.call(b, prop))\n      __defNormalProp$a(a, prop, b[prop]);\n  if (__getOwnPropSymbols$a)\n    for (var prop of __getOwnPropSymbols$a(b)) {\n      if (__propIsEnum$a.call(b, prop))\n        __defNormalProp$a(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$9 = (a, b) => __defProps$9(a, __getOwnPropDescs$9(b));\nvar EStatus$1;\n(function(EStatus2) {\n  EStatus2[EStatus2[\"Create\"] = 0] = \"Create\";\n  EStatus2[EStatus2[\"Active\"] = 1] = \"Active\";\n  EStatus2[EStatus2[\"Edit\"] = 1] = \"Edit\";\n  EStatus2[EStatus2[\"None\"] = 2] = \"None\";\n})(EStatus$1 || (EStatus$1 = {}));\nvar EColor;\n(function(EColor2) {\n  EColor2[\"ActiveArea\"] = \"#B3B8FF\";\n})(EColor || (EColor = {}));\nconst SEGMENT_NUMBER$1 = 16;\nconst POINT_RADIUS$1 = 3;\nconst _LineToolUtils = class {\n  static isInLine(checkPoint, point1, point2, scope = 3) {\n    const {length} = MathUtils.getFootOfPerpendicular(checkPoint, point1, point2);\n    if (length < scope) {\n      return true;\n    }\n    return false;\n  }\n};\nlet LineToolUtils = _LineToolUtils;\nLineToolUtils.setSpecialEdgeStyle = (ctx) => {\n  ctx.lineCap = \"butt\";\n  ctx.setLineDash([10, 10]);\n};\nLineToolUtils.setReferenceCtx = (ctx) => {\n  ctx.lineCap = \"butt\";\n  ctx.setLineDash([6]);\n};\nLineToolUtils.calcOptimalIntersection = (pointList, matchLine, matchPoint, pointRadius, zoom) => {\n  let optimalIntersection;\n  let minDistance = Infinity;\n  let scopeIntersection;\n  const matchLineOnExistLine = pointList.find((p, index) => {\n    if (index === 0) {\n      return;\n    }\n    const pointAOnLine = _LineToolUtils.isInLine(matchLine.pointA, p, pointList[index - 1]);\n    const pointBOnLine = _LineToolUtils.isInLine(matchLine.pointB, p, pointList[index - 1]);\n    return pointAOnLine && pointBOnLine;\n  });\n  if (matchLineOnExistLine) {\n    return {point: matchPoint};\n  }\n  pointList.forEach((point, index) => {\n    if (index === 0) {\n      return;\n    }\n    const line2 = {\n      pointA: pointList[index - 1],\n      pointB: point\n    };\n    const intersection = _LineToolUtils.lineIntersection(matchLine, line2);\n    if (intersection && matchLine) {\n      const {onLine2, onLine1, x, y} = intersection;\n      const distance = _LineToolUtils.calcDistance(matchPoint, intersection);\n      const matchPointInLine = _LineToolUtils.isOnLine(matchLine.pointB.x, matchLine.pointB.y, point.x, point.y, pointList[index - 1].x, pointList[index - 1].y);\n      if (matchPointInLine) {\n        const intersectionDistance = _LineToolUtils.calcDistance(matchPoint, intersection);\n        if (intersectionDistance < pointRadius / zoom) {\n          const cPoint = matchLine.pointB;\n          const {footPoint, length} = MathUtils.getFootOfPerpendicular(cPoint, line2.pointA, line2.pointB, true);\n          if (length !== void 0) {\n            const distPointA = _LineToolUtils.calcDistance(line2.pointA, footPoint);\n            const distPointB = _LineToolUtils.calcDistance(line2.pointB, footPoint);\n            scopeIntersection = {\n              point: footPoint,\n              minDistance: length\n            };\n            if (length === Infinity) {\n              scopeIntersection.point = distPointA > distPointB ? line2.pointB : line2.pointA;\n            }\n          }\n        }\n        return;\n      }\n      if (distance < minDistance && onLine2 && onLine1) {\n        minDistance = distance;\n        optimalIntersection = {\n          x,\n          y\n        };\n      }\n    }\n  });\n  if (optimalIntersection) {\n    return {point: optimalIntersection, minDistance};\n  }\n  if (scopeIntersection) {\n    return scopeIntersection;\n  }\n  return void 0;\n};\nLineToolUtils.lineIntersection = (lineA, lineB) => {\n  let onLine1 = false;\n  let onLine2 = false;\n  const lineADiff = _LineToolUtils.getAxisDiff(lineA);\n  const lineBDiff = _LineToolUtils.getAxisDiff(lineB);\n  const denominator = lineBDiff.y * lineADiff.x - lineBDiff.x * lineADiff.y;\n  if (denominator === 0) {\n    return false;\n  }\n  let a = lineA.pointA.y - lineB.pointA.y;\n  let b = lineA.pointA.x - lineB.pointA.x;\n  const numerator1 = (lineB.pointB.x - lineB.pointA.x) * a - (lineB.pointB.y - lineB.pointA.y) * b;\n  const numerator2 = (lineA.pointB.x - lineA.pointA.x) * a - (lineA.pointB.y - lineA.pointA.y) * b;\n  a = numerator1 / denominator;\n  b = numerator2 / denominator;\n  if (a > 0 && a < 1) {\n    onLine1 = true;\n  }\n  if (b > 0 && b < 1) {\n    onLine2 = true;\n  }\n  const x = lineA.pointA.x + a * (lineA.pointB.x - lineA.pointA.x);\n  const y = lineA.pointA.y + a * (lineA.pointB.y - lineA.pointA.y);\n  return {x, y, onLine1, onLine2};\n};\nLineToolUtils.getAxisDiff = (line) => {\n  return {\n    x: line.pointB.x - line.pointA.x,\n    y: line.pointB.y - line.pointA.y\n  };\n};\nLineToolUtils.calcDistance = (point1, point2) => {\n  return Math.sqrt(Math.pow(Math.abs(point1.x - point2.x), 2) + Math.pow(Math.abs(point1.y - point2.y), 2));\n};\nLineToolUtils.drawCurveLine = (ctx, points, config, applyLineWidth = true, isReference = false, hoverEdgeIndex) => {\n  const pointList = createSmoothCurvePointsFromPointList(points, SEGMENT_NUMBER$1);\n  ctx.save();\n  ctx.lineCap = \"round\";\n  ctx.lineJoin = \"round\";\n  ctx.strokeStyle = config.color;\n  if (applyLineWidth) {\n    ctx.lineWidth = config.lineWidth;\n  }\n  if (isReference) {\n    _LineToolUtils.setReferenceCtx(ctx);\n  }\n  points.forEach((point, index) => {\n    const specialEdge = point == null ? void 0 : point.specialEdge;\n    const curveLinePoints = pointList.splice(0, SEGMENT_NUMBER$1 + 1);\n    ctx.save();\n    ctx.beginPath();\n    if (hoverEdgeIndex === index) {\n      ctx.lineWidth = 4;\n    }\n    curveLinePoints.forEach(({x, y}, pointIndex) => {\n      const fn = pointIndex > 0 ? \"lineTo\" : \"moveTo\";\n      if (specialEdge) {\n        _LineToolUtils.setSpecialEdgeStyle(ctx);\n      }\n      ctx[fn](x, y);\n    });\n    ctx.stroke();\n    ctx.restore();\n  });\n  ctx.restore();\n};\nLineToolUtils.calcTwoPointDistance = (pointA, pointB) => Math.sqrt(Math.pow(pointA.x - pointB.x, 2) + Math.pow(pointA.y - pointB.y, 2));\nLineToolUtils.pointOverTarget = (axis, preAxis, dependToolName, dependData, dependConfig, imageSize, pointRadius, zoom, getRenderAxis, getAbsAxis) => {\n  const absAxis = axis;\n  if (!preAxis) {\n    return axis;\n  }\n  if (dependToolName === EToolName.Polygon) {\n    const polygonPointList = _LineToolUtils.getPolygonPointList(dependData, dependConfig);\n    if (polygonPointList.length === 0) {\n      return absAxis;\n    }\n    const inPolygon = PolygonUtils.isInPolygon(axis, polygonPointList);\n    if (inPolygon) {\n      return absAxis;\n    }\n    const pointList = polygonPointList.concat(polygonPointList[0]).map((i) => getRenderAxis(i));\n    const pointA = getRenderAxis(preAxis);\n    const pointB = getRenderAxis(axis);\n    const line1 = {\n      pointA,\n      pointB\n    };\n    const intersection = _LineToolUtils.calcOptimalIntersection(pointList, line1, pointA, pointRadius, zoom);\n    if (intersection) {\n      const intersectionAbsAxis = getAbsAxis(intersection == null ? void 0 : intersection.point);\n      absAxis.x = intersectionAbsAxis.x;\n      absAxis.y = intersectionAbsAxis.y;\n    } else {\n      return preAxis;\n    }\n    return absAxis;\n  }\n  if (dependToolName === EToolName.Rect) {\n    const {x, y, width, height} = dependData;\n    absAxis.x = MathUtils.withinRange(absAxis.x, [x, x + width]);\n    absAxis.y = MathUtils.withinRange(absAxis.y, [y, y + height]);\n    return absAxis;\n  }\n  absAxis.x = MathUtils.withinRange(absAxis.x, [0, imageSize.width]);\n  absAxis.y = MathUtils.withinRange(absAxis.y, [0, imageSize.height]);\n  return absAxis;\n};\nLineToolUtils.getPolygonPointList = (dependData, dependConfig) => {\n  const {pointList} = dependData;\n  const {lineType} = dependConfig;\n  return lineType === ELineTypes.Line ? pointList : PolygonUtils.createSmoothCurvePoints(pointList.reduce((acc, cur) => {\n    return [...acc, cur.x, cur.y];\n  }, []), 0.5, true, 20);\n};\nLineToolUtils.isOnLine = (x, y, endX, endY, px, py) => {\n  const f = (someX) => {\n    return (endY - y) / (endX - x) * (someX - x) + y;\n  };\n  return Math.abs(f(px) - py) < 1e-6 && px >= x && px <= endX;\n};\nLineToolUtils.inArea = ({top, left, right, bottom}, {x, y}) => y >= top && y <= bottom && x >= left && x <= right;\nLineToolUtils.getVHPoint = (lastPoint, nextPoint, absNextPoint, renderLastPoint) => {\n  const angle = _LineToolUtils.getAngle(lastPoint, absNextPoint);\n  if (Math.abs(angle) < 45) {\n    return __spreadProps$9(__spreadValues$a({}, nextPoint), {y: renderLastPoint.y});\n  }\n  return __spreadProps$9(__spreadValues$a({}, nextPoint), {x: renderLastPoint.x});\n};\nLineToolUtils.getAngle = (startPoint, endPoint) => {\n  const diffX = endPoint.x - startPoint.x;\n  const diffY = endPoint.y - startPoint.y;\n  return 360 * Math.atan(diffY / diffX) / (2 * Math.PI);\n};\n\nvar __defProp$9 = Object.defineProperty;\nvar __defProps$8 = Object.defineProperties;\nvar __getOwnPropDescs$8 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$9 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$9 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$9 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$9 = (obj, key, value) => key in obj ? __defProp$9(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$9 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$9.call(b, prop))\n      __defNormalProp$9(a, prop, b[prop]);\n  if (__getOwnPropSymbols$9)\n    for (var prop of __getOwnPropSymbols$9(b)) {\n      if (__propIsEnum$9.call(b, prop))\n        __defNormalProp$9(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$8 = (a, b) => __defProps$8(a, __getOwnPropDescs$8(b));\nvar __async$1 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst zoomInfo = {\n  min: 0.2,\n  max: 1e3,\n  ratio: 0.4\n};\nclass BasicToolOperation extends EventListener {\n  constructor(props) {\n    super();\n    this.isDrag = false;\n    this.isSpaceKey = false;\n    this.innerZoom = 1;\n    this.basicZoom = 0.01;\n    this.isSpaceClick = false;\n    this.isDragStart = false;\n    this.startTime = 0;\n    this.initImgPos = () => __async$1(this, null, function* () {\n      var _a, _b;\n      if (!this.imgNode) {\n        return;\n      }\n      const zoomRatio = (_a = this._imgAttribute) == null ? void 0 : _a.zoomRatio;\n      const isOriginalSize = (_b = this._imgAttribute) == null ? void 0 : _b.isOriginalSize;\n      const {currentPos, imgInfo, zoom} = ImgPosUtils.getInitImgPos(this.size, {width: this.imgNode.width, height: this.imgNode.height}, this.rotate, zoomRatio, isOriginalSize);\n      this.setCurrentPos(currentPos);\n      this.currentPosStorage = currentPos;\n      this.imgInfo = imgInfo;\n      this.setZoom(zoom);\n      this.innerZoom = zoom;\n      this.render();\n      this.renderBasicCanvas();\n      this.emit(\"dependRender\");\n      this.emit(\"renderZoom\", zoom);\n    });\n    this.getCurrentPos = (coord) => {\n      const {_firstClickCoordinate, currentPosStorage} = this;\n      try {\n        let currentPos;\n        if (_firstClickCoordinate && currentPosStorage) {\n          currentPos = {\n            y: currentPosStorage.y + coord.y - _firstClickCoordinate.y,\n            x: currentPosStorage.x + coord.x - _firstClickCoordinate.x\n          };\n        } else {\n          currentPos = {\n            x: 0,\n            y: 0\n          };\n        }\n        return currentPos;\n      } catch (e) {\n        console.error(e);\n        return {\n          x: 0,\n          y: 0\n        };\n      }\n    };\n    this.wheelChangePos = (coord, operator, newZoom) => {\n      const {currentPos, imgNode} = this;\n      if (!imgNode) {\n        console.error(\"unable to load image\");\n        return;\n      }\n      if (this.zoom === this.basicZoom && operator === -1) {\n        return;\n      }\n      const pos = ZoomUtils.wheelChangePos(imgNode, coord, operator, currentPos, {\n        zoom: newZoom || this.zoom,\n        innerZoom: this.innerZoom,\n        basicZoom: this.basicZoom,\n        zoomMax: zoomInfo.max,\n        rotate: this.rotate\n      });\n      if (!pos) {\n        return;\n      }\n      const {currentPos: newCurrentPos, ratio, zoom, imgInfo} = pos;\n      this.innerZoom = zoom;\n      this.setZoom(zoom);\n      this.setCurrentPos(newCurrentPos);\n      this.currentPosStorage = newCurrentPos;\n      this.imgInfo = imgInfo;\n      zoomInfo.ratio = ratio;\n      this.emit(\"renderZoom\", zoom);\n    };\n    this.zoomChanged = (isZoomIn, growthMode = EGrowthMode.Linear) => {\n      const newZoom = ZoomUtils.zoomChanged(this.zoom, isZoomIn, growthMode);\n      this.wheelChangePos(this.getGetCenterCoordinate(), newZoom > this.zoom ? 1 : -1, newZoom);\n      this.render();\n      this.renderBasicCanvas();\n    };\n    this.drawImg = () => {\n      if (!this.imgNode)\n        return;\n      DrawUtils.drawImg(this.basicCanvas, this.imgNode, {\n        zoom: this.zoom,\n        currentPos: this.currentPos,\n        rotate: this.rotate,\n        imgAttribute: this._imgAttribute\n      });\n    };\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    this.container = props.container;\n    this.showDefaultCursor = props.showDefaultCursor || false;\n    this.destroyCanvas();\n    this.createCanvas(props.size);\n    this.imgNode = props.imgNode;\n    this.isImgError = !props.imgNode;\n    this.basicImgInfo = {\n      width: (_b = (_a = props.imgNode) == null ? void 0 : _a.width) != null ? _b : 0,\n      height: (_d = (_c = props.imgNode) == null ? void 0 : _c.height) != null ? _d : 0,\n      valid: true,\n      rotate: 0\n    };\n    this.forbidOperation = (_e = props.forbidOperation) != null ? _e : false;\n    this.size = props.size;\n    this.currentPos = {\n      x: 0,\n      y: 0\n    };\n    this.zoom = 1;\n    this.coord = {\n      x: -1,\n      y: -1\n    };\n    this.currentPosStorage = {\n      x: 0,\n      y: 0\n    };\n    this.isShowCursor = false;\n    this.style = {\n      strokeColor: COLORS_ARRAY[4],\n      fillColor: COLORS_ARRAY[4],\n      strokeWidth: 2,\n      opacity: 1\n    };\n    this.attributeLockList = [];\n    this.history = new ActionsHistory();\n    this.style = (_f = props.style) != null ? _f : {};\n    this._imgAttribute = (_g = props.imgAttribute) != null ? _g : {};\n    this.isHidden = false;\n    this.dragStatus = EDragStatus.Wait;\n    this.defaultAttribute = (_h = props == null ? void 0 : props.defaultAttribute) != null ? _h : \"\";\n    this.forbidCursorLine = !!props.forbidCursorLine;\n    this.lang = ELang.Zh;\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n    this.onLeftDblClick = this.onLeftDblClick.bind(this);\n    this.onRightDblClick = this.onRightDblClick.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.clearImgDrag = this.clearImgDrag.bind(this);\n    this.dblClickListener = new DblClickEventListener(this.container, 200);\n    this.coordUtils = new CoordinateUtils(this);\n    this.coordUtils.setBasicImgInfo(this.basicImgInfo);\n  }\n  onContextmenu(e) {\n    e.preventDefault();\n  }\n  get ctx() {\n    var _a;\n    return this._ctx || ((_a = this.canvas) == null ? void 0 : _a.getContext(\"2d\"));\n  }\n  get basicCtx() {\n    var _a;\n    return (_a = this.basicCanvas) == null ? void 0 : _a.getContext(\"2d\");\n  }\n  get rotate() {\n    var _a, _b;\n    return (_b = (_a = this.basicImgInfo) == null ? void 0 : _a.rotate) != null ? _b : 0;\n  }\n  get valid() {\n    var _a, _b;\n    return (_b = (_a = this.basicImgInfo) == null ? void 0 : _a.valid) != null ? _b : true;\n  }\n  get baseIcon() {\n    return BASE_ICON[this.style.color];\n  }\n  get defaultCursor() {\n    return this.showDefaultCursor ? \"default\" : \"none\";\n  }\n  get dataList() {\n    return [];\n  }\n  setZoom(zoom) {\n    this.zoom = zoom;\n    this.coordUtils.setZoomAndCurrentPos(this.zoom, this.currentPos);\n  }\n  setCurrentPos(currentPos) {\n    this.currentPos = currentPos;\n    this.coordUtils.setZoomAndCurrentPos(this.zoom, this.currentPos);\n  }\n  updatePosition(params) {\n    const {zoom, currentPos} = params;\n    this.setZoom(zoom);\n    this.setCurrentPos(currentPos);\n    this.currentPosStorage = currentPos;\n    this.innerZoom = zoom;\n    this.renderBasicCanvas();\n    this.render();\n  }\n  setLang(lang) {\n    this.lang = lang;\n  }\n  setShowDefaultCursor(showDefaultCursor) {\n    this.showDefaultCursor = showDefaultCursor;\n    this.container.style.cursor = this.defaultCursor;\n  }\n  get forbidMouseOperation() {\n    return this.forbidOperation || this.valid === false;\n  }\n  init() {\n    this.eventUnbinding();\n    this.initPosition();\n    this.eventBinding();\n    this.render();\n    this.renderBasicCanvas();\n  }\n  destroy() {\n    this.destroyCanvas();\n    this.eventUnbinding();\n  }\n  createCanvas(size) {\n    const basicCanvas = document.createElement(\"canvas\");\n    basicCanvas.setAttribute(\"width\", `${size.width}`);\n    basicCanvas.setAttribute(\"height\", `${size.height}`);\n    basicCanvas.style.position = \"absolute\";\n    basicCanvas.style.left = \"0\";\n    basicCanvas.style.top = \"0\";\n    basicCanvas.style.zIndex = \"0\";\n    this.container.appendChild(basicCanvas);\n    this.basicCanvas = basicCanvas;\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"width\", `${size.width}`);\n    canvas.setAttribute(\"height\", `${size.height}`);\n    canvas.style.position = \"absolute\";\n    canvas.style.left = \"0\";\n    canvas.style.top = \"0\";\n    canvas.style.zIndex = \"10\";\n    this.container.appendChild(canvas);\n    this.canvas = canvas;\n    this.container.style.cursor = this.defaultCursor;\n  }\n  destroyCanvas() {\n    if (this.canvas && this.container.contains(this.canvas)) {\n      this.container.removeChild(this.canvas);\n    }\n    if (this.basicCanvas && this.container.contains(this.basicCanvas)) {\n      this.container.removeChild(this.basicCanvas);\n    }\n    this.clearInvalidPage();\n    this.clearImgDrag();\n  }\n  setStyle(toolStyle) {\n    this.style = toolStyle;\n    this.render();\n  }\n  setImgNode(imgNode, basicImgInfo = {}) {\n    this.imgNode = imgNode;\n    this.setBasicImgInfo(__spreadValues$9({\n      width: imgNode.width,\n      height: imgNode.height,\n      valid: true,\n      rotate: 0\n    }, basicImgInfo));\n    if (this.isImgError === true) {\n      this.isImgError = false;\n      this.emit(\"changeAnnotationShow\");\n    }\n    if (typeof basicImgInfo.valid === \"boolean\") {\n      this.setValid(basicImgInfo.valid);\n    }\n    this.initImgPos();\n    this.render();\n    this.renderBasicCanvas();\n  }\n  setErrorImg() {\n    const originIsImgError = this.isImgError;\n    this.isImgError = true;\n    this.imgNode = void 0;\n    this.setBasicImgInfo({\n      width: 0,\n      height: 0,\n      valid: true,\n      rotate: 0\n    });\n    if (originIsImgError === false) {\n      this.emit(\"changeAnnotationShow\");\n    }\n  }\n  setBasicImgInfo(basicImgInfo) {\n    this.basicImgInfo = basicImgInfo;\n    this.coordUtils.setBasicImgInfo(basicImgInfo);\n  }\n  setForbidOperation(forbidOperation) {\n    this.forbidOperation = forbidOperation;\n    this.render();\n  }\n  setForbidCursorLine(forbidCursorLine) {\n    this.forbidCursorLine = forbidCursorLine;\n    this.render();\n  }\n  setIsHidden(isHidden) {\n    this.isHidden = isHidden;\n    this.emit(\"hiddenChange\");\n  }\n  setIsShowOrder(isShowOrder) {\n    this.config.isShowOrder = isShowOrder;\n    this.render();\n  }\n  getCoordinate(e) {\n    const bounding = this.canvas.getBoundingClientRect();\n    return {\n      x: e.clientX - bounding.left,\n      y: e.clientY - bounding.top\n    };\n  }\n  getCoordinateUnderZoom(e) {\n    const bounding = this.canvas.getBoundingClientRect();\n    return {\n      x: e.clientX - bounding.left - this.currentPos.x,\n      y: e.clientY - bounding.top - this.currentPos.y\n    };\n  }\n  getGetCenterCoordinate() {\n    return {\n      x: this.size.width / 2,\n      y: this.size.height / 2\n    };\n  }\n  initPosition() {\n    if (this.basicResult && this.imgInfo) {\n      const {basicResult, size, imgNode, _imgAttribute, imgInfo, dependToolName} = this;\n      if (basicResult && imgNode && dependToolName) {\n        let newBoundry = basicResult;\n        switch (dependToolName) {\n          case EToolName.Polygon:\n          case EToolName.Line: {\n            if (basicResult.pointList) {\n              const basicZone = MathUtils.calcViewportBoundaries(basicResult.pointList);\n              newBoundry = {\n                x: basicZone.left,\n                y: basicZone.top,\n                width: basicZone.right - basicZone.left,\n                height: basicZone.bottom - basicZone.top\n              };\n            }\n            break;\n          }\n        }\n        const pos = ImgPosUtils.getBasicRecPos(imgNode, newBoundry, size, void 0, _imgAttribute == null ? void 0 : _imgAttribute.zoomRatio, _imgAttribute == null ? void 0 : _imgAttribute.isOriginalSize);\n        if (pos) {\n          this.setCurrentPos(pos.currentPos);\n          this.currentPosStorage = this.currentPos;\n          this.imgInfo = __spreadProps$8(__spreadValues$9({}, imgInfo), {\n            width: imgInfo.width / this.innerZoom * pos.innerZoom,\n            height: imgInfo.height / this.innerZoom * pos.innerZoom\n          });\n          this.innerZoom = pos.innerZoom;\n          this.setZoom(pos.innerZoom);\n          this.render();\n          this.renderBasicCanvas();\n        }\n      }\n    } else {\n      this.initImgPos();\n    }\n  }\n  undo() {\n    this.history.undo();\n  }\n  redo() {\n    this.history.redo();\n  }\n  clearCanvas() {\n    var _a;\n    (_a = this.ctx) == null ? void 0 : _a.clearRect(0, 0, this.size.width, this.size.height);\n  }\n  clearBasicCanvas() {\n    var _a;\n    (_a = this.basicCtx) == null ? void 0 : _a.clearRect(0, 0, this.size.width, this.size.height);\n  }\n  eventBinding() {\n    this.dblClickListener.addEvent(() => {\n    }, this.onLeftDblClick, this.onRightDblClick);\n    this.container.addEventListener(\"mousedown\", this.onMouseDown);\n    this.container.addEventListener(\"mousemove\", this.onMouseMove);\n    this.container.addEventListener(\"mouseup\", this.onMouseUp);\n    this.container.addEventListener(\"mouseleave\", this.onMouseLeave);\n    this.container.addEventListener(\"click\", this.onClick);\n    this.container.addEventListener(\"wheel\", this.onWheel);\n    document.addEventListener(\"keydown\", this.onKeyDown);\n    document.addEventListener(\"keyup\", this.onKeyUp);\n    window.parent.document.addEventListener(\"contextmenu\", this.onContextmenu, false);\n  }\n  eventUnbinding() {\n    this.container.removeEventListener(\"mousedown\", this.onMouseDown);\n    this.container.removeEventListener(\"mousemove\", this.onMouseMove);\n    this.container.removeEventListener(\"mouseup\", this.onMouseUp);\n    this.container.removeEventListener(\"mouseleave\", this.onMouseLeave);\n    this.container.removeEventListener(\"wheel\", this.onWheel);\n    this.container.removeEventListener(\"click\", this.onClick);\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n    document.removeEventListener(\"keyup\", this.onKeyUp);\n    window.parent.document.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n    this.dblClickListener.removeEvent();\n  }\n  clearImgDrag() {\n    this.isDrag = false;\n    this.isDragStart = false;\n    this.isSpaceClick = false;\n    this.startTime = 0;\n    this.container.style.cursor = this.defaultCursor;\n    this.forbidCursorLine = false;\n  }\n  onMouseDown(e) {\n    if (!this.canvas || this.isImgError) {\n      return true;\n    }\n    const coord = this.getCoordinate(e);\n    if (this.isSpaceKey && e.button === 0 || e.button === 2) {\n      e.stopPropagation();\n      this._firstClickCoordinate = coord;\n      this.currentPosStorage = this.currentPos;\n      this.isSpaceClick = true;\n      this.isDragStart = true;\n      this.startTime = new Date().getTime();\n    }\n  }\n  onMouseMove(e) {\n    if (!this.canvas || this.isImgError) {\n      return true;\n    }\n    const coord = this.getCoordinate(e);\n    if (this.isShowCursor) {\n      this.coord = coord;\n      this.render();\n    }\n    try {\n      if (!coord || !isNumber(coord == null ? void 0 : coord.x) || !isNumber(coord == null ? void 0 : coord.y)) {\n        throw new Error(\"coord error\");\n      }\n      this.coord = coord;\n      if ((this.isSpaceClick || this.isDragStart) && this._firstClickCoordinate) {\n        const currentPos = this.getCurrentPos(coord);\n        this.setCurrentPos(currentPos);\n        this.isDrag = true;\n        this.container.style.cursor = \"grabbing\";\n        this.forbidCursorLine = true;\n        this.renderBasicCanvas();\n        this.emit(\"dependRender\");\n      }\n      this.render();\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  onMouseUp(e) {\n    if (!this.canvas || this.isImgError) {\n      return true;\n    }\n    this.container.style.cursor = this.defaultCursor;\n    this.forbidCursorLine = false;\n    this.isDrag = false;\n    this.isDragStart = false;\n    this.isSpaceClick = false;\n    if (this.startTime !== 0 && this._firstClickCoordinate) {\n      const time = new Date().getTime();\n      const currentCoord = this.getCoordinate(e);\n      if (time - this.startTime > 1e3 || this.isSpaceKey === true || LineToolUtils.calcTwoPointDistance(currentCoord, this._firstClickCoordinate) > 10) {\n        e.stopPropagation();\n        this.startTime = 0;\n        this.render();\n        return true;\n      }\n    }\n    this.startTime = 0;\n    this.render();\n  }\n  onMouseLeave() {\n    this.clearImgDrag();\n  }\n  onClick(e) {\n  }\n  onLeftDblClick(e) {\n  }\n  onRightDblClick(e) {\n    this.clearImgDrag();\n  }\n  onKeyDown(e) {\n    if (e.keyCode === EKeyCode$1.Alt) {\n      e.preventDefault();\n    }\n    switch (e.keyCode) {\n      case EKeyCode$1.Space:\n        this.isSpaceKey = true;\n        break;\n      case EKeyCode$1.Z:\n        if (e.ctrlKey) {\n          if (e.shiftKey) {\n            this.redo();\n          } else {\n            this.undo();\n          }\n          return false;\n        }\n        break;\n    }\n    return true;\n  }\n  onKeyUp(e) {\n    switch (e.keyCode) {\n      case EKeyCode$1.Space:\n        this.isSpaceKey = false;\n        break;\n    }\n  }\n  onWheel(e, isRender = true) {\n    if (!this.imgNode || !this.coord) {\n      return;\n    }\n    e.preventDefault();\n    e.stopPropagation();\n    const coord = this.getCoordinate(e);\n    const delta = e.deltaY || e.wheelDelta;\n    let operator = 0;\n    if (delta > 0 && this.zoom > zoomInfo.min) {\n      operator = -1;\n    }\n    if (delta < 0 && this.zoom < zoomInfo.max) {\n      operator = 1;\n    }\n    this.wheelChangePos(coord, operator);\n    this.emit(\"dependRender\");\n    if (isRender) {\n      this.render();\n    }\n    this.renderBasicCanvas();\n  }\n  renderCursorLine(lineColor = ((_a) => (_a = this.style.lineColor[0]) != null ? _a : \"\")()) {\n    if (!this.ctx || this.forbidCursorLine) {\n      return;\n    }\n    const {x, y} = this.coord;\n    DrawUtils.drawLine(this.canvas, {x: 0, y}, {x: 1e4, y}, {color: lineColor});\n    DrawUtils.drawLine(this.canvas, {x, y: 0}, {x, y: 1e4}, {color: lineColor});\n    DrawUtils.drawCircleWithFill(this.canvas, {x, y}, 1, {color: \"white\"});\n  }\n  setSize(size) {\n    this.size = size;\n    if (this.container.contains(this.canvas)) {\n      this.destroyCanvas();\n      this.createCanvas(size);\n      this.eventUnbinding();\n      this.init();\n    }\n  }\n  setImgAttribute(imgAttribute) {\n    const oldImgAttribute = this._imgAttribute;\n    this._imgAttribute = imgAttribute;\n    if ((oldImgAttribute == null ? void 0 : oldImgAttribute.zoomRatio) !== imgAttribute.zoomRatio || oldImgAttribute.isOriginalSize !== imgAttribute.isOriginalSize) {\n      this.initImgPos();\n      return;\n    }\n    this.renderBasicCanvas();\n    this.render();\n  }\n  clearResult(sendMessage) {\n  }\n  setValid(valid) {\n    this.basicImgInfo.valid = valid;\n    if (valid === false) {\n      this.renderInvalidPage();\n      this.clearResult(false);\n    } else {\n      this.clearInvalidPage();\n    }\n  }\n  setRotate(rotate) {\n    this.basicImgInfo.rotate = rotate;\n  }\n  setBasicResult(basicResult) {\n    this.basicResult = basicResult;\n    this.coordUtils.setBasicResult(basicResult);\n    this.initPosition();\n    this.emit(\"dependRender\");\n  }\n  setDependName(dependToolName, dependToolConfig) {\n    this.dependToolName = dependToolName;\n    this.coordUtils.setDependInfo(dependToolName, dependToolConfig);\n  }\n  setAttributeLockList(attributeLockList) {\n    this.attributeLockList = attributeLockList;\n    this.render();\n  }\n  setConfig(config) {\n    this.config = CommonToolUtils.jsonParser(config);\n  }\n  updateRotate() {\n    if (this.dependToolName) {\n      this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.NoRotateInDependence, this.lang));\n      return false;\n    }\n    if (this.dataList.length > 0) {\n      this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.NoRotateNotice, this.lang));\n      return false;\n    }\n    const rotate = MathUtils.getRotate(this.basicImgInfo.rotate);\n    this.basicImgInfo.rotate = rotate;\n    this.initImgPos();\n    this.emit(\"updateResult\");\n  }\n  getColor(attribute = \"\", config = this.config) {\n    var _a;\n    if ((config == null ? void 0 : config.attributeConfigurable) === true && this.style.attributeColor) {\n      const attributeIndex = AttributeUtils.getAttributeIndex(attribute, (_a = config.attributeList) != null ? _a : []) + 1;\n      return this.style.attributeColor[attributeIndex];\n    }\n    const {color, toolColor} = this.style;\n    if (toolColor) {\n      return toolColor[color];\n    }\n    return styleDefaultConfig.toolColor[\"1\"];\n  }\n  getLineColor(attribute = \"\") {\n    var _a, _b, _c;\n    if (((_a = this.config) == null ? void 0 : _a.attributeConfigurable) === true) {\n      const attributeIndex = AttributeUtils.getAttributeIndex(attribute, (_c = (_b = this.config) == null ? void 0 : _b.attributeList) != null ? _c : []) + 1;\n      return this.style.attributeLineColor ? this.style.attributeLineColor[attributeIndex] : \"\";\n    }\n    const {color, lineColor} = this.style;\n    if (color && lineColor) {\n      return lineColor[color];\n    }\n    return \"\";\n  }\n  clearInvalidPage() {\n    if (this._invalidDOM && this.container && this.container.contains(this._invalidDOM)) {\n      this.container.removeChild(this._invalidDOM);\n      this._invalidDOM = void 0;\n    }\n  }\n  renderInvalidPage() {\n    if (!this.container || this._invalidDOM) {\n      return;\n    }\n    this._invalidDOM = RenderDomUtils.renderInvalidPage(this.canvas, this.container, this.lang);\n  }\n  renderBasicCanvas() {\n    if (!this.basicCanvas) {\n      return;\n    }\n    this.clearBasicCanvas();\n    this.drawImg();\n    const thickness = 3;\n    if (this.basicResult && this.dependToolName) {\n      switch (this.dependToolName) {\n        case EToolName.Rect: {\n          DrawUtils.drawRect(this.basicCanvas, AxisUtils.changeRectByZoom(this.basicResult, this.zoom, this.currentPos), {\n            color: \"rgba(204,204,204,1.00)\",\n            thickness\n          });\n          break;\n        }\n        case EToolName.Polygon: {\n          DrawUtils.drawPolygonWithFillAndLine(this.basicCanvas, AxisUtils.changePointListByZoom(this.basicResult.pointList, this.zoom, this.currentPos), {\n            fillColor: \"transparent\",\n            strokeColor: \"rgba(204,204,204,1.00)\",\n            isClose: true,\n            thickness\n          });\n          break;\n        }\n        case EToolName.Line: {\n          DrawUtils.drawLineWithPointList(this.basicCanvas, AxisUtils.changePointListByZoom(this.basicResult.pointList, this.zoom, this.currentPos), {\n            color: \"rgba(204,204,204,1.00)\",\n            thickness\n          });\n          break;\n        }\n      }\n    }\n  }\n  render() {\n    if (!this.canvas || !this.ctx || !this.imgNode) {\n      return;\n    }\n    this.clearCanvas();\n  }\n  changeStyle(newAttribute = this.defaultAttribute) {\n    this.emit(\"changeStyle\", {attribute: newAttribute});\n  }\n}\n\nvar __defProp$8 = Object.defineProperty;\nvar __getOwnPropSymbols$8 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$8 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$8 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$8 = (obj, key, value) => key in obj ? __defProp$8(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$8 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$8.call(b, prop))\n      __defNormalProp$8(a, prop, b[prop]);\n  if (__getOwnPropSymbols$8)\n    for (var prop of __getOwnPropSymbols$8(b)) {\n      if (__propIsEnum$8.call(b, prop))\n        __defNormalProp$8(a, prop, b[prop]);\n    }\n  return a;\n};\nconst TEXT_ATTRIBUTE_OFFSET$1 = {\n  x: 8,\n  y: 26\n};\nconst newScope$1 = 2;\nclass CheckOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.getHoverRectID = (e) => {\n      var _a, _b;\n      const coordinate = this.getCoordinateUnderZoom(e);\n      const currentShowList = (_b = (_a = this.resultList.find((v) => v.toolName === EToolName.Rect)) == null ? void 0 : _a.result) != null ? _b : [];\n      if (currentShowList.length > 0) {\n        const hoverList = currentShowList.filter((rect) => RectUtils.isInRect(coordinate, rect, newScope$1, this.zoom));\n        if (hoverList.length === 0) {\n          return \"\";\n        }\n        if (hoverList.length === 1) {\n          return hoverList[0].id;\n        }\n        if (hoverList.length > 1) {\n          const rectSizeList = hoverList.map((rect) => ({size: rect.width * rect.height, id: rect.id})).sort((a, b) => a.size - b.size);\n          return rectSizeList[0].id;\n        }\n      }\n      return \"\";\n    };\n    this.resultList = [];\n    this.hoverID = [];\n    this.fillID = [];\n    this.render = this.render.bind(this);\n    this.drawPolygon = this.drawPolygon.bind(this);\n    this.drawRect = this.drawRect.bind(this);\n    this.drawTag = this.drawTag.bind(this);\n    this.setShowDefaultCursor(true);\n    this.forbidOperation = true;\n  }\n  onMouseDown(e) {\n    var _a, _b;\n    if (super.onMouseDown(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return true;\n    }\n    const newMouseSelectedID = this.mouseHoverID;\n    const currentShowList = (_b = (_a = this.resultList.find((v) => v.toolName === EToolName.Rect)) == null ? void 0 : _a.result) != null ? _b : [];\n    if (e.button === 0) {\n      let selectedID = [newMouseSelectedID];\n      let isShow = true;\n      if (newMouseSelectedID && currentShowList.find((rect) => rect.id === newMouseSelectedID && (rect == null ? void 0 : rect.isSelected))) {\n        isShow = false;\n      }\n      if (!newMouseSelectedID) {\n        selectedID = currentShowList.map((rect) => rect.id);\n        isShow = false;\n      }\n      this.emit(\"setSelectedID\", selectedID, isShow);\n      this.render();\n    }\n  }\n  updateRotate() {\n  }\n  onMouseMove(e) {\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    const oldMouseHoverID = this.mouseHoverID;\n    const newMouseHoverID = this.getHoverRectID(e);\n    if (oldMouseHoverID !== newMouseHoverID) {\n      this.mouseHoverID = newMouseHoverID;\n      let hoverID = [newMouseHoverID];\n      if (!newMouseHoverID) {\n        hoverID = [];\n      }\n      this.emit(\"setHoverID\", hoverID);\n      this.render();\n    }\n  }\n  setResult(result) {\n    this.resultList = cloneDeep(result);\n    this.render();\n  }\n  drawPolygon(polygonList, config) {\n    polygonList == null ? void 0 : polygonList.forEach((polygon) => {\n      var _a, _b, _c, _d, _e;\n      const toolColor = this.getColor(polygon.attribute, config);\n      const toolData = StyleUtils.getStrokeAndFill(toolColor, polygon.valid);\n      let thickness = (_b = (_a = this.style) == null ? void 0 : _a.width) != null ? _b : 2;\n      if (this.hoverID.includes(polygon.id)) {\n        thickness = 4;\n        DrawUtils.drawPolygonWithFillAndLine(this.canvas, AxisUtils.changePointListByZoom(polygon.pointList, this.zoom, this.currentPos), {\n          fillColor: toolData.fill,\n          strokeColor: toolData.stroke,\n          pointColor: \"white\",\n          thickness,\n          lineCap: \"round\",\n          isClose: true,\n          lineType: config == null ? void 0 : config.lineType\n        });\n      } else {\n        DrawUtils.drawPolygon(this.canvas, AxisUtils.changePointListByZoom(polygon.pointList, this.zoom, this.currentPos), {\n          color: toolData.fill,\n          lineType: (_c = this.config) == null ? void 0 : _c.lineType,\n          thickness,\n          isClose: true\n        });\n      }\n      DrawUtils.drawText(this.canvas, AxisUtils.changePointByZoom(polygon.pointList[0], this.zoom, this.currentPos), (_e = AttributeUtils.getAttributeShowText(polygon.attribute, (_d = config == null ? void 0 : config.attributeList) != null ? _d : [])) != null ? _e : \"\", __spreadValues$8({\n        color: toolData.stroke\n      }, DEFAULT_TEXT_OFFSET));\n      const transformPointList = AxisUtils.changePointListByZoom(polygon.pointList || [], this.zoom, this.currentPos);\n      const endPoint = transformPointList[transformPointList.length - 1];\n      DrawUtils.drawText(this.canvas, {x: endPoint.x + TEXT_ATTRIBUTE_OFFSET$1.x, y: endPoint.y + TEXT_ATTRIBUTE_OFFSET$1.y}, polygon == null ? void 0 : polygon.textAttribute, __spreadValues$8({\n        color: toolData.stroke\n      }, DEFAULT_TEXT_OFFSET));\n    });\n  }\n  drawRect(rectList, config) {\n    rectList == null ? void 0 : rectList.forEach((rect) => {\n      let thickness = 1;\n      if (this.hoverID.includes(rect.id)) {\n        thickness = 3;\n      }\n      const toolColor = this.getColor(rect.attribute, config);\n      const renderRect = AxisUtils.changeRectByZoom(rect, this.zoom, this.currentPos);\n      DrawUtils.drawRect(this.canvas, renderRect, {\n        color: (rect == null ? void 0 : rect.valid) ? toolColor.valid.stroke : toolColor.invalid.stroke,\n        thickness\n      });\n      if (this.fillID.includes(rect.id)) {\n        DrawUtils.drawRectWithFill(this.canvas, renderRect, {\n          color: (rect == null ? void 0 : rect.valid) ? toolColor.valid.fill : toolColor.invalid.fill\n        });\n      }\n    });\n  }\n  drawTag(tagList, config) {\n    const tagInfoList = tagList.reduce((acc, cur) => {\n      return [\n        ...acc,\n        ...(config == null ? void 0 : config.inputList) ? TagUtil.getTagNameList(cur.result, config.inputList) : TagUtil.getTagnameListWithoutConfig(cur.result)\n      ];\n    }, []);\n    DrawUtils.drawTag(this.canvas, tagInfoList);\n  }\n  setHoverID(hoverID) {\n    this.hoverID = hoverID;\n    this.render();\n  }\n  setFillID(fillID) {\n    this.fillID = fillID;\n    this.render();\n  }\n  render() {\n    var _a;\n    super.render();\n    (_a = this.resultList) == null ? void 0 : _a.forEach((item) => {\n      switch (item == null ? void 0 : item.toolName) {\n        case EToolName.Rect:\n          this.drawRect(item.result, CommonToolUtils.jsonParser(item.config));\n          break;\n        case EToolName.Polygon:\n          this.drawPolygon(item.result, CommonToolUtils.jsonParser(item.config));\n          break;\n        case EToolName.Tag:\n          this.drawTag(item.result, CommonToolUtils.jsonParser(item.config));\n          break;\n      }\n    });\n  }\n  exportData() {\n    return [[], {}];\n  }\n}\n\nclass CanvasUtils {\n  static getMousePositionOnCanvasFromEvent(event, canvas) {\n    if (canvas && event) {\n      const canvasRect = canvas.getBoundingClientRect();\n      return {\n        x: event.clientX - canvasRect.left,\n        y: event.clientY - canvasRect.top\n      };\n    }\n    return null;\n  }\n  static getClientRect(canvas) {\n    if (canvas) {\n      const canvasRect = canvas.getBoundingClientRect();\n      return {\n        x: canvasRect.left,\n        y: canvasRect.top,\n        width: canvasRect.width,\n        height: canvasRect.height\n      };\n    }\n    return null;\n  }\n  static getSize(canvas) {\n    if (canvas) {\n      const canvasRect = canvas.getBoundingClientRect();\n      return {\n        width: canvasRect.width,\n        height: canvasRect.height\n      };\n    }\n    return null;\n  }\n  static inViewPort(coord, viewPort) {\n    if (!coord) {\n      return false;\n    }\n    return MathUtils.isInRange(coord.x, [viewPort.left, viewPort.right]) && MathUtils.isInRange(coord.y, [viewPort.top, viewPort.bottom]);\n  }\n}\nCanvasUtils.getViewPort = (canvas, originOffset, zoom) => {\n  const {width: canvasWidth, height: canvasHeight} = canvas;\n  const {x, y} = originOffset;\n  const top = (0 - y) / zoom;\n  const left = (0 - x) / zoom;\n  const bottom = top + canvasHeight / zoom;\n  const right = left + canvasWidth / zoom;\n  return {top, bottom, left, right};\n};\n\nconst defaultWidth = 30;\nconst DEFAULT_TEXT_WIDTH = 164;\nclass TextAttributeClass {\n  constructor(props) {\n    this.textKeyDown = (e) => {\n      e.stopPropagation();\n      switch (e.keyCode) {\n        case EKeyCode$1.Enter:\n          this.submitTextarea();\n          this.appendToContainer();\n          break;\n      }\n    };\n    const {container, icon, color, getCurrentSelectedData, updateSelectedTextAttribute} = props;\n    const width = props.width || DEFAULT_TEXT_WIDTH;\n    this.container = container;\n    this.getCurrentSelectedData = getCurrentSelectedData;\n    this.updateSelectedTextAttribute = updateSelectedTextAttribute;\n    this._textAttributeDOM = this.initTextAttributeDOM();\n    this._iconDOM = this.initIconDOM(icon);\n    this._textDOM = this.initTextDOM(width, TEXT_ATTRIBUTE_LINE_HEIGHT);\n    this._textareaDOM = this.initTextareaDOM(width, color);\n    this.appendToContainer();\n  }\n  get isExit() {\n    if (!this._textAttributeDOM) {\n      return false;\n    }\n    return this.container.contains(this._textAttributeDOM);\n  }\n  get isExitTextareaDOM() {\n    if (!this._textareaDOM) {\n      return false;\n    }\n    return this.container.contains(this._textareaDOM);\n  }\n  updateIcon(icon) {\n    if (this._iconDOM) {\n      this._iconDOM.innerHTML = icon;\n    }\n  }\n  appendToContainer() {\n    if (!this._textAttributeDOM || !this._textDOM || !this._iconDOM) {\n      return;\n    }\n    this.container.appendChild(this._textAttributeDOM);\n    this._textAttributeDOM.appendChild(this._textDOM);\n    this._textAttributeDOM.appendChild(this._iconDOM);\n  }\n  initTextAttributeDOM() {\n    const _textAttributeDOM = document.createElement(\"div\");\n    _textAttributeDOM.setAttribute(\"id\", \"textArea\");\n    return _textAttributeDOM;\n  }\n  initTextDOM(width, lineHeight) {\n    const _textDOM = document.createElement(\"span\");\n    _textDOM.setAttribute(\"style\", `\n        width: ${Math.max(width, defaultWidth)}px;\n        line-height: ${lineHeight}px;\n        word-break: break-all;\n        white-space: pre-line;\n        font-style: italic;\n      `);\n    return _textDOM;\n  }\n  initIconDOM(icon) {\n    const _iconDOM = document.createElement(\"div\");\n    _iconDOM.setAttribute(\"id\", \"annotation_text\");\n    _iconDOM.innerHTML = icon;\n    _iconDOM.addEventListener(\"mouseup\", (e) => {\n      e.stopPropagation();\n      this.renderTextarea();\n    });\n    _iconDOM.addEventListener(\"mousedown\", (e) => {\n      e.stopPropagation();\n    });\n    _iconDOM.addEventListener(\"contextmenu\", (e) => {\n      e.stopPropagation();\n    });\n    _iconDOM.setAttribute(\"style\", `\n        position: absolute;\n        left: -20px;\n        top: 4px;\n        cursor: pointer;\n        z-index: 10\n      `);\n    return _iconDOM;\n  }\n  initTextareaDOM(width, color) {\n    const _textareaDOM = document.createElement(\"textarea\");\n    _textareaDOM.addEventListener(\"click\", (e) => {\n      e.stopPropagation();\n    });\n    _textareaDOM.addEventListener(\"mouseup\", (e) => {\n      e.stopPropagation();\n    });\n    _textareaDOM.setAttribute(\"style\", `\n      background-color: transparent;\n      border-radius: 5px;\n      border-color: ${color};\n      outline: none;\n      resize: none;\n      width: ${Math.max(width, 30)}px;\n      `);\n    _textareaDOM.setAttribute(\"maxLength\", `${TEXT_ATTRIBUTE_MAX_LENGTH}`);\n    return _textareaDOM;\n  }\n  removeTextDOM() {\n    if (!this._textAttributeDOM) {\n      return;\n    }\n    if (this._textDOM) {\n      this._textAttributeDOM.removeChild(this._textDOM);\n    }\n  }\n  removeIconDOM() {\n    if (!this._textAttributeDOM) {\n      return;\n    }\n    if (this._iconDOM) {\n      this._textAttributeDOM.removeChild(this._iconDOM);\n    }\n  }\n  removeTextareaDOM() {\n    var _a, _b;\n    if (this._textareaDOM && this._textAttributeDOM && ((_a = this._textAttributeDOM) == null ? void 0 : _a.contains(this._textareaDOM))) {\n      (_b = this._textAttributeDOM) == null ? void 0 : _b.removeChild(this._textareaDOM);\n    }\n  }\n  submitTextarea() {\n    var _a;\n    if (this._textareaDOM) {\n      this.updateSelectedTextAttribute((_a = this._textareaDOM) == null ? void 0 : _a.value);\n      this.removeTextareaDOM();\n      this.clearTextAttribute();\n    }\n  }\n  clearTextAttribute() {\n    if (this._textAttributeDOM && this.container.contains(this._textAttributeDOM)) {\n      this.container.removeChild(this._textAttributeDOM);\n    }\n  }\n  renderTextarea() {\n    if (!this._textAttributeDOM || !this._textareaDOM) {\n      return;\n    }\n    const data = this.getCurrentSelectedData();\n    if (!data) {\n      return;\n    }\n    const {width = DEFAULT_TEXT_WIDTH, textAttribute, color} = data;\n    this._textareaDOM.value = `${textAttribute}`;\n    this._textareaDOM.setAttribute(\"style\", `\n      background-color: rgba(0,0,0,0.4);\n      border-radius: 5px;\n      border-color: ${color};\n      outline: none;\n      resize: none;\n      font-style: italic;\n      font-weight: 900;\n      text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.6);\n      width: ${Math.max(width, defaultWidth)}px;\n      `);\n    this._textareaDOM.setAttribute(\"maxLength\", `${TEXT_ATTRIBUTE_MAX_LENGTH}`);\n    this._textAttributeDOM.appendChild(this._textareaDOM);\n    this.removeIconDOM();\n    this.removeTextDOM();\n    this._textareaDOM.focus();\n    this._textareaDOM.addEventListener(\"keydown\", this.textKeyDown);\n  }\n  update(textAttribute, position) {\n    var _a;\n    const {left, top, color, width = DEFAULT_TEXT_WIDTH} = position;\n    const newWidth = Math.max(width, defaultWidth);\n    (_a = this._textAttributeDOM) == null ? void 0 : _a.setAttribute(\"style\", `\n        position: absolute; \n        width: ${newWidth}px;\n        font-size: 14px; \n        left:${left}px; \n        top: ${top}px; \n        color: ${color};\n      `);\n    if (this._textDOM) {\n      this._textDOM.innerHTML = `${textAttribute}`;\n    }\n    if (this._textareaDOM) {\n      this._textareaDOM.style.width = `${newWidth}px`;\n      this._textareaDOM.style.borderColor = `${color}`;\n    }\n  }\n  changeSelected() {\n    if (this.isExitTextareaDOM) {\n      this.submitTextarea();\n    }\n  }\n}\n\nvar __defProp$7 = Object.defineProperty;\nvar __defProps$7 = Object.defineProperties;\nvar __getOwnPropDescs$7 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$7 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$7 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$7 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$7 = (obj, key, value) => key in obj ? __defProp$7(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$7 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$7.call(b, prop))\n      __defNormalProp$7(a, prop, b[prop]);\n  if (__getOwnPropSymbols$7)\n    for (var prop of __getOwnPropSymbols$7(b)) {\n      if (__propIsEnum$7.call(b, prop))\n        __defNormalProp$7(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$7 = (a, b) => __defProps$7(a, __getOwnPropDescs$7(b));\nconst TEXT_MAX_WIDTH = 164;\nconst TEXT_ATTRIBUTE_OFFSET = {\n  x: 8,\n  y: 26\n};\nclass PolygonOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.isAllowDouble = (e) => {\n      const {selectedID} = this;\n      const currentSelectedID = this.getHoverID(e);\n      if (selectedID && selectedID === currentSelectedID) {\n        return true;\n      }\n      return false;\n    };\n    this.textChange = (v) => {\n      if (this.config.textConfigurable === false || !this.selectedID) {\n        return;\n      }\n      this.setPolygonList(AttributeUtils.textChange(v, this.selectedID, this.polygonList));\n      this.emit(\"selectedChange\");\n      this.render();\n    };\n    this.config = CommonToolUtils.jsonParser(props.config);\n    this.drawingPointList = [];\n    this.polygonList = [];\n    this.hoverPointIndex = -1;\n    this.hoverEdgeIndex = -1;\n    this.drawingHistory = new ActionsHistory();\n    this.isCtrl = false;\n    this.isAlt = false;\n    this.getCurrentSelectedData = this.getCurrentSelectedData.bind(this);\n    this.updateSelectedTextAttribute = this.updateSelectedTextAttribute.bind(this);\n  }\n  eventBinding() {\n    super.eventBinding();\n    this.container.removeEventListener(\"mouseup\", this.onMouseUp);\n    this.container.addEventListener(\"mouseup\", this.dragMouseUp);\n    this.dblClickListener.addEvent(this.onMouseUp, this.onLeftDblClick, this.onRightDblClick, this.isAllowDouble);\n  }\n  eventUnbinding() {\n    super.eventUnbinding();\n    this.container.removeEventListener(\"mouseup\", this.dragMouseUp);\n  }\n  destroy() {\n    super.destroy();\n    if (this._textAttributInstance) {\n      this._textAttributInstance.clearTextAttribute();\n    }\n  }\n  get selectedPolygon() {\n    return PolygonUtils.getPolygonByID(this.polygonList, this.selectedID);\n  }\n  get polygonListUnderZoom() {\n    return this.polygonList.map((polygon) => __spreadProps$7(__spreadValues$7({}, polygon), {\n      pointList: AxisUtils.changePointListByZoom(polygon.pointList, this.zoom)\n    }));\n  }\n  get selectedText() {\n    var _a;\n    return (_a = this.selectedPolygon) == null ? void 0 : _a.textAttribute;\n  }\n  get dataList() {\n    return this.polygonList;\n  }\n  get currentShowList() {\n    let polygon = [];\n    const [showingPolygon, selectdPolygon] = CommonToolUtils.getRenderResultList(this.polygonList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedID);\n    polygon = showingPolygon;\n    if (this.isHidden) {\n      polygon = [];\n    }\n    if (selectdPolygon) {\n      polygon.push(selectdPolygon);\n    }\n    return polygon;\n  }\n  get currentPageResult() {\n    const [showingPolygon] = CommonToolUtils.getRenderResultList(this.polygonList, CommonToolUtils.getSourceID(this.basicResult), []);\n    return showingPolygon;\n  }\n  setResult(polygonList) {\n    this.clearActiveStatus();\n    this.setPolygonList(polygonList);\n    this.render();\n  }\n  setPolygonDataByID(newPolygonData, id) {\n    return this.polygonList.map((polygon) => {\n      if (polygon.id === id) {\n        return __spreadValues$7(__spreadValues$7({}, polygon), newPolygonData);\n      }\n      return polygon;\n    });\n  }\n  addPointInDrawing(e) {\n    if (!this.imgInfo) {\n      return;\n    }\n    const {upperLimitPointNum, edgeAdsorption} = this.config;\n    if (upperLimitPointNum && this.drawingPointList.length >= upperLimitPointNum) {\n      this.emit(\"messageInfo\", `${Locale.getMessagesByLocale(EMessage.UpperLimitErrorNotice, this.lang)}${upperLimitPointNum}`);\n      return;\n    }\n    this.setSelectedID(\"\");\n    const coordinateZoom = this.getCoordinateUnderZoom(e);\n    const coordinate = AxisUtils.changeDrawOutsideTarget(coordinateZoom, {x: 0, y: 0}, this.imgInfo, this.config.drawOutsideTarget, this.basicResult, this.zoom);\n    const calculateHoverPointIndex = AxisUtils.returnClosePointIndex(coordinate, AxisUtils.changePointListByZoom(this.drawingPointList, this.zoom));\n    if (calculateHoverPointIndex === 0) {\n      this.addDrawingPointToPolygonList();\n      return;\n    }\n    const {dropFoot} = PolygonUtils.getClosestPoint(coordinate, this.polygonListUnderZoom, this.config.lineType, edgeAdsorptionScope);\n    const coordinateWithOrigin = AxisUtils.changePointByZoom(dropFoot && e.altKey === false && edgeAdsorption ? dropFoot : coordinate, 1 / this.zoom);\n    this.drawingPointList.push(coordinateWithOrigin);\n    if (this.drawingPointList.length === 1) {\n      this.drawingHistory.initRecord(this.drawingPointList);\n    } else {\n      this.drawingHistory.pushHistory(this.drawingPointList);\n    }\n  }\n  clearResult() {\n    this.setPolygonList([]);\n    this.setSelectedID(void 0);\n    this.render();\n  }\n  clearPolygonDrag() {\n    this.drawingPointList = [];\n    this.dragInfo = void 0;\n    this.dragInfo = void 0;\n    this.dragStatus = EDragStatus.Wait;\n    this.hoverEdgeIndex = -1;\n    this.hoverPointIndex = -1;\n    this.hoverID = \"\";\n  }\n  clearActiveStatus() {\n    this.clearPolygonDrag();\n    this.setSelectedID(void 0);\n  }\n  setPolygonList(polygonList) {\n    const oldLen = this.polygonList.length;\n    this.polygonList = polygonList;\n    if (oldLen !== polygonList.length) {\n      this.emit(\"updatePageNumber\");\n    }\n  }\n  setSelectedID(newID) {\n    var _a, _b;\n    const oldID = this.selectedID;\n    if (newID !== oldID && oldID) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.changeSelected();\n    }\n    if (!newID) {\n      (_b = this._textAttributInstance) == null ? void 0 : _b.clearTextAttribute();\n    }\n    this.selectedID = newID;\n    this.render();\n    this.emit(\"selectedChange\");\n  }\n  setDefaultAttribute(defaultAttribute = \"\") {\n    const oldDefault = this.defaultAttribute;\n    this.defaultAttribute = defaultAttribute;\n    if (oldDefault !== defaultAttribute) {\n      this.changeStyle(defaultAttribute);\n      this.emit(\"changeAttributeSidebar\");\n      const {selectedID} = this;\n      if (selectedID) {\n        if (this.selectedPolygon) {\n          this.selectedPolygon.attribute = defaultAttribute;\n        }\n        this.history.pushHistory(this.polygonList);\n        this.render();\n      }\n      if (this._textAttributInstance) {\n        if (this.attributeLockList.length > 0 && !this.attributeLockList.includes(defaultAttribute)) {\n          this._textAttributInstance.clearTextAttribute();\n          return;\n        }\n        this._textAttributInstance.updateIcon(this.getTextIconSvg(defaultAttribute));\n      }\n    }\n  }\n  setStyle(toolStyle) {\n    var _a;\n    super.setStyle(toolStyle);\n    if (this._textAttributInstance && this.config.attributeConfigurable === false) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.updateIcon(this.getTextIconSvg());\n    }\n  }\n  setPolygonValidAndRender(id) {\n    if (!id) {\n      return;\n    }\n    const newPolygonList = this.polygonList.map((polygon) => {\n      if (polygon.id === id) {\n        return __spreadProps$7(__spreadValues$7({}, polygon), {\n          valid: !polygon.valid\n        });\n      }\n      return polygon;\n    });\n    this.setPolygonList(newPolygonList);\n    this.history.pushHistory(this.polygonList);\n    this.render();\n    this.emit(\"updateResult\");\n  }\n  addDrawingPointToPolygonList() {\n    let {lowerLimitPointNum = 3} = this.config;\n    if (lowerLimitPointNum < 3) {\n      lowerLimitPointNum = 3;\n    }\n    if (this.drawingPointList.length < lowerLimitPointNum) {\n      this.drawingPointList = [];\n      this.editPolygonID = \"\";\n      return;\n    }\n    const basicSourceID = CommonToolUtils.getSourceID(this.basicResult);\n    const polygonList = [...this.polygonList];\n    if (this.editPolygonID) {\n      const samePolygon = polygonList.find((polygon) => polygon.id === this.editPolygonID);\n      if (!samePolygon) {\n        return;\n      }\n      samePolygon.pointList = this.drawingPointList;\n      this.editPolygonID = \"\";\n    } else {\n      const id = uuid(8, 62);\n      let newPolygon = {\n        id,\n        sourceID: basicSourceID,\n        valid: !this.isCtrl,\n        textAttribute: \"\",\n        pointList: this.drawingPointList,\n        attribute: this.defaultAttribute,\n        order: CommonToolUtils.getMaxOrder(polygonList.filter((v) => CommonToolUtils.isSameSourceID(v.sourceID, basicSourceID))) + 1\n      };\n      if (this.config.textConfigurable) {\n        let textAttribute = \"\";\n        textAttribute = AttributeUtils.getTextAttribute(this.polygonList.filter((polygon) => CommonToolUtils.isSameSourceID(polygon.sourceID, basicSourceID)), this.config.textCheckType);\n        newPolygon = __spreadProps$7(__spreadValues$7({}, newPolygon), {\n          textAttribute\n        });\n      }\n      polygonList.push(newPolygon);\n      this.setSelectedIdAfterAddingDrawing(id);\n    }\n    this.setPolygonList(polygonList);\n    this.isCtrl = false;\n    this.drawingPointList = [];\n    this.history.pushHistory(polygonList);\n  }\n  setSelectedIdAfterAddingDrawing(newID) {\n    if (this.drawingPointList.length === 0) {\n      return;\n    }\n    if (this.config.textConfigurable) {\n      this.setSelectedID(newID);\n    } else {\n      this.setSelectedID();\n    }\n  }\n  getHoverID(e) {\n    var _a;\n    const coordinate = this.getCoordinateUnderZoom(e);\n    const polygonListWithZoom = this.currentShowList.map((polygon) => __spreadProps$7(__spreadValues$7({}, polygon), {\n      pointList: AxisUtils.changePointListByZoom(polygon.pointList, this.zoom)\n    }));\n    return PolygonUtils.getHoverPolygonID(coordinate, polygonListWithZoom, 10, (_a = this.config) == null ? void 0 : _a.lineType);\n  }\n  getHoverEdgeIndex(e) {\n    var _a;\n    if (!this.selectedID) {\n      return -1;\n    }\n    const selectPolygon = this.selectedPolygon;\n    if (!selectPolygon) {\n      return -1;\n    }\n    const currentCoord = this.getCoordinateUnderZoom(e);\n    const editPointListUnderZoom = AxisUtils.changePointListByZoom(selectPolygon.pointList, this.zoom);\n    return PolygonUtils.getHoverEdgeIndex(currentCoord, editPointListUnderZoom, (_a = this.config) == null ? void 0 : _a.lineType);\n  }\n  getHoverPointIndex(e) {\n    if (!this.selectedID) {\n      return -1;\n    }\n    const selectPolygon = this.selectedPolygon;\n    if (!selectPolygon) {\n      return -1;\n    }\n    const currentCoord = this.getCoordinateUnderZoom(e);\n    const editPointListUnderZoom = AxisUtils.changePointListByZoom(selectPolygon.pointList, this.zoom);\n    return AxisUtils.returnClosePointIndex(currentCoord, editPointListUnderZoom);\n  }\n  deletePolygon(id) {\n    var _a;\n    if (!id) {\n      return;\n    }\n    this.setPolygonList(this.polygonList.filter((polygon) => polygon.id !== id));\n    this.history.pushHistory(this.polygonList);\n    (_a = this._textAttributInstance) == null ? void 0 : _a.clearTextAttribute();\n    this.emit(\"selectedChange\");\n    this.render();\n  }\n  deletePolygonPoint(index) {\n    if (!this.selectedID) {\n      return;\n    }\n    const {selectedPolygon} = this;\n    if (!selectedPolygon) {\n      return;\n    }\n    let {lowerLimitPointNum} = this.config;\n    if (lowerLimitPointNum < 3) {\n      lowerLimitPointNum = 3;\n    }\n    if (selectedPolygon.pointList.length <= lowerLimitPointNum) {\n      this.emit(\"messageInfo\", `${Locale.getMessagesByLocale(EMessage.LowerLimitErrorNotice, this.lang)}${lowerLimitPointNum}`);\n      return;\n    }\n    selectedPolygon == null ? void 0 : selectedPolygon.pointList.splice(index, 1);\n    this.history.pushHistory(this.polygonList);\n    this.render();\n  }\n  spaceKeydown() {\n    var _a, _b;\n    if (this.selectedID) {\n      this.editPolygonID = this.selectedID;\n      this.drawingPointList = (_b = (_a = this.selectedPolygon) == null ? void 0 : _a.pointList) != null ? _b : [];\n      this.drawingHistory.empty();\n      this.drawingHistory.initRecord(this.drawingPointList);\n      this.hoverID = \"\";\n      this.setSelectedID(\"\");\n      this.render();\n    }\n  }\n  onTabKeyDown(e) {\n    e.preventDefault();\n    if (this.drawingPointList.length > 0) {\n      return;\n    }\n    let sort = ESortDirection.ascend;\n    if (e.shiftKey) {\n      sort = ESortDirection.descend;\n    }\n    const [showingResult, selectedResult] = CommonToolUtils.getRenderResultList(this.polygonList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedID);\n    let polygonList = [...showingResult];\n    if (selectedResult) {\n      polygonList = [...polygonList, selectedResult];\n    }\n    const viewPort = CanvasUtils.getViewPort(this.canvas, this.currentPos, this.zoom);\n    const sortList = polygonList.map((v) => {\n      var _a, _b, _c, _d;\n      return __spreadProps$7(__spreadValues$7({}, v), {\n        x: (_b = (_a = v.pointList[0]) == null ? void 0 : _a.x) != null ? _b : 0,\n        y: (_d = (_c = v.pointList[0]) == null ? void 0 : _c.y) != null ? _d : 0\n      });\n    }).filter((polygon) => CanvasUtils.inViewPort({x: polygon.x, y: polygon.y}, viewPort));\n    const nextSelectedResult = CommonToolUtils.getNextSelectedRectID(sortList, sort, this.selectedID);\n    if (nextSelectedResult) {\n      this.setSelectedID(nextSelectedResult.id);\n      const {selectedPolygon} = this;\n      if (selectedPolygon) {\n        this.setDefaultAttribute(selectedPolygon.attribute);\n      }\n    }\n    this.render();\n  }\n  onKeyDown(e) {\n    if (!CommonToolUtils.hotkeyFilter(e)) {\n      return;\n    }\n    if (super.onKeyDown(e) === false) {\n      return;\n    }\n    const {keyCode} = e;\n    switch (keyCode) {\n      case EKeyCode$1.Space:\n        this.spaceKeydown();\n        break;\n      case EKeyCode$1.Esc:\n        this.drawingPointList = [];\n        this.editPolygonID = \"\";\n        break;\n      case EKeyCode$1.F:\n        if (this.selectedID) {\n          this.setPolygonValidAndRender(this.selectedID);\n        }\n        break;\n      case EKeyCode$1.Z:\n        this.setIsHidden(!this.isHidden);\n        this.render();\n        break;\n      case EKeyCode$1.Delete:\n        this.deletePolygon(this.selectedID);\n        this.render();\n        break;\n      case EKeyCode$1.Ctrl:\n        this.isCtrl = true;\n        break;\n      case EKeyCode$1.Alt:\n        if (this.isAlt === false) {\n          e.preventDefault();\n          this.isAlt = true;\n          this.render();\n        }\n        break;\n      case EKeyCode$1.Tab: {\n        this.onTabKeyDown(e);\n        break;\n      }\n      default: {\n        if (this.config.attributeConfigurable) {\n          const keyCode2Attribute = AttributeUtils.getAttributeByKeycode(keyCode, this.config.attributeList);\n          if (keyCode2Attribute !== void 0) {\n            this.setDefaultAttribute(keyCode2Attribute);\n          }\n        }\n        break;\n      }\n    }\n  }\n  onKeyUp(e) {\n    super.onKeyUp(e);\n    switch (e.keyCode) {\n      case EKeyCode$1.Ctrl:\n        this.isCtrl = false;\n        break;\n      case EKeyCode$1.Alt: {\n        const oldAlt = this.isAlt;\n        this.isAlt = false;\n        if (oldAlt === true) {\n          this.render();\n        }\n        break;\n      }\n    }\n  }\n  rightMouseUp() {\n    if (this.drawingPointList.length > 0) {\n      this.addDrawingPointToPolygonList();\n      return;\n    }\n    this.setSelectedID(this.hoverID);\n    const {selectedPolygon} = this;\n    if (selectedPolygon) {\n      this.setDefaultAttribute(selectedPolygon.attribute);\n    }\n  }\n  onLeftDblClick(e) {\n    if (this.hoverEdgeIndex > -1) {\n      const currentCoord = this.getCoordinateUnderZoom(e);\n      const {selectedPolygon} = this;\n      if (!selectedPolygon) {\n        return;\n      }\n      const {dropFoot} = PolygonUtils.getClosestPoint(currentCoord, this.polygonListUnderZoom, this.config.lineType, edgeAdsorptionScope);\n      if (!dropFoot) {\n        return;\n      }\n      const {upperLimitPointNum} = this.config;\n      if (upperLimitPointNum && selectedPolygon.pointList.length >= upperLimitPointNum) {\n        this.emit(\"messageInfo\", `${Locale.getMessagesByLocale(EMessage.UpperLimitErrorNotice, this.lang)}${upperLimitPointNum}`);\n        this.clearPolygonDrag();\n        return;\n      }\n      selectedPolygon == null ? void 0 : selectedPolygon.pointList.splice(this.hoverEdgeIndex + 1, 0, AxisUtils.changePointByZoom(dropFoot, 1 / this.zoom));\n      this.setPolygonDataByID(selectedPolygon, this.selectedID);\n      this.history.pushHistory(this.polygonList);\n      this.hoverPointIndex = -1;\n      this.hoverEdgeIndex = -1;\n      this.render();\n    }\n    this.dragInfo = void 0;\n  }\n  onRightDblClick(e) {\n    this.dragInfo = void 0;\n    this.clearImgDrag();\n    const hoverID = this.getHoverID(e);\n    const hoverPointIndex = this.getHoverPointIndex(e);\n    if (this.hoverPointIndex > -1 && this.hoverPointIndex === hoverPointIndex) {\n      this.deletePolygonPoint(hoverPointIndex);\n      this.dragInfo = void 0;\n      this.hoverPointIndex = -1;\n      this.render();\n      return;\n    }\n    if (this.hoverID === this.selectedID) {\n      this.deletePolygon(hoverID);\n    }\n    this.render();\n  }\n  onMouseDown(e) {\n    if (super.onMouseDown(e) || this.forbidMouseOperation || e.ctrlKey === true) {\n      return;\n    }\n    const firstPolygon = this.selectedPolygon;\n    if (!firstPolygon || e.button !== 0) {\n      return;\n    }\n    const hoverID = this.getHoverID(e);\n    if (hoverID !== this.selectedID) {\n      return;\n    }\n    const initPointList = firstPolygon.pointList;\n    const dragStartCoord = this.getCoordinateUnderZoom(e);\n    let changePointIndex = [0];\n    let dragTarget = EDragTarget.Plane;\n    this.dragStatus = EDragStatus.Start;\n    const closePointIndex = this.getHoverPointIndex(e);\n    const closeEdgeIndex = this.getHoverEdgeIndex(e);\n    if (closePointIndex > -1) {\n      dragTarget = EDragTarget.Point;\n      changePointIndex = [closePointIndex];\n    } else if (closeEdgeIndex > -1 && this.hoverEdgeIndex > -1) {\n      dragTarget = EDragTarget.Line;\n      changePointIndex = [closeEdgeIndex, (closeEdgeIndex + 1) % initPointList.length];\n    }\n    this.dragInfo = {\n      dragStartCoord,\n      dragTarget,\n      initPointList,\n      changePointIndex\n    };\n    return true;\n  }\n  onDragMove(e) {\n    var _a;\n    if (!this.dragInfo || !this.selectedID) {\n      return;\n    }\n    let selectedPointList = (_a = this.selectedPolygon) == null ? void 0 : _a.pointList;\n    if (!selectedPointList) {\n      return;\n    }\n    const {initPointList, dragStartCoord, dragTarget, changePointIndex} = this.dragInfo;\n    const coordinate = this.getCoordinateUnderZoom(e);\n    const offset = {\n      x: (coordinate.x - dragStartCoord.x) / this.zoom,\n      y: (coordinate.y - dragStartCoord.y) / this.zoom\n    };\n    this.dragStatus = EDragStatus.Move;\n    switch (dragTarget) {\n      case EDragTarget.Plane:\n        selectedPointList = selectedPointList.map((v, i) => __spreadProps$7(__spreadValues$7({}, v), {\n          x: initPointList[i].x + offset.x,\n          y: initPointList[i].y + offset.y\n        }));\n        break;\n      case EDragTarget.Point:\n      case EDragTarget.Line:\n        selectedPointList = selectedPointList.map((n, i) => {\n          if (changePointIndex && changePointIndex.includes(i)) {\n            return __spreadProps$7(__spreadValues$7({}, n), {\n              x: initPointList[i].x + offset.x,\n              y: initPointList[i].y + offset.y\n            });\n          }\n          return n;\n        });\n        break;\n    }\n    if (this.config.drawOutsideTarget === false && this.imgInfo) {\n      if (this.dependToolName && this.basicCanvas && this.basicResult) {\n        let isOutSide = false;\n        switch (this.dependToolName) {\n          case EToolName.Rect: {\n            isOutSide = selectedPointList.filter((v) => !RectUtils.isInRect(v, this.basicResult)).length > 0;\n            break;\n          }\n          case EToolName.Polygon: {\n            isOutSide = PolygonUtils.isPointListOutSidePolygon(selectedPointList, this.basicResult.pointList, this.config.lineType);\n            break;\n          }\n        }\n        if (isOutSide) {\n          return;\n        }\n      }\n      const {left, top, right, bottom} = MathUtils.calcViewportBoundaries(AxisUtils.changePointListByZoom(selectedPointList, this.zoom));\n      const scope = 1e-5;\n      if (left < 0 || top < 0 || right > this.imgInfo.width + scope || bottom > this.imgInfo.height + scope) {\n        return;\n      }\n    }\n    const newPolygonList = this.polygonList.map((v) => {\n      if (v.id === this.selectedID) {\n        return __spreadProps$7(__spreadValues$7({}, v), {\n          pointList: selectedPointList\n        });\n      }\n      return v;\n    });\n    this.setPolygonList(newPolygonList);\n    this.render();\n  }\n  onMouseMove(e) {\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    if (this.selectedID && this.dragInfo) {\n      this.onDragMove(e);\n      return;\n    }\n    let hoverPointIndex = -1;\n    let hoverEdgeIndex = -1;\n    const {selectedID} = this;\n    if (selectedID) {\n      this.hoverEdgeIndex = -1;\n      this.hoverPointIndex = -1;\n      hoverPointIndex = this.getHoverPointIndex(e);\n      if (hoverPointIndex > -1) {\n        this.hoverPointIndex = hoverPointIndex;\n      } else {\n        hoverEdgeIndex = this.getHoverEdgeIndex(e);\n        this.hoverEdgeIndex = hoverEdgeIndex;\n      }\n    }\n    if (this.drawingPointList.length > 0) {\n      return;\n    }\n    const newHoverID = this.getHoverID(e);\n    if (this.hoverID !== newHoverID) {\n      this.hoverID = newHoverID;\n      this.render();\n    }\n  }\n  leftMouseUp(e) {\n    const hoverID = this.getHoverID(e);\n    if (this.drawingPointList.length === 0 && e.ctrlKey === true && hoverID) {\n      this.setPolygonValidAndRender(hoverID);\n      return;\n    }\n    this.addPointInDrawing(e);\n  }\n  onMouseUp(e) {\n    if (super.onMouseUp(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return void 0;\n    }\n    if (this.dragInfo && this.dragStatus === EDragStatus.Move) {\n      this.dragInfo = void 0;\n      this.dragStatus = EDragStatus.Wait;\n      this.history.pushHistory(this.polygonList);\n      this.emit(\"updateResult\");\n      return;\n    }\n    switch (e.button) {\n      case 0: {\n        this.leftMouseUp(e);\n        break;\n      }\n      case 2: {\n        this.rightMouseUp();\n        break;\n      }\n    }\n    this.render();\n  }\n  dragMouseUp() {\n    if (this.dragStatus === EDragStatus.Start) {\n      this.dragInfo = void 0;\n      this.dragStatus = EDragStatus.Wait;\n    }\n  }\n  exportData() {\n    const {polygonList} = this;\n    return [polygonList, this.basicImgInfo];\n  }\n  getTextIconSvg(attribute = \"\") {\n    return AttributeUtils.getTextIconSvg(attribute, this.config.attributeList, this.config.attributeConfigurable, this.baseIcon);\n  }\n  getCurrentSelectedData() {\n    const {selectedPolygon} = this;\n    if (!selectedPolygon) {\n      return;\n    }\n    const toolColor = this.getColor(selectedPolygon.attribute);\n    const color = selectedPolygon.valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    return {\n      width: TEXT_MAX_WIDTH,\n      textAttribute: selectedPolygon.textAttribute,\n      color\n    };\n  }\n  updateSelectedTextAttribute(newTextAttribute) {\n    if (this._textAttributInstance && newTextAttribute && this.selectedID) {\n      let textAttribute = newTextAttribute;\n      if (AttributeUtils.textAttributeValidate(this.config.textCheckType, \"\", textAttribute) === false) {\n        this.emit(\"messageError\", AttributeUtils.getErrorNotice(this.config.textCheckType, this.lang));\n        textAttribute = \"\";\n      }\n      this.setPolygonList(AttributeUtils.textChange(textAttribute, this.selectedID, this.polygonList));\n      this.emit(\"updateTextAttribute\");\n      this.render();\n    }\n  }\n  renderTextAttribute() {\n    var _a;\n    const {selectedPolygon} = this;\n    if (!this.ctx || this.config.textConfigurable === false || !selectedPolygon) {\n      return;\n    }\n    const {pointList, attribute, valid, textAttribute} = selectedPolygon;\n    const {x, y} = pointList[pointList.length - 1];\n    const newWidth = TEXT_MAX_WIDTH;\n    const coordinate = AxisUtils.getOffsetCoordinate({x, y}, this.currentPos, this.zoom);\n    const toolColor = this.getColor(attribute);\n    const color = valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    if (!this._textAttributInstance) {\n      this._textAttributInstance = new TextAttributeClass({\n        width: newWidth,\n        container: this.container,\n        icon: this.getTextIconSvg(attribute),\n        color,\n        getCurrentSelectedData: this.getCurrentSelectedData,\n        updateSelectedTextAttribute: this.updateSelectedTextAttribute\n      });\n    }\n    if (this._textAttributInstance && !((_a = this._textAttributInstance) == null ? void 0 : _a.isExit)) {\n      this._textAttributInstance.appendToContainer();\n    }\n    this._textAttributInstance.update(`${textAttribute}`, {\n      left: coordinate.x,\n      top: coordinate.y,\n      color,\n      width: newWidth\n    });\n  }\n  renderPolygon() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    if (this.isHidden === false) {\n      (_a = this.polygonList) == null ? void 0 : _a.forEach((polygon) => {\n        var _a2, _b2, _c2, _d2, _e2;\n        if ([this.selectedID, this.editPolygonID].includes(polygon.id)) {\n          return;\n        }\n        const {textAttribute, attribute} = polygon;\n        const toolColor = this.getColor(attribute);\n        const toolData2 = StyleUtils.getStrokeAndFill(toolColor, polygon.valid);\n        const transformPointList = AxisUtils.changePointListByZoom(polygon.pointList || [], this.zoom, this.currentPos);\n        DrawUtils.drawPolygonWithFillAndLine(this.canvas, transformPointList, {\n          fillColor: toolData2.fill,\n          strokeColor: toolData2.stroke,\n          pointColor: \"white\",\n          thickness: (_b2 = (_a2 = this.style) == null ? void 0 : _a2.width) != null ? _b2 : 2,\n          lineCap: \"round\",\n          isClose: true,\n          lineType: (_c2 = this.config) == null ? void 0 : _c2.lineType\n        });\n        let showText = `${(_d2 = AttributeUtils.getAttributeShowText(attribute, this.config.attributeList)) != null ? _d2 : \"\"}`;\n        if (((_e2 = this.config) == null ? void 0 : _e2.isShowOrder) && (polygon == null ? void 0 : polygon.order) > 0) {\n          showText = `${polygon.order} ${showText}`;\n        }\n        DrawUtils.drawText(this.canvas, transformPointList[0], showText, __spreadValues$7({\n          color: toolData2.stroke\n        }, DEFAULT_TEXT_OFFSET));\n        const endPoint = transformPointList[transformPointList.length - 1];\n        DrawUtils.drawText(this.canvas, {x: endPoint.x + TEXT_ATTRIBUTE_OFFSET.x, y: endPoint.y + TEXT_ATTRIBUTE_OFFSET.y}, textAttribute, __spreadValues$7({\n          color: toolData2.stroke\n        }, DEFAULT_TEXT_OFFSET));\n      });\n    }\n    if (this.hoverID && this.hoverID !== this.editPolygonID) {\n      const hoverPolygon = this.polygonList.find((v) => v.id === this.hoverID && v.id !== this.selectedID);\n      if (hoverPolygon) {\n        let color = \"\";\n        const toolColor = this.getColor(hoverPolygon.attribute);\n        if (hoverPolygon.valid) {\n          color = toolColor.validHover.fill;\n        } else {\n          color = StyleUtils.getStrokeAndFill(toolColor, false, {isHover: true}).fill;\n        }\n        DrawUtils.drawPolygonWithFill(this.canvas, AxisUtils.changePointListByZoom(hoverPolygon.pointList, this.zoom, this.currentPos), {\n          color,\n          lineType: (_b = this.config) == null ? void 0 : _b.lineType\n        });\n      }\n    }\n    if (this.selectedID) {\n      const selectdPolygon = this.selectedPolygon;\n      if (selectdPolygon) {\n        const toolColor = this.getColor(selectdPolygon.attribute);\n        const toolData2 = StyleUtils.getStrokeAndFill(toolColor, selectdPolygon.valid, {isSelected: true});\n        DrawUtils.drawSelectedPolygonWithFillAndLine(this.canvas, AxisUtils.changePointListByZoom(selectdPolygon.pointList, this.zoom, this.currentPos), {\n          fillColor: toolData2.fill,\n          strokeColor: toolData2.stroke,\n          pointColor: \"white\",\n          thickness: 2,\n          lineCap: \"round\",\n          isClose: true,\n          lineType: (_c = this.config) == null ? void 0 : _c.lineType\n        });\n        let showText = `${(_d = AttributeUtils.getAttributeShowText(selectdPolygon.attribute, this.config.attributeList)) != null ? _d : \"\"}`;\n        if (((_e = this.config) == null ? void 0 : _e.isShowOrder) && (selectdPolygon == null ? void 0 : selectdPolygon.order) > 0) {\n          showText = `${selectdPolygon.order} ${showText}`;\n        }\n        DrawUtils.drawText(this.canvas, AxisUtils.changePointByZoom(selectdPolygon.pointList[0], this.zoom, this.currentPos), showText, __spreadValues$7({\n          color: toolData2.stroke\n        }, DEFAULT_TEXT_OFFSET));\n        this.renderTextAttribute();\n      }\n    }\n    const defaultColor = this.getColor(this.defaultAttribute);\n    const toolData = StyleUtils.getStrokeAndFill(defaultColor, !this.isCtrl);\n    if (((_f = this.drawingPointList) == null ? void 0 : _f.length) > 0) {\n      const drawingPointList = [...this.drawingPointList];\n      let coordinate = AxisUtils.getOriginCoordinateWithOffsetCoordinate(this.coord, this.zoom, this.currentPos);\n      if (((_g = this.config) == null ? void 0 : _g.edgeAdsorption) && this.isAlt === false) {\n        const {dropFoot} = PolygonUtils.getClosestPoint(coordinate, this.polygonList, (_h = this.config) == null ? void 0 : _h.lineType, edgeAdsorptionScope / this.zoom);\n        if (dropFoot) {\n          coordinate = dropFoot;\n        }\n      }\n      drawingPointList.push(coordinate);\n      DrawUtils.drawSelectedPolygonWithFillAndLine(this.canvas, AxisUtils.changePointListByZoom(drawingPointList, this.zoom, this.currentPos), {\n        fillColor: toolData.fill,\n        strokeColor: toolData.stroke,\n        pointColor: \"white\",\n        thickness: 2,\n        lineCap: \"round\",\n        isClose: false,\n        lineType: this.config.lineType\n      });\n    }\n    if (this.hoverPointIndex > -1 && this.selectedID) {\n      const selectdPolygon = this.selectedPolygon;\n      if (!selectdPolygon) {\n        return;\n      }\n      const hoverColor = StyleUtils.getStrokeAndFill(defaultColor, selectdPolygon.valid, {isSelected: true});\n      const point = selectdPolygon == null ? void 0 : selectdPolygon.pointList[this.hoverPointIndex];\n      if (point) {\n        const {x, y} = AxisUtils.changePointByZoom(point, this.zoom, this.currentPos);\n        DrawUtils.drawCircleWithFill(this.canvas, {x, y}, 5, {\n          color: hoverColor.fill\n        });\n      }\n    }\n    if (this.hoverEdgeIndex > -1 && this.selectedID) {\n      const selectdPolygon = this.selectedPolygon;\n      if (!selectdPolygon) {\n        return;\n      }\n      const selectedColor = StyleUtils.getStrokeAndFill(defaultColor, selectdPolygon.valid, {isSelected: true});\n      DrawUtils.drawLineWithPointList(this.canvas, AxisUtils.changePointListByZoom(selectdPolygon.pointList, this.zoom, this.currentPos), {\n        color: selectedColor.stroke,\n        thickness: 10,\n        hoverEdgeIndex: this.hoverEdgeIndex,\n        lineType: (_i = this.config) == null ? void 0 : _i.lineType\n      });\n    }\n  }\n  render() {\n    if (!this.ctx) {\n      return;\n    }\n    super.render();\n    this.renderCursorLine(this.getLineColor(this.defaultAttribute));\n    this.renderPolygon();\n  }\n  undo() {\n    if (this.drawingPointList.length > 0) {\n      const drawingPointList = this.drawingHistory.undo();\n      if (!drawingPointList) {\n        return;\n      }\n      this.drawingPointList = drawingPointList;\n      this.render();\n      return;\n    }\n    const polygonList = this.history.undo();\n    if (polygonList) {\n      if (polygonList.length !== this.polygonList.length) {\n        this.setSelectedID(\"\");\n      }\n      this.setPolygonList(polygonList);\n      this.render();\n    }\n  }\n  redo() {\n    if (this.drawingPointList.length > 0) {\n      const drawingPointList = this.drawingHistory.redo();\n      if (!drawingPointList) {\n        return;\n      }\n      this.drawingPointList = drawingPointList;\n      this.render();\n      return;\n    }\n    const polygonList = this.history.redo();\n    if (polygonList) {\n      if (polygonList.length !== this.polygonList.length) {\n        this.setSelectedID(\"\");\n      }\n      this.setPolygonList(polygonList);\n      this.render();\n    }\n  }\n}\n\nclass TagOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.getInitResultList = (dataSourceStep, basicResultList) => {\n      if (!(dataSourceStep === 0 || dataSourceStep === void 0) && basicResultList.length === 0) {\n        return [];\n      }\n      return TagUtil.getDefaultTagResult(this.config.inputList, basicResultList);\n    };\n    this.setLabel = (i, j) => {\n      var _a, _b;\n      if (this.isImgError) {\n        return;\n      }\n      if (!this.basicResult && this.dependToolName) {\n        return;\n      }\n      const labelInfoSet = this.config.inputList;\n      if (!labelInfoSet[i]) {\n        return;\n      }\n      const {subSelected} = labelInfoSet[i];\n      if (i < labelInfoSet.length && labelInfoSet[i].subSelected && subSelected && j < subSelected.length) {\n        const key = labelInfoSet[i].value;\n        let value = (_a = subSelected[j]) == null ? void 0 : _a.value;\n        const isMulti = (_b = labelInfoSet[i]) == null ? void 0 : _b.isMulti;\n        const basicTagResult = this.tagResult.filter((v) => {\n          const basicSourceID = `${v.sourceID}`;\n          return CommonToolUtils.isSameSourceID(basicSourceID, this.sourceID);\n        })[0];\n        if (basicTagResult) {\n          let times = 0;\n          const {result} = basicTagResult;\n          if (basicTagResult.sourceID === 0) {\n            basicTagResult.sourceID = \"0\";\n          }\n          for (const oldKey in basicTagResult.result) {\n            if (oldKey === labelInfoSet[i].value) {\n              times++;\n              if (isMulti === true) {\n                const keyList = result[oldKey].split(\";\").filter((v) => v !== \"\");\n                const index = keyList.indexOf(value);\n                if (index === -1) {\n                  keyList.push(value);\n                } else {\n                  keyList.splice(index, 1);\n                }\n                value = keyList.join(\";\");\n              }\n              if (value === \"\") {\n                if (Object.keys(result).length === 1) {\n                  this.tagResult = this.tagResult.filter((v) => {\n                    const basicSourceID = `${v.sourceID}`;\n                    return CommonToolUtils.isDifferSourceID(basicSourceID, this.sourceID);\n                  });\n                } else if (Object.keys(result).length > 1) {\n                  delete result[oldKey];\n                }\n              } else {\n                result[oldKey] = value;\n              }\n            }\n          }\n          if (times === 0) {\n            Object.assign(basicTagResult.result, {[key]: value});\n          }\n        } else {\n          this.tagResult = [\n            {\n              sourceID: this.sourceID,\n              id: uuid(8, 62),\n              result: {\n                [key]: value\n              }\n            }\n          ];\n        }\n        this.render();\n      }\n    };\n    this.clearResult = (sendMessage = true, value) => {\n      if (value) {\n        this.tagResult = this.tagResult.map((v) => {\n          if (v == null ? void 0 : v.result[value]) {\n            delete v.result[value];\n          }\n          return v;\n        });\n      } else {\n        this.tagResult = [];\n      }\n      this.render();\n    };\n    this.config = CommonToolUtils.jsonParser(props.config);\n    this.tagResult = [];\n    this.labelSelectedList = [];\n    this.setShowDefaultCursor(true);\n  }\n  destroy() {\n    this.clearTag();\n    super.destroy();\n  }\n  setResult(tagResult) {\n    this.tagResult = tagResult;\n    this.render();\n  }\n  get currentPageResult() {\n    return [this.currentTagResult];\n  }\n  get currentTagResult() {\n    var _a;\n    return (_a = this.tagResult.filter((v) => {\n      const basicSourceID = `${v.sourceID}`;\n      return CommonToolUtils.isSameSourceID(basicSourceID, this.sourceID);\n    })[0]) != null ? _a : {};\n  }\n  get sourceID() {\n    return CommonToolUtils.getSourceID(this.basicResult);\n  }\n  onKeyDown(e) {\n    if (!CommonToolUtils.hotkeyFilter(e)) {\n      return;\n    }\n    let {keyCode} = e;\n    if (keyCode) {\n      if (keyCode <= 57 && keyCode >= 49 || keyCode <= 105 && keyCode >= 97) {\n        if (keyCode > 57) {\n          keyCode -= 97;\n        } else {\n          keyCode -= 49;\n        }\n        if (this.config.inputList.length === 1) {\n          this.labelSelectedList = [0, keyCode];\n          this.setLabel(0, keyCode);\n          setTimeout(() => {\n            this.labelSelectedList = [];\n            this.render();\n          }, 500);\n          return;\n        }\n        if (this.labelSelectedList.length === 1) {\n          this.labelSelectedList = [this.labelSelectedList[0], keyCode];\n          this.setLabel(this.labelSelectedList[0], keyCode);\n          setTimeout(() => {\n            this.labelSelectedList = [];\n            this.render();\n          }, 500);\n        } else {\n          this.labelSelectedList = [keyCode];\n          this.emit(\"expend\");\n        }\n      }\n    }\n  }\n  clearTag() {\n    var _a;\n    const parentNode = (_a = this.canvas) == null ? void 0 : _a.parentNode;\n    const oldDom = window.self.document.getElementById(\"tagToolTag\");\n    if (oldDom && parentNode && parentNode.contains(oldDom)) {\n      parentNode == null ? void 0 : parentNode.removeChild(oldDom);\n    }\n  }\n  renderTag() {\n    var _a, _b, _c, _d, _e, _f;\n    this.clearTag();\n    if (!(((_a = this.tagResult) == null ? void 0 : _a.length) > 0)) {\n      return;\n    }\n    const dom = document.createElement(\"div\");\n    const tagInfoList = TagUtil.getTagNameList((_c = (_b = this.currentTagResult) == null ? void 0 : _b.result) != null ? _c : {}, this.config.inputList);\n    dom.innerHTML = (_d = tagInfoList.reduce((acc, cur) => {\n      return `${acc}${cur.keyName}: ${cur.value.join(` \\u3001 `)}\n`;\n    }, \"\")) != null ? _d : \"\";\n    dom.setAttribute(\"id\", \"tagToolTag\");\n    dom.setAttribute(\"style\", `\n        position: absolute;\n        top: 0;\n        right: 0;\n        z-index: 5;\n      \n        padding: 0 20px;\n      \n        font-size: 15px;\n        color: white;\n        text-align: right;\n        line-height: 32px;\n        white-space: pre;\n      \n        background: rgba(102, 111, 255, 1);\n        opacity: 0.6;\n        clear: both;\n      `);\n    (_f = (_e = this.canvas) == null ? void 0 : _e.parentNode) == null ? void 0 : _f.appendChild(dom);\n  }\n  render() {\n    this.renderTag();\n    super.render();\n    this.emit(\"render\");\n  }\n  exportData() {\n    let {tagResult} = this;\n    if (this.isImgError) {\n      tagResult = [];\n    }\n    return [tagResult, this.basicImgInfo];\n  }\n}\n\nvar __defProp$6 = Object.defineProperty;\nvar __defProps$6 = Object.defineProperties;\nvar __getOwnPropDescs$6 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$6 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$6 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$6 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$6 = (obj, key, value) => key in obj ? __defProp$6(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$6 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$6.call(b, prop))\n      __defNormalProp$6(a, prop, b[prop]);\n  if (__getOwnPropSymbols$6)\n    for (var prop of __getOwnPropSymbols$6(b)) {\n      if (__propIsEnum$6.call(b, prop))\n        __defNormalProp$6(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$6 = (a, b) => __defProps$6(a, __getOwnPropDescs$6(b));\nvar EStatus;\n(function(EStatus2) {\n  EStatus2[EStatus2[\"Create\"] = 0] = \"Create\";\n  EStatus2[EStatus2[\"Active\"] = 1] = \"Active\";\n  EStatus2[EStatus2[\"None\"] = 2] = \"None\";\n})(EStatus || (EStatus = {}));\nconst SEGMENT_NUMBER = 16;\nconst LINE_ORDER_OFFSET = {\n  x: 0,\n  y: 20\n};\nconst POINT_RADIUS = 3;\nconst POINT_ACTIVE_RADIUS = 5;\nconst INNER_POINT_RADIUS = 2;\nclass LineToolOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.drawActivatedLine = (coord, e, hideTempAxis) => {\n      const activeLine = _.cloneDeep(this.activeLine);\n      if (!activeLine || activeLine.length === 0) {\n        return;\n      }\n      const isActiveLineValid = this.isActiveLineValid();\n      let order;\n      const existLine = this.selectedID ? this.lineList.find((i) => i.id === this.selectedID) : void 0;\n      if (existLine) {\n        order = existLine.order;\n      } else {\n        order = this.nextOrder();\n      }\n      const color = this.getLineColorByAttribute({attribute: this.defaultAttribute, valid: !!isActiveLineValid});\n      activeLine.map((point) => Object.assign(point, this.coordUtils.getRenderCoord(point)));\n      this.updateActiveArea();\n      this.drawLine(activeLine, coord, color, true, true);\n      this.drawLineNumber(activeLine[0], order, color, \"\", this.defaultAttribute, isActiveLineValid);\n      if (coord && this.isCreate) {\n        this.arc(coord, POINT_RADIUS, color);\n      }\n      if (this.cursor && !this.selectedPoint && !hideTempAxis && !this.isShift) {\n        this.arc(this.cursor, POINT_ACTIVE_RADIUS, color);\n      }\n    };\n    this.drawHoverPoint = (coord) => {\n      if (this.isMousedown) {\n        return;\n      }\n      if (coord && this.isLineSelected) {\n        const pointList = this.getPointList(this.activeLine);\n        const hoverPoint = this.activeLine.find((i) => LineToolUtils.calcDistance(this.coordUtils.getRenderCoord(i), coord) <= POINT_ACTIVE_RADIUS);\n        let nearestPoint;\n        if (!hoverPoint && this.activeLine) {\n          nearestPoint = this.findNearestPoint(pointList, coord);\n        }\n        this.hoverPointID = hoverPoint ? hoverPoint.id : void 0;\n        this.cursor = hoverPoint ? void 0 : nearestPoint == null ? void 0 : nearestPoint.point;\n      }\n    };\n    this.lineList = [];\n    this.activeLine = [];\n    this.coordsInsideActiveArea = false;\n    this.hoverLineSegmentIndex = -1;\n    this.isShift = false;\n    this.isReference = false;\n    this.drawCurveLine = (ctx, points, config, applyLineWidth = true, isReference = false, hoverLineSegmentIndex) => {\n      const pointList = createSmoothCurvePointsFromPointList(points, SEGMENT_NUMBER);\n      ctx.save();\n      ctx.lineCap = \"round\";\n      ctx.lineJoin = \"round\";\n      ctx.strokeStyle = config.color;\n      if (applyLineWidth) {\n        ctx.lineWidth = config.lineWidth;\n      }\n      if (isReference) {\n        LineToolUtils.setReferenceCtx(ctx);\n      }\n      points.forEach(({specialEdge}, index) => {\n        const curveLinePoints = pointList.splice(0, SEGMENT_NUMBER + 1);\n        ctx.save();\n        ctx.beginPath();\n        if (hoverLineSegmentIndex === index) {\n          ctx.lineWidth = 4;\n        }\n        curveLinePoints.forEach(({x, y}, pointIndex) => {\n          const fn = pointIndex > 0 ? \"lineTo\" : \"moveTo\";\n          if (specialEdge) {\n            LineToolUtils.setSpecialEdgeStyle(ctx);\n          }\n          ctx[fn](x, y);\n        });\n        ctx.stroke();\n        ctx.restore();\n      });\n      ctx.restore();\n    };\n    this.drawLine = (points, cursor, color, showPoint = false, isActive = false) => {\n      const pointsToDraw = cursor ? points.concat(cursor) : points;\n      const lineConfig = {color, lineWidth: isActive ? 1 : this.lineStyle.lineWidth};\n      if (this.isCurve) {\n        LineToolUtils.drawCurveLine(this.ctx, pointsToDraw, lineConfig, !showPoint, this.isReference, isActive ? this.hoverLineSegmentIndex : -1);\n      } else {\n        this.drawStraightLine(pointsToDraw, lineConfig, isActive);\n      }\n      if (showPoint) {\n        points.forEach((point) => {\n          var _a, _b;\n          const pointID = point.id;\n          const pointRadius = pointID && [this.hoverPointID, (_a = this.selectedPoint) == null ? void 0 : _a.id].includes(pointID) ? POINT_ACTIVE_RADIUS : POINT_RADIUS;\n          this.arc(point, pointRadius, color);\n          if (![this.hoverPointID, (_b = this.selectedPoint) == null ? void 0 : _b.id].includes(pointID)) {\n            this.arc(point, INNER_POINT_RADIUS, \"white\");\n          }\n        });\n      }\n    };\n    this.drawStraightLine = (points, config, isActive = false) => {\n      const {ctx} = this;\n      if (ctx) {\n        ctx.save();\n        ctx.lineCap = \"round\";\n        ctx.lineJoin = \"round\";\n        ctx.strokeStyle = config.color;\n        ctx.lineWidth = config.lineWidth;\n        if (this.isReference) {\n          LineToolUtils.setReferenceCtx(ctx);\n        }\n        points.forEach((point, index) => {\n          ctx.beginPath();\n          if (index > 0) {\n            const prePoint = points[index - 1];\n            ctx.save();\n            if (prePoint == null ? void 0 : prePoint.specialEdge) {\n              LineToolUtils.setSpecialEdgeStyle(ctx);\n            }\n            if (isActive && this.hoverLineSegmentIndex + 1 === index) {\n              ctx.lineWidth = 4;\n            }\n            ctx.moveTo(prePoint.x, prePoint.y);\n            ctx.lineTo(point.x, point.y);\n            ctx.stroke();\n            ctx.restore();\n          }\n        });\n        ctx.restore();\n      }\n    };\n    this.drawLines = () => {\n      try {\n        const lineList = _.cloneDeep(this.attributeFilteredLines);\n        if (this.isHidden) {\n          return;\n        }\n        lineList.forEach((line) => {\n          if (line.id === this.selectedID) {\n            return;\n          }\n          if (line.pointList) {\n            line.pointList.map((i) => Object.assign(i, this.coordUtils.getRenderCoord(i)));\n            const {order, label} = line;\n            const displayOrder = order;\n            const color = line && this.getLineColorByAttribute(line);\n            this.drawLine(line.pointList, void 0, color, false);\n            this.drawLineNumber(line.pointList[0], displayOrder, color, label, line.attribute, line.valid);\n            if (line.id !== this.textEditingID) {\n              this.drawLineTextAttribute(line.pointList[1], color, line == null ? void 0 : line.textAttribute);\n            }\n          }\n        });\n      } catch (e) {\n        console.error(e, \"\\u7EBF\\u6761\\u5DE5\\u5177\\u6570\\u636E\\u89E3\\u6790\\u9519\\u8BEF\");\n        this.lineList = [];\n        this.clearCanvas();\n      }\n    };\n    this.render = (nextPoint) => {\n      super.render();\n      this.drawLines();\n      this.drawActivatedLine(nextPoint, void 0, true);\n      this.renderTextAttribute();\n      this.renderCursorLine(this.getLineColor(this.defaultAttribute));\n    };\n    this.moveLineInPolygon = (offsetX, offsetY) => {\n      var _a;\n      if (!Array.isArray(this.activeLine)) {\n        return false;\n      }\n      const allPointsInRange = (_a = this.activeLine) == null ? void 0 : _a.every((i) => {\n        return this.isInBasicPolygon({x: i.x + offsetX, y: i.y + offsetY});\n      });\n      if (allPointsInRange) {\n        this.lineDragging = true;\n        this.moveActiveArea(offsetX, offsetY);\n      }\n    };\n    this.moveLineInRectRange = (offsetX, offsetY, rectHorizontalRange, rectVerticalRange) => {\n      if (this.activeArea === void 0) {\n        return;\n      }\n      const {top, left, right, bottom} = this.activeArea;\n      const hBoundaries = [left, right].map((i) => _.isNumber(i) ? i + offsetX : 0);\n      const vBoundaries = [top, bottom].map((i) => _.isNumber(i) ? i + offsetY : 0);\n      const horizontalInRange = left >= 0 && right && MathUtils.isInRange(hBoundaries, rectHorizontalRange);\n      const verticalInRange = top >= 0 && bottom && MathUtils.isInRange(vBoundaries, rectVerticalRange);\n      const calcOffsetX = horizontalInRange ? offsetX : 0;\n      const calcOffsetY = verticalInRange ? offsetY : 0;\n      this.lineDragging = true;\n      this.moveActiveArea(calcOffsetX, calcOffsetY);\n    };\n    this.onRightClick = (e) => {\n      this.cursor = void 0;\n      if (this.isCreate) {\n        if (this.isLinePointsNotEnough()) {\n          return;\n        }\n        this.stopLineCreating(true);\n        return;\n      }\n      this.setActiveArea(this.getCoordinate(e), true);\n      this.emit(\"contextmenu\");\n    };\n    this.updateSelectedAttributeAfterHistoryChanged = () => {\n      if (this.selectedID) {\n        const line = this.lineList.find((i) => i.id === this.selectedID);\n        const attribute = line == null ? void 0 : line.attribute;\n        if (typeof attribute === \"string\") {\n          this.defaultAttribute = attribute;\n          this.updateAttribute(attribute);\n          this.render();\n        }\n      }\n    };\n    this.onLeftClick = (e) => {\n      const coord = this.getCoordinate(e);\n      const {lineDragging} = this;\n      this.lineDragging = false;\n      if (this.isSpaceKey) {\n        return;\n      }\n      if (this.isNone && e.ctrlKey) {\n        const hoveredLine = this.findHoverLine(coord);\n        if (hoveredLine) {\n          this.setInvalidLine(hoveredLine.id);\n        }\n        return;\n      }\n      if (this.isLinePointsExceed()) {\n        return;\n      }\n      const nextAxis = this.getNextPoint(e, coord);\n      if (this.isCreate || this.isNone) {\n        this.setCreatStatusAndAddPoint(nextAxis);\n        return;\n      }\n      if (this.isActive) {\n        if (lineDragging) {\n          return;\n        }\n        const isMouseCoordOutsideActiveArea = this.isMouseCoordOutsideActiveArea();\n        if (isMouseCoordOutsideActiveArea) {\n          this.setNoneStatus(false);\n          this.setCreatStatusAndAddPoint(nextAxis);\n          return;\n        }\n        const isSetSpecialLine = e.shiftKey;\n        if (isSetSpecialLine) {\n          this.updateLineSegmentSpecial(coord);\n          return;\n        }\n        if (this.coordsInsideActiveArea && e.ctrlKey) {\n          this.setInvalidLine(this.selectedID);\n          return;\n        }\n        this.addLinePointToActiveLine();\n      }\n    };\n    this.onDblclick = () => {\n    };\n    this.onKeyUp = (e) => {\n      super.onKeyUp(e);\n      this.isShift = false;\n      this.hoverLineSegmentIndex = -1;\n      if (e.keyCode === EKeyCode$1.Esc) {\n        this.stopLineCreating(false);\n        return;\n      }\n      if (this.isActive) {\n        if (e.keyCode === EKeyCode$1.Delete) {\n          this.deleteLine();\n          return;\n        }\n        if (e.keyCode === EKeyCode$1.F) {\n          this.setInvalidLine(this.selectedID);\n          return;\n        }\n        if (e.keyCode === EKeyCode$1.Space) {\n          this.continueToEdit();\n          return;\n        }\n      }\n      this.keyboardEventWhileLineCreating(e);\n    };\n    this.onRightDblClick = (e) => {\n      super.onRightDblClick(e);\n      const coord = this.getCoordinate(e);\n      if (this.isActive) {\n        const hoverPoint = this.findHoveredPoint(coord);\n        if (hoverPoint) {\n          this.deleteSelectedLinePoint(hoverPoint.id);\n          return;\n        }\n        this.deleteSelectedLine(coord);\n      }\n    };\n    this.setReference = (isReference) => {\n      this.isReference = isReference;\n    };\n    this.pointsWithinRange = (count) => {\n      if (this.lowerLimitPointNum && count < this.lowerLimitPointNum) {\n        return false;\n      }\n      if (this.upperLimitPointNum && count > this.upperLimitPointNum) {\n        return false;\n      }\n      return true;\n    };\n    this.setLineList = (lineList) => {\n      const lengthChanged = lineList.length !== this.lineListLen;\n      this.lineList = lineList;\n      if (lengthChanged) {\n        this.emit(\"updatePageNumber\");\n      }\n    };\n    this.textChange = (v) => {\n      if (this.config.textConfigurable === false || !this.selectedID) {\n        return;\n      }\n      this.updateSelectedTextAttribute(v);\n      this.emit(\"selectedChange\");\n    };\n    this.status = 2;\n    this.isMousedown = false;\n    this.lineDragging = false;\n    this.isLineValid = true;\n    this.setConfig(props.config);\n    this.prevAxis = {\n      x: 0,\n      y: 0\n    };\n    this.textEditingID = \"\";\n    this.updateSelectedTextAttribute = this.updateSelectedTextAttribute.bind(this);\n    this.getCurrentSelectedData = this.getCurrentSelectedData.bind(this);\n    this.actionsHistory = new ActionsHistory();\n    this.dependToolConfig = {\n      lineType: ELineTypes.Line\n    };\n  }\n  get isLineSelected() {\n    return this.selectedID && this.activeLine;\n  }\n  get selectedLinePoints() {\n    return this.activeLine ? this.getPointList(this.activeLine) : [];\n  }\n  get isCreate() {\n    return this.status === 0;\n  }\n  get isActive() {\n    return this.status === 1;\n  }\n  get isNone() {\n    return this.status === 2;\n  }\n  get isCurve() {\n    return this.config.lineType === ELineTypes.Curve;\n  }\n  get isMultipleColor() {\n    return this.config.lineColor === ELineColor.MultiColor;\n  }\n  get imageSize() {\n    if (this.rotate % 180 === 0) {\n      return this.basicImgInfo;\n    }\n    return {\n      width: this.basicImgInfo.height,\n      height: this.basicImgInfo.width\n    };\n  }\n  get lineListLen() {\n    return this.lineList.length;\n  }\n  get edgeAdsorptionEnabled() {\n    return this.edgeAdsorption && !this.isCurve && this.lineListLen > 0;\n  }\n  get attributeConfigurable() {\n    return this.config.attributeConfigurable;\n  }\n  get isTextConfigurable() {\n    return this.config.textConfigurable;\n  }\n  get isDependPolygon() {\n    return this.dependToolName === EToolName.Polygon;\n  }\n  get isDependRect() {\n    return this.dependToolName === EToolName.Rect;\n  }\n  get isCurrentAttributeLocked() {\n    return this.attributeLockList.includes(this.defaultAttribute);\n  }\n  get attributeFilteredLines() {\n    if (this.attributeLockList.length > 0) {\n      return this.lineList.filter((v) => this.attributeLockList.includes((v == null ? void 0 : v.attribute) || \"\"));\n    }\n    return this.lineList;\n  }\n  get enableOutOfTarget() {\n    return this.config.enableOutOfTarget;\n  }\n  get showOrder() {\n    return this.config.showOrder;\n  }\n  get edgeAdsorption() {\n    return this.config.edgeAdsorption;\n  }\n  get attributeList() {\n    return this.config.attributeList;\n  }\n  get lowerLimitPointNum() {\n    return this.config.lowerLimitPointNum;\n  }\n  get upperLimitPointNum() {\n    return this.config.upperLimitPointNum;\n  }\n  get textCheckType() {\n    return this.config.textCheckType;\n  }\n  get customFormat() {\n    return this.config.customFormat;\n  }\n  get dataList() {\n    return this.lineList;\n  }\n  get hasActiveLine() {\n    return this.activeLine && this.activeLine.length > 0;\n  }\n  get viewPortLines() {\n    const viewPort = CanvasUtils.getViewPort(this.canvas, this.currentPos, this.zoom);\n    if (this.isHidden) {\n      return [];\n    }\n    return this.attributeFilteredLines.filter((i) => {\n      var _a;\n      return (_a = i == null ? void 0 : i.pointList) == null ? void 0 : _a.some((p) => CanvasUtils.inViewPort(p, viewPort));\n    });\n  }\n  get lineStyle() {\n    return {\n      lineWidth: this.style.width,\n      color: this.getLineColor(this.defaultAttribute),\n      opacity: this.style.opacity\n    };\n  }\n  get selectedText() {\n    var _a, _b;\n    return (_b = (_a = this.lineList.find((i) => i.id === this.selectedID)) == null ? void 0 : _a.textAttribute) != null ? _b : \"\";\n  }\n  get currentPageResult() {\n    return this.lineList;\n  }\n  updateStatus(status, resetText = false) {\n    if (status === this.status) {\n      return;\n    }\n    if (resetText) {\n      let defaultText = \"\";\n      if (this.textCheckType === ETextType.Order && this.isTextConfigurable) {\n        defaultText = AttributeUtils.getTextAttribute(this.lineList, this.textCheckType);\n      }\n      this.emit(\"updateText\", defaultText);\n    }\n    this.status = status;\n    this.lineStatusChanged();\n  }\n  isInBasicPolygon(coord) {\n    var _a, _b;\n    return isInPolygon(coord, ((_a = this.basicResult) == null ? void 0 : _a.pointList) || [], (_b = this.dependToolConfig) == null ? void 0 : _b.lineType);\n  }\n  getPolygonPointList() {\n    if (!this.basicResult) {\n      return [];\n    }\n    const {pointList} = this.basicResult;\n    const {lineType} = this.dependToolConfig;\n    return lineType === ELineTypes.Curve ? createSmoothCurvePoints(pointList.reduce((acc, cur) => {\n      return [...acc, cur.x, cur.y];\n    }, []), 0.5, true, 20) : pointList;\n  }\n  getNextCoordByRenderCoord(renderCoord) {\n    return this.getNextCoordByAbsCoord(this.coordUtils.getAbsCoord(renderCoord));\n  }\n  getNextCoordByAbsCoord(absCoord) {\n    var _a;\n    const preAxis = (_a = this.activeLine) == null ? void 0 : _a.slice(-1)[0];\n    if (preAxis) {\n      return this.coordUtils.getNextCoordByDependTool(absCoord, preAxis);\n    }\n    return absCoord;\n  }\n  pointInLine(pointList, checkPoint, scope) {\n    if (pointList.filter((i) => i).length < 2) {\n      return false;\n    }\n    return pointList.some((point, index) => {\n      if (index === 0) {\n        return false;\n      }\n      const point1 = this.coordUtils.getRenderCoord(pointList[index - 1]);\n      const point2 = this.coordUtils.getRenderCoord(point);\n      return LineToolUtils.isInLine(checkPoint, point1, point2, scope);\n    });\n  }\n  arc(coord, size = POINT_RADIUS, color) {\n    var _a, _b, _c, _d, _e, _f;\n    if (this.ctx) {\n      const {x, y} = coord;\n      (_a = this.ctx) == null ? void 0 : _a.save();\n      (_b = this.ctx) == null ? void 0 : _b.beginPath();\n      this.ctx.fillStyle = color || this.lineStyle.color;\n      (_c = this.ctx) == null ? void 0 : _c.arc(x, y, size, 0, 360);\n      (_d = this.ctx) == null ? void 0 : _d.closePath();\n      (_e = this.ctx) == null ? void 0 : _e.fill();\n      (_f = this.ctx) == null ? void 0 : _f.restore();\n    }\n  }\n  renderActiveArea() {\n    if (this.isActive && this.activeArea && this.ctx) {\n      const {top, left, right, bottom} = this.activeArea;\n      const {x, y} = this.coordUtils.getRenderCoord({x: left, y: top});\n      this.ctx.save();\n      this.ctx.beginPath();\n      this.ctx.strokeStyle = \"#B3B8FF\";\n      this.ctx.rect(x, y, (right - left) * this.zoom, (bottom - top) * this.zoom);\n      this.ctx.stroke();\n      this.ctx.restore();\n    }\n  }\n  addLinePoint(coord) {\n    var _a, _b, _c, _d;\n    this.arc(coord);\n    (_a = this.activeLine) == null ? void 0 : _a.push(__spreadProps$6(__spreadValues$6({}, coord), {id: uuid()}));\n    if (((_b = this.activeLine) == null ? void 0 : _b.length) === 1) {\n      (_c = this.actionsHistory) == null ? void 0 : _c.initRecord(this.activeLine);\n    } else {\n      (_d = this.actionsHistory) == null ? void 0 : _d.pushHistory(this.activeLine);\n    }\n    this.render();\n  }\n  setCreatStatusAndAddPoint(coord, isRestText = false) {\n    this.updateStatus(0, isRestText);\n    this.addLinePoint(coord);\n  }\n  isActiveLineValid() {\n    var _a;\n    return this.selectedID ? (_a = this.lineList.find((i) => i.id === this.selectedID)) == null ? void 0 : _a.valid : this.isLineValid;\n  }\n  nextOrder() {\n    return this.lineListLen === 0 ? 1 : this.lineList.slice(-1)[0].order + 1;\n  }\n  getLineColorByAttribute(line, isSelected = false) {\n    return StyleUtils.getStrokeAndFill(this.getColor(line.attribute), line.valid, {isSelected}).stroke;\n  }\n  updateActiveArea() {\n    this.activeArea = this.getActiveArea();\n    this.renderActiveArea();\n  }\n  getActiveArea() {\n    return this.hasActiveLine ? MathUtils.calcViewportBoundaries(this.activeLine, this.isCurve, SEGMENT_NUMBER, this.zoom) : void 0;\n  }\n  drawLineNumber(coord, order = 1, color, label = \"\", attribute, valid = true) {\n    var _a, _b, _c;\n    if ((this.showOrder || this.attributeConfigurable) && this.ctx) {\n      let text = this.showOrder ? order.toString() : `${label}`;\n      if (this.attributeConfigurable) {\n        const keyForAttribute = attribute ? (_c = (_b = (_a = this.attributeList) == null ? void 0 : _a.find((i) => i.value === attribute)) == null ? void 0 : _b.key) != null ? _c : attribute : \"\";\n        text = [text, `${!valid && keyForAttribute ? \"\\u65E0\\u6548\" : \"\"}${keyForAttribute}`].filter((i) => i).join(\"_\");\n      }\n      this.drawText(coord, text, color);\n    }\n  }\n  drawLineTextAttribute(coord, color, text) {\n    if (coord && text) {\n      return this.drawText(coord, text, color, 200);\n    }\n  }\n  drawText(coord, text, color, lineWidth) {\n    var _a, _b;\n    if (this.ctx) {\n      (_a = this.ctx) == null ? void 0 : _a.save();\n      this.ctx.font = \"italic bold 14px SourceHanSansCN-Regular\";\n      this.ctx.fillStyle = color;\n      this.ctx.strokeStyle = color;\n      this.ctx.shadowColor = \"rgba(0, 0, 0, 0.6)\";\n      this.ctx.shadowOffsetY = 2;\n      this.ctx.shadowBlur = 4;\n      if (lineWidth) {\n        DrawUtils.wrapText(this.canvas, text, coord.x - LINE_ORDER_OFFSET.x, coord.y - LINE_ORDER_OFFSET.y, lineWidth);\n      } else {\n        this.ctx.fillText(text, coord.x - LINE_ORDER_OFFSET.x, coord.y - LINE_ORDER_OFFSET.y);\n      }\n      (_b = this.ctx) == null ? void 0 : _b.restore();\n    }\n  }\n  moveActiveArea(offsetX, offsetY) {\n    if (this.activeArea) {\n      this.activeArea = Object.assign(this.activeArea, {\n        top: this.activeArea.top + offsetY,\n        bottom: this.activeArea.bottom + offsetY,\n        right: this.activeArea.right + offsetX,\n        left: this.activeArea.left + offsetX\n      });\n    }\n    if (this.activeLine) {\n      this.activeLine.map((i) => Object.assign(i, {x: i.x + offsetX, y: i.y + offsetY}));\n      this.updateLines();\n    }\n  }\n  findHoveredPoint(coord) {\n    if (!this.activeLine) {\n      return;\n    }\n    return this.activeLine.find((i) => {\n      const iAxis = this.coordUtils.getRenderCoord(i);\n      return LineToolUtils.calcDistance(iAxis, coord) <= POINT_ACTIVE_RADIUS;\n    });\n  }\n  findHoverLine(coord) {\n    const line = _.cloneDeep(this.lineList).reverse().find(({pointList}) => {\n      const list = pointList ? this.getPointList(pointList) : [];\n      const scope = this.getLineWidthScope();\n      return list.some((point, index) => {\n        if (index === 0) {\n          return false;\n        }\n        const point1 = this.coordUtils.getRenderCoord(point);\n        const point2 = this.coordUtils.getRenderCoord(list[index - 1]);\n        return LineToolUtils.isInLine(coord, point1, point2, scope);\n      });\n    });\n    return line;\n  }\n  getAdsorptionPoint(coord) {\n    let point;\n    let minDistance;\n    let snappedPoint;\n    _.cloneDeep(this.lineList).reverse().forEach(({pointList, id}) => {\n      if (id === this.selectedID || !pointList || (pointList == null ? void 0 : pointList.length) < 2) {\n        return;\n      }\n      const nearestPoint = this.findNearestPoint(pointList, coord);\n      if (nearestPoint) {\n        if (nearestPoint.minDistance === 0) {\n          point = nearestPoint.point;\n          return;\n        }\n        if (minDistance === void 0 || nearestPoint.minDistance < minDistance) {\n          point = nearestPoint.point;\n          minDistance = nearestPoint.minDistance;\n        }\n      }\n    });\n    return snappedPoint || point;\n  }\n  findNearestPoint(pointList, coord, minLength = 7) {\n    let point;\n    const minDistance = minLength;\n    for (let i = 1; i <= pointList.length - 1; i++) {\n      const point1 = this.coordUtils.getRenderCoord(pointList[i]);\n      const point2 = this.coordUtils.getRenderCoord(pointList[i - 1]);\n      const {length, footPoint} = MathUtils.getFootOfPerpendicular(coord, point1, point2);\n      const twoPointDistance1 = LineToolUtils.calcTwoPointDistance(point1, coord);\n      const twoPointDistance2 = LineToolUtils.calcTwoPointDistance(point2, coord);\n      if (twoPointDistance1 <= minLength * 2) {\n        point = point1;\n        minLength = 0;\n        break;\n      }\n      if (twoPointDistance2 <= minLength * 2) {\n        point = point2;\n        minLength = 0;\n        break;\n      }\n      if (length < minLength) {\n        point = footPoint;\n        minLength = length;\n      }\n    }\n    return point ? {point, minDistance} : void 0;\n  }\n  getPointList(pointList) {\n    return this.isCurve ? createSmoothCurvePointsFromPointList(pointList, SEGMENT_NUMBER) : pointList;\n  }\n  moveSelectedLine(coord) {\n    const offsetX = (coord.x - this.prevAxis.x) / this.zoom;\n    const offsetY = (coord.y - this.prevAxis.y) / this.zoom;\n    if (this.enableOutOfTarget) {\n      this.lineDragging = true;\n      this.moveActiveArea(offsetX, offsetY);\n      return;\n    }\n    if (this.isDependPolygon) {\n      this.moveLineInPolygon(offsetX, offsetY);\n      return;\n    }\n    let rectHorizontalRange = [0, this.imageSize.width];\n    let rectVerticalRange = [0, this.imageSize.height];\n    if (this.isDependRect) {\n      const {x, y, width, height} = this.basicResult;\n      rectHorizontalRange = [x, x + width];\n      rectVerticalRange = [y, y + height];\n    }\n    this.moveLineInRectRange(offsetX, offsetY, rectHorizontalRange, rectVerticalRange);\n  }\n  moveSelectPoint(coord) {\n    const offsetX = coord.x - this.prevAxis.x;\n    const offsetY = coord.y - this.prevAxis.y;\n    const newX = (this.selectedPoint ? this.selectedPoint.x : 0) + offsetX / this.zoom;\n    const newY = (this.selectedPoint ? this.selectedPoint.y : 0) + offsetY / this.zoom;\n    const pointPosition = {\n      x: newX,\n      y: newY\n    };\n    Object.assign(this.selectedPoint, this.getNextCoordByAbsCoord(pointPosition));\n    this.updateLines();\n    this.render();\n  }\n  getCoordByConfig(e, coord) {\n    var _a;\n    const isVH = !!e.shiftKey;\n    const disabledAdsorb = e.altKey;\n    if (((_a = this.activeLine) == null ? void 0 : _a.length) > 0 && isVH) {\n      const lastPoint = this.activeLine.slice(-1)[0];\n      return LineToolUtils.getVHPoint(lastPoint, coord, this.coordUtils.getAbsCoord(coord), this.coordUtils.getRenderCoord(lastPoint));\n    }\n    if (this.edgeAdsorptionEnabled && !disabledAdsorb) {\n      return this.getAdsorptionPoint(coord);\n    }\n    return coord;\n  }\n  getNextPoint(e, nextPoint) {\n    const newPoint = this.getCoordByConfig(e, nextPoint) || nextPoint;\n    return this.enableOutOfTarget ? newPoint : this.getNextCoordByRenderCoord(newPoint);\n  }\n  lineHover() {\n    this.render();\n  }\n  mouseMoveHandler(e) {\n    const coord = this.getCoordinate(e);\n    const isLeftClick = e.which === 1;\n    if (this.isCreate) {\n      if (this.hasActiveLine) {\n        this.renderNextPoint(e, coord);\n      }\n      return;\n    }\n    if (this.isNone) {\n      this.lineHover();\n      if (this.edgeAdsorptionEnabled && !e.altKey) {\n        const edgeAdsorptionPoint = this.getAdsorptionPoint(coord);\n        if (edgeAdsorptionPoint) {\n          this.arc(edgeAdsorptionPoint);\n        }\n      }\n    }\n    if (this.isActive) {\n      if (this.isMousedown && isLeftClick) {\n        if (this.selectedPoint) {\n          this.moveSelectPoint(coord);\n          return;\n        }\n        if (this.coordsInsideActiveArea) {\n          this.moveSelectedLine(coord);\n          this.drawActivatedLine(void 0, void 0, true);\n          return;\n        }\n      }\n      this.drawHoverPoint(coord);\n      this.render();\n    }\n  }\n  onMouseMove(e) {\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    const coord = this.getCoordinate(e);\n    this.mouseMoveHandler(e);\n    this.prevAxis = coord;\n  }\n  setActiveArea(coord, outsideCancel = false) {\n    const activeLine = this.findHoverLine(coord);\n    if (activeLine) {\n      const index = this.lineList.findIndex((i) => i.id === (activeLine == null ? void 0 : activeLine.id));\n      const area = MathUtils.calcViewportBoundaries((activeLine == null ? void 0 : activeLine.pointList) || [], this.isCurve, SEGMENT_NUMBER, this.zoom);\n      const line = this.lineList[index];\n      this.updateStatus(1);\n      this.setActiveLine(line.pointList);\n      this.setSelectedLineID(line.id);\n      this.activeArea = area;\n      this.updateLineAttributes(line);\n    } else if (outsideCancel) {\n      this.setNoneStatus();\n    }\n    this.render();\n  }\n  setActiveLineByID(id) {\n    const line = this.lineList.find((i) => i.id === id);\n    if (line) {\n      const area = MathUtils.calcViewportBoundaries((line == null ? void 0 : line.pointList) || [], this.isCurve, SEGMENT_NUMBER, this.zoom);\n      this.updateStatus(1);\n      this.setActiveLine(line.pointList);\n      this.setSelectedLineID(line.id);\n      this.activeArea = area;\n      this.updateLineAttributes(line);\n    }\n    this.render();\n  }\n  setActiveLine(pointList) {\n    this.activeLine = pointList ? _.cloneDeep(pointList) : void 0;\n  }\n  historyChanged(funcName) {\n    const enableKeyName = `${funcName}Enabled`;\n    if (this.isCreate) {\n      if (this.actionsHistory && this.actionsHistory[enableKeyName]) {\n        const record = this.actionsHistory && this.actionsHistory[funcName]();\n        this.setActiveLine(record);\n        this.render();\n      }\n      return;\n    }\n    if (this.history && this.history[enableKeyName]) {\n      const currentHistory = this.history[funcName]();\n      const activeLine = currentHistory == null ? void 0 : currentHistory.find((i) => i.id === this.selectedID);\n      this.lineList = currentHistory;\n      if (this.selectedID && activeLine) {\n        this.setActiveLine(activeLine == null ? void 0 : activeLine.pointList);\n      } else {\n        this.setNoneStatus();\n      }\n      this.render();\n    }\n    this.emit(\"dataUpdated\", this.lineList);\n  }\n  undo() {\n    this.historyChanged(\"undo\");\n    this.updateSelectedAttributeAfterHistoryChanged();\n  }\n  redo() {\n    this.historyChanged(\"redo\");\n    this.updateSelectedAttributeAfterHistoryChanged();\n  }\n  isCoordInsideTarget(coord) {\n    if (this.isDependPolygon) {\n      return this.isInBasicPolygon(coord);\n    }\n    if (this.isDependRect) {\n      const {x, y, width, height} = this.basicResult;\n      const rectHorizontalRange = [x, x + width];\n      const rectVerticalRange = [y, y + height];\n      return MathUtils.isInRange(coord.x, rectHorizontalRange) && MathUtils.isInRange(coord.y, rectVerticalRange);\n    }\n    return MathUtils.isInRange(coord.x, [0, this.imageSize.width]) && MathUtils.isInRange(coord.y, [0, this.imageSize.height]);\n  }\n  getPointInsertIndex(coord, scope) {\n    if (coord && this.activeLine) {\n      const pointList = this.getPointList(this.activeLine);\n      if (this.activeLine.length === 2) {\n        return 1;\n      }\n      return this.activeLine.findIndex((i, index) => {\n        if (index > 0) {\n          const straightLinePoints = this.activeLine ? this.activeLine[index - 1] : void 0;\n          const points = this.isCurve ? pointList.slice((index - 1) * (SEGMENT_NUMBER + 1), index * (SEGMENT_NUMBER + 1)) : [straightLinePoints, i];\n          return this.pointInLine(points, coord, scope || this.getLineWidthScope());\n        }\n        return false;\n      });\n    }\n    return -1;\n  }\n  getLineWidthScope() {\n    return this.lineStyle.lineWidth;\n  }\n  isMouseCoordOutsideActiveArea() {\n    return !this.coordsInsideActiveArea && !this.selectedPoint;\n  }\n  isLinePointsExceed() {\n    return this.isCreate && this.activeLine && this.upperLimitPointNum && ~~this.upperLimitPointNum <= this.activeLine.length;\n  }\n  isLinePointsNotEnough() {\n    var _a;\n    return this.activeLine && ((_a = this.activeLine) == null ? void 0 : _a.length) < this.lowerLimitPointNum;\n  }\n  updateLineSegmentSpecial(coord) {\n    const specialEdgeIndex = this.getPointInsertIndex(coord, 2) - 1;\n    if (specialEdgeIndex > -1) {\n      const pointData = this.activeLine[specialEdgeIndex];\n      pointData.specialEdge = !pointData.specialEdge;\n      this.hoverLineSegmentIndex = -1;\n      this.render();\n    }\n  }\n  addLinePointToActiveLine() {\n    var _a;\n    const insertIndex = this.getPointInsertIndex(this.cursor);\n    const pointsWithInRange = this.pointsWithinRange(this.activeLine.length + 1);\n    if (this.cursor && insertIndex > -1 && pointsWithInRange) {\n      this.activeLine.splice(insertIndex, 0, __spreadProps$6(__spreadValues$6({}, this.coordUtils.getAbsCoord(this.cursor)), {id: uuid()}));\n      this.updateLines();\n      (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n      this.render();\n      this.cursor = void 0;\n    }\n  }\n  onMouseDown(e) {\n    if (super.onMouseDown(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    const coord = this.getCoordinate(e);\n    this.isMousedown = true;\n    this.prevAxis = coord;\n    if (e.which === 3) {\n      this.cursor = void 0;\n      return;\n    }\n    this.selectedPoint = this.findHoveredPoint(coord);\n    this.coordsInsideActiveArea = this.isActive && this.activeArea ? LineToolUtils.inArea(this.activeArea, this.coordUtils.getAbsCoord(coord)) : false;\n    this.lineDragging = false;\n  }\n  lineHasChanged() {\n    const line = this.lineList.find((i) => i.id === this.selectedID);\n    return line ? JSON.stringify(line.pointList) !== JSON.stringify(this.activeLine) : false;\n  }\n  updateLines() {\n    const line = this.lineList.find((i) => i.id === this.selectedID);\n    if (line) {\n      line.pointList = _.cloneDeep(this.activeLine);\n      this.emit(\"dataUpdated\", this.lineList);\n    }\n  }\n  onMouseUp(e) {\n    const reset = () => {\n      this.isMousedown = false;\n      this.hoverPointID = void 0;\n      this.cursor = void 0;\n      this.selectedPoint = void 0;\n    };\n    this.hoverPointID = void 0;\n    if (super.onMouseUp(e) || this.forbidMouseOperation || !this.imgInfo) {\n      reset();\n      return;\n    }\n    if (e.which === 1) {\n      this.onLeftClick(e);\n    }\n    if (e.which === 3) {\n      this.onRightClick(e);\n    }\n    reset();\n  }\n  isTextValid(text) {\n    return AttributeUtils.textAttributeValidate(this.textCheckType, this.customFormat, text);\n  }\n  createLineData() {\n    const id = uuid();\n    const newLine = {\n      pointList: _.cloneDeep(this.activeLine),\n      id,\n      valid: this.isLineValid,\n      order: this.nextOrder()\n    };\n    newLine.attribute = this.defaultAttribute;\n    return newLine;\n  }\n  stopLineCreating(isAppend = true) {\n    var _a, _b, _c, _d;\n    const setActiveAfterCreating = this.selectedID ? true : !!this.isTextConfigurable;\n    let selectedID;\n    if (isAppend) {\n      if (this.selectedID) {\n        const line = this.lineList.find((i) => i.id === this.selectedID);\n        selectedID = this.selectedID;\n        if (line) {\n          line.pointList = _.cloneWith(this.activeLine);\n          if (!_.isEqual(line.pointList, (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList))) {\n            (_b = this.history) == null ? void 0 : _b.pushHistory(this.lineList);\n          }\n        }\n      } else if (this.isCreate && this.activeLine && this.activeLine.length > 1) {\n        const newLine = this.createLineData();\n        selectedID = newLine.id;\n        this.setLineList([...this.lineList, newLine]);\n        (_c = this.history) == null ? void 0 : _c.pushHistory(this.lineList);\n      }\n    }\n    if (setActiveAfterCreating) {\n      this.setActiveStatus(selectedID);\n    } else {\n      this.setNoneStatus();\n    }\n    (_d = this.actionsHistory) == null ? void 0 : _d.empty();\n    this.emit(\"dataUpdated\", this.lineList);\n    this.render();\n  }\n  setActiveStatus(id) {\n    const line = id ? this.lineList.find((i) => i.id === id) : void 0;\n    if (line) {\n      const pointList = line == null ? void 0 : line.pointList;\n      this.updateStatus(1);\n      this.setActiveLine(pointList);\n      this.setSelectedLineID(id);\n    } else {\n      this.setNoneStatus();\n    }\n  }\n  setNoneStatus(updateStatus = true) {\n    if (updateStatus) {\n      this.updateStatus(2);\n    }\n    this.activeLine = [];\n    this.setSelectedLineID(void 0);\n    this.activeArea = void 0;\n    this.isLineValid = true;\n    this.cursor = void 0;\n  }\n  setKeyDownStatus(e, value) {\n    this.isShift = value != null ? value : e.keyCode === EKeyCode$1.Shift;\n  }\n  continueToEdit() {\n    var _a;\n    this.updateStatus(0);\n    this.cursor = void 0;\n    (_a = this.actionsHistory) == null ? void 0 : _a.pushHistory(this.activeLine);\n    this.render();\n  }\n  setInvalidLineOnCreating(e) {\n    if (this.selectedID && e.keyCode !== EKeyCode$1.Ctrl || !this.isCreate) {\n      return;\n    }\n    const valid = !e.ctrlKey;\n    if (this.selectedID) {\n      this.setInvalidLine(this.selectedID, valid, false);\n    } else {\n      this.isLineValid = valid;\n    }\n  }\n  onKeyDown(e) {\n    super.onKeyDown(e);\n    this.setKeyDownStatus(e);\n    if (e.keyCode === EKeyCode$1.Z && !e.ctrlKey) {\n      this.toggleIsHide();\n    }\n    if (e.keyCode === EKeyCode$1.Shift) {\n      this.render();\n    }\n    if (e.keyCode === EKeyCode$1.Tab) {\n      e.preventDefault();\n      this.selectToNextLine(e);\n      return;\n    }\n    if (this.isCreate) {\n      this.keyboardEventWhileLineCreating(e);\n    }\n    if (this.config.attributeConfigurable) {\n      const keyCode2Attribute = AttributeUtils.getAttributeByKeycode(e.keyCode, this.config.attributeList);\n      if (keyCode2Attribute !== void 0) {\n        this.setDefaultAttribute(keyCode2Attribute);\n      }\n    }\n  }\n  selectToNextLine(e) {\n    const nextSelectedLine = CommonToolUtils.getNextSelectedRectIDByEvent(this.viewPortLines.map((i) => {\n      var _a, _b, _c, _d;\n      return __spreadProps$6(__spreadValues$6({}, i), {\n        x: (_b = (_a = i.pointList[0]) == null ? void 0 : _a.x) != null ? _b : 0,\n        y: (_d = (_c = i.pointList[0]) == null ? void 0 : _c.y) != null ? _d : 0\n      });\n    }), e, this.selectedID);\n    if (nextSelectedLine) {\n      this.setActiveLineByID(nextSelectedLine.id);\n    }\n  }\n  keyboardEventWhileLineCreating(e) {\n    if (!this.isCreate) {\n      return;\n    }\n    if (e.keyCode === EKeyCode$1.Ctrl) {\n      this.setInvalidLineOnCreating(e);\n    }\n    if ([EKeyCode$1.Shift, EKeyCode$1.Alt].includes(e.keyCode)) {\n      this.renderNextPoint(e, this.prevAxis);\n    }\n  }\n  renderNextPoint(e, coord) {\n    const nextPoint = this.coordUtils.getRenderCoord(this.getNextPoint(e, coord));\n    this.render(nextPoint);\n  }\n  deleteSelectedLine(coord) {\n    const boundary = MathUtils.calcViewportBoundaries(this.activeLine, this.isCurve, SEGMENT_NUMBER, this.zoom);\n    const axisOnArea = LineToolUtils.inArea(boundary, this.coordUtils.getAbsCoord(coord));\n    if (axisOnArea) {\n      this.deleteLine();\n    }\n  }\n  deleteSelectedLinePoint(selectedID) {\n    var _a;\n    const pointsWithinRange = this.pointsWithinRange(this.activeLine.length - 1);\n    if (pointsWithinRange && selectedID) {\n      this.setActiveLine(this.activeLine.filter((i) => i.id !== selectedID));\n      this.updateLines();\n      (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n    }\n    this.cursor = void 0;\n    this.render();\n  }\n  deleteLine() {\n    var _a;\n    this.lineList = this.lineList.filter((i) => i.id !== this.selectedID);\n    (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n    this.setNoneStatus();\n    this.emit(\"dataUpdated\", this.lineList);\n    this.render();\n  }\n  setInvalidLine(id, valid, isRender = true) {\n    var _a;\n    const line = this.lineList.find((i) => i.id === id);\n    if (line) {\n      line.valid = valid !== void 0 ? valid : !line.valid;\n      (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n      if (isRender) {\n        this.render();\n      }\n    }\n  }\n  empty() {\n    var _a, _b;\n    this.lineList = [];\n    this.setNoneStatus();\n    this.selectedPoint = void 0;\n    (_a = this.actionsHistory) == null ? void 0 : _a.empty();\n    (_b = this.history) == null ? void 0 : _b.init();\n    this.emit(\"dataUpdated\", this.lineList);\n    this.render();\n  }\n  setAttribute(attribute) {\n    var _a;\n    if (this.attributeConfigurable) {\n      this.defaultAttribute = attribute;\n      this.setLineAttribute(\"attribute\", attribute);\n      if (this.selectedID) {\n        (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n      }\n    }\n  }\n  setTextAttribute(text) {\n    var _a;\n    if (this.isTextConfigurable) {\n      this.setLineAttribute(\"textAttribute\", text);\n      (_a = this.history) == null ? void 0 : _a.applyAttribute(this.selectedID, \"textAttribute\", text);\n    }\n  }\n  setLineAttribute(key, value, id) {\n    const targetID = id || this.selectedID;\n    if (targetID) {\n      const line = this.lineList.find((i) => i.id === targetID);\n      if (line) {\n        line[key] = value;\n      }\n    }\n    this.render();\n  }\n  updateAttribute(attribute) {\n    this.emit(\"updateAttribute\", attribute);\n  }\n  updateLineAttributes(line) {\n    var _a;\n    if (this.attributeConfigurable && line) {\n      const attribute = (line == null ? void 0 : line.attribute) || \"\";\n      this.defaultAttribute = attribute;\n      this.updateAttribute(attribute);\n    }\n    if (this.isTextConfigurable && line) {\n      const text = (line == null ? void 0 : line.textAttribute) || \"\";\n      this.updateTextAttribute(text);\n    }\n    (_a = this.history) == null ? void 0 : _a.updateHistory(this.lineList);\n  }\n  lineStatusChanged() {\n    this.emit(\"lineStatusChanged\", {\n      status: this.status,\n      selectedLineID: this.selectedID\n    });\n  }\n  updateTextAttribute(text) {\n    if (this.selectedID) {\n      const line = this.lineList.find((i) => i.id === this.selectedID);\n      if (line) {\n        line.textAttribute = text;\n      }\n    }\n    this.emit(\"updateText\", text);\n  }\n  saveData() {\n    this.stopLineCreating();\n    this.setNoneStatus();\n    this.render();\n  }\n  setTextEditingID(id) {\n    this.textEditingID = id;\n    this.render();\n  }\n  setSelectedLineID(id) {\n    var _a, _b;\n    if (this.selectedID === id) {\n      return;\n    }\n    const oldID = this.selectedID;\n    if (id !== oldID && oldID) {\n      (_a = this._textAttributeInstance) == null ? void 0 : _a.changeSelected();\n    }\n    if (!id) {\n      (_b = this._textAttributeInstance) == null ? void 0 : _b.clearTextAttribute();\n    }\n    this.selectedID = id;\n    this.emit(\"selectedChange\");\n  }\n  attributeLockListChange(attributeLockList) {\n    this.attributeLockList = attributeLockList;\n    this.render();\n  }\n  setResult(lineList) {\n    this.setNoneStatus();\n    this.setLineList(lineList);\n    this.render();\n  }\n  setConfig(config) {\n    super.setConfig(config);\n  }\n  toggleIsHide() {\n    this.setIsHidden(!this.isHidden);\n    this.render();\n  }\n  clearCanvas() {\n    super.clearCanvas();\n  }\n  clearResult() {\n    this.setResult([]);\n    this.setSelectedLineID(void 0);\n    this.render();\n  }\n  exportData() {\n    return [this.lineList, this.basicImgInfo];\n  }\n  setDefaultAttribute(attribute = \"\") {\n    var _a;\n    if (this.attributeConfigurable) {\n      this.defaultAttribute = attribute;\n      this.setLineAttribute(\"attribute\", attribute);\n      if (this.selectedID) {\n        (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n      }\n      this.emit(\"changeAttributeSidebar\");\n    }\n  }\n  getCurrentSelectedData() {\n    var _a, _b;\n    const valid = this.isActiveLineValid();\n    const attribute = this.defaultAttribute;\n    const toolColor = this.getColor(attribute);\n    const color = valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    const textAttribute = (_b = (_a = this.lineList.find((i) => i.id === this.selectedID)) == null ? void 0 : _a.textAttribute) != null ? _b : \"\";\n    return {\n      color,\n      textAttribute\n    };\n  }\n  renderTextAttribute() {\n    var _a, _b, _c, _d;\n    if (!this.ctx || !this.activeLine || ((_a = this.activeLine) == null ? void 0 : _a.length) < 2 || this.isCreate) {\n      return;\n    }\n    const valid = this.isActiveLineValid();\n    const attribute = this.defaultAttribute;\n    const {x, y} = this.activeLine[1];\n    const coordinate = this.coordUtils.getRenderCoord({x, y});\n    const toolColor = this.getColor(attribute);\n    const color = valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    const textAttribute = (_c = (_b = this.lineList.find((i) => i.id === this.selectedID)) == null ? void 0 : _b.textAttribute) != null ? _c : \"\";\n    if (!this._textAttributeInstance) {\n      this._textAttributeInstance = new TextAttributeClass({\n        container: this.container,\n        icon: this.getTextIconSvg(attribute),\n        color,\n        getCurrentSelectedData: this.getCurrentSelectedData,\n        updateSelectedTextAttribute: this.updateSelectedTextAttribute\n      });\n    }\n    if (this._textAttributeInstance && !((_d = this._textAttributeInstance) == null ? void 0 : _d.isExit)) {\n      this._textAttributeInstance.appendToContainer();\n    }\n    this._textAttributeInstance.update(`${textAttribute}`, {\n      left: coordinate.x,\n      top: coordinate.y,\n      color\n    });\n    this._textAttributeInstance.updateIcon(this.getTextIconSvg(attribute));\n  }\n  getTextIconSvg(attribute = \"\") {\n    return AttributeUtils.getTextIconSvg(attribute, this.config.attributeList, this.config.attributeConfigurable, this.baseIcon);\n  }\n  updateSelectedTextAttribute(newTextAttribute) {\n    if (this._textAttributeInstance && newTextAttribute && this.selectedID) {\n      let textAttribute = newTextAttribute;\n      const textAttributeInvalid = !AttributeUtils.textAttributeValidate(this.config.textCheckType, \"\", textAttribute);\n      if (textAttributeInvalid) {\n        this.emit(\"messageError\", AttributeUtils.getErrorNotice(this.config.textCheckType, this.lang));\n        textAttribute = \"\";\n      }\n      this.setTextAttribute(textAttribute);\n      this.emit(\"updateTextAttribute\");\n      this.render();\n    }\n  }\n}\n\nvar __defProp$5 = Object.defineProperty;\nvar __defProps$5 = Object.defineProperties;\nvar __getOwnPropDescs$5 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$5 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$5 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$5 = Object.prototype.propertyIsEnumerable;\nvar __pow = Math.pow;\nvar __defNormalProp$5 = (obj, key, value) => key in obj ? __defProp$5(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$5 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$5.call(b, prop))\n      __defNormalProp$5(a, prop, b[prop]);\n  if (__getOwnPropSymbols$5)\n    for (var prop of __getOwnPropSymbols$5(b)) {\n      if (__propIsEnum$5.call(b, prop))\n        __defNormalProp$5(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$5 = (a, b) => __defProps$5(a, __getOwnPropDescs$5(b));\nconst TEXTAREA_WIDTH = 200;\nclass PointOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.textChange = (v) => {\n      if (this.config.textConfigurable === false || !this.selectedID) {\n        return;\n      }\n      this.setPointList(AttributeUtils.textChange(v, this.selectedID, this.pointList));\n      this.emit(\"selectedChange\");\n      this.render();\n    };\n    this.config = CommonToolUtils.jsonParser(props.config);\n    this.pointList = [];\n    this.setStyle(props.style);\n    this.createPoint = this.createPoint.bind(this);\n    this.getCurrentSelectedData = this.getCurrentSelectedData.bind(this);\n    this.updateSelectedTextAttribute = this.updateSelectedTextAttribute.bind(this);\n  }\n  get dataList() {\n    return this.pointList;\n  }\n  setResult(pointList) {\n    this.clearActiveStatus();\n    this.setPointList(pointList);\n    this.render();\n  }\n  setPointList(pointList, isUpload = false) {\n    const oldLen = this.pointList.length;\n    this.pointList = pointList;\n    if (oldLen !== pointList.length) {\n      this.emit(\"updatePageNumber\");\n    }\n    if (isUpload) {\n      this.emit(\"updateResult\");\n    }\n  }\n  setConfig(config, isClear = false) {\n    this.config = CommonToolUtils.jsonParser(config);\n    if (isClear === true) {\n      this.clearResult();\n    }\n  }\n  clearResult() {\n    this.setPointList([]);\n    this.setSelectedID(void 0);\n    this.hoverID = \"\";\n    this.render();\n  }\n  setDefaultAttribute(defaultAttribute = \"\") {\n    const oldDefault = this.defaultAttribute;\n    this.defaultAttribute = defaultAttribute;\n    if (oldDefault !== defaultAttribute) {\n      this.changeStyle(defaultAttribute);\n      this.emit(\"changeAttributeSidebar\");\n      const {selectedID} = this;\n      if (selectedID) {\n        this.pointList.forEach((point) => {\n          if (point.id === selectedID) {\n            point.attribute = defaultAttribute;\n          }\n        });\n        this.history.pushHistory(this.pointList);\n        this.render();\n      }\n      if (this._textAttributInstance) {\n        if (this.attributeLockList.length > 0 && !this.attributeLockList.includes(defaultAttribute)) {\n          this._textAttributInstance.clearTextAttribute();\n          return;\n        }\n        this._textAttributInstance.updateIcon(this.getTextIconSvg(defaultAttribute));\n      }\n    }\n  }\n  get selectedText() {\n    var _a;\n    return (_a = this.pointList.find((item) => item.id === this.selectedID)) == null ? void 0 : _a.textAttribute;\n  }\n  setStyle(toolStyle) {\n    var _a;\n    super.setStyle(toolStyle);\n    if (this._textAttributInstance && this.config.attributeConfigurable === false) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.updateIcon(this.getTextIconSvg());\n    }\n  }\n  setSelectedID(newID) {\n    var _a, _b;\n    const oldID = this.selectedID;\n    if (newID !== oldID && oldID) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.changeSelected();\n    }\n    if (!newID) {\n      (_b = this._textAttributInstance) == null ? void 0 : _b.clearTextAttribute();\n    }\n    this.selectedID = newID;\n    this.render();\n    this.emit(\"selectedChange\");\n  }\n  getTextIconSvg(attribute = \"\") {\n    return AttributeUtils.getTextIconSvg(attribute, this.config.attributeList, this.config.attributeConfigurable, this.baseIcon);\n  }\n  clearActiveStatus() {\n    this.hoverID = void 0;\n    this.dragStatus = EDragStatus.Wait;\n    this.setSelectedID(void 0);\n  }\n  setBasicResult(basicResult) {\n    super.setBasicResult(basicResult);\n    this.clearActiveStatus();\n  }\n  onMouseDown(e) {\n    if (super.onMouseDown(e) || this.forbidMouseOperation) {\n      return;\n    }\n    if (e.button === 0 && !this.hoverID) {\n      this.createPoint(e);\n      this.render();\n      return;\n    }\n    if (this.hoverID === this.selectedID && e.button === 0) {\n      this.dragStatus = EDragStatus.Start;\n    }\n    this.render();\n    return true;\n  }\n  onMouseMove(e) {\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    this.hoverID = this.getHoverId();\n    if (this.dragStatus === EDragStatus.Start || this.dragStatus === EDragStatus.Move) {\n      this.onDragMove(e);\n    }\n    if (this.hoverID) {\n      this.render();\n    }\n    return void 0;\n  }\n  onMouseUp(e) {\n    if (super.onMouseUp(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return true;\n    }\n    if (e.button === 2) {\n      this.rightMouseUp();\n    }\n    if (this.dragStatus === EDragStatus.Move) {\n      this.dragStatus = EDragStatus.Wait;\n      this.history.pushHistory(this.pointList);\n    }\n    this.render();\n  }\n  onDragMove(e) {\n    if (!this.imgInfo)\n      return;\n    this.dragStatus = EDragStatus.Move;\n    const coordinateZoom = this.getCoordinateUnderZoom(e);\n    const zoomCoordinate = AxisUtils.changeDrawOutsideTarget(coordinateZoom, {x: 0, y: 0}, this.imgInfo, this.config.drawOutsideTarget, this.basicResult, this.zoom);\n    const coordinate = this.config.drawOutsideTarget ? AxisUtils.getOriginCoordinateWithOffsetCoordinate(this.coord, this.zoom, this.currentPos) : AxisUtils.changePointByZoom(zoomCoordinate, 1 / this.zoom);\n    this.pointList.forEach((point) => {\n      if (point.id === this.selectedID) {\n        point.x = coordinate.x;\n        point.y = coordinate.y;\n      }\n    });\n    this.render();\n  }\n  onKeyDown(e) {\n    if (!CommonToolUtils.hotkeyFilter(e)) {\n      return;\n    }\n    if (super.onKeyDown(e) === false) {\n      return;\n    }\n    const {keyCode} = e;\n    switch (keyCode) {\n      case EKeyCode$1.Delete:\n        this.deletePoint();\n        break;\n      case EKeyCode$1.Tab: {\n        this.onTabKeyDown(e);\n        break;\n      }\n      case EKeyCode$1.Z:\n        this.setIsHidden(!this.isHidden);\n        this.render();\n        break;\n      default: {\n        if (this.config.attributeConfigurable) {\n          const keyCode2Attribute = AttributeUtils.getAttributeByKeycode(keyCode, this.config.attributeList);\n          if (keyCode2Attribute !== void 0) {\n            this.setDefaultAttribute(keyCode2Attribute);\n          }\n        }\n        break;\n      }\n    }\n  }\n  createPoint(e) {\n    if (!this.imgInfo)\n      return;\n    const {upperLimit} = this.config;\n    if (upperLimit && this.pointList.length >= upperLimit) {\n      this.emit(\"messageInfo\", `${Locale.getMessagesByLocale(EMessage.LowerLimitPoint, this.lang)}`);\n      return;\n    }\n    const basicSourceID = CommonToolUtils.getSourceID(this.basicResult);\n    const coordinateZoom = this.getCoordinateUnderZoom(e);\n    const coordinate = AxisUtils.getOriginCoordinateWithOffsetCoordinate(this.coord, this.zoom, this.currentPos);\n    if (this.config.drawOutsideTarget === false) {\n      if (this.dependToolName && this.basicCanvas) {\n        let isOutSide = false;\n        switch (this.dependToolName) {\n          case EToolName.Rect: {\n            isOutSide = !RectUtils.isInRect(coordinate, this.basicResult);\n            break;\n          }\n          case EToolName.Polygon: {\n            isOutSide = !PolygonUtils.isInPolygon(coordinate, this.basicResult.pointList);\n            break;\n          }\n        }\n        if (isOutSide) {\n          return;\n        }\n      }\n      if (coordinateZoom.x < 0 || coordinateZoom.y < 0 || coordinateZoom.x > this.imgInfo.width || coordinateZoom.y > this.imgInfo.height) {\n        return;\n      }\n    }\n    let newDrawingPoint = __spreadProps$5(__spreadValues$5({}, coordinate), {\n      attribute: this.defaultAttribute,\n      valid: !e.ctrlKey,\n      id: uuid(8, 62),\n      sourceID: basicSourceID,\n      textAttribute: \"\",\n      order: CommonToolUtils.getMaxOrder(this.pointList.filter((v) => CommonToolUtils.isSameSourceID(v.sourceID, basicSourceID))) + 1\n    });\n    if (this.config.textConfigurable) {\n      let textAttribute = \"\";\n      textAttribute = AttributeUtils.getTextAttribute(this.pointList.filter((point) => CommonToolUtils.isSameSourceID(point.sourceID, basicSourceID)), this.config.textCheckType);\n      newDrawingPoint = __spreadProps$5(__spreadValues$5({}, newDrawingPoint), {\n        textAttribute\n      });\n    }\n    this.setSelectedID(newDrawingPoint.id);\n    this.hoverID = newDrawingPoint.id;\n    this.setPointList([...this.pointList, newDrawingPoint]);\n    this.history.pushHistory(this.pointList);\n  }\n  isInPoint(pos, point) {\n    return this.style.width + 2 >= Math.sqrt(__pow(pos.x - point.x, 2) + __pow(pos.y - point.y, 2));\n  }\n  getHoverId() {\n    var _a;\n    const pos = AxisUtils.getOriginCoordinateWithOffsetCoordinate(this.coord, this.zoom, this.currentPos);\n    const selectPoint = (_a = this.pointList) == null ? void 0 : _a.find((print) => this.isInPoint(pos, print));\n    return selectPoint == null ? void 0 : selectPoint.id;\n  }\n  rightMouseUp() {\n    if (this.selectedID === this.hoverID) {\n      const pointList = this.pointList.filter((point) => point.id !== this.selectedID);\n      this.setPointList(pointList);\n      this.setSelectedID(\"\");\n      this.hoverID = \"\";\n      return;\n    }\n    const p = this.pointList.find((point) => point.id === this.hoverID);\n    this.setSelectedID(this.hoverID);\n    this.setDefaultAttribute(p == null ? void 0 : p.attribute);\n  }\n  onTabKeyDown(e) {\n    e.preventDefault();\n    if (this.dragStatus === EDragStatus.Move || this.dragStatus === EDragStatus.Start) {\n      return;\n    }\n    let sort = ESortDirection.ascend;\n    if (e.shiftKey) {\n      sort = ESortDirection.descend;\n    }\n    const [showingResult, selectedResult] = CommonToolUtils.getRenderResultList(this.pointList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedID);\n    let pointList = [...showingResult];\n    if (selectedResult) {\n      pointList = [...pointList, selectedResult];\n    }\n    const nextSelectedRect = CommonToolUtils.getNextSelectedRectID(pointList, sort, this.selectedID);\n    if (nextSelectedRect) {\n      this.setSelectedID(nextSelectedRect.id);\n    }\n  }\n  get currentPageResult() {\n    const [showingPolygon] = CommonToolUtils.getRenderResultList(this.pointList, CommonToolUtils.getSourceID(this.basicResult), []);\n    return showingPolygon;\n  }\n  exportData() {\n    const {pointList} = this;\n    return [pointList, this.basicImgInfo];\n  }\n  deletePoint() {\n    var _a;\n    if (this.selectedID) {\n      this.setPointList(this.pointList.filter((point) => point.id !== this.selectedID));\n      this.history.pushHistory(this.pointList);\n      (_a = this._textAttributInstance) == null ? void 0 : _a.clearTextAttribute();\n      this.emit(\"selectedChange\");\n      this.render();\n    }\n  }\n  undoAndRedo(name) {\n    var _a, _b;\n    if (this.dragStatus === EDragStatus.Move || this.dragStatus === EDragStatus.Start) {\n      return;\n    }\n    const rectList = (_b = (_a = this.history)[name]) == null ? void 0 : _b.call(_a);\n    if (!(rectList == null ? void 0 : rectList.some((point) => point.id === this.selectedID))) {\n      this.setSelectedID(\"\");\n    }\n    if (rectList) {\n      this.setPointList(rectList, true);\n      this.render();\n    }\n  }\n  undo() {\n    this.undoAndRedo(\"undo\");\n  }\n  redo() {\n    this.undoAndRedo(\"redo\");\n  }\n  getCurrentSelectedData() {\n    var _a;\n    if (!this.selectedID)\n      return;\n    const point = (_a = this.pointList) == null ? void 0 : _a.find((item) => item.id === this.selectedID);\n    const toolColor = this.getColor(point == null ? void 0 : point.attribute);\n    const color = (point == null ? void 0 : point.valid) ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    this.dragStatus = EDragStatus.Wait;\n    return {\n      width: TEXTAREA_WIDTH * this.zoom * 0.6,\n      textAttribute: (point == null ? void 0 : point.textAttribute) || \"\",\n      color\n    };\n  }\n  updateSelectedTextAttribute(newTextAttribute) {\n    if (this._textAttributInstance && newTextAttribute && this.selectedID) {\n      let textAttribute = newTextAttribute;\n      if (AttributeUtils.textAttributeValidate(this.config.textCheckType, \"\", textAttribute) === false) {\n        this.emit(\"messageError\", AttributeUtils.getErrorNotice(this.config.textCheckType, this.lang));\n        textAttribute = \"\";\n      }\n      this.setPointList(AttributeUtils.textChange(textAttribute, this.selectedID, this.pointList));\n      this.emit(\"updateTextAttribute\");\n      this.render();\n    }\n  }\n  renderTextAttribute() {\n    var _a, _b;\n    const point = (_a = this.pointList) == null ? void 0 : _a.find((item) => item.id === this.selectedID);\n    if (!this.ctx || this.config.textConfigurable === false || !point) {\n      return;\n    }\n    const {x, y, attribute, valid} = point;\n    const newWidth = TEXTAREA_WIDTH * this.zoom * 0.6;\n    const coordinate = AxisUtils.getOffsetCoordinate({x, y}, this.currentPos, this.zoom);\n    const toolColor = this.getColor(attribute);\n    const color = valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    const distance = 4;\n    if (!this._textAttributInstance) {\n      this._textAttributInstance = new TextAttributeClass({\n        width: newWidth,\n        container: this.container,\n        icon: this.getTextIconSvg(attribute),\n        color,\n        getCurrentSelectedData: this.getCurrentSelectedData,\n        updateSelectedTextAttribute: this.updateSelectedTextAttribute\n      });\n    }\n    if (this._textAttributInstance && !((_b = this._textAttributInstance) == null ? void 0 : _b.isExit)) {\n      this._textAttributInstance.appendToContainer();\n    }\n    this._textAttributInstance.update(`${point.textAttribute}`, {\n      left: coordinate.x,\n      top: coordinate.y + distance,\n      color,\n      width: newWidth\n    });\n  }\n  renderPoint() {\n    const list = !this.isHidden ? this.pointList : this.pointList.filter((point) => point.id === this.selectedID);\n    list == null ? void 0 : list.forEach((point) => {\n      var _a, _b;\n      const {textAttribute = \"\", attribute} = point;\n      const selected = point.id === this.selectedID;\n      const toolColor = this.getColor(attribute);\n      const transformPoint = AxisUtils.changePointByZoom(point, this.zoom, this.currentPos);\n      const {width = 2} = this.style;\n      const toolData = StyleUtils.getStrokeAndFill(toolColor, point.valid, {\n        isSelected: selected || point.id === this.hoverID\n      });\n      DrawUtils.drawCircle(this.canvas, transformPoint, width, {\n        startAngleDeg: 0,\n        endAngleDeg: 360,\n        thickness: 1,\n        color: toolData.stroke,\n        fill: toolData.fill\n      });\n      let showText = `${(_a = AttributeUtils.getAttributeShowText(point.attribute, this.config.attributeList)) != null ? _a : \"\"}`;\n      if (((_b = this.config) == null ? void 0 : _b.isShowOrder) && point.order > 0) {\n        showText = `${point.order} ${showText}`;\n      }\n      DrawUtils.drawText(this.canvas, {x: transformPoint.x + width / 2, y: transformPoint.y - width - 4}, showText, {\n        textAlign: \"center\",\n        color: toolData.stroke\n      });\n      selected ? this.renderTextAttribute() : DrawUtils.drawText(this.canvas, {x: transformPoint.x + width, y: transformPoint.y + width + 24}, textAttribute, __spreadValues$5({\n        color: toolData.stroke\n      }, DEFAULT_TEXT_OFFSET));\n    });\n  }\n  render() {\n    if (!this.ctx)\n      return;\n    super.render();\n    this.renderPoint();\n    this.renderCursorLine(this.getLineColor(this.defaultAttribute));\n  }\n}\n\nclass TextToolOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.getSingleResult = (sourceID) => {\n      const initValue = {};\n      if (this.config.configList.length > 0) {\n        this.config.configList.forEach((i) => {\n          var _a;\n          initValue[i.key] = (_a = i.default) != null ? _a : \"\";\n        });\n      }\n      return {value: initValue, id: uuid(), sourceID: sourceID != null ? sourceID : CommonToolUtils.getSourceID()};\n    };\n    this.getInitResultList = (dataSourceStep, basicResultList) => {\n      if (dataSourceStep === 0) {\n        return [this.getSingleResult()];\n      }\n      return basicResultList.map((i) => this.getSingleResult(i.id));\n    };\n    this.textList = [];\n    this.setShowDefaultCursor(true);\n    this.setConfig(props.config);\n    this.initTextDisplayContainer();\n  }\n  get dataList() {\n    return this.textList;\n  }\n  get textValueContainerID() {\n    return \"textValueContainer\";\n  }\n  get textValueContainer() {\n    return document.getElementById(this.textValueContainerID);\n  }\n  get currentPageResult() {\n    return this.textList;\n  }\n  setResult(textResultList) {\n    var _a;\n    this.textList = textResultList;\n    this.toggleTextContainerVisible(true);\n    const values = (_a = this.textList[0]) == null ? void 0 : _a.value;\n    if (values) {\n      Object.keys(values).forEach((k) => {\n        this.renderText(k, values[k]);\n      });\n    }\n    this.emit(\"valueUpdated\");\n    this.toggleTextContainerVisible(!!values);\n  }\n  updateTextValue(k, v) {\n    this.textList[0].value[k] = v;\n    this.renderText(k, v);\n    this.emit(\"valueUpdated\");\n  }\n  renderText(key, value) {\n    const textDom = document.getElementById(`textKey${key}`);\n    if (textDom) {\n      textDom.innerText = value;\n    }\n  }\n  getTextDomID(key) {\n    return `textKey${key}`;\n  }\n  initTextDisplayContainer() {\n    const dom = document.createElement(\"div\");\n    const domStyle = {\n      position: \"absolute\",\n      right: \"0\",\n      top: \"0\",\n      \"z-index\": \"20\",\n      \"max-width\": \"20%\",\n      \"font-family\": \"SourceHanSansCN-Regular\",\n      background: \"rgb(102, 230, 255)\",\n      color: \"white\",\n      \"word-break\": \"break-all\",\n      \"line-height\": \"24px\",\n      \"white-space\": \"pre-wrap\",\n      \"max-height\": \"80%\",\n      \"overflow-y\": \"auto\",\n      opacity: \"0.6\"\n    };\n    dom.setAttribute(\"style\", Object.keys(domStyle).reduce((pre, key) => {\n      pre += `${key}: ${domStyle[key]};`;\n      return pre;\n    }, \"\"));\n    dom.setAttribute(\"id\", this.textValueContainerID);\n    this.config.configList.forEach((i) => {\n      const div = document.createElement(\"div\");\n      const label = document.createElement(\"div\");\n      const value = document.createElement(\"div\");\n      div.setAttribute(\"style\", \"padding: 8px 16px\");\n      label.innerText = `${i.key}:`;\n      value.innerText = \"\";\n      value.setAttribute(\"id\", this.getTextDomID(i.key));\n      div.appendChild(label);\n      div.appendChild(value);\n      dom.appendChild(div);\n    });\n    this.container.appendChild(dom);\n  }\n  exportData() {\n    return [this.textList, this.basicImgInfo];\n  }\n  destroyCanvas() {\n    super.destroyCanvas();\n    if (this.textValueContainer) {\n      this.container.removeChild(this.textValueContainer);\n    }\n  }\n  onKeyDown(e) {\n    super.onKeyDown(e);\n    if (e.keyCode === EKeyCode$1.Z) {\n      this.toggleTextContainerVisible();\n    }\n  }\n  toggleTextContainerVisible(isVisible) {\n    if (this.textValueContainer) {\n      const display = (isVisible !== void 0 ? !isVisible : this.textValueContainer.style.display === \"block\") ? \"none\" : \"block\";\n      this.textValueContainer.style.display = display;\n    }\n  }\n}\n\nvar __defProp$4 = Object.defineProperty;\nvar __defProps$4 = Object.defineProperties;\nvar __getOwnPropDescs$4 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$4 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$4 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$4 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$4.call(b, prop))\n      __defNormalProp$4(a, prop, b[prop]);\n  if (__getOwnPropSymbols$4)\n    for (var prop of __getOwnPropSymbols$4(b)) {\n      if (__propIsEnum$4.call(b, prop))\n        __defNormalProp$4(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$4 = (a, b) => __defProps$4(a, __getOwnPropDescs$4(b));\nclass CommonToolUtils {\n  static getStepInfo(step, stepList) {\n    return stepList == null ? void 0 : stepList.filter((info) => info.step === step)[0];\n  }\n  static getCurrentStepInfo(currentStep, stepList) {\n    const currentStepInfo = this.getStepInfo(currentStep, stepList);\n    if (currentStepInfo) {\n      if (currentStepInfo.type === EStepType.QUALITY_INSPECTION || currentStepInfo.type === EStepType.MANUAL_CORRECTION) {\n        return this.getCurrentStepInfo(currentStepInfo.dataSourceStep, stepList);\n      }\n    }\n    return currentStepInfo;\n  }\n  static getMaxOrder(result) {\n    let order = 0;\n    result.forEach((v) => {\n      if (v.order && v.order > order) {\n        order = v.order;\n      }\n    });\n    return order;\n  }\n  static hotkeyFilter(event) {\n    const target = event.target || event.srcElement;\n    if (!target) {\n      return true;\n    }\n    const {tagName, type} = target;\n    if (!tagName || !type) {\n      return true;\n    }\n    let flag = true;\n    if (target.isContentEditable || tagName === \"TEXTAREA\" || (tagName === \"INPUT\" && type !== \"radio\" || tagName === \"TEXTAREA\") && !target.readOnly) {\n      flag = false;\n    }\n    return flag;\n  }\n  static getCurrentOperation(toolName) {\n    switch (toolName) {\n      case EToolName.Rect:\n      case EToolName.RectTrack:\n        return RectOperation;\n      case EToolName.Tag:\n        return TagOperation;\n      case EToolName.Polygon:\n        return PolygonOperation;\n      case ECheckModel.Check:\n        return CheckOperation;\n      case EToolName.Line:\n        return LineToolOperation;\n      case EToolName.Point:\n        return PointOperation;\n      case EToolName.Text:\n        return TextToolOperation;\n      default:\n        throw new Error(\"not match tool\");\n    }\n  }\n  static getNextSelectedRectID(rectList, sort = ESortDirection.ascend, selectedID) {\n    let sign = 1;\n    if (sort === ESortDirection.descend) {\n      sign = -1;\n    }\n    const sortRectList = rectList.sort((a, b) => {\n      if (a.x - b.x === 0) {\n        return a.y - b.y;\n      }\n      return sign * (a.x - b.x);\n    });\n    const i = sortRectList.findIndex((v) => v.id === selectedID);\n    const len = sortRectList.length;\n    return sortRectList[(i + 1) % len];\n  }\n  static getNextSelectedRectIDByEvent(pointList, event, selectedID) {\n    const sortDirection = event.shiftKey ? ESortDirection.descend : ESortDirection.ascend;\n    return this.getNextSelectedRectID(pointList, sortDirection, selectedID);\n  }\n  static getRenderResultList(resultList, sourceID, attributeLockList = [], selectedID) {\n    let selectedRect;\n    const showingRect = resultList.filter((result) => {\n      if (selectedID && selectedID === (result == null ? void 0 : result.id)) {\n        selectedRect = result;\n        return false;\n      }\n      if (attributeLockList.length > 0 && !attributeLockList.includes(result == null ? void 0 : result.attribute)) {\n        return false;\n      }\n      if (this.isDifferSourceID(result == null ? void 0 : result.sourceID, sourceID)) {\n        return false;\n      }\n      return true;\n    });\n    return [showingRect, selectedRect];\n  }\n  static getSourceID(basicResult) {\n    var _a;\n    const defaultSourceID = \"\";\n    if (basicResult) {\n      return (_a = basicResult == null ? void 0 : basicResult.id) != null ? _a : defaultSourceID;\n    }\n    return defaultSourceID;\n  }\n  static findAllLine(pointList) {\n    const arr = [];\n    const newPoint = [...pointList];\n    if (newPoint.length >= 3) {\n      newPoint.push(__spreadValues$4({}, newPoint[0]));\n    }\n    for (let i = 0; i < newPoint.length; i++) {\n      if (newPoint[i + 1]) {\n        arr.push({\n          point1: newPoint[i],\n          point2: newPoint[i + 1],\n          pointIndex: i\n        });\n      }\n    }\n    return arr;\n  }\n  static translateSourceID(sourceID) {\n    if (sourceID === void 0 || sourceID === 0 || sourceID === \"0\") {\n      sourceID = \"\";\n    }\n    return sourceID;\n  }\n  static isDifferSourceID(sourceIDA, sourceIDB) {\n    sourceIDA = this.translateSourceID(sourceIDA);\n    sourceIDB = this.translateSourceID(sourceIDB);\n    return `${sourceIDA}` !== `${sourceIDB}`;\n  }\n  static isSameSourceID(sourceIDA, sourceIDB) {\n    sourceIDA = this.translateSourceID(sourceIDA);\n    sourceIDB = this.translateSourceID(sourceIDB);\n    return `${sourceIDA}` === `${sourceIDB}`;\n  }\n  static getNextMarker(resultList, markerList = [], markerIndex) {\n    if ((markerList == null ? void 0 : markerList.length) === 0) {\n      return void 0;\n    }\n    let newSortList = markerList.map((data, index) => __spreadProps$4(__spreadValues$4({}, data), {index}));\n    if (typeof markerIndex === \"number\" && markerIndex > 0) {\n      const markerInfo = markerList[markerIndex];\n      if (markerInfo && resultList.every((rect) => rect.label !== markerInfo.value)) {\n        return {label: markerInfo.value, index: markerIndex};\n      }\n      newSortList = [...newSortList.slice(markerIndex, markerList.length), ...newSortList.slice(0, markerIndex)];\n    }\n    for (let i = 0; i < newSortList.length; i++) {\n      if (resultList.some((rect) => rect.label === newSortList[i].value)) {\n        continue;\n      }\n      return {label: newSortList[i].value, index: newSortList[i].index};\n    }\n    return void 0;\n  }\n  static getCurrentMarkerIndex(label, markerList = []) {\n    return markerList.findIndex((marker) => label === marker.value);\n  }\n}\nCommonToolUtils.jsonParser = (content, defaultValue = {}) => {\n  try {\n    if (typeof content === \"string\") {\n      return JSON.parse(content);\n    }\n    return isObject(content) ? content : defaultValue;\n  } catch (e) {\n    return defaultValue;\n  }\n};\n\nclass PolygonUtils {\n  static getHoverPolygonID(checkPoint, polygonPoints, scope = 3, lineType = ELineTypes.Line) {\n    let hoverPolygonID = \"\";\n    let minSize = Infinity;\n    const axisList = AxisUtils.axisArea(checkPoint, scope);\n    polygonPoints.forEach((polygon) => {\n      if (polygon.pointList) {\n        axisList.forEach((v) => {\n          const size = this.calcPolygonSize(polygon.pointList);\n          if (this.isInPolygon(v, polygon.pointList, lineType) && size < minSize) {\n            hoverPolygonID = polygon.id;\n            minSize = size;\n          }\n        });\n      }\n    });\n    return hoverPolygonID;\n  }\n  static calcPolygonSize(pointList = []) {\n    if ((pointList == null ? void 0 : pointList.length) <= 2) {\n      return 0;\n    }\n    const len = pointList.length;\n    const size = pointList.reduce((acc, cur, index, src) => {\n      const nextVal = src[(index + 1) % len];\n      return acc + cur.x * nextVal.y - nextVal.x * cur.y;\n    }, 0);\n    return Math.abs(size) / 2;\n  }\n  static isInPolygon(checkPoint, polygonPoints, lineType = ELineTypes.Line) {\n    let counter = 0;\n    let i;\n    let xinters;\n    let p1;\n    let p2;\n    polygonPoints = [...polygonPoints];\n    if (lineType === ELineTypes.Curve) {\n      polygonPoints = this.createSmoothCurvePoints(polygonPoints.reduce((acc, cur) => {\n        return [...acc, cur.x, cur.y];\n      }, []), 0.5, true, 20);\n    }\n    [p1] = polygonPoints;\n    const pointCount = polygonPoints.length;\n    for (i = 1; i <= pointCount; i++) {\n      p2 = polygonPoints[i % pointCount];\n      if (checkPoint.x > Math.min(p1.x, p2.x) && checkPoint.x <= Math.max(p1.x, p2.x)) {\n        if (checkPoint.y <= Math.max(p1.y, p2.y)) {\n          if (p1.x !== p2.x) {\n            xinters = (checkPoint.x - p1.x) * (p2.y - p1.y) / (p2.x - p1.x) + p1.y;\n            if (p1.y === p2.y || checkPoint.y <= xinters) {\n              counter++;\n            }\n          }\n        }\n      }\n      p1 = p2;\n    }\n    if (counter % 2 === 0) {\n      return false;\n    }\n    return true;\n  }\n  static createSmoothCurvePointsFromPointList(pointList, numberOfSegments = SEGMENT_NUMBER$2) {\n    return this.createSmoothCurvePoints(pointList.reduce((acc, cur) => {\n      return [...acc, cur.x, cur.y];\n    }, []), 0.5, false, numberOfSegments);\n  }\n  static createSmoothCurvePoints(points, tension = 0.5, closed = false, numberOfSegments = SEGMENT_NUMBER$2) {\n    if (points.length < 4) {\n      return points;\n    }\n    const result = [];\n    const ps = points.slice(0);\n    let x;\n    let y;\n    let t1x;\n    let t2x;\n    let t1y;\n    let t2y;\n    let c1;\n    let c2;\n    let c3;\n    let c4;\n    let st;\n    let t;\n    let i;\n    if (closed) {\n      ps.unshift(points[points.length - 1]);\n      ps.unshift(points[points.length - 2]);\n      ps.unshift(points[points.length - 1]);\n      ps.unshift(points[points.length - 2]);\n      ps.push(points[0]);\n      ps.push(points[1]);\n    } else {\n      ps.unshift(points[1]);\n      ps.unshift(points[0]);\n      ps.push(points[points.length - 2]);\n      ps.push(points[points.length - 1]);\n    }\n    for (i = 2; i < ps.length - 4; i += 2) {\n      t1x = (ps[i + 2] - ps[i - 2]) * tension;\n      t2x = (ps[i + 4] - ps[i - 0]) * tension;\n      t1y = (ps[i + 3] - ps[i - 1]) * tension;\n      t2y = (ps[i + 5] - ps[i + 1]) * tension;\n      for (t = 0; t <= numberOfSegments; t++) {\n        st = t / numberOfSegments;\n        c1 = 2 * Math.pow(st, 3) - 3 * Math.pow(st, 2) + 1;\n        c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2);\n        c3 = Math.pow(st, 3) - 2 * Math.pow(st, 2) + st;\n        c4 = Math.pow(st, 3) - Math.pow(st, 2);\n        x = c1 * ps[i] + c2 * ps[i + 2] + c3 * t1x + c4 * t2x;\n        y = c1 * ps[i + 1] + c2 * ps[i + 3] + c3 * t1y + c4 * t2y;\n        result.push(x);\n        result.push(y);\n      }\n    }\n    const formatResult = [];\n    for (let j = 0; j < result.length - 1; j += 2) {\n      formatResult.push({\n        x: result[j],\n        y: result[j + 1]\n      });\n    }\n    if (closed) {\n      for (let m = 0; m < numberOfSegments + 1; m++) {\n        const d = formatResult.shift();\n        formatResult.push(d);\n      }\n    }\n    return formatResult;\n  }\n  static getPolygonByID(polygonList, id) {\n    return polygonList.find((polygon) => polygon.id === id);\n  }\n  static getHoverEdgeIndex(checkPoint, pointList, lineType = ELineTypes.Line, scope = 3) {\n    let points = [...pointList];\n    if (lineType === ELineTypes.Curve) {\n      points = this.createSmoothCurvePoints(pointList.reduce((acc, cur) => {\n        return [...acc, cur.x, cur.y];\n      }, []), 0.5, true, SEGMENT_NUMBER$2);\n    } else if (lineType === ELineTypes.Line) {\n      points.push(points[0]);\n    }\n    let edgeIndex = -1;\n    let minLength = scope;\n    for (let i = 0; i < points.length - 1; i++) {\n      const {length} = MathUtils.getFootOfPerpendicular(checkPoint, points[i], points[i + 1]);\n      if (length < minLength) {\n        edgeIndex = i;\n        minLength = length;\n      }\n    }\n    if (edgeIndex === -1) {\n      return -1;\n    }\n    if (lineType === ELineTypes.Curve) {\n      return Math.floor(edgeIndex / SEGMENT_NUMBER$2);\n    }\n    return edgeIndex;\n  }\n  static getClosestPoint(coordinate, polygonList, lineType = ELineTypes.Line, range = 3) {\n    let closestPolygonID = \"\";\n    let closestEdgeIndex = -1;\n    let min = Infinity;\n    let dropFoot = coordinate;\n    const numberOfSegments = 20;\n    polygonList.forEach((v) => {\n      if (!v.pointList) {\n        return;\n      }\n      switch (lineType) {\n        case ELineTypes.Line:\n          {\n            const allLine = CommonToolUtils.findAllLine(v.pointList);\n            allLine.forEach((line, lineIndex) => {\n              const {length, footPoint} = MathUtils.getFootOfPerpendicular(coordinate, line.point1, line.point2);\n              if (length < min && length < range) {\n                closestPolygonID = v.id;\n                closestEdgeIndex = lineIndex;\n                min = length;\n                dropFoot = footPoint;\n              }\n            });\n          }\n          break;\n        case ELineTypes.Curve:\n          {\n            const points = this.createSmoothCurvePoints(v.pointList.reduce((acc, cur) => {\n              return [...acc, cur.x, cur.y];\n            }, []), 0.5, true, numberOfSegments);\n            for (let i = 0; i < points.length - 1; i++) {\n              const {length, footPoint} = MathUtils.getFootOfPerpendicular(coordinate, points[i], points[i + 1]);\n              if (length < min && length < range) {\n                closestPolygonID = v.id;\n                closestEdgeIndex = Math.floor(i / (numberOfSegments + 1));\n                min = length;\n                dropFoot = footPoint;\n              }\n            }\n          }\n          break;\n      }\n    });\n    return {dropFoot, closestEdgeIndex, closestPolygonID};\n  }\n  static isPointListInPolygon(pointList, polygonPoints, lineType = ELineTypes.Line) {\n    return pointList.every((v) => this.isInPolygon(v, polygonPoints, lineType));\n  }\n  static isPointListOutSidePolygon(pointList, polygonPoints, lineType = ELineTypes.Line) {\n    return pointList.some((v) => !this.isInPolygon(v, polygonPoints, lineType));\n  }\n  static getPolygonArea(pointList) {\n    let total = 0;\n    for (let i = 0, l = pointList.length; i < l; i++) {\n      const addX = pointList[i].x;\n      const addY = pointList[i === pointList.length - 1 ? 0 : i + 1].y;\n      const subX = pointList[i === pointList.length - 1 ? 0 : i + 1].x;\n      const subY = pointList[i].y;\n      total += addX * addY * 0.5;\n      total -= subX * subY * 0.5;\n    }\n    return Math.abs(total);\n  }\n}\n\nvar __defProp$3 = Object.defineProperty;\nvar __defProps$3 = Object.defineProperties;\nvar __getOwnPropDescs$3 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$3 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$3 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$3.call(b, prop))\n      __defNormalProp$3(a, prop, b[prop]);\n  if (__getOwnPropSymbols$3)\n    for (var prop of __getOwnPropSymbols$3(b)) {\n      if (__propIsEnum$3.call(b, prop))\n        __defNormalProp$3(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$3 = (a, b) => __defProps$3(a, __getOwnPropDescs$3(b));\nclass AxisUtils {\n  static getOffsetCoordinate(coordinate, currentPos, zoom) {\n    return {\n      x: coordinate.x * zoom + currentPos.x,\n      y: coordinate.y * zoom + currentPos.y\n    };\n  }\n  static changeDrawOutsideTarget(coord, currentPos, imgInfo, drawOutsideTarget, basicResult, zoom) {\n    if (typeof drawOutsideTarget === \"boolean\" && !drawOutsideTarget) {\n      if (basicResult && zoom) {\n        if (coord.x - currentPos.x > (basicResult.x + basicResult.width) * zoom) {\n          coord.x = (basicResult.x + basicResult.width) * zoom + currentPos.x;\n        }\n        if (coord.x - currentPos.x < basicResult.x * zoom) {\n          coord.x = basicResult.x * zoom + currentPos.x;\n        }\n        if (coord.y - currentPos.y > (basicResult.y + basicResult.height) * zoom) {\n          coord.y = (basicResult.y + basicResult.height) * zoom + currentPos.y;\n        }\n        if (coord.y - currentPos.y < basicResult.y * zoom) {\n          coord.y = basicResult.y * zoom + currentPos.y;\n        }\n      } else {\n        if (coord.x - currentPos.x > imgInfo.width) {\n          coord.x = imgInfo.width + currentPos.x;\n        }\n        if (coord.x - currentPos.x < 0) {\n          coord.x = currentPos.x;\n        }\n        if (coord.y - currentPos.y > imgInfo.height) {\n          coord.y = imgInfo.height + currentPos.y;\n        }\n        if (coord.y - currentPos.y < 0) {\n          coord.y = currentPos.y;\n        }\n      }\n    }\n    return coord;\n  }\n  static changeCoordinateByRotate(coordinate, rotate, imgSize) {\n    const {width, height} = imgSize;\n    const {x, y} = coordinate;\n    switch (rotate % 360) {\n      case 90:\n        return {\n          x: height - y,\n          y: x\n        };\n      case 180:\n        return {\n          x: width - x,\n          y: height - y\n        };\n      case 270:\n        return {\n          x: y,\n          y: width - x\n        };\n      default:\n        return coordinate;\n    }\n  }\n  static changeRectByZoom(rect, zoom, currentPos = {x: 0, y: 0}) {\n    return __spreadProps$3(__spreadValues$3({}, rect), {\n      x: rect.x * zoom + currentPos.x,\n      y: rect.y * zoom + currentPos.y,\n      width: rect.width * zoom,\n      height: rect.height * zoom\n    });\n  }\n  static changePointByZoom(point, zoom, currentPos = {x: 0, y: 0}) {\n    return __spreadProps$3(__spreadValues$3({}, point), {\n      x: point.x * zoom + currentPos.x,\n      y: point.y * zoom + currentPos.y\n    });\n  }\n  static changePointListByZoom(pointList, zoom, currentPos = {x: 0, y: 0}) {\n    return pointList.map((point) => {\n      return this.changePointByZoom(point, zoom, currentPos);\n    });\n  }\n  static axisArea(axis, radius = 3) {\n    const {x, y} = axis;\n    const axisArray = [];\n    for (let cX = x - radius; cX < x + radius; cX += radius / 3) {\n      for (let cY = y - radius; cY < y + radius; cY += radius / 3) {\n        axisArray.push({x: cX, y: cY});\n      }\n    }\n    return axisArray;\n  }\n  static getOriginCoordinateWithOffsetCoordinate(coord, zoom = 1, currentPos = {\n    x: 0,\n    y: 0\n  }) {\n    return {\n      x: (coord.x - currentPos.x) / zoom,\n      y: (coord.y - currentPos.y) / zoom\n    };\n  }\n  static returnClosePointIndex(checkPoint, polygonPoints, scope = 3) {\n    let pointIndex = -1;\n    for (let i = 0; i < polygonPoints.length; i++) {\n      const data = polygonPoints[i];\n      if (this.getIsInScope(checkPoint, data, scope)) {\n        pointIndex = i;\n      }\n    }\n    return pointIndex;\n  }\n  static getIsInScope(currentCoord, targetCoord, scope) {\n    if (Math.abs(currentCoord.x - targetCoord.x) < scope && Math.abs(currentCoord.y - targetCoord.y) < scope) {\n      return true;\n    }\n    return false;\n  }\n}\nclass CoordinateUtils {\n  constructor(props) {\n    this.currentPos = props.currentPos;\n    this.zoom = props.zoom;\n    this.basicImgInfo = props.basicImgInfo;\n    this.dependToolName = \"\";\n  }\n  get isDependPolygon() {\n    return this.dependToolName === EToolName.Polygon;\n  }\n  get isDependRect() {\n    return this.dependToolName === EToolName.Rect;\n  }\n  get isDependOriginalImage() {\n    return this.dependToolName === \"\";\n  }\n  getAbsCoord(renderCoord) {\n    return {\n      x: (renderCoord.x - this.currentPos.x) / this.zoom,\n      y: (renderCoord.y - this.currentPos.y) / this.zoom\n    };\n  }\n  getRenderCoord(absCoord) {\n    return {\n      x: absCoord.x * this.zoom + this.currentPos.x,\n      y: absCoord.y * this.zoom + this.currentPos.y\n    };\n  }\n  coordInsideRect(absCoord, rect) {\n    const {x, y, width, height} = rect;\n    return {\n      x: MathUtils.withinRange(absCoord.x, [x, x + width]),\n      y: MathUtils.withinRange(absCoord.y, [y, y + height])\n    };\n  }\n  getPolygonPointList(lineType, pointList) {\n    return lineType === ELineTypes.Curve ? PolygonUtils.createSmoothCurvePointsFromPointList(pointList) : pointList;\n  }\n  getIntersection(curCoord, preCoord, polygonPointListToLineList) {\n    const pointA = this.getRenderCoord(preCoord);\n    const pointB = this.getRenderCoord(curCoord);\n    const drawingLine = {\n      pointA,\n      pointB\n    };\n    const intersection = LineToolUtils.calcOptimalIntersection(polygonPointListToLineList, drawingLine, pointA, POINT_RADIUS$1, this.zoom);\n    return intersection;\n  }\n  coordInsidePolygon(curCoord, preCoord, polygon, polygonToolConfig) {\n    const {pointList} = polygon;\n    const lineType = polygonToolConfig == null ? void 0 : polygonToolConfig.lineType;\n    if (pointList.length === 0) {\n      return curCoord;\n    }\n    const polygonPointList = this.getPolygonPointList(lineType, pointList);\n    const isInPolygon = PolygonUtils.isInPolygon(curCoord, polygonPointList);\n    if (isInPolygon) {\n      return curCoord;\n    }\n    const polygonPointListToLineList = polygonPointList.concat(polygonPointList[0]).map((i) => this.getRenderCoord(i));\n    const intersection = this.getIntersection(curCoord, preCoord, polygonPointListToLineList);\n    if (intersection) {\n      return this.getAbsCoord(intersection == null ? void 0 : intersection.point);\n    }\n    return curCoord;\n  }\n  coordInsideImage(coord) {\n    return this.coordInsideRect(coord, __spreadProps$3(__spreadValues$3({}, this.basicImgInfo), {x: 0, y: 0}));\n  }\n  getNextCoordByDependTool(curAbsCoord, preAbsCoord) {\n    if (this.isDependRect) {\n      return this.coordInsideRect(curAbsCoord, this.basicResult);\n    }\n    if (this.isDependPolygon) {\n      return this.coordInsidePolygon(curAbsCoord, preAbsCoord, this.basicResult, this.dependToolConfig);\n    }\n    if (this.isDependOriginalImage) {\n      return this.coordInsideImage(curAbsCoord);\n    }\n  }\n  setDependInfo(dependToolName, dependToolConfig) {\n    this.dependToolName = dependToolName != null ? dependToolName : \"\";\n    this.dependToolConfig = dependToolName ? dependToolConfig : void 0;\n  }\n  setBasicImgInfo(basicImgInfo) {\n    this.basicImgInfo = basicImgInfo;\n  }\n  setBasicResult(basicResult) {\n    this.basicResult = basicResult;\n  }\n  setZoomAndCurrentPos(zoom, currentPos) {\n    this.zoom = zoom;\n    this.currentPos = currentPos;\n  }\n  isCoordInsideTarget(coord) {\n    if (this.isDependPolygon) {\n      return this.isInBasicPolygon(coord);\n    }\n    if (this.isDependRect) {\n      const {x, y, width, height} = this.basicResult;\n      const rectHorizontalRange = [x, x + width];\n      const rectVerticalRange = [y, y + height];\n      return MathUtils.isInRange(coord.x, rectHorizontalRange) && MathUtils.isInRange(coord.y, rectVerticalRange);\n    }\n    return MathUtils.isInRange(coord.x, [0, this.basicImgInfo.width]) && MathUtils.isInRange(coord.y, [0, this.basicImgInfo.height]);\n  }\n  isInBasicPolygon(coord) {\n    var _a, _b;\n    return PolygonUtils.isInPolygon(coord, ((_a = this.basicResult) == null ? void 0 : _a.pointList) || [], (_b = this.dependToolConfig) == null ? void 0 : _b.lineType);\n  }\n}\n\nclass MarkerUtils {\n  static getMarkerShowText(marker, markerList = []) {\n    return AttributeUtils.getAttributeShowText(marker, markerList);\n  }\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __defProps$2 = Object.defineProperties;\nvar __getOwnPropDescs$2 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$2 = (a, b) => __defProps$2(a, __getOwnPropDescs$2(b));\nconst scope = 6;\nclass RectOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.setMarkerIndex = (markerIndex) => {\n      this.markerIndex = markerIndex;\n    };\n    this.setMarkerIndexAndSelect = (markerIndex) => {\n      if (!this.config.markerList) {\n        return;\n      }\n      this.markerIndex = markerIndex;\n      const markerValue = this.config.markerList[markerIndex].value;\n      const currentRect = this.rectList.find((rect) => rect.label === markerValue);\n      if (currentRect) {\n        this.setSelectedID(currentRect.id);\n        if (this.config.attributeConfigurable === true) {\n          this.setDefaultAttribute(currentRect.attribute);\n        }\n      }\n      this.emit(\"markIndexChange\");\n    };\n    this.getHoverRectID = (e) => {\n      const coordinate = this.getCoordinateUnderZoom(e);\n      const newScope = scope;\n      const {currentShowList} = this;\n      if (currentShowList.length > 0) {\n        if (this.selectedRectID) {\n          const {selectedRect} = this;\n          if (selectedRect) {\n            if (RectUtils.isInRect(coordinate, selectedRect, newScope, this.zoom)) {\n              return selectedRect.id;\n            }\n          }\n        }\n        const hoverList = currentShowList.filter((rect) => RectUtils.isInRect(coordinate, rect, newScope, this.zoom));\n        if (hoverList.length === 0) {\n          return \"\";\n        }\n        if (hoverList.length === 1) {\n          return hoverList[0].id;\n        }\n        if (hoverList.length > 1) {\n          const rectSizeList = hoverList.map((rect) => ({size: rect.width * rect.height, id: rect.id})).sort((a, b) => a.size - b.size);\n          return rectSizeList[0].id;\n        }\n      }\n      return \"\";\n    };\n    this.textChange = (v) => {\n      if (this.config.textConfigurable === false || !this.selectedRectID) {\n        return;\n      }\n      this.setRectList(AttributeUtils.textChange(v, this.selectedRectID, this.rectList), true);\n      this.emit(\"selectedChange\");\n      this.render();\n    };\n    this.drawOutSideTarget = props.drawOutSideTarget || false;\n    this.rectList = [];\n    this.isFlow = true;\n    this.config = CommonToolUtils.jsonParser(props.config);\n    this.hoverRectEdgeIndex = -1;\n    this.hoverRectPointIndex = -1;\n    this.markerIndex = 0;\n    this.setStyle(props.style);\n    this.createNewDrawingRect = this.createNewDrawingRect.bind(this);\n    this.getDrawingRectWithRectList = this.getDrawingRectWithRectList.bind(this);\n    this.setSelectedIdAfterAddingDrawingRect = this.setSelectedIdAfterAddingDrawingRect.bind(this);\n    this.getCurrentSelectedData = this.getCurrentSelectedData.bind(this);\n    this.updateSelectedRectTextAttribute = this.updateSelectedRectTextAttribute.bind(this);\n    this.setSelectedID = this.setSelectedID.bind(this);\n  }\n  setResult(rectList) {\n    this.clearActiveStatus();\n    this.setRectList(rectList);\n    if (this.hasMarkerConfig) {\n      const nextMarkerInfo = CommonToolUtils.getNextMarker(rectList, this.config.markerList);\n      if (nextMarkerInfo) {\n        this.setMarkerIndex(nextMarkerInfo.index);\n      }\n    }\n    this.render();\n  }\n  destroy() {\n    super.destroy();\n    if (this._textAttributInstance) {\n      this._textAttributInstance.clearTextAttribute();\n    }\n  }\n  setConfig(config, isClear = false) {\n    this.config = CommonToolUtils.jsonParser(config);\n    if (isClear === true) {\n      this.clearResult(false);\n    }\n  }\n  setRectList(rectList, isUpload = false) {\n    const oldLen = this.rectList.length;\n    this.rectList = rectList;\n    if (oldLen !== rectList.length) {\n      this.emit(\"updatePageNumber\");\n    }\n    if (isUpload) {\n      this.emit(\"updateResult\");\n    }\n  }\n  get selectedRect() {\n    return this.rectList.find((v) => v.id === this.selectedRectID);\n  }\n  get selectedID() {\n    return this.selectedRectID;\n  }\n  get selectedText() {\n    var _a;\n    return (_a = this.selectedRect) == null ? void 0 : _a.textAttribute;\n  }\n  get dataList() {\n    return this.rectList;\n  }\n  get currentShowList() {\n    let rect = [];\n    const [showingRect, selectedRect] = CommonToolUtils.getRenderResultList(this.rectList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedID);\n    rect = showingRect;\n    if (this.isHidden) {\n      rect = [];\n    }\n    if (selectedRect) {\n      rect.push(selectedRect);\n    }\n    return rect;\n  }\n  get currentPageResult() {\n    const [showingRect] = CommonToolUtils.getRenderResultList(this.rectList, CommonToolUtils.getSourceID(this.basicResult), []);\n    return showingRect;\n  }\n  get hasMarkerConfig() {\n    return this.config.markerConfigurable === true && this.config.markerList && this.config.markerList.length > 0;\n  }\n  setSelectedID(newID) {\n    this.setSelectedRectID(newID);\n  }\n  setSelectedRectID(newID) {\n    var _a, _b;\n    const oldID = this.selectedRectID;\n    if (newID !== oldID && oldID) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.changeSelected();\n    }\n    if (!newID) {\n      (_b = this._textAttributInstance) == null ? void 0 : _b.clearTextAttribute();\n    }\n    this.selectedRectID = newID;\n    this.render();\n    this.emit(\"selectedChange\");\n  }\n  setStyle(toolStyle) {\n    var _a;\n    super.setStyle(toolStyle);\n    if (this._textAttributInstance && this.config.attributeConfigurable === false) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.updateIcon(this.getTextIconSvg());\n    }\n  }\n  updateSelectedRectTextAttribute(newTextAttribute) {\n    if (this._textAttributInstance && newTextAttribute) {\n      let textAttribute = newTextAttribute;\n      if (AttributeUtils.textAttributeValidate(this.config.textCheckType, \"\", textAttribute) === false) {\n        this.emit(\"messageError\", AttributeUtils.getErrorNotice(this.config.textCheckType, this.lang));\n        textAttribute = \"\";\n      }\n      this.setRectList(this.rectList.map((v) => {\n        if (v.id === this.selectedRectID) {\n          return __spreadProps$2(__spreadValues$2({}, v), {\n            textAttribute\n          });\n        }\n        return v;\n      }), true);\n      this.emit(\"updateTextAttribute\");\n      this.render();\n    }\n  }\n  getHoverRectPointIndex(e) {\n    if (!this.selectedRect) {\n      return -1;\n    }\n    return AxisUtils.returnClosePointIndex(this.getCoordinateUnderZoom(e), RectUtils.getRectPointList(this.selectedRect, this.zoom), scope + 2);\n  }\n  getHoverRectEdgeIndex(e) {\n    if (!this.selectedRect) {\n      return -1;\n    }\n    let edgeIndex = -1;\n    const {selectedRect} = this;\n    const edgeList = RectUtils.getRectEdgeList(selectedRect, this.zoom);\n    const coordinate = this.getCoordinateUnderZoom(e);\n    for (let i = 0; i < edgeList.length; i++) {\n      const edge = edgeList[i];\n      const {length} = MathUtils.getFootOfPerpendicular(coordinate, edge.begin, edge.end);\n      if (length < scope + 10) {\n        edgeIndex = i;\n      }\n    }\n    return edgeIndex;\n  }\n  getTextIconSvg(attribute = \"\") {\n    return AttributeUtils.getTextIconSvg(attribute, this.config.attributeList, this.config.attributeConfigurable, this.baseIcon);\n  }\n  onMouseDown(e) {\n    if (super.onMouseDown(e) || this.forbidMouseOperation || e.ctrlKey === true) {\n      return;\n    }\n    const dragStartCoord = this.getCoordinateUnderZoom(e);\n    const hoverRectID = this.getHoverRectID(e);\n    const firstRect = this.currentShowList.find((v) => v.id === this.selectedRectID);\n    if (!firstRect || e.button === 2 || e.button === 0 && this.isSpaceKey === true) {\n      return;\n    }\n    if (this.selectedRectID) {\n      if (this.getHoverRectPointIndex(e) > -1) {\n        const dragTarget = EDragTarget$1.Point;\n        this.dragInfo = {\n          dragStartCoord,\n          dragTarget,\n          startTime: +new Date(),\n          firstRect\n        };\n        this.dragStatus = EDragStatus.Start;\n        return;\n      }\n      if (this.getHoverRectEdgeIndex(e) > -1) {\n        const dragTarget = EDragTarget$1.Line;\n        this.dragInfo = {\n          dragStartCoord,\n          dragTarget,\n          startTime: +new Date(),\n          firstRect\n        };\n        this.dragStatus = EDragStatus.Start;\n        return;\n      }\n    }\n    if (hoverRectID === this.selectedRectID && !this.drawingRect) {\n      const dragTarget = EDragTarget$1.Plane;\n      this.dragInfo = {\n        dragStartCoord,\n        dragTarget,\n        firstRect,\n        startTime: +new Date()\n      };\n      this.dragStatus = EDragStatus.Start;\n    }\n    return void 0;\n  }\n  onDragMove(coordinate) {\n    var _a, _b, _c, _d, _e, _f;\n    if (!this.dragInfo) {\n      return;\n    }\n    this.dragStatus = EDragStatus.Move;\n    const dragRect = RectUtils.getRectUnderZoom(this.dragInfo.firstRect, this.zoom);\n    const {x, y, width, height} = dragRect;\n    const offset = {\n      x: coordinate.x - this.dragInfo.dragStartCoord.x,\n      y: coordinate.y - this.dragInfo.dragStartCoord.y\n    };\n    let selectedRect = this.rectList.filter((v) => v.id === this.selectedRectID)[0];\n    switch (this.dragInfo.dragTarget) {\n      case EDragTarget$1.Plane:\n        selectedRect = __spreadProps$2(__spreadValues$2({}, selectedRect), {\n          x: x + offset.x,\n          y: y + offset.y,\n          width,\n          height\n        });\n        break;\n      case EDragTarget$1.Point:\n        {\n          let newX = x;\n          let newY = y;\n          let newWidth = width;\n          let newHeight = height;\n          switch (this.hoverRectPointIndex) {\n            case 0: {\n              newX = width - offset.x < 0 ? x + width : x + offset.x;\n              newY = height - offset.y < 0 ? y + height : y + offset.y;\n              newWidth = Math.abs(offset.x - width);\n              newHeight = Math.abs(offset.y - height);\n              break;\n            }\n            case 1: {\n              newX = width + offset.x > 0 ? x : x + width + offset.x;\n              newY = height - offset.y < 0 ? y + height : y + offset.y;\n              newWidth = Math.abs(width + offset.x);\n              newHeight = Math.abs(height - offset.y);\n              break;\n            }\n            case 2: {\n              newX = width + offset.x > 0 ? x : x + width + offset.x;\n              newY = height + offset.y > 0 ? y : y + height + offset.y;\n              newWidth = Math.abs(width + offset.x);\n              newHeight = height + offset.y > 0 ? height + offset.y : Math.abs(height + offset.y);\n              break;\n            }\n            case 3: {\n              newX = width - offset.x < 0 ? x + width : x + offset.x;\n              newY = height + offset.y > 0 ? y : y + height + offset.y;\n              newWidth = Math.abs(offset.x - width);\n              newHeight = height + offset.y > 0 ? height + offset.y : Math.abs(height + offset.y);\n              break;\n            }\n            default: {\n              return;\n            }\n          }\n          selectedRect = __spreadProps$2(__spreadValues$2({}, selectedRect), {\n            x: newX,\n            y: newY,\n            width: newWidth,\n            height: newHeight\n          });\n        }\n        break;\n      case EDragTarget$1.Line: {\n        let newX = x;\n        let newY = y;\n        let newWidth = width;\n        let newHeight = height;\n        switch (this.hoverRectEdgeIndex) {\n          case 0: {\n            newY = height - offset.y < 0 ? y + height : y + offset.y;\n            newHeight = Math.abs(offset.y - height);\n            break;\n          }\n          case 1: {\n            newX = width + offset.x > 0 ? x : x + width + offset.x;\n            newWidth = Math.abs(width + offset.x);\n            break;\n          }\n          case 2: {\n            newY = height + offset.y > 0 ? y : y + height + offset.y;\n            newHeight = height + offset.y > 0 ? height + offset.y : Math.abs(height + offset.y);\n            break;\n          }\n          case 3: {\n            newX = width - offset.x < 0 ? x + width : x + offset.x;\n            newWidth = Math.abs(offset.x - width);\n            break;\n          }\n          default: {\n            return;\n          }\n        }\n        selectedRect = __spreadProps$2(__spreadValues$2({}, selectedRect), {\n          x: newX,\n          y: newY,\n          width: newWidth,\n          height: newHeight\n        });\n        break;\n      }\n      default: {\n        return;\n      }\n    }\n    if (this.config.drawOutsideTarget === false) {\n      if (this.basicResult) {\n        if (((_b = (_a = this.basicResult) == null ? void 0 : _a.pointList) == null ? void 0 : _b.length) > 0) {\n          if (RectUtils.isRectNotInPolygon(selectedRect, getPolygonPointUnderZoom(this.basicResult.pointList, this.zoom))) {\n            return;\n          }\n        }\n        const basicX = this.basicResult.x * this.zoom;\n        const basicY = this.basicResult.y * this.zoom;\n        const basicWidth = this.basicResult.width * this.zoom;\n        const basicHeight = this.basicResult.height * this.zoom;\n        if (this.dragInfo.dragTarget !== EDragTarget$1.Plane && (selectedRect.x < basicX - 0.01 || selectedRect.y < basicY - 0.01 || selectedRect.width > basicX + basicWidth - selectedRect.x + 0.01 || selectedRect.height > basicY + basicHeight - selectedRect.y + 0.01)) {\n          return;\n        }\n        if (selectedRect.x < basicX) {\n          selectedRect.x = basicX;\n        }\n        if (selectedRect.y < basicY) {\n          selectedRect.y = basicY;\n        }\n        if (selectedRect.width > basicX + basicWidth - selectedRect.x) {\n          switch (this.dragInfo.dragTarget) {\n            case EDragTarget$1.Plane:\n              selectedRect.x = basicX + basicWidth - width;\n              break;\n            case EDragTarget$1.Point:\n            case EDragTarget$1.Line:\n              if (offset.x > 0 && offset.y > 0) {\n                selectedRect.width = basicX + basicWidth - selectedRect.x;\n              }\n              break;\n            default: {\n              return;\n            }\n          }\n        }\n        if (selectedRect.height > basicY + basicHeight - selectedRect.y) {\n          switch (this.dragInfo.dragTarget) {\n            case EDragTarget$1.Plane:\n              selectedRect.y = basicY + basicHeight - height;\n              break;\n          }\n        }\n      } else {\n        if (selectedRect.x < 0) {\n          selectedRect.x = 0;\n        }\n        if (selectedRect.y < 0) {\n          selectedRect.y = 0;\n        }\n        if (this.imgInfo) {\n          switch (this.dragInfo.dragTarget) {\n            case EDragTarget$1.Plane:\n              if (selectedRect.x + selectedRect.width > ((_c = this.imgInfo) == null ? void 0 : _c.width)) {\n                selectedRect.x = this.imgInfo.width - width;\n              }\n              if (selectedRect.y + selectedRect.height > ((_d = this.imgInfo) == null ? void 0 : _d.height)) {\n                selectedRect.y = this.imgInfo.height - height;\n              }\n              break;\n            default: {\n              if (selectedRect.x + selectedRect.width > ((_e = this.imgInfo) == null ? void 0 : _e.width) || selectedRect.y + selectedRect.height > ((_f = this.imgInfo) == null ? void 0 : _f.height)) {\n                return;\n              }\n            }\n          }\n        }\n      }\n    }\n    this.setRectList(this.rectList.map((v) => {\n      if (v.id === selectedRect.id) {\n        return RectUtils.getRectUnderZoom(selectedRect, 1 / this.zoom);\n      }\n      return v;\n    }));\n    this.render();\n  }\n  onMouseMove(e) {\n    var _a, _b;\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    const coordinateZoom = this.getCoordinateUnderZoom(e);\n    const coordinate = AxisUtils.changeDrawOutsideTarget(coordinateZoom, {x: 0, y: 0}, this.imgInfo, this.config.drawOutsideTarget, this.basicResult, this.zoom);\n    if (this.selectedRectID && this.dragInfo) {\n      this.onDragMove(coordinate);\n      return;\n    }\n    if (this.selectedRectID) {\n      const hoverRectPointIndex = this.getHoverRectPointIndex(e);\n      if (hoverRectPointIndex !== this.hoverRectPointIndex) {\n        this.hoverRectPointIndex = hoverRectPointIndex;\n        this.hoverRectEdgeIndex = -1;\n        this.render();\n        return;\n      }\n      if (this.hoverRectPointIndex === -1) {\n        const hoverRectEdgeIndex = this.getHoverRectEdgeIndex(e);\n        if (hoverRectEdgeIndex !== this.hoverRectEdgeIndex) {\n          this.hoverRectEdgeIndex = hoverRectEdgeIndex;\n          this.render();\n          return;\n        }\n      }\n    }\n    const hoverRectID = this.getHoverRectID(e);\n    const oldHoverRectID = this.hoverRectID;\n    this.hoverRectID = hoverRectID;\n    if (hoverRectID !== oldHoverRectID) {\n      this.render();\n    }\n    if (this.drawingRect && this.firstClickCoord) {\n      let {x, y} = this.firstClickCoord;\n      let {width, height} = this.drawingRect;\n      width = Math.abs(x - coordinate.x);\n      height = Math.abs(y - coordinate.y);\n      if (coordinate.x < x) {\n        x = coordinate.x;\n      }\n      if (coordinate.y < y) {\n        y = coordinate.y;\n      }\n      if (this.config.drawOutsideTarget === false) {\n        if (((_b = (_a = this.basicResult) == null ? void 0 : _a.pointList) == null ? void 0 : _b.length) > 0) {\n          if (RectUtils.isRectNotInPolygon(__spreadProps$2(__spreadValues$2({}, this.drawingRect), {\n            x,\n            y,\n            width,\n            height\n          }), getPolygonPointUnderZoom(this.basicResult.pointList, this.zoom))) {\n            return;\n          }\n        }\n        if (coordinate.x < 0) {\n          width = Math.abs(this.firstClickCoord.x);\n          x = 0;\n        }\n        if (coordinate.y < 0) {\n          height = Math.abs(this.firstClickCoord.y);\n          y = 0;\n        }\n        if (this.imgInfo) {\n          if (x + width > this.imgInfo.width) {\n            width = Math.abs(this.imgInfo.width - x);\n          }\n          if (y + height > this.imgInfo.height) {\n            height = Math.abs(this.imgInfo.height - y);\n          }\n        }\n      }\n      this.drawingRect = __spreadProps$2(__spreadValues$2({}, this.drawingRect), {\n        x,\n        y,\n        width,\n        height\n      });\n      this.render();\n    }\n    return void 0;\n  }\n  setAttributeLockList(attributeLockList) {\n    this.setSelectedRectID(void 0);\n    super.setAttributeLockList(attributeLockList);\n  }\n  setBasicResult(basicResult) {\n    super.setBasicResult(basicResult);\n    this.clearActiveStatus();\n  }\n  setRectValidAndRender(id) {\n    if (!id) {\n      return;\n    }\n    this.setRectList(this.rectList.map((rect) => {\n      if (rect.id === id) {\n        return __spreadProps$2(__spreadValues$2({}, rect), {\n          valid: !rect.valid\n        });\n      }\n      return rect;\n    }), true);\n    this.render();\n    this.emit(\"updateResult\");\n  }\n  createNewDrawingRect(e, basicSourceID) {\n    if (!this.imgInfo) {\n      return;\n    }\n    const coordinateZoom = this.getCoordinateUnderZoom(e);\n    const coordinate = AxisUtils.changeDrawOutsideTarget(coordinateZoom, {x: 0, y: 0}, this.imgInfo, this.config.drawOutsideTarget, this.basicResult, this.zoom);\n    this.setSelectedRectID(\"\");\n    this.hoverRectID = \"\";\n    if (this.drawOutSideTarget) {\n      if (coordinate.x < 0) {\n        coordinate.x = 0;\n      }\n      if (coordinate.y < 0) {\n        coordinate.y = 0;\n      }\n    }\n    this.drawingRect = __spreadProps$2(__spreadValues$2({}, coordinate), {\n      width: 0,\n      height: 0,\n      attribute: this.defaultAttribute,\n      valid: !e.ctrlKey,\n      id: uuid(8, 62),\n      sourceID: basicSourceID,\n      textAttribute: \"\"\n    });\n    if (this.hasMarkerConfig) {\n      const nextMarkInfo = CommonToolUtils.getNextMarker(this.rectList, this.config.markerList, this.markerIndex);\n      if (nextMarkInfo) {\n        if (this.drawingRect) {\n          this.drawingRect = __spreadProps$2(__spreadValues$2({}, this.drawingRect), {\n            label: nextMarkInfo.label\n          });\n        }\n        this.markerIndex = nextMarkInfo.index;\n        this.emit(\"markIndexChange\");\n      } else {\n        this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.MarkerFinish, this.lang));\n        this.drawingRect = void 0;\n        return;\n      }\n    }\n    if (this.config.textConfigurable) {\n      let textAttribute = \"\";\n      textAttribute = AttributeUtils.getTextAttribute(this.rectList.filter((rect) => CommonToolUtils.isSameSourceID(rect.sourceID, basicSourceID)), this.config.textCheckType);\n      if (this.drawingRect) {\n        this.drawingRect = __spreadProps$2(__spreadValues$2({}, this.drawingRect), {\n          textAttribute\n        });\n      }\n    }\n    Object.assign(this.drawingRect, {\n      order: CommonToolUtils.getMaxOrder(this.rectList.filter((v) => CommonToolUtils.isSameSourceID(v.sourceID, basicSourceID))) + 1\n    });\n    this.firstClickCoord = __spreadValues$2({}, coordinate);\n    this.firstCurrentPos = __spreadValues$2({}, this.currentPos);\n  }\n  addDrawingRectToRectList() {\n    if (!this.drawingRect) {\n      return;\n    }\n    let {width, height} = this.drawingRect;\n    width /= this.zoom;\n    height /= this.zoom;\n    if (Math.round(width) < this.config.minWidth || Math.round(height) < this.config.minHeight) {\n      this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.RectErrorSizeNotice, this.lang));\n      this.drawingRect = void 0;\n      this.firstClickCoord = void 0;\n      this.dragInfo = void 0;\n      this.dragStatus = EDragStatus.Wait;\n      this.render();\n      return;\n    }\n    const newRectList = this.getDrawingRectWithRectList();\n    this.setRectList(newRectList, true);\n    this.history.pushHistory(this.rectList);\n    this.setSelectedIdAfterAddingDrawingRect();\n    this.firstClickCoord = void 0;\n    this.drawingRect = void 0;\n    this.dragInfo = void 0;\n    this.dragStatus = EDragStatus.Wait;\n  }\n  setSelectedIdAfterAddingDrawingRect() {\n    if (!this.drawingRect) {\n      return;\n    }\n    if (this.config.textConfigurable) {\n      this.setSelectedRectID(this.drawingRect.id);\n    } else {\n      this.setSelectedRectID();\n    }\n  }\n  getDrawingRectWithRectList() {\n    if (!this.drawingRect) {\n      return this.rectList;\n    }\n    let {x, y, width, height} = this.drawingRect;\n    x /= this.zoom;\n    y /= this.zoom;\n    width /= this.zoom;\n    height /= this.zoom;\n    return [\n      ...this.rectList,\n      __spreadProps$2(__spreadValues$2({}, this.drawingRect), {\n        x,\n        y,\n        width,\n        height\n      })\n    ];\n  }\n  rightMouseUp(e) {\n    const hoverRectID = this.getHoverRectID(e);\n    const hoverRect = this.rectList.find((v) => v.id === hoverRectID);\n    const {selectedRectID} = this;\n    this.setSelectedRectID(void 0);\n    if (hoverRect) {\n      this.setDefaultAttribute(hoverRect.attribute);\n    }\n    if (this.drawingRect) {\n      this.drawingRect = void 0;\n      this.firstClickCoord = void 0;\n    } else {\n      if (selectedRectID !== hoverRectID) {\n        this.dblClickListener.clearRightDblClick();\n      }\n      this.setSelectedRectID(hoverRectID);\n      this.hoverRectID = \"\";\n      if ((hoverRect == null ? void 0 : hoverRect.label) && this.hasMarkerConfig) {\n        const markerIndex = CommonToolUtils.getCurrentMarkerIndex(hoverRect.label, this.config.markerList);\n        if (markerIndex >= 0) {\n          this.setMarkerIndex(markerIndex);\n          this.emit(\"markIndexChange\");\n        }\n      }\n    }\n    this.render();\n  }\n  shiftRightMouseUp(e) {\n    const hoverRectID = this.getHoverRectID(e);\n    this.emit(\"shiftRightMouseUp\", hoverRectID);\n  }\n  onMouseUp(e) {\n    if (super.onMouseUp(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return true;\n    }\n    if (this.dragInfo && this.dragStatus === EDragStatus.Move) {\n      this.dragInfo = void 0;\n      this.dragStatus = EDragStatus.Wait;\n      this.history.pushHistory(this.rectList);\n      this.emit(\"updateResult\");\n      return;\n    }\n    if (e.button === 2 && e.shiftKey === true) {\n      this.shiftRightMouseUp(e);\n      return;\n    }\n    if (e.button === 2) {\n      this.rightMouseUp(e);\n      return;\n    }\n    const basicSourceID = CommonToolUtils.getSourceID(this.basicResult);\n    if (this.drawingRect) {\n      this.addDrawingRectToRectList();\n      return;\n    }\n    if (e.ctrlKey === true && e.button === 0 && this.hoverRectID) {\n      this.setRectValidAndRender(this.hoverRectID);\n      return;\n    }\n    this.createNewDrawingRect(e, basicSourceID);\n    this.render();\n    return void 0;\n  }\n  onRightDblClick(e) {\n    super.onRightDblClick(e);\n    const hoverRectID = this.getHoverRectID(e);\n    if (this.selectedRectID && this.selectedRectID === hoverRectID) {\n      this.deleteRect(hoverRectID);\n    }\n  }\n  onKeyDown(e) {\n    if (!CommonToolUtils.hotkeyFilter(e)) {\n      return;\n    }\n    if (super.onKeyDown(e) === false) {\n      return;\n    }\n    const {keyCode} = e;\n    switch (keyCode) {\n      case EKeyCode$1.Ctrl:\n        if (this.drawingRect) {\n          this.drawingRect = __spreadProps$2(__spreadValues$2({}, this.drawingRect), {\n            valid: !e.ctrlKey\n          });\n          this.render();\n        }\n        break;\n      case EKeyCode$1.F:\n        if (this.selectedRectID) {\n          this.setRectValidAndRender(this.selectedRectID);\n        }\n        break;\n      case EKeyCode$1.Z:\n        this.setIsHidden(!this.isHidden);\n        this.render();\n        break;\n      case EKeyCode$1.Delete:\n        this.deleteRect(this.selectedRectID);\n        break;\n      case EKeyCode$1.Tab: {\n        e.preventDefault();\n        if (this.drawingRect) {\n          return;\n        }\n        let sort = ESortDirection.ascend;\n        if (e.shiftKey) {\n          sort = ESortDirection.descend;\n        }\n        const [showingRect, selectedRect] = CommonToolUtils.getRenderResultList(this.rectList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedRectID);\n        let rectList = [...showingRect];\n        if (selectedRect) {\n          rectList = [...rectList, selectedRect];\n        }\n        const viewPort = CanvasUtils.getViewPort(this.canvas, this.currentPos, this.zoom);\n        rectList = rectList.filter((rect) => CanvasUtils.inViewPort({x: rect.x, y: rect.y}, viewPort));\n        const nextSelectedRect = CommonToolUtils.getNextSelectedRectID(rectList, sort, this.selectedRectID);\n        if (nextSelectedRect) {\n          this.setSelectedRectID(nextSelectedRect.id);\n          if (this.config.attributeConfigurable === true) {\n            this.setDefaultAttribute(nextSelectedRect.attribute);\n          }\n        }\n        break;\n      }\n      default: {\n        if (this.config.attributeConfigurable) {\n          const keyCode2Attribute = AttributeUtils.getAttributeByKeycode(keyCode, this.config.attributeList);\n          if (keyCode2Attribute !== void 0) {\n            this.setDefaultAttribute(keyCode2Attribute);\n          }\n        }\n        break;\n      }\n    }\n    return true;\n  }\n  onKeyUp(e) {\n    super.onKeyUp(e);\n    switch (e.keyCode) {\n      case EKeyCode$1.Ctrl:\n        if (this.drawingRect) {\n          this.drawingRect = __spreadProps$2(__spreadValues$2({}, this.drawingRect), {\n            valid: true\n          });\n          this.render();\n        }\n        break;\n    }\n  }\n  onWheel(e) {\n    const oldZoom = this.zoom;\n    let newDrawingRect;\n    let newFirsClickCoord;\n    if (this.drawingRect && this.firstClickCoord) {\n      newDrawingRect = RectUtils.getRectUnderZoom(this.drawingRect, 1 / oldZoom);\n      newFirsClickCoord = AxisUtils.changePointByZoom(this.firstClickCoord, 1 / oldZoom);\n    }\n    super.onWheel(e, false);\n    if (newDrawingRect && newFirsClickCoord) {\n      this.drawingRect = RectUtils.getRectUnderZoom(newDrawingRect, this.zoom);\n      this.firstClickCoord = AxisUtils.changePointByZoom(newFirsClickCoord, this.zoom);\n    }\n    this.render();\n  }\n  getCurrentSelectedData() {\n    const {selectedRect} = this;\n    if (!selectedRect) {\n      return;\n    }\n    const toolColor = this.getColor(selectedRect.attribute);\n    const color = selectedRect.valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    return {\n      width: selectedRect.width * this.zoom * 0.6,\n      textAttribute: selectedRect.textAttribute,\n      color\n    };\n  }\n  renderTextAttribute() {\n    var _a;\n    const {selectedRect} = this;\n    if (!this.ctx || this.config.textConfigurable === false || !selectedRect) {\n      return;\n    }\n    const {x, y, width, height, attribute, valid} = selectedRect;\n    const newWidth = width * this.zoom * 0.6;\n    const coordinate = AxisUtils.getOffsetCoordinate({x, y: y + height}, this.currentPos, this.zoom);\n    const toolColor = this.getColor(attribute);\n    const color = valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    const distance = 4;\n    if (!this._textAttributInstance) {\n      this._textAttributInstance = new TextAttributeClass({\n        width: newWidth,\n        container: this.container,\n        icon: this.getTextIconSvg(attribute),\n        color,\n        getCurrentSelectedData: this.getCurrentSelectedData,\n        updateSelectedTextAttribute: this.updateSelectedRectTextAttribute\n      });\n    }\n    if (this._textAttributInstance && !((_a = this._textAttributInstance) == null ? void 0 : _a.isExit)) {\n      this._textAttributInstance.appendToContainer();\n    }\n    this._textAttributInstance.update(`${selectedRect.textAttribute}`, {\n      left: coordinate.x,\n      top: coordinate.y + distance,\n      color,\n      width: newWidth\n    });\n  }\n  renderSelectedRect(rect) {\n    const {selectedRect} = this;\n    if (!this.ctx || !rect || !selectedRect) {\n      return;\n    }\n    const {ctx} = this;\n    let radius = 10;\n    const pointList = RectUtils.getRectPointList(selectedRect);\n    const len = pointList.length;\n    const toolColor = this.getColor(rect.attribute);\n    pointList.forEach((v, i) => {\n      var _a, _b;\n      ctx.save();\n      ctx.moveTo(v.x, v.y);\n      ctx.beginPath();\n      if (this.hoverRectPointIndex === i) {\n        radius = scope + 6;\n      } else {\n        radius = scope;\n      }\n      if (rect.valid === false) {\n        ctx.strokeStyle = toolColor == null ? void 0 : toolColor.invalid.stroke;\n        ctx.fillStyle = toolColor == null ? void 0 : toolColor.invalid.stroke;\n      } else {\n        ctx.strokeStyle = toolColor == null ? void 0 : toolColor.valid.stroke;\n        ctx.fillStyle = toolColor == null ? void 0 : toolColor.valid.stroke;\n      }\n      ctx.arc(v.x * this.zoom + this.currentPos.x, v.y * this.zoom + this.currentPos.y, radius, 0, 2 * Math.PI);\n      ctx.fill();\n      if (this.hoverRectEdgeIndex === i) {\n        ctx.beginPath();\n        ctx.lineWidth = 10;\n        const lineColor = this.getColor(rect.attribute);\n        const strokeStyle = rect.valid === false ? (_a = lineColor == null ? void 0 : lineColor.invalid) == null ? void 0 : _a.stroke : (_b = lineColor == null ? void 0 : lineColor.valid) == null ? void 0 : _b.stroke;\n        ctx.strokeStyle = strokeStyle;\n        ctx.moveTo(pointList[i].x * this.zoom + this.currentPos.x, pointList[i].y * this.zoom + this.currentPos.y);\n        ctx.lineTo(pointList[(i + 1) % len].x * this.zoom + this.currentPos.x, pointList[(i + 1) % len].y * this.zoom + this.currentPos.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    });\n    this.renderTextAttribute();\n  }\n  renderDrawingRect(rect, zoom = this.zoom, isZoom = false) {\n    var _a, _b, _c, _d;\n    if (this.ctx && rect) {\n      const {ctx, style} = this;\n      const {hiddenText = false} = style;\n      const toolColor = this.getColor(rect.attribute);\n      let {x, y, width, height} = rect;\n      x *= zoom;\n      y *= zoom;\n      width *= zoom;\n      height *= zoom;\n      ctx.save();\n      let strokeColor;\n      if (rect.valid === false) {\n        ctx.strokeStyle = toolColor == null ? void 0 : toolColor.invalid.stroke;\n        ctx.fillStyle = toolColor == null ? void 0 : toolColor.invalid.fill;\n        strokeColor = toolColor == null ? void 0 : toolColor.invalid.stroke;\n      } else {\n        ctx.strokeStyle = toolColor == null ? void 0 : toolColor.valid.stroke;\n        ctx.fillStyle = toolColor == null ? void 0 : toolColor.valid.fill;\n        strokeColor = toolColor == null ? void 0 : toolColor.valid.stroke;\n      }\n      ctx.font = \"lighter 14px Arial\";\n      let showText = \"\";\n      if (((_a = this.config) == null ? void 0 : _a.isShowOrder) && rect.order && (rect == null ? void 0 : rect.order) > 0) {\n        showText = `${rect.order}`;\n      }\n      if (rect.label && this.hasMarkerConfig) {\n        const order = CommonToolUtils.getCurrentMarkerIndex(rect.label, this.config.markerList) + 1;\n        showText = `${order}_${MarkerUtils.getMarkerShowText(rect.label, this.config.markerList)}`;\n      }\n      if (rect.attribute) {\n        showText = `${showText}  ${AttributeUtils.getAttributeShowText(rect.attribute, (_b = this.config) == null ? void 0 : _b.attributeList)}`;\n      }\n      if (!hiddenText) {\n        DrawUtils.drawText(this.canvas, {x: this.currentPos.x + x, y: this.currentPos.y + y - 6}, showText, __spreadProps$2(__spreadValues$2({\n          color: strokeColor,\n          font: \"normal normal 900 14px SourceHanSansCN-Regular\"\n        }, DEFAULT_TEXT_SHADOW), {\n          textMaxWidth: 300\n        }));\n      }\n      ctx.lineWidth = (_d = (_c = this.style) == null ? void 0 : _c.width) != null ? _d : 2;\n      if (rect.id === this.hoverRectID || rect.id === this.selectedRectID) {\n        ctx.fillRect(this.currentPos.x + x, this.currentPos.y + y, width, height);\n      }\n      ctx.strokeRect(this.currentPos.x + x, this.currentPos.y + y, width, height);\n      ctx.restore();\n      let rectSize = `${Math.round(width / zoom)} * ${Math.round(height / zoom)}`;\n      if (isZoom === true) {\n        rectSize = `${Math.round(width / this.zoom)} * ${Math.round(height / this.zoom)}`;\n      }\n      const textSizeWidth = rectSize.length * 7;\n      const textColor = rect.valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n      if (!hiddenText) {\n        DrawUtils.drawText(this.canvas, {x: this.currentPos.x + x + width - textSizeWidth, y: this.currentPos.y + y + height + 15}, rectSize, __spreadValues$2({\n          color: textColor,\n          font: \"normal normal 600 14px Arial\"\n        }, DEFAULT_TEXT_SHADOW));\n      }\n      if (!hiddenText && rect.textAttribute && rect.id !== this.selectedRectID) {\n        const marginTop = 0;\n        const textWidth = Math.max(20, width - textSizeWidth);\n        DrawUtils.drawText(this.canvas, {x: this.currentPos.x + x, y: this.currentPos.y + y + height + 20 + marginTop}, rect.textAttribute, __spreadValues$2({\n          color: textColor,\n          font: \"italic normal 900 14px Arial\",\n          textMaxWidth: textWidth\n        }, DEFAULT_TEXT_SHADOW));\n      }\n    }\n  }\n  renderRect() {\n    var _a;\n    if (((_a = this.rectList) == null ? void 0 : _a.length) > 0) {\n      if (JSON.stringify(this.rectList)) {\n        const [showingRect, selectedRect] = CommonToolUtils.getRenderResultList(this.rectList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedRectID);\n        if (!this.isHidden) {\n          showingRect == null ? void 0 : showingRect.forEach((rect) => this.renderDrawingRect(rect));\n        }\n        if (selectedRect) {\n          this.renderDrawingRect(selectedRect);\n          this.renderSelectedRect(selectedRect);\n        }\n      }\n    }\n    if (this.drawingRect) {\n      this.renderDrawingRect(this.drawingRect, 1, true);\n    }\n  }\n  render() {\n    if (!this.ctx) {\n      return;\n    }\n    super.render();\n    this.renderRect();\n    this.renderCursorLine(this.getLineColor(this.defaultAttribute));\n  }\n  setDefaultAttribute(defaultAttribute) {\n    const oldDefault = this.defaultAttribute;\n    this.defaultAttribute = defaultAttribute != null ? defaultAttribute : \"\";\n    if (oldDefault !== defaultAttribute) {\n      this.changeStyle(defaultAttribute);\n      this.emit(\"changeAttributeSidebar\");\n      const {selectedRect} = this;\n      if (selectedRect) {\n        this.setRectList(this.rectList.map((v) => {\n          if (v.id === this.selectedID) {\n            return __spreadProps$2(__spreadValues$2({}, v), {\n              attribute: this.defaultAttribute\n            });\n          }\n          return v;\n        }), true);\n        this.history.pushHistory(this.rectList);\n        this.render();\n      }\n      if (this.drawingRect) {\n        this.drawingRect = __spreadProps$2(__spreadValues$2({}, this.drawingRect), {\n          attribute: this.defaultAttribute\n        });\n        this.render();\n      }\n      if (this._textAttributInstance) {\n        if (this.attributeLockList.length > 0 && !this.attributeLockList.includes(this.defaultAttribute)) {\n          this._textAttributInstance.clearTextAttribute();\n          return;\n        }\n        this._textAttributInstance.updateIcon(this.getTextIconSvg(defaultAttribute));\n      }\n    }\n  }\n  setValid(valid) {\n    super.setValid(valid);\n    this.emit(\"updateResult\");\n  }\n  clearActiveStatus() {\n    this.drawingRect = void 0;\n    this.firstClickCoord = void 0;\n    this.dragInfo = void 0;\n    this.dragStatus = EDragStatus.Wait;\n    this.setSelectedRectID(void 0);\n  }\n  clearResult(sendMessage = true) {\n    const newRectList = this.rectList.filter((rect) => rect.disableDelete === true);\n    if (newRectList.length > 0 && sendMessage) {\n      this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.ClearPartialData, this.lang));\n    }\n    this.setRectList(newRectList, true);\n    this.setSelectedRectID(void 0);\n  }\n  deleteRect(rectID) {\n    var _a;\n    if (!rectID) {\n      return;\n    }\n    const selectedRect = this.rectList.find((v) => v.id === rectID);\n    if ((selectedRect == null ? void 0 : selectedRect.disableDelete) === true) {\n      this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.DisableDelete, this.lang));\n      return;\n    }\n    this.setRectList(this.rectList.filter((v) => v.id !== rectID), true);\n    this.history.pushHistory(this.rectList);\n    this.setSelectedRectID(void 0);\n    (_a = this._textAttributInstance) == null ? void 0 : _a.clearTextAttribute();\n    this.render();\n  }\n  exportData() {\n    const {rectList} = this;\n    return [rectList, this.basicImgInfo];\n  }\n  undo() {\n    const rectList = this.history.undo();\n    if (rectList) {\n      if (rectList.length !== this.rectList.length) {\n        this.setSelectedRectID(\"\");\n      }\n      this.setRectList(rectList, true);\n      this.render();\n    }\n  }\n  redo() {\n    const rectList = this.history.redo();\n    if (rectList) {\n      if (rectList.length !== this.rectList.length) {\n        this.setSelectedRectID(\"\");\n      }\n      this.setRectList(rectList, true);\n      this.render();\n    }\n  }\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\nconst config = {\n  textConfigurable: false,\n  attributeConfigurable: true,\n  attributeList: []\n};\nclass MeasureOperation extends RectOperation {\n  constructor(props) {\n    super(__spreadProps$1(__spreadValues$1({}, props), {config: JSON.stringify(config)}));\n  }\n  setSelectedIdAfterAddingDrawingRect() {\n    if (!this.drawingRect) {\n      return;\n    }\n    this.setSelectedRectID(this.drawingRect.id);\n  }\n}\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst newScope = 3;\nconst DEFAULT_RADIUS = 3;\nclass ViewOperation extends BasicToolOperation {\n  constructor(props) {\n    super(__spreadProps(__spreadValues({}, props), {showDefaultCursor: true}));\n    this.style = {};\n    this.annotations = [];\n    this.getHoverRectID = (e) => {\n      var _a, _b;\n      const coordinate = this.getCoordinateUnderZoom(e);\n      const originCoordinate = AxisUtils.changePointByZoom(coordinate, 1 / this.zoom);\n      if (((_a = this.annotations) == null ? void 0 : _a.length) <= 0 || !((_b = this.annotations) == null ? void 0 : _b.length)) {\n        return;\n      }\n      let id = \"\";\n      let minArea = Number.MAX_SAFE_INTEGER;\n      for (let i = 0; i < this.annotations.length; i++) {\n        const annotation = this.annotations[i];\n        switch (annotation.type) {\n          case \"rect\": {\n            const rect = annotation.annotation;\n            if (RectUtils.isInRect(coordinate, rect, newScope, this.zoom)) {\n              const area = rect.width * rect.height;\n              if (area < minArea) {\n                id = rect.id;\n                minArea = area;\n              }\n            }\n            break;\n          }\n          case \"polygon\": {\n            const polygon = annotation.annotation;\n            if (PolygonUtils.isInPolygon(originCoordinate, polygon.pointList)) {\n              const area = PolygonUtils.getPolygonArea(polygon.pointList);\n              if (area < minArea) {\n                id = polygon.id;\n                minArea = area;\n              }\n            }\n            break;\n          }\n        }\n      }\n      return id;\n    };\n    var _a;\n    this.style = (_a = props.style) != null ? _a : {color: \"#6371FF\", thickness: 1};\n    this.annotations = props.annotations;\n    this.loading = false;\n  }\n  setLoading(loading) {\n    this.loading = loading;\n    this.render();\n  }\n  onMouseLeave() {\n    super.onMouseLeave();\n    this.mouseHoverID = void 0;\n    this.emit(\"onChange\", \"hover\", []);\n  }\n  onMouseDown(e) {\n    if (super.onMouseDown(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return true;\n    }\n    const newMouseSelectedID = this.mouseHoverID;\n    if (e.button === 0) {\n      let selectedID = [];\n      if (newMouseSelectedID) {\n        selectedID = [newMouseSelectedID];\n      }\n      this.emit(\"onChange\", \"selected\", selectedID);\n      this.render();\n    }\n  }\n  onMouseMove(e) {\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    const oldMouseHoverID = this.mouseHoverID;\n    const newMouseHoverID = this.getHoverRectID(e);\n    if (oldMouseHoverID !== newMouseHoverID) {\n      this.mouseHoverID = newMouseHoverID;\n      let hoverID = [];\n      if (newMouseHoverID) {\n        hoverID = [newMouseHoverID];\n      }\n      this.emit(\"onChange\", \"hover\", hoverID);\n      this.render();\n    }\n  }\n  updateData(annotations) {\n    this.annotations = annotations;\n    this.render();\n  }\n  getSpecificStyle(obj) {\n    const specificStyle = _.pick(obj, [\"color\", \"thickness\", \"fill\", \"radius\"]);\n    return __spreadValues(__spreadValues({}, this.style), specificStyle);\n  }\n  render() {\n    super.render();\n    if (this.loading === true) {\n      return;\n    }\n    this.annotations.forEach((annotation) => {\n      var _a, _b;\n      switch (annotation.type) {\n        case \"rect\": {\n          const rect = annotation.annotation;\n          const renderRect = AxisUtils.changeRectByZoom(rect, this.zoom, this.currentPos);\n          const style = this.getSpecificStyle(rect);\n          if (rect.id === this.mouseHoverID || style.fill) {\n            const fillArr = rgba(style.color);\n            const fill = `rgba(${fillArr[0]}, ${fillArr[1]}, ${fillArr[2]},${fillArr[3] * 0.8})`;\n            DrawUtils.drawRectWithFill(this.canvas, renderRect, {color: fill});\n          }\n          DrawUtils.drawRect(this.canvas, renderRect, style);\n          break;\n        }\n        case \"polygon\": {\n          const polygon = annotation.annotation;\n          const renderPolygon = AxisUtils.changePointListByZoom((_a = polygon == null ? void 0 : polygon.pointList) != null ? _a : [], this.zoom, this.currentPos);\n          const style = this.getSpecificStyle(polygon);\n          if (polygon.id === this.mouseHoverID || style.fill) {\n            const fillArr = rgba(style.color);\n            const fill = `rgba(${fillArr[0]}, ${fillArr[1]}, ${fillArr[2]},${fillArr[3] * 0.8})`;\n            DrawUtils.drawPolygonWithFill(this.canvas, renderPolygon, {color: fill});\n          }\n          DrawUtils.drawPolygon(this.canvas, renderPolygon, __spreadProps(__spreadValues({}, style), {\n            isClose: true\n          }));\n          break;\n        }\n        case \"line\": {\n          const line = annotation.annotation;\n          const renderLine = AxisUtils.changePointListByZoom(line.pointList, this.zoom, this.currentPos);\n          const style = this.getSpecificStyle(line);\n          DrawUtils.drawPolygon(this.canvas, renderLine, style);\n          break;\n        }\n        case \"point\": {\n          const point = annotation.annotation;\n          const renderPoint = AxisUtils.changePointByZoom(point, this.zoom, this.currentPos);\n          const style = this.getSpecificStyle(point);\n          DrawUtils.drawCircle(this.canvas, renderPoint, (_b = style.radius) != null ? _b : DEFAULT_RADIUS, style);\n          break;\n        }\n      }\n    });\n  }\n}\n\nconst ANNOTATION_TYPE = {\n  0: \"\\u76EE\\u6807\\u68C0\\u6D4B\",\n  1: \"\\u56FE\\u50CF\\u5206\\u7C7B\"\n};\nconst ANNOTATION_STATUS = {\n  0: \"\\u6807\\u6CE8\\u6587\\u4EF6\\u4F20\\u8F93\\u4E2D\",\n  1: \"\\u6807\\u6CE8\\u6587\\u4EF6\\u4F20\\u8F93\\u91CD\\u8BD5\",\n  2: \"\\u6807\\u6CE8\\u6587\\u4EF6\\u4F20\\u8F93\\u5931\\u8D25\",\n  3: \"\\u6807\\u6CE8\\u4E2D\",\n  4: \"\\u4EFB\\u52A1\\u7EC8\\u6B62\",\n  5: \"\\u4EFB\\u52A1\\u5B8C\\u6210\",\n  6: \"\\u6570\\u636E\\u5DF2\\u53D1\\u5E03\"\n};\nvar EAnnotationStatus;\n(function(EAnnotationStatus2) {\n  EAnnotationStatus2[EAnnotationStatus2[\"Upload\"] = 0] = \"Upload\";\n  EAnnotationStatus2[EAnnotationStatus2[\"UploadRetry\"] = 1] = \"UploadRetry\";\n  EAnnotationStatus2[EAnnotationStatus2[\"UploadFail\"] = 2] = \"UploadFail\";\n  EAnnotationStatus2[EAnnotationStatus2[\"Annotation\"] = 3] = \"Annotation\";\n  EAnnotationStatus2[EAnnotationStatus2[\"Terminated\"] = 4] = \"Terminated\";\n  EAnnotationStatus2[EAnnotationStatus2[\"Finish\"] = 5] = \"Finish\";\n  EAnnotationStatus2[EAnnotationStatus2[\"Publish\"] = 6] = \"Publish\";\n})(EAnnotationStatus || (EAnnotationStatus = {}));\n\nvar annotationTask = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ANNOTATION_TYPE: ANNOTATION_TYPE,\n  ANNOTATION_STATUS: ANNOTATION_STATUS,\n  get EAnnotationStatus () { return EAnnotationStatus; }\n});\n\nclass ImgUtils {\n  static load(src) {\n    return new Promise((resolve, reject) => {\n      const imgNode = new Image();\n      if (src.startsWith(\"file\")) {\n        imgNode.src = encodeURI(src);\n      } else {\n        imgNode.src = src;\n      }\n      imgNode.onload = () => {\n        resolve(imgNode);\n      };\n      imgNode.onerror = () => {\n        reject(imgNode);\n      };\n    });\n  }\n}\n\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst loadImage = (imgSrc) => {\n  return new Promise((resolve, reject) => {\n    const img = document.createElement(\"img\");\n    img.crossOrigin = \"Anonymous\";\n    img.onerror = (e) => {\n      console.error(e);\n      reject(img);\n    };\n    img.src = imgSrc;\n    img.onload = () => {\n      resolve(img);\n    };\n  });\n};\nclass AnnotationEngine {\n  constructor(props) {\n    this.setImgSrc = (imgSrc) => __async(this, null, function* () {\n      const imgNode = yield loadImage(imgSrc);\n      if (!imgNode) {\n        return;\n      }\n      this.setImgNode(imgNode);\n    });\n    var _a, _b;\n    this.container = props.container;\n    this.size = props.size;\n    this.toolName = props.toolName;\n    this.imgNode = props.imgNode;\n    this.config = (_a = props.config) != null ? _a : JSON.stringify(getConfig(props.toolName));\n    this.style = (_b = props.style) != null ? _b : styleDefaultConfig;\n    this._initToolOperation();\n  }\n  setToolName(toolName, config) {\n    this.toolName = toolName;\n    const defaultConfig = config || JSON.stringify(getConfig(toolName));\n    this.config = defaultConfig;\n    this._initToolOperation();\n  }\n  setImgNode(imgNode, basicImgInfo) {\n    if (!this.toolInstance) {\n      return;\n    }\n    this.imgNode = imgNode;\n    this.toolInstance.setImgNode(imgNode, basicImgInfo);\n  }\n  setSize(size) {\n    this.size = size;\n  }\n  setStyle(style) {\n    this.style = style;\n  }\n  _initToolOperation() {\n    if (this.toolInstance) {\n      this.toolInstance.destroy();\n    }\n    const ToolOperation = CommonToolUtils.getCurrentOperation(this.toolName);\n    if (!ToolOperation) {\n      return;\n    }\n    const defaultData = {\n      container: this.container,\n      size: this.size,\n      config: this.config,\n      drawOutSideTarget: false,\n      style: this.style\n    };\n    if (this.imgNode) {\n      Object.assign(defaultData, {imgNode: this.imgNode});\n    }\n    this.toolInstance = new ToolOperation(defaultData);\n    this.toolInstance.init();\n  }\n  setBasicInfo(dependToolName, basicResult) {\n    this.dependToolName = dependToolName;\n    this.basicResult = basicResult;\n    this.toolInstance.setDependName(dependToolName);\n    this.toolInstance.setBasicResult(basicResult);\n    this.toolInstance.renderBasicCanvas();\n  }\n  clearBasicResult() {\n    this.setBasicInfo();\n  }\n  forbidOperation() {\n    this.toolInstance.setForbidOperation(true);\n  }\n  launchOperation() {\n    this.toolInstance.setForbidOperation(false);\n  }\n  setLang(i18nLanguage) {\n    switch (i18nLanguage) {\n      case \"cn\":\n        this.toolInstance.setLang(ELang.Zh);\n        break;\n      case \"en\":\n        this.toolInstance.setLang(ELang.US);\n        break;\n    }\n  }\n}\n\nconst toolUtils = CommonToolUtils;\n\nexport { AnnotationEngine, AxisUtils, BasicToolOperation, CommonToolUtils, DblClickEventListener, DrawUtils, ImgUtils, LineToolOperation, MarkerUtils, MeasureOperation, PointOperation, PolygonOperation, RectOperation, RectUtils, TagOperation, TagUtil as TagUtils, TextToolOperation, ViewOperation, annotation as cAnnotation, annotationTask as cAnnotationTask, keyCode as cKeyCode, style as cStyle, tool as cTool, toolUtils, uuid };\n","export enum ETextType {\n  AnyString, // 任意字符\n  Order, // 序号\n  EnglishOnly, // 仅英文\n  NumberOnly, // 仅数字\n  CustomFormat, // 自定义文本格式\n}\n\n/** 文本标注字数上限 */\nexport const TEXT_ATTRIBUTE_MAX_LENGTH = 1000;\n\nexport enum EToolName {\n  /** 拉框工具 */\n  Rect = 'rectTool',\n  /** 标签工具 */\n  Tag = 'tagTool',\n  /** 标点工具 */\n  Point = 'pointTool',\n  /** 列表标点工具 */\n  PointMarker = 'pointMarkerTool',\n  /** 前景分割工具 */\n  Segmentation = 'segmentationTool',\n  /** 筛选工具 */\n  Filter = 'filterTool',\n  /** 文本工具 */\n  Text = 'textTool',\n  /** 多边形工具 */\n  Polygon = 'polygonTool',\n  /** 线条 */\n  Line = 'lineTool',\n  /** 列表线条工具 */\n  LineMarker = 'lineMarkerTool',\n  /** 空工具，表示当前没有选择的工具，没有实际的业务逻辑 */\n  Empty = 'emptyTool',\n  /** 文件夹标签工具 */\n  FolderTag = 'folderTagTool',\n  /** 拉框跟踪工具 */\n  RectTrack = 'rectTrackTool',\n  /** 人脸106工具 */\n  Face = 'faceTool',\n  /** 客户端属性工具 */\n  ClientAttribute = 'clientAttributeTool',\n  /** OCR关联关系工具 */\n  OCRRelation = 'OCRRelationTool',\n}\n","import RevokeSvg from '@/assets/annotation/toolHotKeyIcon/icon_cencel_kj.svg';\nimport RestoreSvg from '@/assets/annotation/toolHotKeyIcon/icon_reform_kj.svg';\nimport ScaleSvg from '@/assets/annotation/toolHotKeyIcon/icon_loupe_kj.svg';\nimport ScaleShortCutSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_middle_kj.svg';\nimport FullScreenSvg from '@/assets/annotation/toolHotKeyIcon/icon_fullView_kj.svg';\nimport RotateSvg from '@/assets/annotation/toolHotKeyIcon/icon_reload_kj.svg';\nimport SetValidSvg from '@/assets/annotation/toolHotKeyIcon/setValid.svg';\nimport BackwardSvg from '@/assets/annotation/toolHotKeyIcon/icon_last_kj.svg';\nimport ForwardSvg from '@/assets/annotation/toolHotKeyIcon/icon_next_kj.svg';\nimport DragWithRightClickSvg from '@/assets/annotation/toolHotKeyIcon/icon_move_kj.svg';\nimport DragWithRightClickShortCutSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\nimport DragWithLeftClickSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg';\nimport CopyBackwardResultSvg from '@/assets/annotation/toolHotKeyIcon/icon_copyBackwardResult.svg';\nimport TabChangeSelectedSvg from '@/assets/annotation/toolHotKeyIcon/icon_tab_kj.svg';\nimport TabReverseChangeSelectedSVG from '@/assets/annotation/toolHotKeyIcon/icon_alttab_kj.svg';\nimport IconSaveKj from '@/assets/annotation/toolHotKeyIcon/icon_save_kj.svg';\nimport IconLineSpecialKj from '@/assets/annotation/toolHotKeyIcon/icon_lineSpecial_kj.svg';\nimport IconNoDisplay from '@/assets/annotation/toolHotKeyIcon/icon_noDisplay.svg';\nimport IconEyeLockKj from '@/assets/annotation/toolHotKeyIcon/icon_eyeLock_kj.svg';\n\nexport const revoke = {\n  name: 'Undo',\n  icon: RevokeSvg,\n  shortCut: ['Ctrl', 'Z'],\n};\n\nexport const restore = {\n  name: 'Redo',\n  icon: RestoreSvg,\n  shortCut: ['Ctrl', 'Shift', 'Z'],\n};\n\nexport const scale = {\n  name: 'Scale',\n  icon: ScaleSvg,\n  shortCut: [ScaleShortCutSvg],\n};\n\nexport const fullScreen = {\n  name: 'Fullscreen',\n  icon: FullScreenSvg,\n  shortCut: ['F11'],\n};\n\nexport const rotate = {\n  name: 'Rotate',\n  icon: RotateSvg,\n  shortCut: ['R'],\n  noticeInfo: 'ToOriginalStep',\n};\n\nexport const setValid = {\n  name: 'ToggleEffectiveness',\n  icon: SetValidSvg,\n  shortCut: ['Y'],\n};\n\nexport const backward = {\n  name: 'Previous',\n  icon: BackwardSvg,\n  shortCut: ['A'],\n};\n\nexport const forward = {\n  name: 'Next',\n  icon: ForwardSvg,\n  shortCut: ['D'],\n};\n\nexport const backwardPage = {\n  name: 'PreviousFolder',\n  icon: BackwardSvg,\n  shortCut: ['Shift', 'A'],\n};\n\nexport const forwardPage = {\n  name: 'NextFolder',\n  icon: ForwardSvg,\n  shortCut: ['Shift', 'D'],\n};\n\nexport const dargWithRightClick = {\n  name: 'Drag',\n  icon: DragWithRightClickSvg,\n  shortCut: [DragWithRightClickShortCutSvg],\n  noticeInfo: 'Press',\n};\n\nexport const dargWithLeftClick = {\n  name: 'Drag',\n  icon: DragWithRightClickSvg,\n  shortCut: ['Space', DragWithLeftClickSvg],\n};\n\nexport const forwardWithEnter = {\n  name: 'Next',\n  icon: ForwardSvg,\n  shortCut: ['Ctrl', 'Enter'],\n};\n\nexport const copyBackwardResult = {\n  name: 'CopyThePrevious',\n  icon: CopyBackwardResultSvg,\n  shortCut: ['ALT', 'C'],\n};\n\nexport const attributeLock = {\n  name: 'SpecifiedAttributesOnly',\n  icon: IconEyeLockKj,\n  shortCut: ['Shift', 'Number'],\n};\n\nexport const attributeClickLock = {\n  name: 'SpecifiedAttributesOnly',\n  icon: IconEyeLockKj,\n  shortCut: ['Shift', DragWithLeftClickSvg],\n};\n\nexport const tabChangeSelected = {\n  name: 'ToggleSelected',\n  icon: TabChangeSelectedSvg,\n  shortCut: ['Tab'],\n};\n\nexport const tabReverseChangeSelected = {\n  name: 'ToggleSelectedReverse',\n  icon: TabReverseChangeSelectedSVG,\n  shortCut: ['Shift', 'Tab'],\n};\n\nexport const hidden = {\n  name: 'HideGraphics',\n  icon: IconNoDisplay,\n  noticeInfo: '',\n  shortCut: ['Z'],\n};\n\nexport const changeSpecialLine = {\n  name: 'ToggleLineParticularity',\n  icon: IconLineSpecialKj,\n  noticeInfo: 'ToSide',\n  shortCut: ['Shift', DragWithLeftClickSvg],\n};\n\nexport const saveResult = {\n  name: 'Save',\n  icon: IconSaveKj,\n  shortCut: ['Ctrl', 'S'],\n};\n","var img = \"data:image/svg+xml,%3csvg id='icon_mouse_left_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23ff5770%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e9%bc%a0%e6%a0%87%e6%bb%9a%e8%bd%ae'%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.982v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.97-9.7H5.865V0a5.7%2c5.7%2c0%2c0%2c1%2c3.53%2c1.267A3.812%2c3.812%2c0%2c0%2c1%2c10.85%2c4.19V5.98Zm-5.866%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.456%2c1.267%2c5.693%2c5.693%2c0%2c0%2c1%2c4.984%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(-0.698 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_mouse_right_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23ff5770%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e9%bc%a0%e6%a0%87%e6%bb%9a%e8%bd%ae'%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.982v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.97-9.7H5.865V0a5.7%2c5.7%2c0%2c0%2c1%2c3.53%2c1.267A3.812%2c3.812%2c0%2c0%2c1%2c10.85%2c4.19V5.98Zm-5.866%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.456%2c1.267%2c5.693%2c5.693%2c0%2c0%2c1%2c4.984%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(5.302 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\n\nimport resources from \"./resources.json\";\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    lng: \"en\",\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;\n","import { ANNOTATION_ACTIONS } from '@/store/Actions';\nimport _ from 'lodash';\nimport { composeResultWithBasicImgInfo, composeResult } from '@/utils/data';\nimport { jsonParser } from '@/utils';\nimport StepUtils from '@/utils/StepUtils';\nimport AnnotationDataUtils from '@/utils/AnnotationDataUtils';\nimport { ConfigUtils } from '@/utils/ConfigUtils';\nimport styleString from '@/constant/styleString';\nimport { getFormatSize } from '@/components/customResizeHook';\nimport { AnnotationEngine, CommonToolUtils, ImgUtils } from '@labelbee/lb-annotation';\nimport { AnnotationState, AnnotationActionTypes } from './types';\nimport { message } from 'antd/es';\nimport { SetAnnotationLoading } from './actionCreators';\n\nexport const getStepConfig = (stepList: any[], step: number) =>\n  stepList.find((i) => i.step === step);\n\nconst initialState: AnnotationState = {\n  annotationEngine: null,\n  toolInstance: null,\n  imgList: [],\n  config: '{}',\n  imgIndex: -1,\n  basicIndex: 0,\n  imgPageSize: 1,\n  step: 1,\n  stepList: [],\n  imgNode: new Image(),\n  basicResultList: [],\n  resultList: [],\n  stepProgress: 0,\n  loading: false,\n  triggerEventAfterIndexChanged: false,\n};\n\n/**\n * 获取当前文件列表的总页数\n * @param state\n */\nexport const getTotalPage = (state: AnnotationState) => {\n  const { imgList, imgPageSize } = state;\n  return Math.ceil(imgList.length / imgPageSize);\n};\n\nconst calcStepProgress = (fileList: any[], step: number) =>\n  fileList.reduce((pre, i) => {\n    const resultStr = i.result;\n    const resultObject = jsonParser(resultStr);\n    if (resultObject[`step_${step}`]) {\n      return pre + 1;\n    }\n    return pre;\n  }, 0) / fileList.length;\n\nconst updateToolInstance = (annotation: AnnotationState, imgNode: HTMLImageElement) => {\n  const { step, stepList } = annotation;\n  const stepConfig = StepUtils.getCurrentStepInfo(step, stepList);\n  const config = ConfigUtils.jsonParser(stepConfig.config);\n\n  const container = document.getElementById('toolContainer');\n\n  if (!container) {\n    throw `Not exist dom named id-toolContainer`;\n  }\n\n  const canvasSize = getFormatSize({ width: window.innerWidth, height: window.innerHeight });\n  const annotationEngine = new AnnotationEngine({\n    container,\n    toolName: stepConfig.tool,\n    size: canvasSize,\n    imgNode,\n    config,\n    style: JSON.parse(styleString),\n  });\n\n  return { toolInstance: annotationEngine.toolInstance, annotationEngine };\n};\n\n/**\n * 初始化imgNode并加载数据\n * @param nextIndex\n * @param nextBasicIndex\n */\nexport const LoadImageAndFileData =\n  (nextIndex: number, nextBasicIndex?: number) => async (dispatch: any, getState: any) => {\n    const { getFileData, imgList, toolInstance } = getState().annotation;\n    SetAnnotationLoading(dispatch, true);\n\n    /** 支持外部传入获取文件接口 */\n    if (getFileData) {\n      const fileData = await getFileData(imgList[nextIndex], nextIndex);\n      dispatch({\n        type: ANNOTATION_ACTIONS.SET_FILE_DATA,\n        payload: {\n          fileData,\n          index: nextIndex,\n        },\n      });\n    }\n\n    const { url } = imgList[nextIndex];\n\n    return ImgUtils.load(url)\n      .then((imgNode) => {\n        SetAnnotationLoading(dispatch, false);\n\n        dispatch({\n          type: ANNOTATION_ACTIONS.LOAD_FILE_DATA,\n          payload: {\n            imgNode,\n            nextIndex,\n            nextBasicIndex,\n          },\n        });\n      })\n      .catch(() => {\n        SetAnnotationLoading(dispatch, false);\n        toolInstance.setErrorImg();\n        dispatch({\n          type: ANNOTATION_ACTIONS.LOAD_FILE_DATA,\n          payload: {\n            nextIndex,\n            nextBasicIndex,\n          },\n        });\n      });\n  };\n\nexport const annotationReducer = (\n  state = initialState,\n  action: AnnotationActionTypes,\n): AnnotationState => {\n  switch (action.type) {\n    case ANNOTATION_ACTIONS.UPDATE_TOOL_INSTANCE: {\n      return {\n        ...state,\n        toolInstance: action.payload.toolInstance,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_IMG_LIST: {\n      return {\n        ...state,\n        imgList: action.payload.imgList,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.CALC_STEP_PROGRESS: {\n      const { imgList, step } = state;\n\n      const stepProgress = calcStepProgress(imgList, step);\n\n      return {\n        ...state,\n        stepProgress,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SUBMIT_FILE_DATA: {\n      const { imgList, imgIndex, step, stepList, toolInstance, onSubmit, resultList } = state;\n      if (!toolInstance) {\n        return state;\n      }\n\n      const oldResultString = imgList[imgIndex]?.result || '';\n      const [, basicImgInfo] = toolInstance.exportData();\n\n      const resultWithBasicInfo = composeResultWithBasicImgInfo(oldResultString, basicImgInfo);\n      const newResultString = composeResult(\n        resultWithBasicInfo,\n        { step, stepList },\n        { rect: resultList },\n      );\n\n      imgList[imgIndex].result = AnnotationDataUtils.dataCorrection(\n        newResultString,\n        oldResultString,\n        step,\n        stepList,\n      );\n\n      if (onSubmit) {\n        onSubmit([imgList[imgIndex]], action.payload?.submitType, imgIndex);\n      }\n\n      const stepProgress = calcStepProgress(imgList, step);\n      return {\n        ...state,\n        stepProgress,\n        imgList,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SAVE_RESULT: {\n      const { imgList, imgIndex, onSave } = state;\n      onSave?.(imgList[imgIndex], imgIndex, imgList);\n      return {\n        ...state,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SUBMIT_RESULT: {\n      const { imgList, basicIndex, resultList, annotationEngine, basicResultList } = state;\n      if (!annotationEngine) {\n        return state;\n      }\n\n      const [exportResult] = annotationEngine.toolInstance.exportData();\n\n      let previousResultList = exportResult;\n\n      if (basicResultList?.length > 0) {\n        const sourceID = basicResultList[basicIndex]?.id;\n        const newResultData = exportResult.map((i: any) => ({ ...i, sourceID }));\n        previousResultList = _.cloneDeep(resultList).filter((i: any) => i.sourceID !== sourceID);\n        previousResultList.push(...newResultData);\n      }\n\n      return {\n        ...state,\n        resultList: previousResultList,\n        imgList,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_BASIC_INDEX: {\n      const {\n        toolInstance,\n        step,\n        imgList,\n        imgIndex,\n        stepList,\n        annotationEngine,\n        resultList,\n        basicResultList,\n      } = state;\n\n      if (!toolInstance || !annotationEngine) {\n        return state;\n      }\n\n      const nextBasicIndex = action.payload.basicIndex;\n      const sourceID = basicResultList[nextBasicIndex]?.id;\n\n      const fileResult = jsonParser(imgList[imgIndex]?.result);\n      const result = (resultList || []).filter((i) => i.sourceID === sourceID);\n\n      const stepConfig = getStepConfig(stepList, step);\n\n      const { dataSourceStep, tool } = stepConfig;\n      const dependStepConfig = getStepConfig(stepList, dataSourceStep);\n      let stepBasicResultList = [];\n\n      if (dataSourceStep && tool) {\n        stepBasicResultList = fileResult[`step_${dataSourceStep}`]?.result;\n\n        if (stepBasicResultList?.length > 0) {\n          annotationEngine.setBasicInfo(dependStepConfig.tool, stepBasicResultList[nextBasicIndex]);\n          annotationEngine.launchOperation();\n        } else {\n          annotationEngine.setBasicInfo(dependStepConfig.tool);\n          annotationEngine.forbidOperation();\n          message.info('当前文件不存在依赖数据');\n        }\n      }\n\n      toolInstance.setResult(result);\n      toolInstance.history.initRecord(result, true);\n\n      return {\n        ...state,\n        basicIndex: nextBasicIndex,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED: {\n      const { triggerEventAfterIndexChanged } = action.payload;\n      return {\n        ...state,\n        triggerEventAfterIndexChanged: !!triggerEventAfterIndexChanged,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.LOAD_FILE_DATA: {\n      const { imgList, step, toolInstance, annotationEngine, stepList } = state;\n      if (!toolInstance || !annotationEngine) {\n        return state;\n      }\n\n      const currentStepInfo = StepUtils.getCurrentStepInfo(step, stepList);\n\n      const { nextIndex, imgNode, nextBasicIndex, imgError } = action.payload;\n      const basicIndex = nextBasicIndex ?? 0;\n\n      const fileResult = jsonParser(imgList[nextIndex]?.result);\n\n      const stepResult = fileResult[`step_${step}`];\n\n      const isInitData = !stepResult; // 是否为初始化数据\n\n      const basicImgInfo = {\n        rotate: fileResult.rotate ?? 0,\n        valid: fileResult.valid ?? true,\n      };\n\n      if (imgNode && imgError !== true) {\n        annotationEngine.setImgNode(imgNode, basicImgInfo);\n      }\n\n      const stepConfig = getStepConfig(stepList, step);\n\n      const { dataSourceStep, tool } = stepConfig;\n      const dependStepConfig = getStepConfig(stepList, dataSourceStep);\n      const hasDataSourceStep = dataSourceStep && tool;\n      const stepBasicResultList = fileResult[`step_${dataSourceStep}`]?.result ?? [];\n\n      const result = AnnotationDataUtils.getInitialResultList(\n        stepResult?.result,\n        toolInstance,\n        stepConfig,\n        stepBasicResultList,\n        isInitData,\n      );\n\n      annotationEngine.launchOperation();\n\n      if (hasDataSourceStep) {\n        if (stepBasicResultList?.length > 0) {\n          annotationEngine.setBasicInfo(dependStepConfig.tool, stepBasicResultList[basicIndex]);\n        } else {\n          // TODO: 禁用绘制交互，有无依赖之间的操作切换\n          annotationEngine.setBasicInfo(dependStepConfig.tool);\n          annotationEngine.forbidOperation();\n          message.info('当前文件不存在依赖数据');\n        }\n      }\n\n      // TODO，非查看模式才允许添加数据\n      if (currentStepInfo.tool !== 'check') {\n        const sourceID = stepBasicResultList[basicIndex]?.id ?? '';\n        const resultForBasicIndex = hasDataSourceStep\n          ? result.filter((i: { sourceID: string | number }) =>\n              CommonToolUtils.isSameSourceID(i.sourceID, sourceID),\n            )\n          : result;\n        toolInstance.setResult(resultForBasicIndex);\n        toolInstance.history.initRecord(result, true);\n      }\n\n      return {\n        ...state,\n        imgIndex: nextIndex,\n        basicIndex,\n        basicResultList: stepBasicResultList,\n        resultList: result,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ANNOTATION_CONFIG: {\n      return {\n        ...state,\n        config: action.payload.config ?? '{}',\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_TASK_CONFIG: {\n      const { stepList, step } = action.payload;\n      return {\n        ...state,\n        stepList,\n        step,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.INIT_TOOL: {\n      const { imgNode } = state;\n      const { toolInstance, annotationEngine } = updateToolInstance(state, imgNode);\n      return {\n        ...state,\n        toolInstance,\n        annotationEngine,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ON_SUBMIT: {\n      return {\n        ...state,\n        onSubmit: action.payload.onSubmit,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ON_SAVE: {\n      return {\n        ...state,\n        onSave: action.payload.onSave,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_GET_FILE_DATA: {\n      return {\n        ...state,\n        getFileData: action.payload.getFileData,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_FILE_DATA: {\n      const { fileData, index } = action.payload;\n      const { imgList } = state;\n      imgList[index] = { ...imgList[index], ...fileData };\n\n      return {\n        ...state,\n        imgList,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ROTATE: {\n      const { toolInstance } = state;\n      toolInstance?.updateRotate();\n\n      return state;\n    }\n\n    case ANNOTATION_ACTIONS.COPY_BACKWARD_RESULT: {\n      const { toolInstance, imgIndex, imgList, step } = state;\n      if (!toolInstance) {\n        return state;\n      }\n\n      if (imgIndex === 0 || imgIndex >= imgList.length) {\n        console.error('无法复制边界外的内容');\n        return state;\n      }\n      const backwardResult = imgList[imgIndex - 1].result;\n      if (!backwardResult) {\n        return state;\n      }\n\n      const newResult = AnnotationDataUtils.copyResultChange(\n        backwardResult,\n        step,\n        imgList[imgIndex].result ?? '',\n      );\n      imgList[imgIndex].result = newResult;\n\n      // 更新当前的结果\n      const fileResult = jsonParser(newResult);\n      const stepResult = fileResult[`step_${step}`];\n      const result = stepResult?.result || [];\n\n      toolInstance.setResult(result);\n      toolInstance.history.pushHistory(result);\n\n      return {\n        ...state,\n        imgList: [...imgList],\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_STEP: {\n      const { stepList, annotationEngine } = state;\n      const { toStep } = action.payload;\n\n      if (!annotationEngine) {\n        return state;\n      }\n\n      if (toStep <= stepList.length) {\n        const stepConfig = getStepConfig(stepList, toStep);\n        annotationEngine.setToolName(stepConfig.tool, stepConfig.config);\n\n        return {\n          ...state,\n          step: toStep,\n          toolInstance: annotationEngine.toolInstance,\n        };\n      }\n      break;\n    }\n\n    case ANNOTATION_ACTIONS.SET_LOADING: {\n      const { loading } = action.payload;\n\n      return {\n        ...state,\n        loading: !!loading,\n      };\n    }\n\n    // eslint-disable-next-line no-fallthrough\n    default:\n      return state;\n  }\n\n  return state;\n};\n","export const headerHeight = 61;\nexport const tipsHeight = 40;\nexport const footerHeight = 40;\nexport const sidebarWidth = 240;\n// 编辑步骤的侧边栏宽度\nexport const editStepWidth = 320;\n\n/** 标注步骤的类型 */\nexport enum EStepType {\n  ANNOTATION = 1, // 正常标注\n  QUALITY_INSPECTION, // 标注质检\n  PRE_ANNOTATION, // 预标注\n  MANUAL_CORRECTION, // 人工修正\n}\n\n/** 标注工具中最大获取的图片数 */\nexport const ANNOTATION_MAX_SIZE = 100;\n\n/** 翻页操作 */\nexport enum EPageTurningOperation {\n  Backward,\n  Forward,\n  Jump,\n}\n\n/** 拖拽状态 */\nexport enum EDragStatus {\n  Start,\n  Stop,\n  Wait,\n}\n\n/** 拖拽的内容 */\nexport enum EDragTarget {\n  Point,\n  Line,\n  Plane,\n}\n","export const COLORS_ARRAY = [\n  'rgba(128, 12, 249, 1)', // 6\n  'rgba(0, 255, 48, 1)', // 3\n  'rgba(255, 136, 247, 1)', // 7\n  'rgba(255, 226, 50, 1)', // 2\n  'rgba(153, 66, 23, 1)', // 8\n  'rgba(2, 130, 250, 1)', // 5\n  'rgba(255, 35, 35, 1)', // 1\n  'rgba(0, 255, 234, 1)', // 4\n];\n\nexport const NULL_COLOR = 'rgba(204, 204, 204, 1)';\n\nexport const DEFAULT_COLOR = {\n  valid: {\n    stroke: 'rgba(102, 111, 255, 0.6)',\n    fill: 'rgba(102, 111, 255, 0.3)',\n  },\n  invalid: {\n    stroke: 'rgba(255, 153, 102,1)',\n    fill: 'rgba(255, 153, 102, 0.5)',\n  },\n  validSelected: {\n    stroke: 'rgba(0, 15, 255, 0.8)',\n    fill: 'rgba(0, 15, 255, 0.4)',\n  },\n  invalidSelected: {\n    stroke: 'rgba(255,153,102,0.8)',\n    fill: 'rgba(255,153,102,0.3)',\n  },\n  validHover: {\n    stroke: 'rgba(0, 15, 255, 1)',\n    fill: 'rgba(0, 15, 255, 0.5)',\n  },\n\n  invalidHover: {\n    stroke: 'rgba(255,153,102,1)',\n    fill: 'rgba(255,153,102,0.5)',\n  },\n};\n\nexport const CHANGE_COLOR: { [a: number]: any } = {\n  1: {\n    valid: 'rgba(0, 0, 255, 0.5)',\n    select: {\n      stroke: 'rgba(0, 15, 255, 1)',\n      fill: 'rgba(0,15,255, 1)',\n    },\n    hover: 'rgba(0, 15, 255, 0.8)',\n    line: 'rgba(102, 111, 255, 1 )',\n  },\n  3: {\n    valid: 'rgba(0, 255, 255, 0.5)',\n    select: {\n      stroke: 'rgba(0, 212, 255,  1)',\n      fill: 'rgba(0,212,255, 1)',\n    },\n    hover: 'rgba(0, 212, 255, 0.8)',\n    line: 'rgba(102, 230, 255, 1)',\n  },\n  5: {\n    valid: 'rgba(0, 255, 0, 0.5)',\n    select: {\n      stroke: 'rgba(149, 255, 1)',\n      fill: 'rgba(149,255,0, 1)',\n    },\n    hover: 'rgba(149, 255, 0, 0.8)',\n    line: 'rgba(191, 255, 102, 1)',\n  },\n  7: {\n    valid: 'rgba(255, 255, 0, 0.5)',\n    select: {\n      stroke: 'rgba(255, 230, 102, 1)',\n      fill: 'rgba(255,213,0, 1)',\n    },\n    hover: 'rgba(255, 230, 102, 0.8)',\n    line: 'rgba(255, 230, 102, 1)',\n  },\n  9: {\n    valid: 'rgba(255, 0, 255, 0.5)',\n    select: {\n      stroke: 'rgba(230, 102, 255, 1)',\n      fill: 'rgba(213,0,255, 1)',\n    },\n    hover: 'rgba(230, 102, 255, 0.8)',\n    line: 'rgba(230, 102, 255, 1)',\n  },\n};\n\nexport const BORDER_OPACITY_LEVEL: { [a: number]: number } = {\n  1: 0.2,\n  3: 0.4,\n  5: 0.6,\n  7: 0.8,\n  9: 1.0,\n};\n\nexport const FILL_OPACITY_LEVEL: { [a: number]: number } = {\n  1: 0,\n  3: 0.2,\n  5: 0.4,\n  7: 0.6,\n  9: 0.8,\n};\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12.004' height='11.999' viewBox='0 0 12.004 11.999'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='icon_clearSmall_a' class='cls-1' d='M17526.469-1204.464l-.678-.678%2c1.752-1.751a.489.489%2c0%2c0%2c0-.006-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-1.039-1.043%2c1.752-1.751a.484.484%2c0%2c0%2c0%2c0-.691.489.489%2c0%2c0%2c0-.7%2c0l-1.752%2c1.751-1.037-1.038%2c1.75-1.756a.484.484%2c0%2c0%2c0%2c0-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-.682-.678a1%2c1%2c0%2c0%2c1%2c0-1.417l3.1-3.1a.972.972%2c0%2c0%2c1%2c0-1.384.981.981%2c0%2c0%2c1%2c1.387%2c0l2.422%2c2.422%2c1.736-1.732a1.47%2c1.47%2c0%2c0%2c1%2c2.076%2c0%2c1.476%2c1.476%2c0%2c0%2c1%2c0%2c2.081l-1.73%2c1.731%2c2.426%2c2.427a.98.98%2c0%2c0%2c1%2c0%2c1.386.985.985%2c0%2c0%2c1-1.391%2c0l-3.1%2c3.1a.989.989%2c0%2c0%2c1-.707.294A.987.987%2c0%2c0%2c1%2c17526.469-1204.464Z' transform='translate(-17520.656 1216.17)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12.004' height='11.999' viewBox='0 0 12.004 11.999'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23999%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='icon_clearSmall' class='cls-1' d='M17526.469-1204.464l-.678-.678%2c1.752-1.751a.489.489%2c0%2c0%2c0-.006-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-1.039-1.043%2c1.752-1.751a.484.484%2c0%2c0%2c0%2c0-.691.489.489%2c0%2c0%2c0-.7%2c0l-1.752%2c1.751-1.037-1.038%2c1.75-1.756a.484.484%2c0%2c0%2c0%2c0-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-.682-.678a1%2c1%2c0%2c0%2c1%2c0-1.417l3.1-3.1a.972.972%2c0%2c0%2c1%2c0-1.384.981.981%2c0%2c0%2c1%2c1.387%2c0l2.422%2c2.422%2c1.736-1.732a1.47%2c1.47%2c0%2c0%2c1%2c2.076%2c0%2c1.476%2c1.476%2c0%2c0%2c1%2c0%2c2.081l-1.73%2c1.731%2c2.426%2c2.427a.98.98%2c0%2c0%2c1%2c0%2c1.386.985.985%2c0%2c0%2c1-1.391%2c0l-3.1%2c3.1a.989.989%2c0%2c0%2c1-.707.294A.987.987%2c0%2c0%2c1%2c17526.469-1204.464Z' transform='translate(-17520.656 1216.17)'/%3e%3c/svg%3e\";\n  export default img;","import React, { useState, useRef, useEffect } from 'react';\nimport { Divider, Input } from 'antd/es';\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons';\nimport { AppState } from '@/store';\nimport { connect, useDispatch } from 'react-redux';\nimport { getTotalPage } from '@/store/annotation/reducer';\nimport HiddenTips from './HiddenTips';\nimport PageNumber from './PageNumber';\nimport ZoomController from './ZoomController';\nimport FooterTips from './FooterTips';\nimport { prefix } from '@/constant';\nimport { PageBackward, PageForward, PageJump } from '@/store/annotation/actionCreators';\nimport { IStepInfo } from '@/types/step';\nimport { useTranslation } from 'react-i18next';\n\ninterface IPageProps {\n  jumpSkip: Function;\n  imgIndex: number;\n}\n\nexport const PageInput = (props: IPageProps) => {\n  const { jumpSkip, imgIndex } = props;\n  const [newIndex, setIndex] = useState(imgIndex);\n  const inputEl = useRef(null);\n\n  useEffect(() => {\n    setIndex(imgIndex + 1);\n  }, [imgIndex]);\n\n  const newHandleJump = (e: any) => {\n    const reg = /^\\d*$/;\n    if (reg.test(e.target.value)) {\n      setIndex(e.target.value);\n    }\n  };\n\n  const newJumpSkip = (e: any) => {\n    if (e.keyCode === 13) {\n      jumpSkip(e.target.value);\n      // inputEl?.current?.blur();\n    }\n  };\n\n  return (\n    <Input\n      className='pageInput'\n      ref={inputEl}\n      onChange={newHandleJump}\n      value={newIndex}\n      onKeyDown={newJumpSkip}\n    />\n  );\n};\n\ninterface IProps {\n  totalPage: number;\n  imgIndex: number;\n  style?: { [key: string]: any };\n  stepList: IStepInfo[];\n  step: number;\n  basicResultList: any[];\n  basicIndex: number;\n  mode?: 'light' | 'dark'; // 后面通过 context 的形式进行编写\n}\n\nexport const footerCls = `${prefix}-footer`;\n\nconst FooterDivider = () => (\n  <Divider type='vertical' style={{ background: 'rgba(153, 153, 153, 1)', height: '16px' }} />\n);\n\nconst ToolFooter: React.FC<IProps> = (props: IProps) => {\n  const { stepList, step, basicResultList, basicIndex, mode } = props;\n  const dispatch = useDispatch();\n\n  const { t } = useTranslation();\n\n  const stepInfo = stepList[step - 1] ?? {};\n\n  const pageBackward = () => {\n    dispatch(PageBackward());\n  };\n\n  const pageForward = () => {\n    dispatch(PageForward());\n  };\n\n  const pageJump = (page: string) => {\n    const imgIndex = ~~page - 1;\n    dispatch(PageJump(imgIndex));\n  };\n\n  const hasSourceStep = !!stepInfo.dataSourceStep;\n\n  return (\n    <div className={`${footerCls}`} style={props.style}>\n      <FooterTips />\n      <div style={{ flex: 1 }} />\n      <HiddenTips />\n      <PageNumber />\n      {/* {\n        <>\n          <span className='progress'>进度{((1 * 100) / 1).toFixed(2)}%</span>\n          {<FooterDivider />}\n        </>\n      } */}\n\n      <div className={`${footerCls}__pagination`}>\n        <LeftOutlined className={`${footerCls}__highlight`} onClick={pageBackward} />\n        <PageInput imgIndex={props.imgIndex} jumpSkip={pageJump} />/\n        <span className={`${footerCls}__pageAll`}>{props.totalPage}</span>\n        <RightOutlined className={`${footerCls}__highlight`} onClick={pageForward} />\n      </div>\n\n      {hasSourceStep && basicResultList.length > 0 && (\n        <>\n          <FooterDivider />\n          <span>{t('curItems', { current: basicIndex + 1, total: basicResultList.length })}</span>\n        </>\n      )}\n\n      <FooterDivider />\n      <ZoomController mode={mode} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  totalPage: getTotalPage(state.annotation),\n  imgIndex: state.annotation.imgIndex,\n  stepList: state.annotation.stepList,\n  step: state.annotation.step,\n  basicIndex: state.annotation.basicIndex,\n  basicResultList: state.annotation.basicResultList,\n});\n\nexport default connect(mapStateToProps)(ToolFooter);\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_279' data-name='%e8%b7%af%e5%be%84 279' class='cls-1' d='M11.345-10.437H8.754c0-.488-.379-1.077-.848-1.077H4.94c-.468%2c0-.848.589-.848%2c1.077H1.5c-.572%2c0-1.2.085-1.2.658v.886H12.248v-.886C12.248-10.352%2c11.917-10.437%2c11.345-10.437ZM1.357-7.857V.582a2.019%2c2.019%2c0%2c0%2c0%2c1.7%2c1.9H9.79c.859%2c0%2c1.421-1.046%2c1.421-1.9V-7.857ZM4.186.758H3.15V-6.709H4.186Zm2.6%2c0H5.747V-6.709H6.783Zm2.6%2c0H8.344V-6.709H9.38Z' transform='translate(-0.3 11.514)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_del_kj' transform='translate(0.7 10.514)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_95' data-name='%e7%9f%a9%e5%bd%a2 95' class='cls-1' width='16' height='16' transform='translate(-0.7 -10.514)'/%3e %3cg id='%e7%bb%84_481' data-name='%e7%bb%84 481' class='cls-2' transform='translate(1.3 -9.514)'%3e %3cpath id='%e8%b7%af%e5%be%84_278' data-name='%e8%b7%af%e5%be%84 278' class='cls-3' d='M-4.7-16.514H19.956V10.194H-4.7Z' transform='translate(-1.654 10.16)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import { isObject } from 'lodash';\n\nexport class ConfigUtils {\n  public static jsonParser(content: any, defaultValue: any = {}) {\n    try {\n      if (typeof content === 'string') {\n        return JSON.parse(content);\n      }\n      return isObject(content) ? content : defaultValue;\n    } catch (e) {\n      return defaultValue;\n    }\n  }\n\n  /**\n   * 获取对应的步骤配置\n   * @param stepList \n   * @param step \n   */\n  public static getStepConfig = (stepList: any[], step: number) =>\n    stepList.find((i) => i.step === step);\n}\n","import {\n  editStepWidth,\n  footerHeight,\n  headerHeight,\n  sidebarWidth,\n} from '@/data/enums/AnnotationSize';\nimport { cKeyCode, toolUtils } from '@labelbee/lb-annotation';\n\nimport React, { useContext, useEffect, useMemo, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { AppState } from '@/store';\nimport { UpdateRotate, PageBackward, PageForward } from '@/store/annotation/actionCreators';\nimport { ISize } from '@/types/main';\n\nconst EKeyCode = cKeyCode.default;\n\nexport const viewportContext = React.createContext<{\n  width: number;\n  height: number;\n}>({\n  width: window.innerWidth,\n  height: window.innerHeight,\n});\n\nexport const ViewportProviderComponent = (props: any) => {\n  const { children, dispatch } = props;\n  const [width] = useState(window.innerWidth);\n  const [height] = useState(window.innerHeight);\n\n  const keydown = (e: KeyboardEvent) => {\n    if (!toolUtils.hotkeyFilter(e)) {\n      return;\n    }\n    if (e.keyCode === EKeyCode.A) {\n      dispatch(PageBackward());\n    }\n\n    if (e.keyCode === EKeyCode.D) {\n      dispatch(PageForward());\n    }\n    if (e.keyCode === EKeyCode.R) {\n      dispatch(UpdateRotate());\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', keydown);\n\n    return () => {\n      window.removeEventListener('keydown', keydown);\n    };\n  }, []);\n\n  const size = useMemo(() => ({ width, height }), [width, height]);\n\n  return <viewportContext.Provider value={size}>{children}</viewportContext.Provider>;\n};\n\nexport const ViewportProvider = connect((state: AppState) => ({\n  annotation: state.annotation,\n}))(ViewportProviderComponent);\n\nexport const useViewport = () => {\n  const { width, height } = useContext(viewportContext);\n  return { width, height };\n};\n\n/**\n * 获取当前 canvas 的大小\n * @param isEdit 是否为编辑模式\n * @param isTips 是否有 tips\n */\nexport const useCanvasViewPort = (isEdit = false, isTips = false) => {\n  const { width, height } = useContext(viewportContext);\n  const otherHeight = headerHeight + footerHeight;\n  const placeholderHeight = isTips ? 40 + otherHeight + 40 : otherHeight;\n  const placeholderWidth = isEdit ? editStepWidth + sidebarWidth : sidebarWidth;\n\n  return {\n    width: width - placeholderWidth,\n    height: height - placeholderHeight,\n  };\n};\n\n/**\n * 解析当前 windowSize 下的 canvasSize\n * @param size\n * @param isEdit\n * @param isTips\n */\nexport const getFormatSize = (windowSize: ISize, isEdit = false, isTips = false) => {\n  const { width, height } = windowSize;\n  const otherHeight = headerHeight + footerHeight;\n  const placeholderHeight = isTips ? 40 + otherHeight + 40 : otherHeight;\n  const placeholderWidth = isEdit ? editStepWidth + sidebarWidth : sidebarWidth;\n\n  return {\n    width: width - placeholderWidth,\n    height: height - placeholderHeight,\n  };\n};\n","import { useLayoutEffect } from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport type { BasicTarget } from '../utils/dom';\nimport { getTargetElement } from '../utils/dom';\nimport useRafState from './useRafState';\n\ninterface Size {\n  width?: number;\n  height?: number;\n}\n\nfunction useSize(target: BasicTarget): Size {\n  const [state, setState] = useRafState<Size>(() => {\n    const el = getTargetElement(target);\n    return {\n      width: ((el || {}) as HTMLElement).clientWidth,\n      height: ((el || {}) as HTMLElement).clientHeight,\n    };\n  });\n\n  useLayoutEffect(() => {\n    const el = getTargetElement(target);\n    if (!el) {\n      return () => {};\n    }\n\n    const resizeObserver = new ResizeObserver((entries) => {\n      entries.forEach((entry) => {\n        setState({\n          width: entry.target.clientWidth,\n          height: entry.target.clientHeight,\n        });\n      });\n    });\n\n    resizeObserver.observe(el as HTMLElement);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [target]);\n\n  return state;\n}\n\nexport default useSize;\n","import { TOOL_STYLE_ACTIONS } from '@/store/Actions';\nimport { ToolStyleActionTypes, ToolStyleState } from './types';\n\nexport function InitToolStyleConfig(): ToolStyleActionTypes {\n  return {\n    type: TOOL_STYLE_ACTIONS.INIT_TOOL_STYLE_CONFIG,\n    payload: undefined\n  };\n}\n\nexport function UpdateToolStyleConfig(toolStyle: Partial<ToolStyleState>): ToolStyleActionTypes {\n  return {\n    type: TOOL_STYLE_ACTIONS.UPDATE_TOOL_STYLE_CONFIG,\n    payload: toolStyle,\n  };\n}\n\nexport default {\n  InitToolStyleConfig,\n  UpdateToolStyleConfig,\n};\n","import { IMAGE_ATTRIBUTE_ACTIONS } from '@/store/Actions';\nimport { ImgAttributeActionTypes, ImgAttributeState } from './types';\n\nexport function UpdateImgAttribute(imgAttribute: ImgAttributeState): ImgAttributeActionTypes {\n  return {\n    type: IMAGE_ATTRIBUTE_ACTIONS.UPDATE_IMG_ATTRIBUTE,\n    payload: imgAttribute,\n  };\n}\n\nexport function InitImgAttribute(): ImgAttributeActionTypes {\n  return {\n    type: IMAGE_ATTRIBUTE_ACTIONS.INIT_IMG_ATTRIBUTE,\n    payload: {}\n  };\n}\n\nexport default {\n  UpdateImgAttribute,\n  InitImgAttribute,\n};\n","import { COLORS_ARRAY, NULL_COLOR } from '@/data/Style';\nimport { ColorTag } from '@/components/colorTag';\nimport { Radio } from 'antd/es';\nimport React from 'react';\n\nexport const ATTRIBUTE_COLORS = [NULL_COLOR].concat(COLORS_ARRAY);\n\ninterface IProps {\n  list: Array<{\n    label: string;\n    value: string;\n  }>;\n  selectedAttribute: string;\n  attributeChanged: (v: string) => void;\n  forbidDefault?: boolean;\n  forbidColor?: boolean;\n  noHeightLimit?: boolean;\n  num?: number;\n}\n\nconst AttributeList = React.forwardRef((props: IProps, ref) => {\n  const radioRef = React.useRef<any>();\n\n  const list = props.list || [];\n\n  let NEW_ATTRIBUTE_COLORS = [...ATTRIBUTE_COLORS];\n\n  // 去除默认的颜色\n  if (props.forbidDefault === true) {\n    NEW_ATTRIBUTE_COLORS = NEW_ATTRIBUTE_COLORS.slice(1);\n  }\n\n  let className = 'sensebee-radio-group';\n  if (props.noHeightLimit) {\n    className = 'sensebee-radio-group-no-limit-height';\n  }\n\n  return (\n    <div className={className}>\n      <Radio.Group\n        name=\"radiogroup\"\n        defaultValue={props?.selectedAttribute}\n        value={props?.selectedAttribute}\n        onChange={(e) => props.attributeChanged(e.target.value)}\n        ref={ref as any}\n      >\n        {list.map((i: any, index: number) => {\n          let hotKey: number | string = props?.num ?? index;\n\n          if (props.forbidDefault === true) {\n            // 禁止 default 将从 1 开始\n            hotKey++;\n          }\n\n          // 超出范围无法展示\n          if (!(typeof hotKey === 'number' && hotKey <= 9 && hotKey >= 0)) {\n            hotKey = '-';\n          }\n\n          return (\n            <Radio\n              value={i.value}\n              ref={radioRef}\n              key={index}\n            >\n              <span className=\"sensebee-radio-label\" title={i.label}>\n                {!props?.forbidColor && (\n                  <ColorTag\n                    color={\n                      index > 8 && !props.forbidDefault\n                        ? COLORS_ARRAY[(index - 1) % COLORS_ARRAY.length]\n                        : NEW_ATTRIBUTE_COLORS[\n                          index % NEW_ATTRIBUTE_COLORS.length\n                        ]\n                    }\n                    style={{ marginRight: '8px' }}\n                  />\n                )}\n                {i.label}\n              </span>\n              <span className=\"sensebee-radio-num\">{hotKey}</span>\n            </Radio>\n          );\n        })}\n      </Radio.Group>\n    </div>\n  );\n});\n\nexport default AttributeList;\n","import { ETextType } from '@/data/enums/ToolType';\n\nexport const REGEXP_NUMBER = '^[0-9]+$';\nexport const REGEXP_ENGLISH = '^[A-Za-z]+$';\n\nexport class TextUtils {\n  public static checkString(textCheckType: ETextType, customFormat: string) {\n    let regExpString = '';\n    switch (textCheckType) {\n      case ETextType.Order:\n      case ETextType.NumberOnly:\n        regExpString = REGEXP_NUMBER;\n        break;\n      case ETextType.EnglishOnly:\n        regExpString = REGEXP_ENGLISH;\n        break;\n      case ETextType.CustomFormat:\n        regExpString = customFormat;\n        break;\n    }\n    return regExpString;\n  }\n\n  public static getErrorNotice(textCheckType: ETextType) {\n    switch (textCheckType) {\n      case ETextType.Order:\n      case ETextType.NumberOnly:\n        return '请按仅数字的格式输入';\n      case ETextType.EnglishOnly:\n        return '请按仅英文的格式输入';\n      case ETextType.CustomFormat:\n        return '请按要求的格式输入';\n      default:\n        return '';\n    }\n  }\n}\n","var img = \"data:image/svg+xml,%3csvg id='icon_polygon_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2%2c .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-2 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-4' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-4' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineCont_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-3 %7b fill: none%3b %7d .cls-2%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_unGrip_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_14' data-name='%e5%87%8f%e5%8e%bb 14' class='cls-2' d='M12806.69-12915.114c-.083%2c0-.175%2c0-.282-.008a5.869%2c5.869%2c0%2c0%2c1-3.878-1.69%2c5.509%2c5.509%2c0%2c0%2c1-1.6-4.091%2c6.209%2c6.209%2c0%2c0%2c1%2c2.044-4.437l1.039-.934%2c2.459%2c2.731-1.168%2c1.052a2.434%2c2.434%2c0%2c0%2c0-.522%2c2.823%2c2.39%2c2.39%2c0%2c0%2c0%2c1.854.923%2c2%2c2%2c0%2c0%2c0%2c1.346-.508l1.3-1.171%2c2.46%2c2.732-1.169%2c1.054A5.813%2c5.813%2c0%2c0%2c1%2c12806.69-12915.114Zm6.1-3.518h0l-2.477-2.717%2c1.962-1.769a.619.619%2c0%2c0%2c1%2c.412-.164.6.6%2c0%2c0%2c1%2c.454.209l1.639%2c1.824a.6.6%2c0%2c0%2c1-.046.863l-1.942%2c1.753Zm-5.33-5.8h0l-2.523-2.675%2c1.938-1.745a.614.614%2c0%2c0%2c1%2c.412-.163.609.609%2c0%2c0%2c1%2c.455.209l1.769%2c1.7a.6.6%2c0%2c0%2c1-.046.866l-2%2c1.8Z' transform='translate(-12800 12929.97)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_271' data-name='%e7%9f%a9%e5%bd%a2 271' class='cls-2' width='1.166' height='18.662' transform='matrix(0.719%2c -0.695%2c 0.695%2c 0.719%2c 0.745%2c 2.047)'/%3e%3c/svg%3e\";\n  export default img;","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rootReducer } from './store';\n\nexport default function configureStore() {\n  return createStore(rootReducer, applyMiddleware(thunk));\n}\n","import { combineReducers, CombinedState } from 'redux';\nimport { annotationReducer } from './annotation/reducer';\nimport { imgAttributeReducer } from './imgAttribute/reducer';\nimport { toolStyleReducer } from './toolStyle/reducer';\n\nexport const rootReducer: CombinedState<any> = combineReducers({\n  annotation: annotationReducer,\n  imgAttribute: imgAttributeReducer,\n  toolStyle: toolStyleReducer,\n});\n\nexport type AppState = ReturnType<typeof rootReducer>;\n","import { jsonParser } from '.';\nimport StepUtils from './StepUtils';\n\n/**\n * 解析结果，将图片信息注入到结果\n * @param result\n * @param basicImgInfo\n */\nexport const composeResultWithBasicImgInfo = (\n  result: string,\n  basicImgInfo: { [a: string]: any },\n) => {\n  const newResult = JSON.stringify({ ...jsonParser(result), ...basicImgInfo });\n  return newResult;\n};\n\n// 处理result\nexport const composeResult = (\n  result: string,\n  pos: {\n    step: number;\n    stepList: any[];\n  },\n  newData: {\n    rect: any[];\n    basicRectID?: string;\n  },\n) => {\n  const { step, stepList } = pos;\n  const { rect, basicRectID } = newData;\n\n  try {\n    const data = jsonParser(result);\n    const currentStepInfo = StepUtils.getCurrentStepInfo(step, stepList);\n    const { dataSourceStep } = currentStepInfo;\n\n    const stepName = `step_${currentStepInfo.step}`;\n\n    if (data[stepName]) {\n      const info = data[stepName];\n      if (info.result) {\n        if (JSON.stringify(info.result) === JSON.stringify(rect)) {\n          return JSON.stringify(data);\n        }\n        if (basicRectID) {\n          info.result = [\n            ...info.result.filter((v: { sourceID: string; }) => !(v.sourceID && v.sourceID === basicRectID)),\n            ...rect.filter((v) => v.sourceID && v.sourceID === basicRectID),\n          ];\n        } else {\n          info.result = rect;\n        }\n        return JSON.stringify(data);\n      }\n      return JSON.stringify({\n        ...data,\n        [stepName]: {\n          ...data[stepName],\n          result: rect,\n        },\n      });\n    }\n    // 初始化结果\n    return JSON.stringify({\n      ...data,\n      [stepName]: {\n        dataSourceStep,\n        toolName: stepList[step - 1].tool,\n        result: rect,\n      },\n    });\n  } catch (e) {\n    return result;\n  }\n};\n","import { uuid } from '@labelbee/lb-annotation';\nimport { jsonParser } from '.';\nimport { EToolName } from '@/data/enums/ToolType';\nimport _ from 'lodash';\nimport StepUtils from './StepUtils';\nimport { IStepInfo } from '@/types/step';\n\nexport default class AnnotationDataUtils {\n  /**\n   * 复制上一张图片结果\n   * @param copyResult 复制的结果\n   * @param step 复制的步骤\n   * @param currentResult 当前的步骤\n   * @returns\n   */\n  public static copyResultChange(copyResult: string, step: number, currentResult: string) {\n    // 其实其限定的范围一般都在单图的情况\n    try {\n      const copyData = jsonParser(copyResult);\n      const currentData = jsonParser(currentResult);\n      const stepName = `step_${step}`;\n      if (copyData[stepName]) {\n        // 这层可能还要处理 dataSource 依赖问题\n        const info = copyData[stepName];\n        if (info.result) {\n          info.result = info.result.map((info: any) => ({\n            ...info,\n            // @ts-ignore\n            id: uuid(8, 62),\n          }));\n          currentData[stepName] = info;\n          return JSON.stringify(currentData);\n        }\n      }\n      return copyResult;\n    } catch {\n      return copyResult;\n    }\n  }\n\n  /**\n   * 判断结果sourceID与依赖数据的id是否能对应\n   * @param result\n   * @param basicResultList\n   */\n  public static isResultSourceMatchedDependence(result: any, basicResultList: any[]) {\n    const sourceIDForCurStep = result?.map((i: { sourceID: string }) => i.sourceID).sort();\n    const sourceIDForDependStep = basicResultList?.map((i) => i.id).sort();\n\n    return _.isEqual(sourceIDForCurStep, sourceIDForDependStep);\n  }\n\n  /**\n   * 获取依赖增量更新的内容\n   * @param result\n   * @param basicResultList\n   * @returns\n   */\n  public static deltaUpdateBasicResultList(result: any, basicResultList: any[]) {\n    const sourceIDForCurStep = result?.map((i: { sourceID: string }) => i.sourceID).sort();\n\n    return basicResultList.filter((v) => !sourceIDForCurStep.includes(v.id));\n  }\n\n  /**\n   *\n   * @param stepResult\n   * @param toolInstance\n   * @param stepConfig\n   * @param basicResultList 获取初始化数据 该部分默认输入需要为空数组\n   * @param isInitData\n   * @returns\n   */\n  public static getInitialResultList(\n    stepResult: any[] | undefined,\n    toolInstance: any,\n    stepConfig: any,\n    basicResultList: any[],\n    isInitData: boolean,\n  ) {\n    const resultList = stepResult ?? [];\n\n    switch (stepConfig.tool) {\n      case EToolName.Tag:\n      case EToolName.Text: {\n        /**\n         * 在依赖的情况下，检查的是否需要增量更新前面新增的结果\n         */\n        if (stepConfig.dataSourceStep > 0) {\n          const deltaResultList = this.deltaUpdateBasicResultList(resultList, basicResultList);\n          if (deltaResultList.length > 0) {\n            return resultList.concat(\n              toolInstance.getInitResultList(stepConfig.dataSourceStep, deltaResultList),\n            );\n          }\n        }\n\n        if (isInitData !== true) {\n          return resultList;\n        }\n\n        return toolInstance.getInitResultList(stepConfig.dataSourceStep, basicResultList);\n      }\n\n      default: {\n        return resultList;\n      }\n    }\n  }\n\n  /**\n   * 修正数据，找到被删除的数据，并将依赖该数据的结果全部删除\n   * @param newResStr 新提交的数据\n   * @param oldResStr 当前的数据\n   * @param step 当前操作的步骤\n   * @param stepList 步骤列表\n   */\n  public static dataCorrection(\n    newResStr: string,\n    oldResStr: string,\n    step: number,\n    stepList: IStepInfo[],\n  ) {\n    try {\n      const curStep = StepUtils.getStepInfo(step, stepList);\n      const stepKey = `step_${curStep.step}`;\n      const newRes = jsonParser(newResStr);\n      const oldRes = jsonParser(oldResStr);\n      const newResForCurStep = newRes[stepKey]?.result;\n      const oldResForCurStep = oldRes[stepKey]?.result;\n\n      /** 没有旧数据时不处理 */\n      if (!oldResForCurStep) {\n        return newResStr;\n      }\n\n      if (_.isEqual(newResForCurStep.sort(this.idCmp), oldResForCurStep.sort(this.idCmp))) {\n        return newResStr;\n      }\n\n      const deletedIds = this.findDeletedIds(newResForCurStep, oldResForCurStep);\n\n      if (deletedIds.length === 0) {\n        return newResStr;\n      }\n\n      const dataSourceStep = step;\n      const stepKeys = this.getStepKeys(newRes).sort();\n      this.deleteRes(newRes, dataSourceStep, deletedIds, stepKeys);\n\n      return JSON.stringify(newRes);\n    } catch (error) {\n      console.error(error);\n      return newResStr;\n    }\n  }\n\n  /**\n   * id sort 规则\n   * @param a\n   * @param b\n   * @returns\n   */\n  public static idCmp(a: any, b: any) {\n    const idA = a.id;\n    const idB = b.id;\n    if (idA < idB) {\n      return -1;\n    }\n    if (idA > idB) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n  /**\n   * 找到结果被删除的id\n   * @param newResForCurStep\n   * @param oldResForCurStep\n   * @returns {Array<string>}\n   */\n  public static findDeletedIds(newResForCurStep: any[], oldResForCurStep: any[]) {\n    return this.findDeletedItems(oldResForCurStep, newResForCurStep).map((i) => i.id);\n  }\n\n  /**\n   * 找到被删除的结果\n   * @param oldResForCurStep\n   * @param newResForCurStep\n   * @returns {Array<any>}\n   */\n  public static findDeletedItems(oldResForCurStep: any[], newResForCurStep: any[]) {\n    const deletedItems: any[] = [];\n    oldResForCurStep.forEach((i: any) => {\n      const isNewResExisted = newResForCurStep.some((r: any) => r.id === i.id);\n      if (!isNewResExisted) {\n        deletedItems.push(i);\n      }\n    });\n    return deletedItems;\n  }\n\n  /**\n   * 根据结果找到所有的步骤\n   * @param res\n   * @returns {Array<number>} 结果步骤列表\n   */\n  public static getStepKeys(res: any) {\n    return Object.keys(res)\n      .map((i) => parseInt(i.replace('step_', ''), 10))\n      .filter((i) => !isNaN(i));\n  }\n\n  /**\n   * 删除依赖数据的结果\n   * @param resData 当前文件的结果\n   * @param dataSourceStep 依赖步骤\n   * @param deletedIds 需要删除的sourceID\n   * @param stepKeys 结果的步骤\n   */\n  public static deleteRes(\n    resData: any,\n    dataSourceStep: number,\n    deletedIds: string[],\n    stepKeys: number[],\n  ) {\n    stepKeys.forEach((s) => {\n      if (s > dataSourceStep) {\n        const stepRes = resData[`step_${s}`];\n        // 文件夹标签, 分割工具 没有依赖, 不进行判断\n        if ([EToolName.FolderTag, EToolName.Segmentation].includes(stepRes.tool)) {\n          return;\n        }\n        if (stepRes.dataSourceStep === dataSourceStep) {\n          const newDeletedIds: string[] = [];\n          stepRes.result = stepRes.result.filter((i: any) => {\n            const exist = deletedIds.includes(i.sourceID);\n            if (exist) {\n              newDeletedIds.push(i.id);\n              return false;\n            }\n\n            return true;\n          });\n          this.deleteRes(resData, s, newDeletedIds, stepKeys);\n        } else {\n          // 非直接依赖关系下，也同样过滤删除了对应框的数据（注意: 该场景不包含 filterData 过滤属性下，更改框的属性来删除对应的框体）\n          stepRes.result = stepRes.result.filter((i: any) => {\n            const exist = deletedIds.includes(i.sourceID);\n            if (exist) {\n              return false;\n            }\n\n            return true;\n          });\n        }\n      }\n    });\n  }\n}\n","const styleString = '{\"toolColor\":{\"1\":{\"valid\":{\"stroke\":\"rgba(0,0,255,0.50)\",\"fill\":\"rgba(0,0,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.80)\"},\"validSelected\":{\"stroke\":\"rgba(0,15,255,1.00)\",\"fill\":\"rgba(0,15,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,0.60)\",\"fill\":\"rgba(255,0,0,0.24)\"},\"validHover\":{\"stroke\":\"rgba(0,15,255,0.80)\",\"fill\":\"rgba(0,15,255,0.64)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,0.50)\",\"fill\":\"rgba(255,0,0,0.40)\"}},\"3\":{\"valid\":{\"stroke\":\"rgba(0,255,255,0.50)\",\"fill\":\"rgba(0,255,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.80)\"},\"validSelected\":{\"stroke\":\"rgba(0,212,255,1.00)\",\"fill\":\"rgba(0,212,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,0.60)\",\"fill\":\"rgba(255,0,0,0.24)\"},\"validHover\":{\"stroke\":\"rgba(0,212,255,0.80)\",\"fill\":\"rgba(0,212,255,0.64)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,0.50)\",\"fill\":\"rgba(255,0,0,0.40)\"}},\"5\":{\"valid\":{\"stroke\":\"rgba(0,255,0,0.50)\",\"fill\":\"rgba(0,255,0,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.80)\"},\"validSelected\":{\"stroke\":\"rgba(149,255,1.00)\",\"fill\":\"rgba(149,255,0,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,0.60)\",\"fill\":\"rgba(255,0,0,0.24)\"},\"validHover\":{\"stroke\":\"rgba(149,255,0,0.80)\",\"fill\":\"rgba(149,255,0,0.64)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,0.50)\",\"fill\":\"rgba(255,0,0,0.40)\"}},\"7\":{\"valid\":{\"stroke\":\"rgba(255,255,0,0.50)\",\"fill\":\"rgba(255,255,0,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.80)\"},\"validSelected\":{\"stroke\":\"rgba(255,230,102,1.00)\",\"fill\":\"rgba(255,213,0,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,0.60)\",\"fill\":\"rgba(255,0,0,0.24)\"},\"validHover\":{\"stroke\":\"rgba(255,230,102,0.80)\",\"fill\":\"rgba(255,230,102,0.64)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,0.50)\",\"fill\":\"rgba(255,0,0,0.40)\"}},\"9\":{\"valid\":{\"stroke\":\"rgba(255,0,255,0.50)\",\"fill\":\"rgba(255,0,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.80)\"},\"validSelected\":{\"stroke\":\"rgba(230,102,255,1.00)\",\"fill\":\"rgba(213,0,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,0.60)\",\"fill\":\"rgba(255,0,0,0.24)\"},\"validHover\":{\"stroke\":\"rgba(230,102,255,0.80)\",\"fill\":\"rgba(230,102,255,0.64)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,0.50)\",\"fill\":\"rgba(255,0,0,0.40)\"}}},\"attributeColor\":[{\"valid\":{\"stroke\":\"rgba(204,204,204,1.00)\",\"fill\":\"rgba(204,204,204,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(204,204,204,1.00)\",\"fill\":\"rgba(204,204,204,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(204,204,204,1.00)\",\"fill\":\"rgba(204,204,204,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(153,51,255,1.00)\",\"fill\":\"rgba(153,51,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(153,51,255,1.00)\",\"fill\":\"rgba(153,51,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(153,51,255,1.00)\",\"fill\":\"rgba(153,51,255,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(51,254,51,1.00)\",\"fill\":\"rgba(51,254,51,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(51,254,51,1.00)\",\"fill\":\"rgba(51,254,51,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(51,254,51,1.00)\",\"fill\":\"rgba(51,254,51,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(255,51,255,1.00)\",\"fill\":\"rgba(255,51,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(255,51,255,1.00)\",\"fill\":\"rgba(255,51,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(255,51,255,1.00)\",\"fill\":\"rgba(255,51,255,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(204,255,51,1.00)\",\"fill\":\"rgba(204,255,51,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(204,255,51,1.00)\",\"fill\":\"rgba(204,255,51,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(204,255,51,1.00)\",\"fill\":\"rgba(204,255,51,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(51,153,255,1.00)\",\"fill\":\"rgba(51,153,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(51,153,255,1.00)\",\"fill\":\"rgba(51,153,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(51,153,255,1.00)\",\"fill\":\"rgba(51,153,255,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(255,153,51,1.00)\",\"fill\":\"rgba(255,153,51,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(255,153,51,1.00)\",\"fill\":\"rgba(255,153,51,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(255,153,51,1.00)\",\"fill\":\"rgba(255,153,51,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(51,255,238,1.00)\",\"fill\":\"rgba(51,255,238,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(51,255,238,1.00)\",\"fill\":\"rgba(51,255,238,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(51,255,238,1.00)\",\"fill\":\"rgba(51,255,238,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(255,221,51,1.00)\",\"fill\":\"rgba(255,221,51,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(255,221,51,1.00)\",\"fill\":\"rgba(255,221,51,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(255,221,51,1.00)\",\"fill\":\"rgba(255,221,51,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}}],\"lineColor\":{\"1\":\"rgba(102, 111, 255, 1 )\",\"3\":\"rgba(102, 230, 255, 1)\",\"5\":\"rgba(191, 255, 102, 1)\",\"7\":\"rgba(255, 230, 102, 1)\",\"9\":\"rgba(230, 102, 255, 1)\"},\"attributeLineColor\":[\"rgba(204, 204, 204, 1)\",\"rgba(153, 51, 255, 1)\",\"rgba(51, 254, 51, 1)\",\"rgba(255, 51, 255, 1)\",\"rgba(204, 255, 51, 1)\",\"rgba(51, 153, 255, 1)\",\"rgba(255, 153, 51, 1)\",\"rgba(51, 255, 238, 1)\",\"rgba(255, 221, 51, 1)\"],\"color\":1,\"width\":2,\"opacity\":9}';\n\nexport default styleString;\n","import { EPageTurningOperation } from '../data/enums/AnnotationSize';\nimport _ from 'lodash';\nimport { jsonParser } from '.';\n\ninterface IPageInfo {\n  fileIndex: number;\n  basicIndex: number;\n  basicList: any[];\n  fileList: any[];\n  step: number;\n  stepList: any[];\n}\n\nclass PageOperator {\n  public static getPageInfo(annotationStore: any) {\n    const {\n      imgIndex: fileIndex,\n      imgList: fileList,\n      basicResultList: basicList,\n      basicIndex,\n      step,\n      stepList,\n    } = annotationStore;\n\n    return {\n      fileIndex,\n      basicIndex,\n      basicList,\n      fileList,\n      step,\n      stepList,\n    };\n  }\n\n  /**\n   *\n   * @param pageTurningOperation\n   * @param nextIndex\n   */\n  public static getNextPageInfo(\n    pageTurningOperation: EPageTurningOperation,\n    annotationStore: any,\n    nextIndex?: number,\n  ) {\n    const pageInfo: IPageInfo = PageOperator.getPageInfo(annotationStore);\n    const { fileIndex: currentFileIndex } = PageOperator.getPageInfo(annotationStore);\n\n    const nextFileIndex = PageOperator.getNextFileIndex(pageTurningOperation, pageInfo, nextIndex);\n    const nextBasicIndex = PageOperator.getNextBasicIndex(\n      pageTurningOperation,\n      pageInfo.basicIndex,\n    );\n    const fileIndexChanged = nextFileIndex !== currentFileIndex;\n\n    const hasNextBasicIndex = PageOperator.hasNextBasicIndex(pageTurningOperation, pageInfo);\n\n    const pageChangedInfo = {\n      fileIndex: nextFileIndex,\n      basicIndex: nextBasicIndex,\n      fileIndexChanged,\n      basicIndexChanged: hasNextBasicIndex,\n    };\n\n    if (hasNextBasicIndex) {\n      pageChangedInfo.fileIndexChanged = false;\n      pageChangedInfo.fileIndex = currentFileIndex;\n      return pageChangedInfo;\n    }\n\n    pageChangedInfo.basicIndex =\n      pageTurningOperation === EPageTurningOperation.Backward\n        ? PageOperator.getBasicResultIndexForNextFile(pageInfo, pageChangedInfo.fileIndex)\n        : 0;\n\n    return pageChangedInfo;\n  }\n\n  /**\n   * 获取下一个依赖索引\n   * @param pageTurningOperation\n   */\n  public static getNextBasicIndex = (\n    pageTurningOperation: EPageTurningOperation,\n    basicIndex: number,\n  ) => {\n    return basicIndex + (pageTurningOperation === EPageTurningOperation.Forward ? 1 : -1);\n  };\n\n  /**\n   * 存在下一个依赖数据\n   * @param pageTurningOperation\n   */\n  public static hasNextBasicIndex = (\n    pageTurningOperation: EPageTurningOperation,\n    pageInfo: IPageInfo,\n  ) => {\n    const { basicList } = pageInfo;\n    if (basicList?.length > 0) {\n      const nextBasicIndex = PageOperator.getNextBasicIndex(\n        pageTurningOperation,\n        pageInfo.basicIndex,\n      );\n\n      return nextBasicIndex >= 0 && basicList.length > nextBasicIndex;\n    }\n\n    return false;\n  };\n\n  public static getBasicResultIndexForNextFile = (pageInfo: IPageInfo, fileIndex: number) => {\n    const { stepList, step, fileList } = pageInfo;\n    const stepConfig = stepList.find((i) => i.step === step);\n    const dataSourceStep = stepConfig?.dataSourceStep;\n\n    if (dataSourceStep) {\n      const fileResult = jsonParser(fileList[fileIndex].result);\n      const stepResult = fileResult[`step_${dataSourceStep}`]?.result;\n\n      if (!stepResult || !stepResult?.length) {\n        return 0;\n      }\n\n      return stepResult?.length - 1;\n    }\n\n    return 0;\n  };\n\n  /**\n   * 计算下一个文件的索引\n   * @param pageTurningOperation\n   * @param fileIndex\n   */\n  public static getNextFileIndex = (\n    pageTurningOperation: EPageTurningOperation,\n    pageInfo: IPageInfo,\n    fileIndex?: number,\n  ) => {\n    const { fileIndex: currentFileIndex, fileList } = pageInfo;\n\n    let newIndex = fileIndex !== undefined ? fileIndex : currentFileIndex;\n    switch (pageTurningOperation) {\n      case EPageTurningOperation.Forward:\n        newIndex += 1;\n        break;\n      case EPageTurningOperation.Backward:\n        newIndex -= 1;\n        break;\n      case EPageTurningOperation.Jump:\n        break;\n    }\n\n    if (_.inRange(newIndex, 0, fileList.length)) {\n      return newIndex;\n    }\n\n    return currentFileIndex;\n  };\n}\n\nexport default PageOperator;\n","import { IMAGE_ATTRIBUTE_ACTIONS } from '@/store/Actions';\nimport { ImgAttributeState, ImgAttributeActionTypes } from './types';\n\nconst initialState: ImgAttributeState = {\n  contrast: 1,\n  saturation: 1,\n  brightness: 1,\n  zoomRatio: 1,\n  isOriginalSize: false,\n};\n\nexport function imgAttributeReducer(\n  state = { ...initialState },\n  action: ImgAttributeActionTypes,\n): ImgAttributeState {\n  switch (action.type) {\n    case IMAGE_ATTRIBUTE_ACTIONS.UPDATE_IMG_ATTRIBUTE: {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    }\n\n    case IMAGE_ATTRIBUTE_ACTIONS.INIT_IMG_ATTRIBUTE: {\n      return {\n        ...initialState,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import { COLORS_ARRAY, NULL_COLOR } from '@/data/Style';\nimport { ToolStyleUtils } from '@/utils/ToolStyleUtils';\nimport { TOOL_STYLE_ACTIONS } from '@/store/Actions';\nimport { ToolStyleActionTypes, ToolStyleState } from './types';\n\nconst initialState: ToolStyleState = {\n  color: 1,\n  width: 2,\n  borderOpacity: 9,\n  fillOpacity: 9,\n  toolColor: ToolStyleUtils.getToolColors(),\n  attributeColor: ToolStyleUtils.getAttributeColors(),\n  lineColor: ToolStyleUtils.getDefaultToolLineColors(),\n  attributeLineColor: [NULL_COLOR].concat(COLORS_ARRAY),\n};\n\nexport function toolStyleReducer(\n  state = { ...initialState },\n  action: ToolStyleActionTypes,\n): ToolStyleState {\n  switch (action.type) {\n    case TOOL_STYLE_ACTIONS.INIT_TOOL_STYLE_CONFIG: {\n      return {\n        ...initialState,\n      };\n    }\n\n    case TOOL_STYLE_ACTIONS.UPDATE_TOOL_STYLE_CONFIG: {\n      const computeColor = {};\n      const payload = action.payload;\n      if (payload?.borderOpacity || payload?.fillOpacity) {\n        Object.assign(\n          computeColor,\n          ToolStyleUtils.initByOpacity(\n            payload.borderOpacity || state.borderOpacity,\n            payload.fillOpacity || state.fillOpacity,\n          ),\n        );\n      }\n\n      return {\n        ...state,\n        ...action.payload,\n        ...computeColor,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import {\n  CHANGE_COLOR,\n  DEFAULT_COLOR,\n  COLORS_ARRAY,\n  NULL_COLOR,\n  BORDER_OPACITY_LEVEL,\n  FILL_OPACITY_LEVEL,\n} from '@/data/Style';\nimport _ from 'lodash';\n\nconst FILL_OPACITY = 0.8;\n\nexport class ToolStyleUtils {\n  public static changeOpacity: { [a: number]: number } = {\n    1: 0.2,\n    3: 0.4,\n    5: 0.6,\n    7: 0.8,\n    9: 1.0,\n  };\n\n  public static colorSplit(color: string, opacity: number) {\n    return color\n      .split(' ')\n      .join('')\n      .replace(/,[0-9]+([.]{1}[0-9]+){0,1}\\)/, `,${opacity.toFixed(2)})`);\n  }\n\n  public static computeOpacity(opacity: number, color: string) {\n    const s = color\n      .split(' ')\n      .join('')\n      .match(/,[0-9]+([.]{1}[0-9]+){0,1}\\)/)?.[0] || '';\n    let firstOpacity = s.match(/[0-9]+([.]{1}[0-9]+){0,1}/)?.[0]\n    return opacity * Number(firstOpacity);\n  }\n\n  public static getToolColors(borderOpacityParam = 9, fillOpacityParam = 9) {\n    const colorSplit = ToolStyleUtils.colorSplit;\n    const computeOpacity = ToolStyleUtils.computeOpacity;\n\n    const toolColor = _.cloneDeep(CHANGE_COLOR);\n    const borderOpacity = BORDER_OPACITY_LEVEL[borderOpacityParam];\n    const fillOpacity = FILL_OPACITY_LEVEL[fillOpacityParam];\n\n    Object.keys(CHANGE_COLOR).forEach((color: any) => {\n      const showColor = _.cloneDeep(DEFAULT_COLOR);\n      showColor.valid.stroke = colorSplit(\n        CHANGE_COLOR[color].valid,\n        computeOpacity(borderOpacity, CHANGE_COLOR[color].valid),\n      );\n      showColor.valid.fill = colorSplit(\n        CHANGE_COLOR[color].valid,\n        computeOpacity(fillOpacity, CHANGE_COLOR[color].valid) * FILL_OPACITY,\n      );\n      showColor.validSelected.stroke = colorSplit(\n        CHANGE_COLOR[color].select.stroke,\n        computeOpacity(borderOpacity, CHANGE_COLOR[color].select.stroke),\n      );\n      showColor.validSelected.fill = colorSplit(\n        CHANGE_COLOR[color].select.fill,\n        computeOpacity(fillOpacity, CHANGE_COLOR[color].select.fill) * FILL_OPACITY,\n      );\n      showColor.validHover.stroke = colorSplit(\n        CHANGE_COLOR[color].hover,\n        computeOpacity(borderOpacity, CHANGE_COLOR[color].hover),\n      );\n      showColor.validHover.fill = colorSplit(\n        CHANGE_COLOR[color].hover,\n        computeOpacity(fillOpacity, CHANGE_COLOR[color].hover) * FILL_OPACITY,\n      );\n\n      // 无效的比例是一样的\n      showColor.invalid.stroke = colorSplit(\n        showColor.invalid.stroke,\n        computeOpacity(borderOpacity, showColor.invalid.stroke),\n      );\n      showColor.invalid.fill = colorSplit(\n        showColor.invalid.stroke,\n        computeOpacity(fillOpacity, showColor.invalid.stroke) * FILL_OPACITY,\n      );\n      showColor.invalidSelected.stroke = colorSplit(\n        showColor.invalidSelected.stroke,\n        computeOpacity(borderOpacity, showColor.invalidSelected.stroke),\n      );\n      showColor.invalidSelected.fill = colorSplit(\n        showColor.invalidSelected.fill,\n        computeOpacity(fillOpacity, showColor.invalidSelected.fill) * FILL_OPACITY,\n      );\n      showColor.invalidHover.stroke = colorSplit(\n        showColor.invalidHover.stroke,\n        computeOpacity(borderOpacity, showColor.invalidHover.fill),\n      );\n      showColor.invalidHover.fill = colorSplit(\n        showColor.invalidHover.fill,\n        computeOpacity(fillOpacity, showColor.invalidHover.fill) * FILL_OPACITY,\n      );\n      toolColor[color] = showColor;\n    });\n    return toolColor;\n  }\n\n  public static getAttributeColors(borderOpacityParam = 9, fillOpacityParam = 9) {\n    const colorSplit = ToolStyleUtils.colorSplit;\n    const computeOpacity = ToolStyleUtils.computeOpacity;\n    const borderOpacity = BORDER_OPACITY_LEVEL[borderOpacityParam];\n    const fillOpacity = FILL_OPACITY_LEVEL[fillOpacityParam];\n\n    let AttributeColorList: string[] = _.cloneDeep(COLORS_ARRAY);\n    AttributeColorList.unshift(NULL_COLOR);\n    AttributeColorList = AttributeColorList.map((item) => {\n      const showColor = JSON.parse(JSON.stringify(DEFAULT_COLOR));\n      showColor.valid.stroke = colorSplit(item, computeOpacity(borderOpacity, item));\n      showColor.valid.fill = colorSplit(\n        item,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY * 0.5,\n      );\n      showColor.validSelected.stroke = colorSplit(item, computeOpacity(borderOpacity, item));\n      showColor.validSelected.fill = colorSplit(\n        item,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY,\n      );\n      showColor.validHover.stroke = colorSplit(item, computeOpacity(borderOpacity, item));\n      showColor.validHover.fill = colorSplit(\n        item,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY,\n      );\n      showColor.invalid.stroke = colorSplit(\n        showColor.invalid.stroke,\n        computeOpacity(borderOpacity, item),\n      );\n      showColor.invalid.fill = colorSplit(\n        showColor.invalid.fill,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY * 0.5,\n      );\n      showColor.invalidSelected.stroke = colorSplit(\n        showColor.invalidSelected.stroke,\n        computeOpacity(borderOpacity, item),\n      );\n      showColor.invalidSelected.fill = colorSplit(\n        showColor.invalidSelected.fill,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY,\n      );\n      showColor.invalidHover.stroke = colorSplit(\n        showColor.invalidHover.stroke,\n        computeOpacity(borderOpacity, item),\n      );\n      showColor.invalidHover.fill = colorSplit(\n        showColor.invalidHover.fill,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY,\n      );\n      return showColor;\n    });\n    return AttributeColorList;\n  }\n\n  public static getDefaultToolLineColors() {\n    const toolColor: any = {};\n    Object.keys(CHANGE_COLOR).forEach((color: any) => {\n      toolColor[color] = CHANGE_COLOR[color].line;\n    });\n    return toolColor;\n  }\n\n  public static initByOpacity(borderOpacity: number, fillOpacity: number) {\n    return {\n      toolColor: this.getToolColors(borderOpacity, fillOpacity),\n      attributeColor: this.getAttributeColors(borderOpacity, fillOpacity),\n    };\n  }\n}\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { store } from '.';\nimport { AppState } from './store';\nimport { InitTaskData } from './store/annotation/actionCreators';\nimport MainView from '@/views/MainView';\nimport { IStepInfo } from './types/step';\nimport { OnSubmit, GetFileData, OnSave } from './types/data';\nimport { ToolInstance } from './store/annotation/types';\nimport { i18n } from '@labelbee/lb-utils';\n\nexport interface AppProps {\n  exportData?: (data: any[]) => void;\n  goBack?: () => void;\n  imgList: string[];\n  config: string;\n  stepList: IStepInfo[];\n  step: number;\n  onSubmit?: OnSubmit;\n  onSave?: OnSave;\n  getFileData?: GetFileData;\n  headerName?: string;\n  initialIndex?: number;\n  className?: string;\n  toolInstance: ToolInstance;\n  header?: React.ReactNode;\n  footer?: React.ReactNode;\n  sider?: React.ReactNode;\n  style?: {\n    layout?: { [key: string]: any };\n    header?: { [key: string]: any };\n    sider?: { [key: string]: any };\n    footer?: { [key: string]: any };\n  };\n  setToolInstance?: (tool: ToolInstance) => void;\n  mode?: 'light' | 'dark'; // 临时需求应用于 toolFooter 的操作\n  defaultLang: 'en' | 'cn'; // 国际化设置\n}\n\nconst App: React.FC<AppProps> = (props) => {\n  const {\n    imgList,\n    step,\n    stepList,\n    onSubmit,\n    onSave,\n    initialIndex = 0,\n    toolInstance,\n    setToolInstance,\n    getFileData,\n    defaultLang = 'cn',\n  } = props;\n  useEffect(() => {\n    store.dispatch(\n      InitTaskData({ imgList, onSubmit, stepList, step, initialIndex, getFileData, onSave }),\n    );\n\n    // 初始化国际化语言\n    i18n.changeLanguage(defaultLang);\n  }, []);\n\n  useEffect(() => {\n    setToolInstance?.(toolInstance);\n  }, [toolInstance]);\n\n  return (\n    <div>\n      <MainView {...props} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  toolInstance: state.annotation.toolInstance,\n});\n\nexport default connect(mapStateToProps)(App);\n","import React from 'react';\nimport { AppProps } from '@/App';\nimport { ViewportProvider } from '@/components/customResizeHook';\nimport ToolHeader from './toolHeader';\nimport AnnotationOperation from './annotationOperation';\nimport Sidebar from './sidebar';\nimport ToolFooter from './toolFooter';\nimport { prefix } from '@/constant';\nimport { getNewNode } from '@/utils';\nimport { Layout } from 'antd/es';\n\nconst { Sider, Content } = Layout;\n\nconst layoutCls = `${prefix}-layout`;\nconst MainView: React.FC<AppProps> = (props) => {\n  return (\n    <ViewportProvider>\n      <Layout className={`${layoutCls} ${props.className}`} style={props.style?.layout}>\n        <header className={`${layoutCls}__header`} style={props.style?.header}>\n          {getNewNode(\n            props.header,\n            <ToolHeader\n              headerName={props.headerName}\n              goBack={props.goBack}\n              exportData={props.exportData}\n            />,\n          )}\n        </header>\n        <Layout>\n          <Content className={`${layoutCls}__content`}>\n            <AnnotationOperation {...props} />\n            {getNewNode(props.footer, <ToolFooter style={props.style?.footer} mode={props.mode} />)}\n          </Content>\n          <Sider className={`${layoutCls}__side`} width='auto' style={props.style?.sider}>\n            {getNewNode(props.sider, <Sidebar />)}\n          </Sider>\n        </Layout>\n      </Layout>\n    </ViewportProvider>\n  );\n};\n\nexport default MainView;\n","import React, { useReducer, useRef } from 'react';\nimport { LeftOutlined } from '@ant-design/icons';\nimport { connect, useDispatch } from 'react-redux';\nimport { store } from 'src';\nimport { IFileItem } from '@/types/data';\nimport { AppState } from '@/store';\nimport classNames from 'classnames';\nimport { ESubmitType, prefix } from '@/constant';\nimport ExportData from './ExportData';\nimport HeaderOption from './headerOption';\nimport { AnnotationEngine } from '@labelbee/lb-annotation';\nimport { Button, Tooltip } from 'antd/es';\nimport { ToNextStep, ToSubmitFileData } from '@/store/annotation/actionCreators';\nimport StepSwitch from './StepSwitch';\nimport { EToolName } from '@/data/enums/ToolType';\nimport { IStepInfo } from '@/types/step';\nimport { i18n } from '@labelbee/lb-utils';\nimport { useTranslation } from 'react-i18next';\nimport useSize from '@/hooks/useSize';\n\ninterface INextStep {\n  stepProgress: number;\n  stepList: IStepInfo[];\n  step: number; // 当前步骤\n}\n\nconst NextButton: React.FC<{ disabled: boolean }> = ({ disabled }) => {\n  const { t } = useTranslation();\n  return (\n    <Button\n      type='primary'\n      style={{\n        marginLeft: 10,\n      }}\n      onClick={() => {\n        store.dispatch(ToNextStep(0) as any);\n      }}\n      disabled={disabled}\n    >\n      {t('NextStep')}\n    </Button>\n  );\n};\n\nconst NextStep: React.FC<INextStep> = ({ step, stepProgress, stepList }) => {\n  const { t } = useTranslation();\n\n  if (stepList.length < 2 || step === stepList.length) {\n    return null;\n  }\n\n  const disabled = stepProgress < 1;\n\n  if (disabled) {\n    return (\n      <Tooltip title={t('StepNotFinishedNotify')}>\n        <span>\n          <NextButton disabled={disabled} />\n        </span>\n      </Tooltip>\n    );\n  }\n\n  return <NextButton disabled={disabled} />;\n};\n\ninterface IToolHeaderProps {\n  goBack?: (imgList?: IFileItem[]) => void;\n  exportData?: (data: any[]) => void;\n  headerName?: string;\n  imgList: IFileItem[];\n  annotationEngine: AnnotationEngine;\n  stepProgress: number;\n  toolName: EToolName;\n  stepInfo: IStepInfo;\n  stepList: IStepInfo[];\n  step: number;\n}\n\nconst ToolHeader: React.FC<IToolHeaderProps> = ({\n  goBack,\n  exportData,\n  headerName,\n  imgList,\n  stepProgress,\n  stepInfo,\n  stepList,\n  step,\n  annotationEngine,\n}) => {\n  const dispatch = useDispatch();\n  const [, forceUpdate] = useReducer((x) => x + 1, 0);\n  const ref = useRef(null);\n\n  const size = useSize(ref);\n\n  // render 数据展示\n  const currentOption = <ExportData exportData={exportData} />;\n\n  const closeAnnotation = () => {\n    dispatch(ToSubmitFileData(ESubmitType.Quit));\n\n    if (goBack) {\n      goBack(imgList);\n    }\n  };\n\n  const changeLanguage = (lang: 'en' | 'cn') => {\n    i18n.changeLanguage(lang);\n    annotationEngine.setLang(lang);\n    forceUpdate();\n  };\n\n  const curLang = i18n.language;\n\n  const width = size?.width ?? window.innerWidth;\n\n  return (\n    <div className={classNames(`${prefix}-header`)} ref={ref}>\n      <div className={`${prefix}-header__title`}>\n        <LeftOutlined className={`${prefix}-header__icon`} onClick={closeAnnotation} />\n        {headerName ? <span className={`${prefix}-header__name`}>{headerName}</span> : ''}\n        {stepList.length > 1 && (\n          <>\n            <StepSwitch stepProgress={stepProgress} />\n            <NextStep step={step} stepProgress={stepProgress} stepList={stepList} />\n          </>\n        )}\n\n        {currentOption}\n        <div\n          id='operationNode'\n          className={`${prefix}-header__operationNode`}\n          style={{ left: width / 2 - 174 / 2 }}\n        >\n          <HeaderOption stepInfo={stepInfo} />\n        </div>\n\n        <div className={`${prefix}-header__titlePlacement`} />\n\n        <div className={`${prefix}-header__lang`}>\n          <span\n            className={`${prefix}-langCN ${curLang === 'cn' ? 'active' : ''}`}\n            onClick={() => changeLanguage('cn')}\n          >\n            中文\n          </span>\n          {` / `}\n          <span\n            className={`${prefix}-langEN ${curLang === 'en' ? 'active' : ''}`}\n            onClick={() => changeLanguage('en')}\n          >\n            En\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  imgList: state.annotation.imgList,\n  annotationEngine: state.annotation.annotationEngine,\n  stepProgress: state.annotation.stepProgress,\n  toolName: state.annotation.stepList[state.annotation.step - 1]?.tool,\n  stepList: state.annotation.stepList,\n  stepInfo: state.annotation.stepList[state.annotation.step - 1],\n  step: state.annotation.step,\n});\n\nexport default connect(mapStateToProps)(ToolHeader);\n","import React from 'react';\nimport { Button } from 'antd/es';\nimport { AppState } from '@/store';\nimport { ToolInstance } from '@/store/annotation/types';\nimport { connect } from 'react-redux';\nimport { IFileItem, OnSubmit } from '@/types/data';\nimport { ANNOTATION_ACTIONS } from '@/store/Actions';\nimport { ESubmitType } from '@/constant';\nimport { Dispatch } from 'redux';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  toolInstance: ToolInstance;\n  imgList: IFileItem[];\n  onSubmit?: OnSubmit;\n  exportData?: (imgList: IFileItem[]) => void;\n  dispatch: Dispatch;\n}\n\nconst ExportData: React.FC<IProps> = ({ imgList, dispatch, onSubmit, exportData }) => {\n  const { t } = useTranslation();\n\n  if (!exportData) {\n    return null;\n  }\n\n  const exportDataFuc = () => {\n    dispatch({\n      type: ANNOTATION_ACTIONS.SUBMIT_FILE_DATA,\n      payload: {\n        submitType: ESubmitType.Export,\n      },\n    });\n\n    if (exportData) {\n      exportData(imgList);\n    }\n  };\n\n  return (\n    <Button style={{ marginLeft: 20 }} onClick={exportDataFuc}>\n      {t('Export')}\n    </Button>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  toolInstance: state.annotation.toolInstance,\n  imgList: state.annotation.imgList,\n  onSubmit: state.annotation.onSubmit,\n});\n\nexport default connect(mapStateToProps)(ExportData);\n","import React, { useState, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { AppState } from '@/store';\nimport rotateSvg from '@/assets/annotation/common/icon_r.svg';\nimport restoreSvg from '@/assets/annotation/common/icon_next.svg';\nimport revocationSvg from '@/assets/annotation/common/icon_back.svg';\nimport rotateHighlightSvg from '@/assets/annotation/common/icon_rA.svg';\nimport restoreHighlightSvg from '@/assets/annotation/common/icon_nextA.svg';\nimport revocationHighlightSvg from '@/assets/annotation/common/icon_backA.svg';\nimport saveSvg from '@/assets/annotation/common/icon_save.svg';\nimport saveLightSvg from '@/assets/annotation/common/icon_saveA.svg';\nimport { prefix } from '@/constant';\nimport { EToolName } from '@/data/enums/ToolType';\nimport { ChangeSave } from '@/store/annotation/actionCreators';\nimport { IStepInfo } from '@/types/step';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  isBegin?: boolean;\n  stepInfo: IStepInfo;\n}\n\nenum EColor {\n  Hover = '#666fff',\n  Normal = '#cccccc',\n}\n\nconst HeaderOption: React.FC<IProps> = (props) => {\n  const [toolHover, setToolHover] = useState('');\n  const { stepInfo } = props;\n  const dispatch = useDispatch();\n  const {\n    annotation: { toolInstance, onSave },\n  } = useSelector((state: AppState) => ({\n    annotation: state.annotation,\n    imgAttribute: state.imgAttribute,\n  }));\n  const { t } = useTranslation();\n\n  const isBegin = props.isBegin || stepInfo?.tool === EToolName.Tag;\n\n  const updateRotate = () => {\n    /**\n     * 1. 非第一步无法旋转\n     * 2. 单步骤不存在 dataSourceStep\n     */\n    if (stepInfo.dataSourceStep !== 0 && stepInfo.dataSourceStep !== undefined) {\n      return;\n    }\n\n    toolInstance?.updateRotate();\n  };\n\n  const revocation = useCallback(() => {\n    toolInstance?.undo();\n  }, [toolInstance]);\n\n  const restore = useCallback(() => {\n    toolInstance?.redo();\n  }, [toolInstance]);\n\n  const commonOptionList: any = [\n    {\n      toolName: 'save',\n      title: 'Save',\n      show: !!onSave,\n      commonSvg: saveSvg,\n      selectedSvg: saveLightSvg,\n      click: () => {\n        dispatch(ChangeSave);\n      },\n      style: {\n        fontSize: '12px',\n        color: !isBegin && toolHover === 'save' ? EColor.Hover : EColor.Normal,\n      },\n    },\n    {\n      toolName: 'revocation',\n      title: 'Undo',\n      show: true,\n      commonSvg: revocationSvg,\n      selectedSvg: revocationHighlightSvg,\n      click: () => {\n        revocation();\n      },\n      style: {\n        opacity: isBegin === true ? 0.4 : 1,\n        fontSize: '12px',\n        color: !isBegin && toolHover === 'revocation' ? EColor.Hover : EColor.Normal,\n      },\n    },\n    {\n      toolName: 'restore',\n      title: 'Redo',\n      show: true,\n      commonSvg: restoreSvg,\n      selectedSvg: restoreHighlightSvg,\n      click: () => {\n        restore();\n      },\n      style: {\n        opacity: isBegin === true ? 0.4 : 1,\n        fontSize: '12px',\n        color: !isBegin && toolHover === 'restore' ? EColor.Hover : EColor.Normal,\n      },\n    },\n    {\n      toolName: 'rotate',\n      title: 'Rotate',\n      show: true,\n      selectedSvg: rotateHighlightSvg,\n      commonSvg: rotateSvg,\n      click: () => {\n        updateRotate();\n      },\n      style: {\n        fontSize: '12px',\n        color: !isBegin && toolHover === 'rotate' ? EColor.Hover : EColor.Normal,\n      },\n    },\n  ];\n\n  return (\n    <div className={`${prefix}-header__hotKey`}>\n      {commonOptionList.map((info: any) => {\n        return (\n          info.show && (\n            <div\n              key={info.toolName}\n              className='item'\n              onMouseEnter={() => setToolHover(info.toolName)}\n              onMouseLeave={() => setToolHover('')}\n            >\n              <a className='item' onClick={info.click}>\n                <img\n                  className='singleTool'\n                  src={toolHover === info.toolName ? info.selectedSvg : info.commonSvg}\n                  style={info.style}\n                />\n                <div style={info.style}>{t(info.title)}</div>\n              </a>\n            </div>\n          )\n        );\n      })}\n    </div>\n  );\n};\n\nexport default HeaderOption;\n","var img = \"data:image/svg+xml,%3csvg id='icon_r' xmlns='http://www.w3.org/2000/svg' width='22' height='22' viewBox='0 0 22 22'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22'/%3e %3cg id='reload' transform='translate(1 1)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-2' data-name='%e7%9f%a9%e5%bd%a2' class='cls-1' width='20' height='20'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M14.762%2c2.234l-1.032.84A7.56%2c7.56%2c0%2c0%2c0%2c7.68%2c0%2c7.84%2c7.84%2c0%2c0%2c0%2c0%2c7.99%2c7.845%2c7.845%2c0%2c0%2c0%2c7.68%2c16%2c7.709%2c7.709%2c0%2c0%2c0%2c14.9%2c10.741a.154.154%2c0%2c0%2c0-.09-.2l-1.037-.371a.145.145%2c0%2c0%2c0-.185.091c-.033.1-.07.19-.108.284a6.539%2c6.539%2c0%2c0%2c1-1.348%2c2.084%2c6.3%2c6.3%2c0%2c0%2c1-2%2c1.406%2c6.08%2c6.08%2c0%2c0%2c1-4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1-2-1.406%2c6.539%2c6.539%2c0%2c0%2c1-1.348-2.084%2c6.833%2c6.833%2c0%2c0%2c1%2c0-5.1A6.539%2c6.539%2c0%2c0%2c1%2c3.237%2c3.364a6.3%2c6.3%2c0%2c0%2c1%2c2-1.406%2c6.08%2c6.08%2c0%2c0%2c1%2c4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1%2c2%2c1.406%2c6.489%2c6.489%2c0%2c0%2c1%2c.508.6l-1.1.9a.155.155%2c0%2c0%2c0%2c.055.269l3.212.819a.148.148%2c0%2c0%2c0%2c.181-.147L15%2c2.352a.147.147%2c0%2c0%2c0-.238-.118Z' transform='translate(2 2)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='22.001' height='22.017' viewBox='0 0 22.001 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_next' transform='translate(-0.999)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(1 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.884%2c4.3C12.188-.639%2c6.625-1.322.4%2c2.294A.794.794%2c0%2c0%2c0%2c.39%2c3.665a.765.765%2c0%2c0%2c0%2c.781%2c0C6.8.387%2c11.616.983%2c15.831%2c5.467L12.41%2c9.255l7.109-.016.018-7.875Z' transform='translate(0.99 15.142) rotate(-42)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_back' xmlns='http://www.w3.org/2000/svg' width='22' height='22.017' viewBox='0 0 22 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(0 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.88%2c4.954C12.184%2c9.894%2c6.621%2c10.576.4%2c6.96A.794.794%2c0%2c0%2c1%2c.386%2c5.59a.765.765%2c0%2c0%2c1%2c.781%2c0C6.8%2c8.868%2c11.612%2c8.272%2c15.827%2c3.788L12.406%2c0l7.109.016.018%2c7.875Z' transform='translate(15.814 22.017) rotate(-138)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_rA' xmlns='http://www.w3.org/2000/svg' width='22' height='22' viewBox='0 0 22 22'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22'/%3e %3cg id='reload' transform='translate(1 1)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-2' data-name='%e7%9f%a9%e5%bd%a2' class='cls-1' width='20' height='20'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M14.762%2c2.234l-1.032.84A7.56%2c7.56%2c0%2c0%2c0%2c7.68%2c0%2c7.84%2c7.84%2c0%2c0%2c0%2c0%2c7.99%2c7.845%2c7.845%2c0%2c0%2c0%2c7.68%2c16%2c7.709%2c7.709%2c0%2c0%2c0%2c14.9%2c10.741a.154.154%2c0%2c0%2c0-.09-.2l-1.037-.371a.145.145%2c0%2c0%2c0-.185.091c-.033.1-.07.19-.108.284a6.539%2c6.539%2c0%2c0%2c1-1.348%2c2.084%2c6.3%2c6.3%2c0%2c0%2c1-2%2c1.406%2c6.08%2c6.08%2c0%2c0%2c1-4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1-2-1.406%2c6.539%2c6.539%2c0%2c0%2c1-1.348-2.084%2c6.833%2c6.833%2c0%2c0%2c1%2c0-5.1A6.539%2c6.539%2c0%2c0%2c1%2c3.237%2c3.364a6.3%2c6.3%2c0%2c0%2c1%2c2-1.406%2c6.08%2c6.08%2c0%2c0%2c1%2c4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1%2c2%2c1.406%2c6.489%2c6.489%2c0%2c0%2c1%2c.508.6l-1.1.9a.155.155%2c0%2c0%2c0%2c.055.269l3.212.819a.148.148%2c0%2c0%2c0%2c.181-.147L15%2c2.352a.147.147%2c0%2c0%2c0-.238-.118Z' transform='translate(2 2)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='22.001' height='22.017' viewBox='0 0 22.001 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_nextA' transform='translate(-0.999)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(1 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.884%2c4.3C12.188-.639%2c6.625-1.322.4%2c2.294A.794.794%2c0%2c0%2c0%2c.39%2c3.665a.765.765%2c0%2c0%2c0%2c.781%2c0C6.8.387%2c11.616.983%2c15.831%2c5.467L12.41%2c9.255l7.109-.016.018-7.875Z' transform='translate(0.99 15.142) rotate(-42)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_backA' xmlns='http://www.w3.org/2000/svg' width='22' height='22.017' viewBox='0 0 22 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(0 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.88%2c4.954C12.184%2c9.894%2c6.621%2c10.576.4%2c6.96A.794.794%2c0%2c0%2c1%2c.386%2c5.59a.765.765%2c0%2c0%2c1%2c.781%2c0C6.8%2c8.868%2c11.612%2c8.272%2c15.827%2c3.788L12.406%2c0l7.109.016.018%2c7.875Z' transform='translate(15.814 22.017) rotate(-138)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg t='1632896115713' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='1995' width='22' height='22' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cstyle type='text/css'%3e%3c/style%3e%3c/defs%3e%3cpath d='M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184z m456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840z' p-id='1996' fill='%23666666'%3e%3c/path%3e%3cpath d='M512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144z m0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z' p-id='1997' fill='%23666666'%3e%3c/path%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg t='1632896115713' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='1995' width='22' height='22' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cstyle type='text/css'%3e%3c/style%3e%3c/defs%3e%3cpath d='M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184z m456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840z' p-id='1996' fill='%23666fff'%3e%3c/path%3e%3cpath d='M512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144z m0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z' p-id='1997' fill='%23666fff'%3e%3c/path%3e%3c/svg%3e\";\n  export default img;","/**\n * 用于多步骤中的切换\n */\n\nimport { Dropdown } from 'antd/es';\nimport { CaretDownOutlined, OrderedListOutlined } from '@ant-design/icons';\nimport React from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { AppState } from '@/store';\nimport IconWithText from '@/components/customAntd/IconWithText';\nimport { prefix } from '@/constant';\nimport AnnotationStepPopover from '@/components/annotationStepPopover';\nimport { IStepInfo } from '@/types/step';\nimport { UpdateProcessingStep } from '@/store/annotation/actionCreators';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  stepProgress: number;\n  stepList: IStepInfo[];\n  step: number;\n}\n\nconst StepSwitch: React.FC<IProps> = ({ stepProgress, step, stepList }) => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const updateStep = (toStep: number) => {\n    dispatch(UpdateProcessingStep(toStep));\n  };\n\n  return (\n    <span className={`${prefix}`}>\n      <Dropdown\n        overlay={\n          <AnnotationStepPopover stepList={stepList} updateStep={updateStep} currentStep={step} />\n        }\n      >\n        <IconWithText\n          text={t('Steps')}\n          Icon={OrderedListOutlined}\n          iconChildren={<CaretDownOutlined style={{ fontSize: 8 }} />}\n        />\n      </Dropdown>\n    </span>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  stepList: state.annotation.stepList,\n  step: state.annotation.step,\n});\n\nexport default connect(mapStateToProps)(StepSwitch);\n","import { componentCls } from '@/constant';\nimport React from 'react';\n\ninterface IProps {\n  text: string; // icon 文本\n  Icon: any;\n  iconChildren: React.ReactNode;\n  marginLeft?: number;\n}\n\nconst IconWithText = (props: IProps) => {\n  const { Icon, text, iconChildren, ...otherProps } = props;\n\n  const marginLeft = props.marginLeft === undefined ? 30 : props.marginLeft;\n\n  return (\n    <div {...otherProps} className={componentCls} >\n      <div className={`${componentCls}__iconWithText`} style={{ marginLeft }}>\n        <div className='iconGroup'>\n          <Icon className='icon' />\n          {iconChildren}\n        </div>\n\n        <span className='name'>{text}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default IconWithText;\n","// 标注步骤中的 popover 的内容\n\nimport { componentCls } from '@/constant';\nimport { classnames } from '@/utils';\nimport React from 'react';\nimport { IStepInfo } from '@/types/step';\nimport { useTranslation } from 'react-i18next';\ninterface IProps {\n  stepList: IStepInfo[];\n  currentStep: number;\n  updateStep: (step: number) => void;\n}\n\nconst AnnotationStepPopover = (props: IProps) => {\n  const { t } = useTranslation();\n  const { stepList, updateStep, currentStep } = props;\n\n  return (\n    <div className={`${componentCls}__annotationStepPopover`}>\n      {stepList.map((info) => {\n        const isSelected = info.step === currentStep;\n\n        return (\n          <div\n            key={`stepList${info.step}`}\n            className={classnames({\n              step: true,\n            })}\n            onClick={() => {\n              if (currentStep && !isSelected) {\n                updateStep(info.step);\n              }\n            }}\n          >\n            <div\n              className={classnames({\n                name: true,\n                highlight: isSelected,\n              })}\n            >\n              {`${info.step} - ${info.name || t(info.tool)}`}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default AnnotationStepPopover;\n","import { MutableRefObject } from 'react';\n\nexport type BasicTarget<T = HTMLElement> =\n  | (() => T | null)\n  | T\n  | null\n  | MutableRefObject<T | null | undefined>;\n\ntype TargetElement = HTMLElement | Element | Document | Window;\n\nexport function getTargetElement(\n  target?: BasicTarget<TargetElement>,\n  defaultElement?: TargetElement,\n): TargetElement | undefined | null {\n  if (!target) {\n    return defaultElement;\n  }\n\n  let targetElement: TargetElement | undefined | null;\n\n  if (typeof target === 'function') {\n    targetElement = target();\n  } else if ('current' in target) {\n    targetElement = target.current;\n  } else {\n    targetElement = target;\n  }\n\n  return targetElement;\n}","import type { Dispatch, SetStateAction } from 'react';\nimport { useCallback, useRef, useState, useEffect } from 'react';\n\nconst useRafState = <S>(initialState: S | (() => S)): [S, Dispatch<SetStateAction<S>>] => {\n  const frame = useRef(0);\n  const [state, setState] = useState(initialState);\n\n  const setRafState = useCallback((value: S | ((prevState: S) => S)) => {\n    cancelAnimationFrame(frame.current);\n\n    frame.current = requestAnimationFrame(() => {\n      setState(value);\n    });\n  }, []);\n\n  useEffect(() => {\n    return () => cancelAnimationFrame(frame.current);\n  }, [])\n\n  return [state, setRafState];\n};\n\nexport default useRafState;","import React, { useEffect, useRef, useState } from 'react';\nimport { Spin, message } from 'antd/es';\nimport { AppState } from 'src/store';\nimport { connect } from 'react-redux';\nimport { ImgAttributeState } from 'src/store/imgAttribute/types';\nimport _ from 'lodash';\nimport { store } from '@/index';\n\nimport useSize from '@/hooks/useSize';\nimport { IFileItem } from '@/types/data';\nimport { IStepInfo } from '@/types/step';\nimport { InitToolStyleConfig } from '@/store/toolStyle/actionCreators';\nimport { AnnotationEngine, ImgUtils } from '@labelbee/lb-annotation';\nimport ImageError from '@/components/ImageError';\nimport { i18n } from '@labelbee/lb-utils';\n\ninterface IProps extends AppState {\n  imgAttribute: ImgAttributeState;\n  imgList: IFileItem[];\n  exportData: any[];\n  config: string;\n  stepList: IStepInfo[];\n  step: number;\n  imgIndex: number;\n  annotationEngine: AnnotationEngine;\n  loading: boolean;\n}\n\nconst AnnotationOperation: React.FC<IProps> = (props: IProps) => {\n  const [, forceRender] = useState<number>(0);\n\n  const { imgAttribute, toolStyle, toolInstance, annotationEngine, loading, imgList, imgIndex } =\n    props;\n  const annotationRef = useRef<HTMLDivElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  // const windowSize = useContext(viewportContext);\n  // const canvasSize = getFormatSize(windowSize);\n  const size = useSize(annotationRef);\n\n  useEffect(() => {\n    store.dispatch(InitToolStyleConfig());\n  }, []);\n\n  useEffect(() => {\n    if (!annotationEngine) {\n      return;\n    }\n\n    // 更改 toolInstance 内部国际化语言\n    switch (i18n.language) {\n      case 'cn':\n      case 'en':\n        annotationEngine.setLang(i18n.language);\n        break;\n      default: {\n        //\n        break;\n      }\n    }\n  }, [annotationEngine]);\n\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.singleOn('messageError', (error: string) => {\n        message.error(error);\n      });\n\n      toolInstance.singleOn('messageInfo', (info: string) => {\n        message.info(info);\n      });\n\n      toolInstance.singleOn('changeAnnotationShow', () => {\n        forceRender((s) => s + 1);\n      });\n    }\n  }, [toolInstance]);\n\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.setImgAttribute(imgAttribute);\n    }\n  }, [imgAttribute]);\n\n  /** 样式同步 */\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.setStyle(toolStyle);\n    }\n    if (annotationEngine) {\n      annotationEngine.setStyle(toolStyle);\n    }\n  }, [toolStyle]);\n\n  /** 窗口大小监听 */\n  useEffect(() => {\n    if (toolInstance?.setSize) {\n      toolInstance.setSize(size);\n    }\n\n    if (annotationEngine) {\n      annotationEngine.setSize(size);\n    }\n  }, [size]);\n\n  /**\n   * 重新加载图片，避免网络问题导致的图片无法加载\n   * @returns\n   */\n  const reloadImg = () => {\n    const imgInfo = imgList[imgIndex];\n    if (!imgInfo.url) {\n      return;\n    }\n\n    ImgUtils.load(imgInfo.url).then((imgNode) => {\n      annotationEngine.setImgNode(imgNode as HTMLImageElement);\n    });\n  };\n\n  return (\n    <div ref={annotationRef} className='annotationOperation'>\n      <Spin spinning={loading} delay={500}>\n        <div className='canvas' ref={containerRef} style={size} id='toolContainer' />\n      </Spin>\n      {toolInstance?.isImgError === true && (\n        <ImageError\n          {...size}\n          reloadImage={reloadImg}\n          backgroundColor='#e2e2e2'\n          ignoreOffsetY={true}\n        />\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  const annotationState = _.pickBy(state.annotation, (v, k) =>\n    [\n      'imgList',\n      'imgIndex',\n      'stepList',\n      'step',\n      'toolInstance',\n      'annotationEngine',\n      'loading',\n    ].includes(k),\n  );\n  return {\n    imgAttribute: state.imgAttribute,\n    toolStyle: state.toolStyle,\n    ...annotationState,\n  };\n};\n\nexport default connect(mapStateToProps)(AnnotationOperation);\n","import { ReloadOutlined } from '@ant-design/icons';\nimport { Button } from 'antd/es';\nimport React from 'react';\n\ninterface IProps {\n  width?: number;\n  height?: number;\n  reloadImage: () => void;\n  hideSetInvalidTips?: boolean;\n  /** 忽略顶部的偏移，如: 多边形的容器已经计算好高度（容器不包含顶部标注提示语部分） */\n  ignoreOffsetY?: boolean;\n  layerStyle?: React.CSSProperties;\n  backgroundColor: string;\n  fileTypeName?: string;\n}\n\nconst ImageError = (props: IProps) => {\n  const {\n    width,\n    height,\n    reloadImage,\n    hideSetInvalidTips,\n    ignoreOffsetY,\n    backgroundColor,\n    fileTypeName = '图片',\n  } = props;\n\n  const top = !ignoreOffsetY ? 40 : 0;\n\n  const layerStyle: React.CSSProperties = props.layerStyle || {\n    position: 'absolute',\n    left: 0,\n    top,\n    cursor: 'initial',\n    zIndex: 20,\n    fontSize: 12,\n  };\n  if (width && height) {\n    Object.assign(layerStyle, { width, height });\n  } else {\n    Object.assign(layerStyle, { bottom: 0, right: 0 });\n  }\n\n  if (backgroundColor) {\n    Object.assign(layerStyle, { backgroundColor });\n  }\n\n  const buttonStyle: React.CSSProperties = {\n    position: 'absolute',\n    top: '30%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  };\n\n  return (\n    <div style={layerStyle}>\n      <div style={buttonStyle}>\n        <div style={{ textAlign: 'center', marginBottom: 10 }}>\n          <Button type='primary' shape='circle' icon={<ReloadOutlined />} onClick={reloadImage} />\n        </div>\n        <div>\n          {`${fileTypeName}加载失败, 请重新加载${\n            hideSetInvalidTips ? '' : ` 或 将${fileTypeName}标为无效`\n          }`}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageError;\n","import React from 'react';\nimport { Row, Collapse } from 'antd/es';\nimport iconRectPatternSvg from '@/assets/annotation/rectTool/icon_rectPattern.svg';\nimport iconPolygonPatternASvg from '@/assets/annotation/polygonTool/icon_polygon_a.svg';\nimport pointASvg from '@/assets/annotation/pointTool/icon_point_a.svg';\nimport lineASvg from '@/assets/annotation/lineTool/icon_line_a.svg';\nimport { AppState } from '@/store';\nimport StepUtils from '@/utils/StepUtils';\nimport { useSelector } from 'react-redux';\nimport { EToolName } from '@/data/enums/ToolType';\nimport ImgAttributeInfo from './ImgAttributeInfo';\nimport SwitchAttributeList from './SwitchAttributeList';\nimport GeneralOperation from './GeneralOperation';\nimport AnnotationText from './AnnotationText';\nimport ToolStyle from './ToolStyle';\nimport ClearIcon from './ClearIcon';\nimport TagSidebar, { expandIconFuc } from './TagSidebar';\nimport { prefix } from '@/constant';\nimport TextToolSidebar from './TextToolSidebar';\nimport { useTranslation } from 'react-i18next';\n\nconst { Panel } = Collapse;\n\ninterface IProps {\n  toolName?: EToolName;\n}\n\nconst toolList = [\n  {\n    toolName: EToolName.Rect,\n    commonSvg: iconRectPatternSvg,\n    selectedSvg: iconRectPatternSvg,\n  },\n  // 多边形工具\n  {\n    toolName: EToolName.Polygon,\n    commonSvg: iconPolygonPatternASvg,\n    selectedSvg: iconPolygonPatternASvg,\n  },\n  {\n    toolName: EToolName.Line,\n    commonSvg: lineASvg,\n    selectedSvg: lineASvg,\n    pattern: EToolName.Line,\n  },\n  {\n    toolName: EToolName.Point,\n    commonSvg: pointASvg,\n    selectedSvg: pointASvg,\n    pattern: 'drawPoint',\n  },\n];\nconst sidebarCls = `${prefix}-sidebar`;\nconst Sidebar: React.FC<IProps> = () => {\n  const stepInfo = useSelector((state: AppState) =>\n    StepUtils.getCurrentStepInfo(state.annotation.step, state.annotation.stepList),\n  );\n  const toolName = stepInfo?.tool as EToolName;\n  const { t } = useTranslation();\n\n  if (!toolName) {\n    return null;\n  }\n\n  if (\n    [EToolName.Rect, EToolName.Point, EToolName.Line, EToolName.Rect, EToolName.Polygon].includes(\n      toolName,\n    )\n  ) {\n    const renderTool = toolList?.find((item) => item?.toolName === toolName);\n\n    /**\n     * 样式面板, 包含透明度、线框、颜色\n     * @param key 虚拟dom的key\n     */\n    const renderStylePanel = (key: string) => {\n      const ToolStyleComponent = <ToolStyle />;\n      return (\n        <Panel header={t('Style')} className='panel' key={key}>\n          {ToolStyleComponent}\n        </Panel>\n      );\n    };\n\n    return (\n      <div className={`${sidebarCls}`}>\n        <div className={`${sidebarCls}__level`}>\n          <Row className={`${sidebarCls}__toolsOption`}>\n            {renderTool && (\n              <a>\n                <img className={`${sidebarCls}__singleTool`} src={renderTool?.selectedSvg} />\n              </a>\n            )}\n          </Row>\n        </div>\n        <div className={`${sidebarCls}__horizontal`} />\n        <SwitchAttributeList />\n        <AnnotationText />\n        <div className={`${sidebarCls}__horizontal`} />\n        <Collapse\n          defaultActiveKey={['1', 'imgAttribute']}\n          bordered={false}\n          expandIconPosition='right'\n          className={`${sidebarCls}__content`}\n          expandIcon={expandIconFuc}\n        >\n          {renderStylePanel('1')}\n          <Panel\n            header={\n              <div>\n                {t('Adjust')}\n\n                <ClearIcon />\n              </div>\n            }\n            className='panel'\n            key='imgAttribute'\n          >\n            <ImgAttributeInfo />\n          </Panel>\n        </Collapse>\n\n        <GeneralOperation />\n      </div>\n    );\n  }\n\n  if (toolName === EToolName.Tag) {\n    return (\n      <div className={`${sidebarCls}`}>\n        <TagSidebar />\n      </div>\n    );\n  }\n\n  if (toolName === EToolName.Text) {\n    return (\n      <div className={`${sidebarCls}`}>\n        <TextToolSidebar />\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default Sidebar;\n","var img = \"data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M20 8H8V20H20V8Z' fill='%23666FFF'/%3e%3cpath d='M11 22H17V50H11V22Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M55 22H61V50H55V22Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M50 55L50 61L22 61L22 55L50 55Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M50 11L50 17L22 17L22 11L50 11Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M64 8H52V20H64V8Z' fill='%23666FFF'/%3e%3cpath d='M20 52H8V64H20V52Z' fill='%23666FFF'/%3e%3cpath d='M64 52H52V64H64V52Z' fill='%23666FFF'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M55 22H61V50H55V22Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M50 55L50 61L22 61L22 55L50 55Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M64 8H52V20H64V8Z' fill='%23666FFF'/%3e%3cpath d='M20 52H8V64H20V52Z' fill='%23666FFF'/%3e%3cpath d='M64 52H52V64H64V52Z' fill='%23666FFF'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M50.0005 17.7692L17.7697 50H20.0005H22.0005L22.0005 52V54.2545L54.255 22H52.0005H50.0005V20V17.7692ZM56.255 20L56.6707 19.5843L52.428 15.3417L52.0005 15.7692V20L56.255 20ZM20.0005 56.2545L20.0005 52H15.7697L15.4648 52.3048L19.7075 56.5475L20.0005 56.2545Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M39 8H33V62H39V8Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M64 33H8V39H64V33Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3crect x='28' y='28' width='16' height='16' rx='8' fill='%23666FFF' stroke='white' stroke-width='2'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M64 8H52V20H64V8Z' fill='%23666FFF'/%3e%3cpath d='M20 52H8V64H20V52Z' fill='%23666FFF'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M50.0005 17.7692L17.7697 50H20.0005H22.0005L22.0005 52V54.2545L54.255 22H52.0005H50.0005V20V17.7692ZM56.255 20L56.6707 19.5843L52.428 15.3417L52.0005 15.7692V20L56.255 20ZM20.0005 56.2545L20.0005 52H15.7697L15.4648 52.3048L19.7075 56.5475L20.0005 56.2545Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3c/svg%3e\";\n  export default img;","import { Col, Row, Slider, Switch, Input } from 'antd/es';\nimport { connect } from 'react-redux';\nimport { throttle } from 'lodash';\nimport React, { useEffect } from 'react';\nimport { ImgAttributeState } from '@/store/imgAttribute/types';\nimport ImgAttribute from '@/store/imgAttribute/actionCreators';\nimport { store } from '@/index';\n\nimport saturationSvg from '@/assets/annotation/image/saturation.svg';\nimport contrastSvg from '@/assets/annotation/image/contrast.svg';\nimport brightnessSvg from '@/assets/annotation/image/brightness.svg';\nimport ZoomUpSvg from '@/assets/attributeIcon/zoomUp.svg';\nimport originalPic from '@/assets/annotation/image/icon_yuantu.svg';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  imgAttribute: ImgAttributeState;\n}\n\nconst ImgAttributeInfo = (props: IProps) => {\n  const {\n    imgAttribute: { contrast, saturation, brightness, zoomRatio, isOriginalSize },\n  } = props;\n\n  const { t } = useTranslation();\n\n  const imgAttributeChange = throttle(\n    (payload: Partial<ImgAttributeState>) => {\n      store.dispatch(ImgAttribute.UpdateImgAttribute(payload as ImgAttributeState));\n    },\n    60,\n    { trailing: true },\n  );\n\n  const imgAttributeInfo = [\n    {\n      name: 'Saturation',\n      min: -100,\n      max: 500,\n      step: 2,\n      onChange: (v: number) => imgAttributeChange({ saturation: v }),\n      value: saturation,\n      svg: saturationSvg,\n    },\n    {\n      name: 'Contrast',\n      min: -100,\n      max: 300,\n      step: 2,\n      onChange: (v: number) => imgAttributeChange({ contrast: v }),\n      value: contrast,\n      svg: contrastSvg,\n    },\n    {\n      name: 'Exposure',\n      min: -100,\n      max: 400,\n      step: 2,\n      onChange: (v: number) => imgAttributeChange({ brightness: v }),\n      value: brightness,\n      svg: brightnessSvg,\n    },\n    {\n      name: 'ScreenRatio',\n      min: 0.1,\n      max: 10,\n      step: 0.1,\n      onChange: (v: number) => imgAttributeChange({ zoomRatio: v }),\n      value: zoomRatio,\n      svg: ZoomUpSvg,\n    },\n  ];\n\n  useEffect(() => {\n    return () => {\n      store.dispatch(ImgAttribute.InitImgAttribute());\n    };\n  }, []);\n\n  return (\n    <div>\n      {imgAttributeInfo.map((info: any, index: number) => (\n        <div className='imgAttributeController' key={`option_${index}`}>\n          <Row className='tools' style={{ padding: '0px 0' }}>\n            <Col span={24}>\n              <span className='singleTool'>\n                <img width={12} height={12} src={info.svg} />\n                <span className='toolName'>{t(info.name)}</span>\n              </span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span={20}>\n              <Slider\n                min={info.min}\n                max={info.max}\n                step={info.step}\n                value={info.value}\n                onChange={info.onChange}\n                trackStyle={{ background: '#666fff' }}\n              />\n            </Col>\n            <Col span={4}>\n              <Input\n                value={info.value}\n                disabled\n                style={{\n                  fontSize: 12,\n                  marginBottom: 23,\n                  padding: '0px 2px',\n                  textAlign: 'center',\n                }}\n              />\n            </Col>\n          </Row>\n        </div>\n      ))}\n      <div className='imgAttributeController'>\n        <Row className='tools' style={{ padding: '10px 0' }}>\n          <Col span={18}>\n            <span className='singleTool'>\n              <img src={originalPic} width={16} style={{ marginTop: '-2px' }} />\n              <span className='toolName'>{t('OriginalScale')}</span>\n            </span>\n          </Col>\n          <Col>\n            <Switch\n              checked={isOriginalSize}\n              onChange={(v: boolean) => imgAttributeChange({ isOriginalSize: v })}\n            />\n          </Col>\n        </Row>\n      </div>\n    </div>\n  );\n};\n\nfunction mapStateToProps({ imgAttribute }: any) {\n  return { imgAttribute };\n}\n\nexport default connect(mapStateToProps)(ImgAttributeInfo);\n","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e9%a5%b1%e5%92%8c%e5%ba%a6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-481.000000%2c -124.000000)'%3e %3cg id='%e9%a5%b1%e5%92%8c%e5%ba%a6' transform='translate(481.000000%2c 124.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg id='%e9%a5%b1%e5%92%8c%e5%ba%a6-(1)' mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cg transform='translate(2.000000%2c 0.000000)'%3e %3cpath d='M6.28551136%2c15.9450284 C2.821875%2c15.9450284 0.0127840909%2c13.1268466 0.0127840909%2c9.67230114 C0.0127840909%2c5.09048295 5.24914773%2c0.00866477273 6.28551136%2c0.00866477273 C7.15823864%2c0.00866477273 12.5582386%2c5.39957386 12.5582386%2c9.67230114 C12.5582386%2c13.1268466 9.74914773%2c15.9450284 6.28551136%2c15.9450284 Z M6.26732955%2c1.21775568 C5.21278409%2c1.96321023 1.14914773%2c5.79957386 1.14914773%2c9.66321023 C1.14914773%2c12.4995739 3.45823864%2c14.8086648 6.29460227%2c14.8086648 C9.13096591%2c14.8086648 11.4400568%2c12.4995739 11.4400568%2c9.66321023 C11.4309659%2c6.2359375 7.30369318%2c2.04502841 6.26732955%2c1.21775568 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3cpath d='M9.20369318%2c6.91775568 C10.7764205%2c8.49048295 10.7764205%2c11.0450284 9.20369318%2c12.6177557 C7.63096591%2c14.190483 5.07642045%2c14.190483 3.50369318%2c12.6177557 L9.20369318%2c6.91775568 Z' id='%e8%b7%af%e5%be%84'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e6%94%be%e5%a4%a7%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-437.000000%2c -125.000000)'%3e %3cg id='%e6%94%be%e5%a4%a7' transform='translate(437.000000%2c 125.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg id='%e5%af%b9%e6%af%94%e5%ba%a6' mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cpath d='M2.25471549%2c13.5345736 L2.28377061%2c13.5698491 C3.71170509%2c15.0309327 5.68912337%2c15.9414593 7.8824479%2c15.9747872 L7.90975417%2c15.9750853 C10.0876767%2c15.988818 12.0717327%2c15.1310159 13.5224026%2c13.7355349 L13.5574794%2c13.6912368 C15.0213452%2c12.2613547 15.9294671%2c10.2834793 15.953216%2c8.07801203 C15.9769053%2c5.87765227 15.1116308%2c3.87626648 13.6789465%2c2.40995617 C12.2489055%2c0.958829251 10.2741105%2c0.0535890334 8.08152127%2c0.0199232337 L8.054215%2c0.0194677151 C5.86069173%2c0.00607137034 3.86417498%2c0.868563587 2.40521788%2c2.28856852 C0.946896739%2c3.72375685 0.0338461956%2c5.70596465 0.0101569293%2c7.90634429 C-0.0134329775%2c10.0976219 0.837115237%2c12.0836653 2.25471549%2c13.5345736 Z M8.67367358%2c1.27768049 C10.286452%2c1.44950722 11.7315969%2c2.17528929 12.8057027%2c3.27521081 L12.8101743%2c3.27525056 L12.8057027%2c3.27521081 C14.0068005%2c4.50975576 14.7514227%2c6.20240594 14.7313703%2c8.06481599 C14.7112582%2c9.93241304 13.9304662%2c11.5989096 12.7029763%2c12.8173769 L12.6725102%2c12.8468295 C11.5832608%2c13.8981403 10.127702%2c14.5878121 8.52895439%2c14.7198719 L8.67367358%2c1.27768049 Z M7.29456842%2c14.7066162 C6.99960518%2c14.6688366 6.70388674%2c14.6358664 6.42424602%2c14.5580416 L7.305479%2c13.6932043 L7.29456842%2c14.7066162 Z M7.31664792%2c12.655169 L5.61932747%2c14.3211687 C5.35725495%2c14.2186411 5.10778228%2c14.1065343 4.87090943%2c13.9751901 L7.32835345%2c11.5672908 L7.31664792%2c12.655169 L7.31664792%2c12.655169 Z M7.33948263%2c10.5341444 L4.20886184%2c13.5905772 C3.99188241%2c13.4490378 3.79237184%2c13.2931298 3.59790914%2c13.1165136 L7.35124779%2c9.44143698 L7.33948263%2c10.5341444 L7.33948263%2c10.5341444 Z M7.36247634%2c8.39823455 L3.0596539%2c12.6145077 C2.88230233%2c12.4284316 2.71542413%2c12.2330349 2.5667501%2c12.0178242 L7.37412224%2c7.31524528 L7.36247634%2c8.39823455 Z M7.38531104%2c6.27721 L2.16071359%2c11.3977495 C2.01426539%2c11.1672561 1.89530231%2c10.9274022 1.79380809%2c10.6783866 L7.3969967%2c5.19414125 L7.38531104%2c6.27721 L7.38531104%2c6.27721 Z M7.40816562%2c4.15584759 L1.5134718%2c9.91983307 C1.42966504%2c9.63568106 1.36076343%2c9.34198971 1.31408045%2c9.04817915 L7.41983141%2c3.0727987 L7.40816562%2c4.15584759 Z M3.26558364%2c3.17250431 C3.94068814%2c2.50868797 4.75868348%2c1.98561613 5.66915047%2c1.65295276 L1.69467882%2c5.54002052 C2.04222748%2c4.64447857 2.58529212%2c3.83556545 3.26558364%2c3.17250431 Z M7.06902349%2c1.30580157 C7.19108684%2c1.29187021 7.32002644%2c1.28326497 7.43928762%2c1.26440497 L7.43109971%2c2.02476702 L1.23742818%2c8.09337428 L1.23929629%2c7.91958009 C1.24287352%2c7.58679748 1.26860978%2c7.25951986 1.31737946%2c6.93695225 L7.06902349%2c1.30580157 L7.06902349%2c1.30580157 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e5%bd%a2%e7%8a%b6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-525.000000%2c -124.000000)'%3e %3cg id='%e6%9b%9d%e5%85%89' transform='translate(525.000000%2c 124.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg mask='url(%23mask-2)' fill-rule='nonzero' id='%e5%bd%a2%e7%8a%b6'%3e %3cpath d='M2.6123501%2c13.1851491 L2.64065558%2c13.2166896 L2.6413572%2c13.2203755 C4.01642052%2c14.6273605 5.88331047%2c15.4443523 7.88790599%2c15.474817 L7.9129068%2c15.4750953 C9.90015586%2c15.4876256 11.7740345%2c14.7236019 13.1304117%2c13.4251429 L13.2081022%2c13.333556 C14.6189485%2c11.9554626 15.4315386%2c10.0884174 15.453245%2c8.0726293 C15.4749051%2c6.06074757 14.701873%2c4.17234442 13.3228152%2c2.76091268 C11.944524%2c1.36229865 10.0794546%2c0.550659153 8.07318152%2c0.519853677 L8.05116145%2c0.519458391 C6.04381797%2c0.507199088 4.15921827%2c1.27912879 2.7559335%2c2.64493708 C1.34678056%2c4.03173715 0.531741066%2c5.90419121 0.510127959%2c7.91172667 C0.488530813%2c9.91789572 1.24972356%2c11.7905061 2.6123501%2c13.1851491 Z' stroke='%23666666'%3e%3c/path%3e %3cpath d='M11.8970207%2c7.47681347 L9.88251295%2c7.47681347 C9.70012953%2c6.78873057 9.16126943%2c6.24158031 8.46489637%2c6.05919689 L8.46489637%2c4.04468912 C8.46489637%2c3.77111399 8.24106218%2c3.54727979 7.96748705%2c3.54727979 C7.69391192%2c3.54727979 7.47007772%2c3.77111399 7.47007772%2c4.04468912 L7.47007772%2c6.05919689 C6.78199482%2c6.24158031 6.23484456%2c6.78044041 6.05246114%2c7.47681347 L4.03795337%2c7.47681347 C3.76437824%2c7.47681347 3.54054404%2c7.70064767 3.54054404%2c7.9742228 C3.54054404%2c8.24779793 3.76437824%2c8.47163212 4.03795337%2c8.47163212 L6.05246114%2c8.47163212 C6.23484456%2c9.15971503 6.77370466%2c9.70686528 7.47007772%2c9.8892487 L7.47007772%2c11.9037565 C7.47007772%2c12.1773316 7.69391192%2c12.4011658 7.96748705%2c12.4011658 C8.24106218%2c12.4011658 8.46489637%2c12.1773316 8.46489637%2c11.9037565 L8.46489637%2c9.8892487 C9.15297927%2c9.70686528 9.70012953%2c9.16800518 9.88251295%2c8.47163212 L11.8970207%2c8.47163212 C12.1705959%2c8.47163212 12.3944301%2c8.24779793 12.3944301%2c7.9742228 C12.3944301%2c7.70064767 12.178886%2c7.47681347 11.8970207%2c7.47681347 Z M7.96748705%2c8.9607513 C7.42862694%2c8.9607513 6.9892487%2c8.52137306 6.9892487%2c7.98251295 C6.9892487%2c7.44365285 7.42862694%2c7.00427461 7.96748705%2c7.00427461 C8.50634715%2c7.00427461 8.94572539%2c7.44365285 8.94572539%2c7.98251295 C8.94572539%2c8.52137306 8.51463731%2c8.9607513 7.96748705%2c8.9607513 L7.96748705%2c8.9607513 Z' fill='%23666666'%3e%3c/path%3e %3cpath d='M10.1643782%2c6.27474093 C10.2887306%2c6.27474093 10.4213731%2c6.225 10.5125648%2c6.12551813 L11.0928756%2c5.54520725 C11.2835492%2c5.35453368 11.2835492%2c5.03950777 11.0928756%2c4.84054404 C10.9022021%2c4.64987047 10.5871762%2c4.64987047 10.3882124%2c4.84054404 L9.80790155%2c5.42085492 C9.61722798%2c5.6115285 9.61722798%2c5.9265544 9.80790155%2c6.12551813 C9.91567358%2c6.225 10.0400259%2c6.27474093 10.1643782%2c6.27474093 Z M5.42240933%2c6.13380829 C5.52189119%2c6.23329016 5.64624352%2c6.28303109 5.77059585%2c6.28303109 C5.89494819%2c6.28303109 6.02759067%2c6.23329016 6.11878238%2c6.13380829 C6.30945596%2c5.94313472 6.30945596%2c5.62810881 6.11878238%2c5.42914508 L5.5384715%2c4.8488342 C5.34779793%2c4.65816062 5.03277202%2c4.65816062 4.83380829%2c4.8488342 C4.64313472%2c5.03950777 4.64313472%2c5.35453368 4.83380829%2c5.55349741 L5.42240933%2c6.13380829 L5.42240933%2c6.13380829 Z M5.42240933%2c9.82292746 L4.84209845%2c10.4032383 C4.65142487%2c10.5939119 4.65142487%2c10.9089378 4.84209845%2c11.1079016 C4.94158031%2c11.2073834 5.06593264%2c11.2571244 5.19028497%2c11.2571244 C5.31463731%2c11.2571244 5.44727979%2c11.2073834 5.5384715%2c11.1079016 L6.11878238%2c10.5275907 C6.30945596%2c10.3369171 6.30945596%2c10.0218912 6.11878238%2c9.82292746 C5.92810881%2c9.63225389 5.6130829%2c9.63225389 5.42240933%2c9.82292746 L5.42240933%2c9.82292746 Z M10.5208549%2c9.82292746 C10.3301813%2c9.63225389 10.0151554%2c9.63225389 9.81619171%2c9.82292746 C9.62551813%2c10.013601 9.62551813%2c10.3286269 9.81619171%2c10.5275907 L10.3965026%2c11.1079016 C10.4959845%2c11.2073834 10.6203368%2c11.2571244 10.7446891%2c11.2571244 C10.8690415%2c11.2571244 11.0016839%2c11.2073834 11.0928756%2c11.1079016 C11.2835492%2c10.917228 11.2835492%2c10.6022021 11.0928756%2c10.4032383 L10.5208549%2c9.82292746 L10.5208549%2c9.82292746 Z' fill='%23666666'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e6%94%be%e5%a4%a7%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-350.000000%2c -125.000000)'%3e %3cg id='%e6%94%be%e5%a4%a7' transform='translate(350.000000%2c 125.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cpath d='M15.6609771%2c14.3520065 L13.3912778%2c12.0823072 C14.3805588%2c10.8144379 14.9758006%2c9.22447711 14.9758007%2c7.49438563 C14.9758007%2c3.36659478 11.617683%2c0.00889542279 7.48989215%2c0.00889542279 C3.3625196%2c0.00889542279 0.00482025735%2c3.36659476 0.00482025735%2c7.49438563 C0.00482025735%2c11.6221765 3.36251961%2c14.9802941 7.48989215%2c14.9802941 C9.15116518%2c14.9805622 10.764591%2c14.4240002 12.0723758%2c13.399536 L14.3420752%2c15.6700719 C14.706368%2c16.0359836 15.2981418%2c16.0378552 15.6647418%2c15.6742549 C16.0284092%2c15.3079133 16.0267247%2c14.7162714 15.6609771%2c14.3520065 L15.6609771%2c14.3520065 Z M1.42997059%2c7.49480392 C1.42997059%2c4.15341829 4.14850654%2c1.43530066 7.48989215%2c1.43530066 C10.8312778%2c1.43530066 13.5498137%2c4.15383662 13.5498137%2c7.49480392 C13.5498137%2c10.8357712 10.8312778%2c13.5547255 7.48989215%2c13.5547255 C4.14850653%2c13.5547255 1.42997059%2c10.8357713 1.42997059%2c7.49480392 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3cpath d='M10.0122451%2c6.78201961 L8.20309478%2c6.78201961 L8.20309478%2c4.97203268 C8.20309478%2c4.59347059 7.88351309%2c4.28685621 7.48989215%2c4.28685621 C7.09627123%2c4.28685621 6.77710783%2c4.5930523 6.77710785%2c4.97203268 L6.77710785%2c6.78201961 L4.96753921%2c6.78201961 C4.58897711%2c6.78201961 4.28194445%2c7.10118301 4.28194445%2c7.49522222 C4.28194445%2c7.88884314 4.58814053%2c8.20842483 4.96753921%2c8.20842483 L6.77710785%2c8.20842483 L6.77710785%2c10.0179935 C6.77710785%2c10.3961372 7.09627125%2c10.7035882 7.48989215%2c10.7035882 C7.88351305%2c10.7035882 8.20309476%2c10.3965556 8.20309478%2c10.0179935 L8.20309478%2c8.20842483 L10.0122451%2c8.20842483 C10.3908072%2c8.20842483 10.6982582%2c7.88926143 10.6982582%2c7.49522222 C10.6982582%2c7.10118301 10.3908072%2c6.78201961 10.0122451%2c6.78201961 Z' id='%e8%b7%af%e5%be%84'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3cg transform='translate(-1838 -1616)'%3e%3crect width='16' height='16' transform='translate(1838 1616)' fill='none'/%3e%3cpath d='M1%2c1V11H11V1H1M1%2c0H11a1%2c1%2c0%2c0%2c1%2c1%2c1V11a1%2c1%2c0%2c0%2c1-1%2c1H1a1%2c1%2c0%2c0%2c1-1-1V1A1%2c1%2c0%2c0%2c1%2c1%2c0Z' transform='translate(1840 1618)' fill='%23707070'/%3e%3cpath d='M9030-7951h-1v-3h3v1h-2Z' transform='translate(-7187 9574)' fill='%23999'/%3e%3cpath d='M9030-7951h-1v-3h3v1h-2Z' transform='translate(10878.999 -6326) rotate(180)' fill='%23999'/%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","import React, { useState, useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { AppState } from 'src/store';\nimport { GraphToolInstance } from 'src/store/annotation/types';\nimport AttributeList from '@/components/attributeList';\nimport StepUtils from '@/utils/StepUtils';\nimport { IStepInfo } from '@/types/step';\nimport { jsonParser } from '@/utils';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  toolInstance: GraphToolInstance;\n  stepInfo: IStepInfo;\n}\n\nconst SwitchAttributeList: React.FC<IProps> = (props) => {\n  const [_, forceRender] = useState(0);\n  const listRef = useRef<HTMLElement>(null);\n  const { toolInstance } = props;\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.singleOn('changeAttributeSidebar', (index: number) => {\n        forceRender((s) => s + 1);\n\n        if (!listRef.current) {\n          return;\n        }\n\n        listRef.current.children[index]?.scrollIntoView({ block: 'center' });\n      });\n    }\n    return () => {\n      toolInstance.unbindAll('changeAttributeSidebar');\n    };\n  }, [toolInstance, listRef]);\n\n  if (!props.stepInfo) {\n    return null;\n  }\n\n  const config = jsonParser(props.stepInfo.config);\n  if (config.attributeConfigurable !== true) {\n    return null;\n  }\n\n  if (toolInstance?.config.attributeConfigurable === true && toolInstance?.config?.attributeList) {\n    const list = toolInstance.config.attributeList.map((i: any) => ({\n      label: i.key,\n      value: i.value,\n    }));\n    list.unshift({ label: t('NoAttribute'), value: '' });\n    const attributeChanged = (v: string) => {\n      toolInstance.setDefaultAttribute(v);\n      forceRender((s) => s + 1);\n    };\n\n    return (\n      <div>\n        <AttributeList\n          list={list}\n          attributeChanged={attributeChanged}\n          selectedAttribute={toolInstance?.defaultAttribute ?? ''}\n          ref={listRef}\n        />\n      </div>\n    );\n  }\n\n  return null;\n};\n\nconst mapStateToProps = (state: AppState) => {\n  const stepInfo = StepUtils.getCurrentStepInfo(state.annotation?.step, state.annotation?.stepList);\n\n  return {\n    toolInstance: state.annotation.toolInstance,\n    stepInfo,\n  };\n};\n\nexport default connect(mapStateToProps)(SwitchAttributeList);\n","import React from 'react';\n\nexport const ColorTag = ({ color, style }: any) => (\n  <div\n    style={{\n      display: 'inline-block',\n      height: 14,\n      width: 14,\n      backgroundColor: color,\n      verticalAlign: 'middle',\n      ...style,\n    }}\n  />\n);\n","import React, { useState } from 'react';\nimport { Col, Popconfirm } from 'antd/es';\nimport clearResultSvg from '@/assets/annotation/common/icon_clear.svg';\nimport clearResultASvg from '@/assets/annotation/common/icon_clear_a.svg';\nimport copyBackStepSvg from '@/assets/annotation/common/icon_invalid.svg';\nimport copyBackStepASvg from '@/assets/annotation/common/icon_invalid_a.svg';\nimport { StopOutlined } from '@ant-design/icons';\nimport { store } from '@/index';\n\nimport { AppState } from '@/store';\nimport { connect } from 'react-redux';\nimport { ToolInstance } from '@/store/annotation/types';\nimport StepUtils from '@/utils/StepUtils';\nimport { IStepInfo } from '@/types/step';\nimport { jsonParser } from '@/utils';\nimport { AnnotationFileList } from '@/types/data';\nimport { CopyBackWordResult } from '@/store/annotation/actionCreators';\nimport { useTranslation } from 'react-i18next';\n\nconst makeSure = (info: string, key: string, t: any) => {\n  return <div key={key}>{`${t('ConfirmTo')}${info.slice(0)}？`}</div>;\n};\n\nconst renderImg = (info: Element | string) => {\n  if (typeof info === 'string') {\n    return <img width={23} height={25} src={info} />;\n  }\n  return info;\n};\n\ninterface IProps {\n  toolInstance: ToolInstance;\n  stepInfo: IStepInfo;\n  imgList: AnnotationFileList;\n  imgIndex: number;\n}\n\nconst GenerationOperation: React.FC<IProps> = ({ toolInstance, stepInfo, imgList, imgIndex }) => {\n  const [isHover, setHover] = useState<string | null>(null);\n  const { t } = useTranslation();\n  const allOperation = [\n    {\n      name: t('ClearLabel'),\n      key: 'sureClear',\n      imgSvg: clearResultSvg,\n      hoverSvg: clearResultASvg,\n      onClick: () => {\n        toolInstance?.clearResult();\n      },\n    },\n  ];\n\n  const config = jsonParser(stepInfo?.config);\n  if (stepInfo?.dataSourceStep === 0) {\n    const iconStyle = {\n      height: '25px',\n      lineHeight: '25px',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    };\n    allOperation.push({\n      name: t(toolInstance.valid === true ? 'SetAsInvalid' : 'SetAsValid'),\n      key: 'sureQuestion',\n      imgSvg: <StopOutlined style={iconStyle} />,\n      hoverSvg: <StopOutlined style={{ color: '#666fff', ...iconStyle }} />,\n      onClick: () => {\n        toolInstance.setValid(!toolInstance.valid);\n      },\n    });\n  }\n\n  if (config?.copyBackwardResult) {\n    allOperation.unshift({\n      name: t('CopyThePrevious'),\n      key: 'sureCopy',\n      imgSvg: copyBackStepSvg,\n      hoverSvg: copyBackStepASvg,\n      onClick: () => {\n        store.dispatch(CopyBackWordResult());\n      },\n    });\n  }\n\n  const annotationLength = Math.floor(24 / allOperation.length);\n\n  return (\n    <div className='generalOperation'>\n      {allOperation.map((info, index) => (\n        <Col span={annotationLength} key={index}>\n          <div\n            key={info.key}\n            className='item'\n            onMouseEnter={() => {\n              setHover(info.key);\n            }}\n            onMouseLeave={() => {\n              setHover(null);\n            }}\n          >\n            <Popconfirm\n              title={info.key.startsWith('sure') ? makeSure(info.name, info.key, t) : info.name}\n              disabled={!info.key.startsWith('sure')}\n              placement='topRight'\n              okText={t('Confirm')}\n              cancelText={t('Cancel')}\n              onConfirm={info.onClick}\n            >\n              <div className='icon'>\n                {renderImg(info.key === isHover ? info.hoverSvg : info.imgSvg)}\n              </div>\n              <div className='toolName' style={{ color: info.key === isHover ? '#666fff' : '' }}>\n                {info.name}\n              </div>\n            </Popconfirm>\n          </div>\n        </Col>\n      ))}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  const stepInfo = StepUtils.getCurrentStepInfo(state.annotation?.step, state.annotation?.stepList);\n\n  return {\n    toolInstance: state.annotation.toolInstance,\n    stepInfo,\n    imgList: state.annotation.imgList,\n    imgIndex: state.annotation.imgIndex,\n  };\n};\n\nexport default connect(mapStateToProps)(GenerationOperation);\n","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='25px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3e%e5%bd%a2%e7%8a%b6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-46.000000%2c -141.000000)' fill-rule='nonzero'%3e %3cg id='%e6%b8%85%e7%a9%ba%e6%a0%87%e6%b3%a8' transform='translate(18.000000%2c 123.000000)'%3e %3cg id='icon_clear_normal' transform='translate(28.000000%2c 18.000000)'%3e %3crect id='icon_clear' fill='black' opacity='0' x='0' y='0.00780487805' width='24' height='24'%3e%3c/rect%3e %3cpath d='M24%2c10.6934683 C24%2c9.29483367 22.8777821%2c8.15502957 21.4955096%2c8.15502957 L15.5587661%2c8.15502957 L15.5587661%2c3.13276778 C15.5587661%2c1.40881408 14.1764936%2c0.00780487805 12.4755955%2c0.00780487805 L11.6485748%2c0.00780487805 C9.94767669%2c0.00780487805 8.56540414%2c1.40881408 8.56540414%2c3.13276778 L8.56540414%2c8.15502957 L2.5021476%2c8.15502957 C1.12221788%2c8.15502957 0%2c9.29245908 0%2c10.6934683 C0%2c11.835647 0.754392815%2c12.7926075 1.78055447%2c13.1108028 L1.78055447%2c21.9680305 C1.78055447%2c23.093587 2.68254588%2c24.0078049 3.79304959%2c24.0078049 L20.3615775%2c24.0078049 C21.4720812%2c24.0078049 22.3740726%2c23.093587 22.3740726%2c21.9680305 L22.3740726%2c13.0609364 C23.3205779%2c12.6999984 24%2c11.7786568 24%2c10.6934683 Z M10.114018%2c3.13276778 C10.114018%2c2.27554011 10.8028114%2c1.5774101 11.6485748%2c1.5774101 L12.4755955%2c1.5774101 C13.3213588%2c1.5774101 14.0101523%2c2.27554011 14.0101523%2c3.13276778 L14.0101523%2c8.15502957 L10.114018%2c8.15502957 L10.114018%2c3.13276778 Z M20.3615775%2c22.4381997 L17.8055447%2c22.4381997 L17.8055447%2c19.2206277 C17.8055447%2c18.7860774 17.4588052%2c18.4370124 17.0324092%2c18.4370124 C16.6060133%2c18.4370124 16.2592737%2c18.788452 16.2592737%2c19.2206277 L16.2592737%2c22.4381997 L12.8527919%2c22.4381997 L12.8527919%2c19.2206277 C12.8527919%2c18.7860774 12.5060523%2c18.4370124 12.0796564%2c18.4370124 C11.6509176%2c18.4370124 11.3065209%2c18.788452 11.3065209%2c19.2206277 L11.3065209%2c22.4381997 L7.89769621%2c22.4381997 L7.89769621%2c19.2206277 C7.89769621%2c18.7860774 7.55095666%2c18.4370124 7.12456072%2c18.4370124 C6.69582194%2c18.4370124 6.35142522%2c18.788452 6.35142522%2c19.2206277 L6.35142522%2c22.4381997 L3.79304959%2c22.4381997 C3.53768059%2c22.4381997 3.32916829%2c22.226861 3.32916829%2c21.9680305 L3.32916829%2c13.2295324 L20.8254588%2c13.2295324 L20.8254588%2c21.9656559 C20.8254588%2c22.226861 20.6169465%2c22.4381997 20.3615775%2c22.4381997 Z M21.4978524%2c11.6599272 L2.5021476%2c11.6599272 C1.97500976%2c11.6599272 1.54861382%2c11.2253769 1.54861382%2c10.6934683 C1.54861382%2c10.1591851 1.9773526%2c9.7246348 2.5021476%2c9.7246348 L21.4955096%2c9.7246348 C22.0226474%2c9.7246348 22.4513862%2c10.1591851 22.4513862%2c10.6934683 C22.4513862%2c11.2277514 22.0226474%2c11.6599272 21.4978524%2c11.6599272 Z' id='%e5%bd%a2%e7%8a%b6' fill='%23666666'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_clear_a%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-166.000000%2c -141.000000)' fill-rule='nonzero'%3e %3cg id='%e6%b8%85%e7%a9%ba%e6%a0%87%e6%b3%a8%e5%a4%87%e4%bb%bd' transform='translate(138.000000%2c 123.000000)'%3e %3cg id='icon_clear' transform='translate(28.000000%2c 18.000000)'%3e %3crect id='icon_clear_active' fill='black' opacity='0' x='0' y='0.00780487805' width='24' height='24'%3e%3c/rect%3e %3cpath d='M24%2c10.6934683 C24%2c9.29483367 22.8777821%2c8.15502957 21.4955096%2c8.15502957 L15.5587661%2c8.15502957 L15.5587661%2c3.13276778 C15.5587661%2c1.40881408 14.1764936%2c0.00780487805 12.4755955%2c0.00780487805 L11.6485748%2c0.00780487805 C9.94767669%2c0.00780487805 8.56540414%2c1.40881408 8.56540414%2c3.13276778 L8.56540414%2c8.15502957 L2.5021476%2c8.15502957 C1.12221788%2c8.15502957 0%2c9.29245908 0%2c10.6934683 C0%2c11.835647 0.754392815%2c12.7926075 1.78055447%2c13.1108028 L1.78055447%2c21.9680305 C1.78055447%2c23.093587 2.68254588%2c24.0078049 3.79304959%2c24.0078049 L20.3615775%2c24.0078049 C21.4720812%2c24.0078049 22.3740726%2c23.093587 22.3740726%2c21.9680305 L22.3740726%2c13.0609364 C23.3205779%2c12.6999984 24%2c11.7786568 24%2c10.6934683 Z M10.114018%2c3.13276778 C10.114018%2c2.27554011 10.8028114%2c1.5774101 11.6485748%2c1.5774101 L12.4755955%2c1.5774101 C13.3213588%2c1.5774101 14.0101523%2c2.27554011 14.0101523%2c3.13276778 L14.0101523%2c8.15502957 L10.114018%2c8.15502957 L10.114018%2c3.13276778 Z M20.3615775%2c22.4381997 L17.8055447%2c22.4381997 L17.8055447%2c19.2206277 C17.8055447%2c18.7860774 17.4588052%2c18.4370124 17.0324092%2c18.4370124 C16.6060133%2c18.4370124 16.2592737%2c18.788452 16.2592737%2c19.2206277 L16.2592737%2c22.4381997 L12.8527919%2c22.4381997 L12.8527919%2c19.2206277 C12.8527919%2c18.7860774 12.5060523%2c18.4370124 12.0796564%2c18.4370124 C11.6509176%2c18.4370124 11.3065209%2c18.788452 11.3065209%2c19.2206277 L11.3065209%2c22.4381997 L7.89769621%2c22.4381997 L7.89769621%2c19.2206277 C7.89769621%2c18.7860774 7.55095666%2c18.4370124 7.12456072%2c18.4370124 C6.69582194%2c18.4370124 6.35142522%2c18.788452 6.35142522%2c19.2206277 L6.35142522%2c22.4381997 L3.79304959%2c22.4381997 C3.53768059%2c22.4381997 3.32916829%2c22.226861 3.32916829%2c21.9680305 L3.32916829%2c13.2295324 L20.8254588%2c13.2295324 L20.8254588%2c21.9656559 C20.8254588%2c22.226861 20.6169465%2c22.4381997 20.3615775%2c22.4381997 Z M21.4978524%2c11.6599272 L2.5021476%2c11.6599272 C1.97500976%2c11.6599272 1.54861382%2c11.2253769 1.54861382%2c10.6934683 C1.54861382%2c10.1591851 1.9773526%2c9.7246348 2.5021476%2c9.7246348 L21.4955096%2c9.7246348 C22.0226474%2c9.7246348 22.4513862%2c10.1591851 22.4513862%2c10.6934683 C22.4513862%2c11.2277514 22.0226474%2c11.6599272 21.4978524%2c11.6599272 Z' id='%e5%bd%a2%e7%8a%b6' fill='%23666FFF'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_invalid%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='24' height='24'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-49.000000%2c -234.000000)'%3e %3cg id='%e6%a0%87%e6%b3%a8%e6%97%a0%e6%95%88' transform='translate(21.000000%2c 215.000000)'%3e %3cg id='icon_invalid' transform='translate(28.000000%2c 19.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg%3e%3c/g%3e %3cpath d='M14.8132711%2c20.5 L3.35714286%2c20.5 C2.91670867%2c20.5 2.57142857%2c20.1826213 2.57142857%2c19.8055556 L2.57142857%2c3.19444444 C2.57142857%2c2.81737868 2.91670867%2c2.5 3.35714286%2c2.5 L20.6428571%2c2.5 C21.0832913%2c2.5 21.4285714%2c2.81737868 21.4285714%2c3.19444444 L21.4285714%2c15.2898676 L23%2c16.4514553 L23%2c3.19444444 C23%2c1.97602093 21.938175%2c1 20.6428571%2c1 L3.35714286%2c1 C2.06182497%2c1 1%2c1.97602093 1%2c3.19444444 L1%2c19.8055556 C1%2c21.0239791 2.06182497%2c22 3.35714286%2c22 L15.9411765%2c22 L14.8132711%2c20.5 Z' id='%e8%b7%af%e5%be%84' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M8.5%2c10 C9.88071187%2c10 11%2c8.88071187 11%2c7.5 C11%2c6.11928813 9.88071187%2c5 8.5%2c5 C7.11928813%2c5 6%2c6.11928813 6%2c7.5 C6%2c8.88071187 7.11928813%2c10 8.5%2c10 Z M8.5%2c8.57142857 C7.90826634%2c8.57142857 7.42857143%2c8.09173366 7.42857143%2c7.5 C7.42857143%2c6.90826634 7.90826634%2c6.42857143 8.5%2c6.42857143 C9.09173366%2c6.42857143 9.57142857%2c6.90826634 9.57142857%2c7.5 C9.57142857%2c8.09173366 9.09173366%2c8.57142857 8.5%2c8.57142857 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M1.93578343%2c18 C4.08872055%2c14.8551688 6.74336715%2c13.7936147 9.20632589%2c14.9383326 C9.39666832%2c15.0267988 9.58966667%2c15.1227541 9.8383972%2c15.2511189 C11.2590222%2c15.9842746 11.4672631%2c16.0801404 12.0929951%2c16.2047792 C13.2715953%2c16.4395429 14.3253377%2c16.0173433 15.3845587%2c14.7865988 C17.834834%2c11.9395412 19.5284667%2c10.6940174 22%2c10.3111164 L21.8385808%2c9 C19.0487146%2c9.43221863 17.1525949%2c10.8266545 14.5357091%2c13.8673024 C13.7408033%2c14.7909303 13.0776295%2c15.056642 12.2992772%2c14.9016031 C11.8197086%2c14.8060784 11.6287028%2c14.7181469 10.3315315%2c14.0487032 C10.0702502%2c13.9138612 9.86453995%2c13.8115857 9.65795075%2c13.7155685 C6.66190483%2c12.3230858 3.4571787%2c13.6046086 1%2c17.1938506 L1.93578343%2c18 Z' id='%e8%b7%af%e5%be%84' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M19.5%2c23 C21.4329966%2c23 23%2c21.4329966 23%2c19.5 C23%2c17.5670034 21.4329966%2c16 19.5%2c16 C17.5670034%2c16 16%2c17.5670034 16%2c19.5 C16%2c21.4329966 17.5670034%2c23 19.5%2c23 Z M19.5%2c22 C18.1192881%2c22 17%2c20.8807119 17%2c19.5 C17%2c18.1192881 18.1192881%2c17 19.5%2c17 C20.8807119%2c17 22%2c18.1192881 22%2c19.5 C22%2c20.8807119 20.8807119%2c22 19.5%2c22 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M21.2928932%2c17.7692308 L21.6464466%2c18.1227842 L21.6464466%2c17.4156774 L21.2928932%2c17.7692308 Z M17.7692308%2c21.2928932 L17.4156774%2c21.6464466 L18.1227842%2c21.6464466 L17.7692308%2c21.2928932 Z M17.7071068%2c21.2307692 L17.3535534%2c20.8772158 L17.3535534%2c21.5843226 L17.7071068%2c21.2307692 Z M21.2307692%2c17.7071068 L21.5843226%2c17.3535534 L20.8772158%2c17.3535534 L21.2307692%2c17.7071068 Z' id='%e7%9f%a9%e5%bd%a2' stroke='%23666666' mask='url(%23mask-2)'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_invalid_a%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='24' height='24'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-166.000000%2c -234.000000)'%3e %3cg id='%e6%a0%87%e6%b3%a8%e6%97%a0%e6%95%88%e5%a4%87%e4%bb%bd' transform='translate(138.000000%2c 215.000000)'%3e %3cg id='icon_invalid' transform='translate(28.000000%2c 19.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='icon_invalid_active'%3e%3c/g%3e %3cpath d='M14.8132711%2c20.5 L3.35714286%2c20.5 C2.91670867%2c20.5 2.57142857%2c20.1826213 2.57142857%2c19.8055556 L2.57142857%2c3.19444444 C2.57142857%2c2.81737868 2.91670867%2c2.5 3.35714286%2c2.5 L20.6428571%2c2.5 C21.0832913%2c2.5 21.4285714%2c2.81737868 21.4285714%2c3.19444444 L21.4285714%2c15.2898676 L23%2c16.4514553 L23%2c3.19444444 C23%2c1.97602093 21.938175%2c1 20.6428571%2c1 L3.35714286%2c1 C2.06182497%2c1 1%2c1.97602093 1%2c3.19444444 L1%2c19.8055556 C1%2c21.0239791 2.06182497%2c22 3.35714286%2c22 L15.9411765%2c22 L14.8132711%2c20.5 Z' id='%e8%b7%af%e5%be%84' fill='%23666FFF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M8.5%2c10 C9.88071187%2c10 11%2c8.88071187 11%2c7.5 C11%2c6.11928813 9.88071187%2c5 8.5%2c5 C7.11928813%2c5 6%2c6.11928813 6%2c7.5 C6%2c8.88071187 7.11928813%2c10 8.5%2c10 Z M8.5%2c8.57142857 C7.90826634%2c8.57142857 7.42857143%2c8.09173366 7.42857143%2c7.5 C7.42857143%2c6.90826634 7.90826634%2c6.42857143 8.5%2c6.42857143 C9.09173366%2c6.42857143 9.57142857%2c6.90826634 9.57142857%2c7.5 C9.57142857%2c8.09173366 9.09173366%2c8.57142857 8.5%2c8.57142857 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%236674FF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M1.93578343%2c18 C4.08872055%2c14.8551688 6.74336715%2c13.7936147 9.20632589%2c14.9383326 C9.39666832%2c15.0267988 9.58966667%2c15.1227541 9.8383972%2c15.2511189 C11.2590222%2c15.9842746 11.4672631%2c16.0801404 12.0929951%2c16.2047792 C13.2715953%2c16.4395429 14.3253377%2c16.0173433 15.3845587%2c14.7865988 C17.834834%2c11.9395412 19.5284667%2c10.6940174 22%2c10.3111164 L21.8385808%2c9 C19.0487146%2c9.43221863 17.1525949%2c10.8266545 14.5357091%2c13.8673024 C13.7408033%2c14.7909303 13.0776295%2c15.056642 12.2992772%2c14.9016031 C11.8197086%2c14.8060784 11.6287028%2c14.7181469 10.3315315%2c14.0487032 C10.0702502%2c13.9138612 9.86453995%2c13.8115857 9.65795075%2c13.7155685 C6.66190483%2c12.3230858 3.4571787%2c13.6046086 1%2c17.1938506 L1.93578343%2c18 Z' id='%e8%b7%af%e5%be%84' fill='%23666FFF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M19.5%2c23 C21.4329966%2c23 23%2c21.4329966 23%2c19.5 C23%2c17.5670034 21.4329966%2c16 19.5%2c16 C17.5670034%2c16 16%2c17.5670034 16%2c19.5 C16%2c21.4329966 17.5670034%2c23 19.5%2c23 Z M19.5%2c22 C18.1192881%2c22 17%2c20.8807119 17%2c19.5 C17%2c18.1192881 18.1192881%2c17 19.5%2c17 C20.8807119%2c17 22%2c18.1192881 22%2c19.5 C22%2c20.8807119 20.8807119%2c22 19.5%2c22 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%236674FF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M21.2928932%2c17.7692308 L21.6464466%2c18.1227842 L21.6464466%2c17.4156774 L21.2928932%2c17.7692308 Z M17.7692308%2c21.2928932 L17.4156774%2c21.6464466 L18.1227842%2c21.6464466 L17.7692308%2c21.2928932 Z M17.7071068%2c21.2307692 L17.3535534%2c20.8772158 L17.3535534%2c21.5843226 L17.7071068%2c21.2307692 Z M21.2307692%2c17.7071068 L21.5843226%2c17.3535534 L20.8772158%2c17.3535534 L21.2307692%2c17.7071068 Z' id='%e7%9f%a9%e5%bd%a2' stroke='%23666FFF' mask='url(%23mask-2)'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import React, { useEffect, useState } from 'react';\nimport { message } from 'antd/es';\nimport TextAreaFormat from '@/views/MainView/sidebar/TextAreaFormat';\nimport { TextUtils } from '@/utils/TextUtils';\nimport { AppState } from '@/store';\nimport { GraphToolInstance } from '@/store/annotation/types';\nimport { connect } from 'react-redux';\n\ninterface IProps {\n  toolInstance: GraphToolInstance;\n}\n\nconst AnnotationText: React.FC<IProps> = ({ toolInstance }) => {\n  const [, forceRender] = useState<number>(0);\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.singleOn('selectedChange', () => {\n        forceRender((s) => s + 1);\n      });\n      toolInstance.singleOn('updateTextAttribute', () => {\n        // 文本属性的更新\n\n        forceRender((s) => s + 1);\n      });\n\n      toolInstance.singleOn('messageError', (error: string) => {\n        message.error(error);\n      });\n    }\n  }, [toolInstance]);\n\n  if (!toolInstance) {\n    return null;\n  }\n\n  const { config } = toolInstance;\n\n  return (\n    <div>\n      {toolInstance?.config?.textConfigurable && toolInstance.selectedID && (\n        <TextAreaFormat\n          onChange={toolInstance.textChange}\n          textValue={toolInstance.selectedText}\n          checkString={TextUtils.checkString(config?.textCheckType, config?.customFormat)}\n          textCheckType={config.textCheckType}\n        />\n      )}\n    </div>\n  );\n};\n\nfunction mapStateToProps(state: AppState) {\n  return { toolInstance: state.annotation.toolInstance };\n}\n\nexport default connect(mapStateToProps)(AnnotationText);\n","import { TEXT_ATTRIBUTE_MAX_LENGTH } from '@/data/enums/ToolType';\nimport { TextUtils } from '@/utils/TextUtils';\nimport { Input, message, Tooltip } from 'antd/es';\nimport React, { FocusEvent, useEffect, useState } from 'react';\nimport IconClearSmallA from '@/assets/annotation/common/icon_clearSmall_a.svg';\nimport IconClearSmall from '@/assets/annotation/common/icon_clearSmall.svg';\nimport { classnames } from '@/utils';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  onChange: (value: string, isSubmit?: boolean) => void;\n  textValue: string | undefined;\n  checkString: string;\n  textCheckType: number;\n}\n\nconst TextAreaFormat = (props: IProps) => {\n  const { t } = useTranslation();\n\n  const { onChange, textValue, checkString, textCheckType } = props;\n  const [textLength, setTextLength] = useState<number>(0);\n  const [error, setError] = useState<boolean>(false);\n  const [onFocus, setOnFocus] = useState<boolean>(false);\n  const [hoverDelete, setHoverDelete] = useState<boolean>(false);\n\n  const clearIcon = (\n    <a>\n      <Tooltip placement='bottom' title={t('EmptyTextInput')}>\n        <img\n          onMouseEnter={() => setHoverDelete(true)}\n          onMouseLeave={() => setHoverDelete(false)}\n          style={{ marginLeft: 6 }}\n          src={hoverDelete ? IconClearSmallA : IconClearSmall}\n          onClick={(e) => {\n            e.stopPropagation();\n            onChange('');\n          }}\n        />\n      </Tooltip>\n    </a>\n  );\n\n  const keyDown = (e: React.KeyboardEvent) => {\n    e.stopPropagation();\n  };\n\n  useEffect(() => {\n    if (textValue) {\n      setTextLength(textValue.length);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (textValue === undefined || textValue === '') {\n      setError(false);\n    } else {\n      try {\n        textValue && setError(!new RegExp(checkString).test(textValue));\n      } catch (error) {\n        setError(true);\n        message.destroy();\n        message.error(t('RegularExpIncorrectly'));\n      }\n    }\n    setTextLength(textValue?.length ?? 0);\n  }, [textValue]);\n\n  const checkText = (e: FocusEvent<HTMLTextAreaElement>) => {\n    if (error) {\n      onChange('');\n      message.error(TextUtils.getErrorNotice(textCheckType));\n      return true;\n    }\n    onChange(e.target.value, true); // 失焦的时候直接进行数据的提交\n  };\n\n  return (\n    <div className='textInputContainer'>\n      <div className='label'>\n        {t('TextInput')}\n        {clearIcon}\n      </div>\n      <div\n        className={classnames({\n          textareaContainer: true,\n          focus: onFocus,\n        })}\n      >\n        <div\n          className={classnames({\n            toolTextAreaBox: true,\n            toolTextAreaBoxFocus: onFocus,\n          })}\n        >\n          <Input.TextArea\n            style={{ resize: 'none', height: 120, wordBreak: 'break-all' }}\n            maxLength={TEXT_ATTRIBUTE_MAX_LENGTH}\n            onKeyDownCapture={(e) => {\n              e.stopPropagation();\n            }}\n            onKeyUpCapture={(e) => {\n              e.stopPropagation();\n            }}\n            onChange={(e) => {\n              onChange(e.target.value);\n              setTextLength(e.target.value.length);\n            }}\n            onFocus={(e) => setOnFocus(true)}\n            onBlur={(e) => {\n              checkText(e);\n              setOnFocus(false);\n            }}\n            value={textValue}\n            onKeyDown={keyDown}\n            className={error ? 'warning' : ''}\n          />\n          <div className='textAreaFooter'>\n            <span className='wordCount'>\n              <span className={textLength > TEXT_ATTRIBUTE_MAX_LENGTH || error ? 'warning' : ''}>\n                {textLength}\n              </span>\n              /<span>{TEXT_ATTRIBUTE_MAX_LENGTH}</span>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TextAreaFormat;\n","import { Slider } from 'antd/es';\nimport React from 'react';\nimport widthSvg from '@/assets/toolStyle/icon_border.svg';\nimport colorSvg from '@/assets/toolStyle/icon_borderColor.svg';\nimport borderOpacitySvg from '@/assets/toolStyle/icon_opacityStroke.svg';\nimport fillOpacitySvg from '@/assets/toolStyle/icon_opacityFill.svg';\n\nimport { connect } from 'react-redux';\nimport { UpdateToolStyleConfig } from '@/store/toolStyle/actionCreators';\nimport { store } from '@/index';\nimport { AppState } from '@/store';\nimport { ToolStyleState } from '@/store/toolStyle/types';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  toolStyle: ToolStyleState;\n  config: string;\n}\ntype ToolStyleKey = keyof ToolStyleState;\n\nconst getMarks = (type: string, t: any) => {\n  const lineMarks = [\n    { step: 1, value: '1' },\n    { step: 2, value: '2' },\n    { step: 3, value: '3' },\n    { step: 4, value: '4' },\n    { step: 5, value: '5' },\n  ];\n  const colorMarks = [\n    { step: 1, value: 'Blue' },\n    { step: 3, value: 'Cyan' },\n    { step: 5, value: 'Green' },\n    { step: 7, value: 'Yellow' },\n    { step: 9, value: 'Pink' },\n  ];\n  const borderOpacityMarks = [\n    { step: 1, value: '0.2' },\n    { step: 3, value: '0.4' },\n    { step: 5, value: '0.6' },\n    { step: 7, value: '0.8' },\n    { step: 9, value: '1.0' },\n  ];\n\n  const fillOpacityMarks = [\n    { step: 1, value: '0' },\n    { step: 3, value: '0.2' },\n    { step: 5, value: '0.4' },\n    { step: 7, value: '0.6' },\n    { step: 9, value: '0.8' },\n  ];\n  let list: Array<{ step: number; value: string }> = [];\n  const marks: {\n    [a: number]: {\n      style: {};\n      label: any;\n    };\n  } = {};\n  switch (type) {\n    case 'width':\n      list = lineMarks;\n      break;\n    case 'color':\n      list = colorMarks;\n      break;\n    case 'borderOpacity':\n      list = borderOpacityMarks;\n      break;\n    case 'fillOpacity':\n      list = fillOpacityMarks;\n      break;\n  }\n  list.forEach(({ step, value }) => {\n    marks[step] = {\n      style: { color: '#999999', fontSize: '12px' },\n      label: <span>{t(value)}</span>,\n    };\n  });\n  return marks;\n};\n\nconst getTitle = (title: string) => {\n  switch (title) {\n    case 'width':\n      return 'BorderThickness';\n    case 'color':\n      return 'Color';\n    case 'borderOpacity':\n      return 'BorderOpacity';\n    case 'fillOpacity':\n      return 'FillOpacity';\n    default:\n      return '';\n  }\n};\nconst getImage = (title: string) => {\n  switch (title) {\n    case 'width':\n      return widthSvg;\n    case 'color':\n      return colorSvg;\n    case 'borderOpacity':\n      return borderOpacitySvg;\n    case 'fillOpacity':\n      return fillOpacitySvg;\n  }\n};\nconst getDefaultValue = (value: string) => {\n  switch (value) {\n    case 'width':\n      return 2;\n    case 'color':\n      return 1;\n    case 'borderOpacity':\n      return 9;\n    case 'fillOpacity':\n      return 9;\n  }\n};\n\n/**\n * 判断使用那种样式 (slider的step中间为选中和step为选中)\n * @param info TToolStyleConfig\n */\nconst getStyleType = (info: string): boolean => ['width'].includes(info);\n\nconst ToolStyle = (props: IProps) => {\n  const { toolStyle } = props;\n  const { width, color, borderOpacity, fillOpacity } = toolStyle;\n  const styleConfig = {\n    width,\n    color,\n    borderOpacity,\n    fillOpacity,\n  };\n  const { t } = useTranslation();\n\n  // TODO - 样式标准的定义\n  const annotationConfig: any = props.config;\n\n  const changeToolStyle = (obj: { [key: string]: number }) => {\n    store.dispatch(UpdateToolStyleConfig(obj));\n  };\n\n  return (\n    <div className='toolStyle'>\n      {Object.entries(styleConfig).map((item: any[]) => {\n        const key: ToolStyleKey = item[0];\n        // 判断是否需要 color 的使用，现在暂时默认不需要\n        if (annotationConfig?.attributeConfigurable === true && key === 'color') {\n          return null;\n        }\n        return (\n          <div id={`style-${key}`} className='styleSlider' key={key}>\n            <span className='title'>\n              <img src={getImage(key)} className='icon' />\n              {t(getTitle(key))}\n            </span>\n            <span className='slider'>\n              <Slider\n                tipFormatter={null}\n                max={getStyleType(key) ? 5 : 10}\n                min={getStyleType(key) ? 1 : 0}\n                step={getStyleType(key) ? 1 : null}\n                value={(toolStyle[key] ?? getDefaultValue(key)) as number}\n                marks={getMarks(key, t)}\n                onChange={(e: any) => changeToolStyle({ [key]: e })}\n              />\n            </span>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\nconst mapStateToProps = ({ toolStyle, annotation }: AppState) => ({\n  toolStyle,\n  config: annotation.toolInstance.config,\n});\nexport default connect(mapStateToProps)(ToolStyle);\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2%2c .cls-4 %7b fill: none%3b %7d .cls-1 %7b stroke: %23707070%3b %7d .cls-3%2c .cls-5 %7b stroke: none%3b %7d .cls-5 %7b fill: %23ccc%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_border' transform='translate(0 -1.609)'%3e %3cg id='%e7%9f%a9%e5%bd%a2_162' data-name='%e7%9f%a9%e5%bd%a2 162' class='cls-1' transform='translate(0 1.609)'%3e %3crect class='cls-3' width='10' height='10'/%3e %3crect class='cls-4' x='0.5' y='0.5' width='9' height='9'/%3e %3c/g%3e %3cg id='%e8%81%94%e5%90%88_2' data-name='%e8%81%94%e5%90%88 2' class='cls-2' transform='translate(10987 5359.61)'%3e %3cpath class='cls-3' d='M-10982.4-5349v-3.6h-3.6v-.8h3.6v-3.6h.8v3.6h3.6v.8h-3.6v3.6Z'/%3e %3cpath class='cls-5' d='M -10981.6005859375 -5349 L -10982.3994140625 -5349 L -10982.3994140625 -5352.6005859375 L -10986.0009765625 -5352.6005859375 L -10986.0009765625 -5353.400390625 L -10982.3994140625 -5353.400390625 L -10982.3994140625 -5357.0009765625 L -10981.6005859375 -5357.0009765625 L -10981.6005859375 -5353.400390625 L -10977.9990234375 -5353.400390625 L -10977.9990234375 -5352.6005859375 L -10981.6005859375 -5352.6005859375 L -10981.6005859375 -5349 Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='12' height='12' viewBox='0 0 12 12'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23fafafa%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-5 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-6 %7b fill: %23999%3b %7d .cls-7 %7b clip-path: url(%23clip-path-3)%3b %7d .cls-8 %7b clip-path: url(%23clip-path-4)%3b %7d .cls-9 %7b clip-path: url(%23clip-path-5)%3b %7d .cls-10 %7b clip-path: url(%23clip-path-6)%3b %7d .cls-11 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_422' data-name='%e8%b7%af%e5%be%84 422' class='cls-1' d='M0-4H12V-16H0Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_424' data-name='%e8%b7%af%e5%be%84 424' class='cls-1' d='M11.759-9.6a.729.729%2c0%2c0%2c0%2c.729.729.729.729%2c0%2c0%2c0%2c.729-.729.729.729%2c0%2c0%2c0-.729-.729A.729.729%2c0%2c0%2c0%2c11.759-9.6Z' transform='translate(-11.759 10.33)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-3'%3e %3cpath id='%e8%b7%af%e5%be%84_426' data-name='%e8%b7%af%e5%be%84 426' class='cls-1' d='M9.031-12.726a.742.742%2c0%2c0%2c0%2c.742.742.742.742%2c0%2c0%2c0%2c.742-.742.742.742%2c0%2c0%2c0-.742-.742.742.742%2c0%2c0%2c0-.742.742Z' transform='translate(-9.031 13.469)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-4'%3e %3cpath id='%e8%b7%af%e5%be%84_428' data-name='%e8%b7%af%e5%be%84 428' class='cls-1' d='M4.727-12.239a.747.747%2c0%2c0%2c0%2c.747.747.747.747%2c0%2c0%2c0%2c.747-.747.747.747%2c0%2c0%2c0-.747-.747A.747.747%2c0%2c0%2c0%2c4.727-12.239Z' transform='translate(-4.727 12.986)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-5'%3e %3cpath id='%e8%b7%af%e5%be%84_430' data-name='%e8%b7%af%e5%be%84 430' class='cls-1' d='M2.362-8.573a.73.73%2c0%2c0%2c0%2c.365.632.73.73%2c0%2c0%2c0%2c.73%2c0%2c.73.73%2c0%2c0%2c0%2c.365-.632.73.73%2c0%2c0%2c0-.365-.632.73.73%2c0%2c0%2c0-.73%2c0%2c.73.73%2c0%2c0%2c0-.365.632Z' transform='translate(-2.362 9.303)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-6'%3e %3cpath id='%e8%b7%af%e5%be%84_432' data-name='%e8%b7%af%e5%be%84 432' class='cls-2' d='M5.887-4.052H5.873A5.888%2c5.888%2c0%2c0%2c1%2c0-10.018a5.922%2c5.922%2c0%2c0%2c1%2c6-5.931%2c5.853%2c5.853%2c0%2c0%2c1%2c6%2c5.335A3.662%2c3.662%2c0%2c0%2c1%2c9.645-7.28a6.77%2c6.77%2c0%2c0%2c1-2.439.232l-.122%2c0a.538.538%2c0%2c0%2c0-.154.408.342.342%2c0%2c0%2c0%2c.009.1.431.431%2c0%2c0%2c0%2c.046.048%2c1.36%2c1.36%2c0%2c0%2c1%2c.387%2c1.083A1.29%2c1.29%2c0%2c0%2c1%2c7-4.47%2c1.682%2c1.682%2c0%2c0%2c1%2c5.887-4.052ZM6-14.939a4.945%2c4.945%2c0%2c0%2c0-4.989%2c4.922A4.916%2c4.916%2c0%2c0%2c0%2c5.883-5.061c.22%2c0%2c.477-.063.477-.355%2c0-.274-.039-.315-.109-.388a1.093%2c1.093%2c0%2c0%2c1-.333-.841A1.319%2c1.319%2c0%2c0%2c1%2c7.077-8.064l.168%2c0A6.391%2c6.391%2c0%2c0%2c0%2c9.28-8.223a2.677%2c2.677%2c0%2c0%2c0%2c1.707-2.391A4.83%2c4.83%2c0%2c0%2c0%2c6-14.939Z' transform='translate(0 15.948)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_borderColor' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_670' data-name='%e7%bb%84 670' class='cls-3' transform='translate(0 -16)'%3e %3cpath id='%e8%b7%af%e5%be%84_421' data-name='%e8%b7%af%e5%be%84 421' class='cls-4' d='M-5-21H14.5V-1.5H-5Z' transform='translate(1.25 17.25)'/%3e %3c/g%3e %3cg id='%e7%bb%84_671' data-name='%e7%bb%84 671' class='cls-5' transform='translate(8.121 -11.61)'%3e %3cpath id='%e8%b7%af%e5%be%84_423' data-name='%e8%b7%af%e5%be%84 423' class='cls-6' d='M6.759-15.33H14.9v8.145H6.759Z' transform='translate(-10.103 11.986)'/%3e %3c/g%3e %3cg id='%e7%bb%84_672' data-name='%e7%bb%84 672' class='cls-7' transform='translate(6.765 -13.853)'%3e %3cpath id='%e8%b7%af%e5%be%84_425' data-name='%e8%b7%af%e5%be%84 425' class='cls-6' d='M4.031-18.469h8.291v8.291H4.031Z' transform='translate(-7.434 15.066)'/%3e %3c/g%3e %3cg id='%e7%bb%84_673' data-name='%e7%bb%84 673' class='cls-8' transform='translate(3.702 -13.515)'%3e %3cpath id='%e8%b7%af%e5%be%84_427' data-name='%e8%b7%af%e5%be%84 427' class='cls-6' d='M-.273-17.986H8.073V-9.64H-.273Z' transform='translate(-3.152 14.56)'/%3e %3c/g%3e %3cg id='%e7%bb%84_674' data-name='%e7%bb%84 674' class='cls-9' transform='translate(2.723 -10.881)'%3e %3cpath id='%e8%b7%af%e5%be%84_429' data-name='%e8%b7%af%e5%be%84 429' class='cls-6' d='M-2.638-14.3H5.512v8.149H-2.638Z' transform='translate(-0.707 10.958)'/%3e %3c/g%3e %3cg id='%e7%bb%84_675' data-name='%e7%bb%84 675' class='cls-10' transform='translate(0 -15.948)'%3e %3cpath id='%e8%b7%af%e5%be%84_431' data-name='%e8%b7%af%e5%be%84 431' class='cls-11' d='M-5-20.948H14.5V-1.568H-5Z' transform='translate(1.25 17.207)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='10.001' height='10.001' viewBox='0 0 10.001 10.001'%3e%3cg transform='translate(1.001 1)'%3e%3cg transform='translate(0 -1)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(0 7.334)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(9 0.334) rotate(90)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(0.666 0.334) rotate(90)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(-1 -1)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(-1 7.333)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(7.333 -1)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(7.333 7.333)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='9.999' height='9.999' viewBox='0 0 9.999 9.999'%3e%3cg transform='translate(0 0)'%3e%3crect width='3.333' height='3.333' transform='translate(0 0)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(0 6.667)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(6.666 0)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(3.333 3.333)' fill='%23707070'/%3e%3crect width='3.333' height='3.333' transform='translate(6.666 6.667)' fill='%23ccc'/%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","import { Tooltip } from 'antd/es';\nimport React, { useState } from 'react';\n\n// 图片调整的刷子\nimport clearSmall from '@/assets/annotation/common/icon_clearSmall.svg';\n// import clearSmallA from '@//assets/annotation/common/icon_clearSmall_a.svg';\nimport { InitImgAttribute } from '@/store/imgAttribute/actionCreators';\nimport { store } from '@/index';\nimport clearSmallA from '@//assets/annotation/common/icon_clearSmall_a.svg';\nimport { useTranslation } from 'react-i18next';\n\nconst clearIcon = () => {\n  const [hoverDelete, setHoverDelete] = useState(false);\n\n  const clearAttribute = () => {\n    store.dispatch(InitImgAttribute());\n  };\n  const { t } = useTranslation();\n\n  return (\n    <Tooltip placement='bottom' title={t('RestoreImageAttributes')}>\n      <img\n        onMouseEnter={() => setHoverDelete(true)}\n        onMouseLeave={() => setHoverDelete(false)}\n        style={{ marginLeft: 6 }}\n        src={hoverDelete ? clearSmallA : clearSmall}\n        onClick={(e) => {\n          e.stopPropagation();\n          clearAttribute();\n        }}\n      />\n    </Tooltip>\n  );\n};\n\nexport default clearIcon;\n","import RadioList from '@/components/attributeList';\nimport CheckBoxList from '@/components/checkboxList';\nimport { CaretRightOutlined } from '@ant-design/icons';\nimport { Badge, Collapse, Tooltip } from 'antd/es';\nimport { cloneDeep } from 'lodash';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport clearSmall from '@/assets/annotation/common/icon_clearSmall.svg';\nimport clearSmallA from '@/assets/annotation/common/icon_clearSmall_a.svg';\nimport { TagOperation, TagUtils } from '@labelbee/lb-annotation';\nimport { connect } from 'react-redux';\nimport { AppState } from '@/store';\nimport { IInputList } from '@/types/main';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  imgIndex: number;\n  toolInstance: TagOperation;\n}\n\nconst { Panel } = Collapse;\n\nexport const expandIconFuc = ({ isActive }: any) => (\n  <CaretRightOutlined rotate={isActive ? 90 : 0} />\n);\n\nconst TagSidebar: React.FC<IProps> = ({ toolInstance, imgIndex }) => {\n  const [expandKeyList, setExpandKeyList] = useState<string[]>([]);\n\n  const sidebarRef = useRef<HTMLDivElement>(null);\n  const [, forceRender] = useState<number>(0);\n  const [hoverDeleteIndex, setHoverDeleteIndex] = useState(-1);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (toolInstance) {\n      // 用于配置的初始化\n      setExpandKeyList(toolInstance.config.inputList.map((v: IInputList) => v.value));\n\n      // 进行实时渲染\n      toolInstance.singleOn('render', () => {\n        forceRender((s) => s + 1);\n      });\n    }\n  }, [toolInstance]);\n\n  useEffect(() => {\n    if (toolInstance) {\n      // 该写法会不断的重复绑定，后续写法上可以更改（如果将 singleOn 改为 on 会有很大问题）\n      toolInstance.singleOn('expend', expendRender);\n\n      if (toolInstance.labelSelectedList.length === 1) {\n        let height = 0;\n        for (let i = 0; i < toolInstance.labelSelectedList[0]; i++) {\n          height += 46;\n          inputList[i] &&\n            expandKeyList[i] !== '' &&\n            inputList[i].subSelected.forEach((i: any) => {\n              height += 40;\n            });\n        }\n        if (sidebarRef.current) {\n          sidebarRef.current.children[0].scrollTop = height;\n        }\n      }\n    }\n  });\n\n  useEffect(() => {\n    // 翻页侧边栏跳到最上\n    if (sidebarRef.current) {\n      sidebarRef.current.children[0].scrollTop = 0;\n    }\n  }, [imgIndex]);\n\n  const expendRender = () => {\n    const index = toolInstance.labelSelectedList[0];\n    const value = inputList.filter((v: IInputList, i: number) => i === index)[0]?.value;\n    setExpendKeyList(index, value, true);\n  };\n\n  const setExpendKeyList = useCallback(\n    (index: number, value: string, expend?: boolean) => {\n      const newKeyList = cloneDeep(expandKeyList);\n      if (newKeyList[index] === '' || expend === true) {\n        newKeyList[index] = value;\n      } else {\n        newKeyList[index] = '';\n      }\n      setExpandKeyList(newKeyList);\n    },\n    [expandKeyList],\n  );\n\n  if (!toolInstance) return null;\n\n  const {\n    labelSelectedList,\n    config: { inputList },\n    currentTagResult,\n    setLabel,\n  } = toolInstance;\n\n  const selectedButton = (index: number) => {\n    if (labelSelectedList.length > 0 && labelSelectedList[0] === index) {\n      return <span className='keyDownIconActive'>{index + 1}</span>;\n    }\n    return <span className='keyDownIcon'>{index + 1}</span>;\n  };\n\n  // basicIndex 到底是那一层\n  const labelPanel = (labelInfoSet: IInputList[], basicIndex = -1) => {\n    if (!labelInfoSet) {\n      return null;\n    }\n\n    return labelInfoSet.map((info: IInputList, index: number) => {\n      if (info.subSelected) {\n        // 判断是否有数据\n        const isResult = TagUtils.judgeResultIsInInputList(\n          info.value,\n          currentTagResult?.result?.[info.value],\n          inputList,\n        );\n\n        return (\n          <Collapse\n            bordered={false}\n            expandIcon={expandIconFuc}\n            key={`collapse_${index}_${basicIndex + 1}`}\n            onChange={() => setExpendKeyList(index, info.value)}\n            activeKey={[expandKeyList[index]]}\n          >\n            <Panel\n              header={\n                <div\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                  }}\n                >\n                  <span>\n                    {info.key}\n                    <Tooltip placement='bottom' title={t('ClearThisOption')}>\n                      <img\n                        style={{ marginLeft: 5, cursor: 'pointer' }}\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          toolInstance.clearResult(true, info.value);\n                        }}\n                        src={hoverDeleteIndex === index || isResult ? clearSmallA : clearSmall}\n                        onMouseEnter={() => {\n                          setHoverDeleteIndex(index);\n                        }}\n                        onMouseLeave={() => {\n                          setHoverDeleteIndex(-1);\n                        }}\n                      />\n                    </Tooltip>\n                    {isResult && expandKeyList[index] === '' && <Badge color='#87d068' />}\n                  </span>\n\n                  {inputList?.length > 1 && selectedButton(index)}\n                </div>\n              }\n              key={info.value}\n            >\n              <div\n                className='level'\n                style={{\n                  backgroundColor:\n                    labelSelectedList.length > 0 && labelSelectedList[0] === index\n                      ? 'rgba(158, 158, 158, 0.18)'\n                      : '',\n                }}\n              >\n                {labelPanel(info.subSelected, index)}\n              </div>\n            </Panel>\n          </Collapse>\n        );\n      }\n      const key = inputList?.[basicIndex] ? inputList?.[basicIndex].value : 0;\n      const selectedAttribute =\n        currentTagResult?.result?.[key]?.split(';')?.indexOf(info.value) > -1 ? info.value : '';\n\n      if (inputList?.[basicIndex]?.isMulti === true) {\n        return (\n          <div className='singleBar' key={`${key}_${basicIndex}_${index}`}>\n            <CheckBoxList\n              attributeChanged={() => setLabel(basicIndex, index)}\n              selectedAttribute={[selectedAttribute]}\n              list={[{ value: info.value, label: info.key }]}\n              num={index + 1}\n            />\n          </div>\n        );\n      }\n      return (\n        <div className='singleBar' key={`${key}_${basicIndex}_${index}`}>\n          <RadioList\n            forbidColor\n            attributeChanged={() => setLabel(basicIndex, index)}\n            selectedAttribute={selectedAttribute}\n            list={[{ value: info.value, label: info.key }]}\n            num={index + 1}\n          />\n        </div>\n      );\n    });\n  };\n  const height = window.innerHeight - 61 - 80;\n\n  return (\n    <div className='tagOperationMenu' ref={sidebarRef}>\n      {inputList?.length === 0 ? (\n        <div style={{ padding: 20, textAlign: 'center' }}>{t('NoConfiguration')}</div>\n      ) : (\n        <div className='main' style={{ height }}>\n          {labelPanel(inputList)}\n        </div>\n      )}\n    </div>\n  );\n};\n\nfunction mapStateToProps(state: AppState) {\n  return { toolInstance: state.annotation.toolInstance, imgIndex: state.annotation.imgIndex };\n}\n\nexport default connect(mapStateToProps)(TagSidebar);\n","import { Checkbox } from 'antd/es';\nimport React from 'react';\n\ninterface IProps {\n  selectedAttribute: string[];\n  attributeChanged: () => void;\n  num?: any;\n  list?: any[];\n}\n\nconst CheckboxList = (props: IProps) => {\n  const checkboxRef = React.useRef<any>(null);\n  const list = props.list || [];\n  return (\n    <div className=\"sensebee-checkbox-group\">\n      <Checkbox.Group\n        name=\"checkboxgroup\"\n        // defaultValue={props.selectedAttribute}\n        value={props.selectedAttribute}\n        onChange={() => props.attributeChanged()}\n      >\n        {list.map((i: any, index: number) => (\n          // @ts-ignore\n          <Checkbox value={i.value} ref={checkboxRef} onFocus={() => {\n              checkboxRef?.current?.blur();\n            }}\n            key={index}\n          >\n            <span className=\"sensebee-checkbox-label\" title={i.label}>\n              {i.label}\n            </span>\n            <span className=\"sensebee-checkbox-num\">{props?.num ?? index}</span>\n          </Checkbox>\n        ))}\n      </Checkbox.Group>\n    </div>\n  );\n};\n\nexport default CheckboxList;\n","import React, { useEffect, useState, useRef, FocusEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { AppState } from '@/store';\nimport { cloneDeep } from 'lodash';\nimport { classnames } from '@/utils';\nimport { Input } from 'antd/es';\nimport { cKeyCode } from '@labelbee/lb-annotation';\nimport { PageForward } from '@/store/annotation/actionCreators';\nimport { ConfigUtils } from '@/utils/ConfigUtils';\nimport { IStepInfo } from '@/types/step';\nimport TextToolOperation from '@labelbee/lb-annotation/dist/types/core/toolOperation/TextToolOperation';\nimport { useTranslation } from 'react-i18next';\n\nconst EKeyCode = cKeyCode.default;\n\nconst syntheticEventStopPagination = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n  e.stopPropagation();\n  e.nativeEvent.stopPropagation();\n  e.nativeEvent.stopImmediatePropagation();\n};\n\ninterface ITextareaWithFooterProps {\n  textareaProps?: any;\n  footer?: any;\n}\n\nexport const TextareaWithFooter = (props: ITextareaWithFooterProps) => {\n  const { textareaProps, footer } = props;\n\n  return (\n    <>\n      <Input.TextArea\n        bordered={false}\n        rows={6}\n        onKeyDown={syntheticEventStopPagination}\n        onKeyUp={syntheticEventStopPagination}\n        {...textareaProps}\n      />\n      <div\n        className={classnames({\n          textAreaLength: true,\n        })}\n      >\n        {footer}\n      </div>\n    </>\n  );\n};\n\ninterface IProps {\n  dispatch: Function;\n  toolInstance: TextToolOperation;\n  imgIndex: number;\n  triggerEventAfterIndexChanged: boolean;\n  step: number;\n  stepList: IStepInfo[];\n  basicResultList: any[];\n}\n\ninterface IConfigListItem {\n  label: string;\n  key: string;\n  required: boolean;\n  default: string;\n  maxLength: number;\n}\n\nexport const SingleTextInput = (props: any) => {\n  const ref = useRef(null);\n  const [textAreaFocus, setTextAreaFocus] = useState(false);\n  const [invalid, setInvalid] = useState(false);\n  const { t } = useTranslation();\n\n  const { disabled, config, result, updateText, index, switchToNextTextarea, hasMultiple, onNext } =\n    props;\n  const { maxLength } = config;\n\n  const value = result ? result[config.key] : '';\n  const textLength = value?.length ?? 0;\n\n  const updateTextWithKey = (newVal: string) => {\n    if (updateText) {\n      updateText(newVal, config.key);\n      if (config.required) {\n        setInvalid(!newVal);\n      }\n    }\n  };\n\n  const tabToSwitchEnabled = hasMultiple && switchToNextTextarea;\n\n  const textareaProps = {\n    id: `textInput-${index}`,\n    ref,\n    disabled,\n    value,\n    maxLength,\n    autoSize: { minRows: 2, maxRows: 6 },\n    onChange: (e: FocusEvent<HTMLTextAreaElement>) => {\n      const value = e.target.value;\n      updateTextWithKey(value);\n    },\n    onFocus: () => {\n      setTextAreaFocus(true);\n    },\n    onBlur: (e: FocusEvent<HTMLTextAreaElement>) => {\n      setTextAreaFocus(false);\n      if (config.required) {\n        setInvalid(!e.target.value);\n      }\n    },\n    style: {\n      resize: 'none',\n      wordBreak: 'break-all',\n    },\n    onKeyDownCapture: (e: React.KeyboardEvent) => {\n      if (e.ctrlKey && e.keyCode === EKeyCode.Enter) {\n        if (onNext) {\n          onNext();\n        }\n        e.preventDefault();\n      }\n\n      if (e.keyCode === EKeyCode.Tab && tabToSwitchEnabled) {\n        e.preventDefault();\n        e.nativeEvent.stopImmediatePropagation();\n        switchToNextTextarea(index);\n      }\n\n      e.nativeEvent.stopPropagation();\n    },\n  };\n\n  const TextareaFooter = (\n    <div className='textAreaFooter'>\n      <div className='hotkeyTip'>\n        {tabToSwitchEnabled && <span>{`[${t('Switch')}]Tab`}</span>}\n        <span>{`[${t('TurnPage')}]Ctrl+Enter`}</span>\n      </div>\n      <div className='wordCount'>\n        <span className={textLength >= maxLength ? 'warning' : ''}>{textLength}</span>/\n        <span>{maxLength}</span>\n      </div>\n    </div>\n  );\n\n  useEffect(() => {\n    if (disabled) {\n      setTextAreaFocus(false);\n    }\n  }, [disabled]);\n\n  return (\n    <div className='textField'>\n      <div className='label'>\n        <span className={classnames({ required: config.required })}>{config.label}</span>\n        <i\n          className={classnames({ clearText: true, disabled: disabled })}\n          onClick={() => {\n            if (disabled) {\n              return;\n            }\n            updateTextWithKey('');\n          }}\n        />\n      </div>\n      <div\n        className={classnames({\n          disabled,\n          'textarea-outline': true,\n          'ant-input-focused': textAreaFocus,\n          textareaContainer: true,\n          focus: textAreaFocus,\n          invalid: invalid,\n        })}\n      >\n        <TextareaWithFooter footer={TextareaFooter} textareaProps={textareaProps} />\n      </div>\n    </div>\n  );\n};\n\nconst TextToolSidebar: React.FC<IProps> = ({\n  toolInstance,\n  imgIndex,\n  dispatch,\n  triggerEventAfterIndexChanged,\n  step,\n  stepList,\n  basicResultList,\n}) => {\n  const [configList, setConfigList] = useState<IConfigListItem[]>([]);\n  const [focusIndex, setFocusIndex] = useState(0);\n  const [, forceRender] = useState(0);\n\n  const switchToNextTextarea = (currentIndex: number) => {\n    const nextIndex = (currentIndex + 1) % configList.length;\n    textareaFocus(nextIndex);\n  };\n\n  const textareaFocus = (index: number) => {\n    setTimeout(() => {\n      const textarea = document.getElementById(`textInput-${index}`) as HTMLTextAreaElement;\n      if (textarea) {\n        setFocusIndex(index);\n        textarea.focus();\n        textarea.select();\n        textarea.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (toolInstance) {\n      setConfigList(cloneDeep(toolInstance.config.configList));\n      toolInstance.singleOn('valueUpdated', () => {\n        forceRender((s) => s + 1);\n      });\n    }\n  }, [toolInstance]);\n\n  const updateText = (v: string, k: string) => {\n    toolInstance.updateTextValue(k, v);\n  };\n\n  useEffect(() => {\n    if (imgIndex > -1 && triggerEventAfterIndexChanged) {\n      textareaFocus(0);\n    }\n  }, [imgIndex]);\n\n  const result = toolInstance.textList[0]?.value ?? {};\n\n  const onNext = () => {\n    dispatch(PageForward(true));\n  };\n\n  const stepConfig = ConfigUtils.getStepConfig(stepList, step);\n  const disabled = stepConfig.dataSourceStep > 0 && basicResultList.length === 0;\n\n  return (\n    <div className='textToolOperationMenu'>\n      {configList.map((i, index) => (\n        <SingleTextInput\n          config={i}\n          key={i.key}\n          index={index}\n          result={result}\n          updateText={updateText}\n          switchToNextTextarea={switchToNextTextarea}\n          hasMultiple={configList.length > 1}\n          focus={focusIndex === index}\n          onNext={onNext}\n          disabled={disabled}\n        />\n      ))}\n    </div>\n  );\n};\n\nfunction mapStateToProps(state: AppState) {\n  return {\n    toolInstance: state.annotation.toolInstance,\n    imgIndex: state.annotation.imgIndex,\n    step: state.annotation.step,\n    basicResultList: state.annotation.basicResultList,\n    stepList: state.annotation.stepList,\n    triggerEventAfterIndexChanged: state.annotation.triggerEventAfterIndexChanged,\n  };\n}\n\nexport default connect(mapStateToProps)(TextToolSidebar);\n","import React, { useEffect, useState } from 'react';\nimport { AppState } from '@/store';\nimport { connect } from 'react-redux';\nimport { ToolInstance } from '@/store/annotation/types';\nimport { Divider } from 'antd/es';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  toolInstance: ToolInstance;\n}\n\nconst HiddenTips = (props: IProps) => {\n  const { toolInstance } = props;\n  const [_, forceRender] = useState(0);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.singleOn('hiddenChange', () => {\n        forceRender((s) => s + 1);\n      });\n    }\n  }, [toolInstance]);\n\n  if (!toolInstance) {\n    return null;\n  }\n\n  const isHidden = toolInstance.isHidden;\n\n  if (isHidden) {\n    return (\n      <span>\n        {t('HideDrawnAnnotation')}\n        <Divider type='vertical' style={{ background: 'rgba(153, 153, 153, 1)', height: '16px' }} />\n      </span>\n    );\n  }\n\n  return null;\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    toolInstance: state.annotation?.toolInstance,\n  };\n};\n\nexport default connect(mapStateToProps)(HiddenTips);\n","import React, { useEffect, useState } from 'react';\nimport { AppState } from '@/store';\nimport { connect } from 'react-redux';\nimport { GraphToolInstance } from '@/store/annotation/types';\nimport { Divider } from 'antd/es';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  toolInstance: GraphToolInstance;\n}\n\nconst PageNumber = (props: IProps) => {\n  const { toolInstance } = props;\n  const [_, forceRender] = useState(0);\n  const { t } = useTranslation();\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.singleOn('updatePageNumber', () => {\n        forceRender((s) => s + 1);\n      });\n    }\n  }, [toolInstance]);\n\n  if (!toolInstance) {\n    return null;\n  }\n\n  const count = toolInstance?.currentPageResult?.length;\n  if (count >= 0) {\n    return (\n      <span>\n        {`${t('ItemsOfThisPage')}: ${count}`}\n        <Divider type='vertical' style={{ background: 'rgba(153, 153, 153, 1)', height: '16px' }} />\n      </span>\n    );\n  }\n\n  return null;\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    toolInstance: state.annotation?.toolInstance,\n  };\n};\n\nexport default connect(mapStateToProps)(PageNumber);\n","import React from 'react';\nimport adaptIcon from '@/assets/annotation/common/icon_adapt.svg';\nimport adaptIconBlack from '@/assets/annotation/common/icon_adapt_black.svg';\nimport {\n  MinusOutlined,\n  PlusOutlined,\n} from '@ant-design/icons';\nimport { AppState } from '@/store';\nimport { ToolInstance } from '@/store/annotation/types';\nimport { connect } from 'react-redux';\nimport ZoomLevel from './ZoomLevel';\nimport { footerCls } from '../index';\n\ninterface IProps {\n  toolInstance: ToolInstance\n  mode?: 'light' | 'dark'\n}\n\nconst ZoomController: React.FC<IProps> = ({ toolInstance, mode }) => {\n  const initialPosition = () => {\n    toolInstance.initImgPos();\n  };\n\n  let defaultIcon = adaptIcon;\n  \n  if (mode === 'light') {\n    defaultIcon = adaptIconBlack;\n  }\n\n  return <div>\n    <span className={`${footerCls}__zoomController`}>\n      <MinusOutlined\n        className={`${footerCls}__highlight`}\n        onClick={() => {\n          toolInstance.zoomChanged(false);\n        }}\n      />\n      <span className={`${footerCls}__zoomText`} onClick={initialPosition}>\n        <img src={defaultIcon} className='adaptIcon' />\n        <ZoomLevel />\n      </span>\n      <PlusOutlined\n        className={`${footerCls}__highlight`}\n        onClick={() => {\n          toolInstance.zoomChanged(true);\n        }}\n      />\n    </span>\n  </div>\n}\n\nconst mapStateToProps = (state: AppState) => ({\n  toolInstance: state.annotation.toolInstance,\n});\n\nexport default connect(mapStateToProps)(ZoomController);\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_adapt' transform='translate(-1021.825 -996)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_200' data-name='%e7%9f%a9%e5%bd%a2 200' class='cls-1' width='16' height='16' transform='translate(1021.825 996)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_191' data-name='%e7%9f%a9%e5%bd%a2 191' class='cls-2' width='8' height='7' transform='translate(1025.825 1000.167)'/%3e %3cpath id='%e8%81%94%e5%90%88_5' data-name='%e8%81%94%e5%90%88 5' class='cls-2' d='M3%2c4V1H0V0H4V4Z' transform='translate(1033.825 997)'/%3e %3cpath id='%e8%81%94%e5%90%88_7' data-name='%e8%81%94%e5%90%88 7' class='cls-2' d='M0%2c4V3H3V0H4V4Z' transform='translate(1025.825 1001.001) rotate(180)'/%3e %3cpath id='%e8%81%94%e5%90%88_8' data-name='%e8%81%94%e5%90%88 8' class='cls-2' d='M3%2c4V1H0V0H4V4Z' transform='translate(1025.825 1010.335) rotate(180)'/%3e %3cpath id='%e8%81%94%e5%90%88_6' data-name='%e8%81%94%e5%90%88 6' class='cls-2' d='M0%2c4V0H4V1H1V4Z' transform='translate(1037.824 1010.335) rotate(180)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12 4.16699H4V11.167H12V4.16699Z' fill='%23707070'/%3e%3cpath d='M15 5V2H12V1H16V5H15Z' fill='%23707070'/%3e%3cpath d='M4 1.00098V2.00098L1 2.00098L1 5.00098L0 5.00098L0 1.00098L4 1.00098Z' fill='%23707070'/%3e%3cpath d='M1 10.335L1 13.335H4V14.335H0L0 10.335H1Z' fill='%23707070'/%3e%3cpath d='M16 10.335V14.335H12V13.335H15V10.335H16Z' fill='%23707070'/%3e%3c/svg%3e\";\n  export default img;","import React, { useEffect } from 'react';\nimport { AppState } from '@/store';\nimport { ToolInstance } from '@/store/annotation/types';\nimport { connect } from 'react-redux';\nimport useSafeState from '@/hooks/useSafeSate';\n\ninterface IProps {\n  toolInstance: ToolInstance;\n}\n\nconst ZoomLevel: React.FC<IProps> = ({ toolInstance }) => {\n  const [, forceRender] = useSafeState<number>(0);\n  useEffect(() => {\n    if (toolInstance) {\n      // 这里会有内存泄漏的问题  useSafeState 用这个解决下\n      toolInstance.singleOn('renderZoom', () => {\n        forceRender((s) => s + 1);\n      });\n    }\n  }, [toolInstance]);\n\n  const zoom = toolInstance?.zoom ?? 1;\n\n  return (\n    <span className=\"zoomValue\">\n      {(zoom * 100).toFixed(1)}\n      %\n    </span>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  toolInstance: state.annotation.toolInstance,\n});\n\nexport default connect(mapStateToProps)(ZoomLevel);\n","import React, { Dispatch, SetStateAction } from 'react';\nimport useUnmountedRef from './useUnmountedRef';\n\nfunction useSafeState<S>(initialState: S | (() => S)): [S, Dispatch<SetStateAction<S>>];\n\nfunction useSafeState<S = undefined>(): [S | undefined, Dispatch<SetStateAction<S | undefined>>];\n\nfunction useSafeState(initialState?: any) {\n  const unmountedRef = useUnmountedRef();\n  const [state, setState] = React.useState(initialState);\n  const setCurrentState = React.useCallback((currentState) => {\n    /** 如果组件已经卸载则不再更新 state */\n    if (unmountedRef.current) return;\n    setState(currentState);\n  }, []);\n\n  return [state, setCurrentState] as const;\n}\n\nexport default useSafeState;\n","import { useRef, useEffect } from 'react';\n\nconst useUnmountedRef = () => {\n  const unmountedRef = useRef(false);\n  useEffect(() => {\n    unmountedRef.current = false;\n\n    return () => {\n      unmountedRef.current = true;\n    };\n  }, []);\n  return unmountedRef;\n};\n\nexport default useUnmountedRef;\n","import React from 'react';\nimport ToolHotKey from './ToolHotKey';\n\nconst FooterTips: React.FC = () => (\n  <div className=\"tipsBar\">\n    <ToolHotKey />\n  </div>\n);\n\nexport default FooterTips;\n","import { Popover } from 'antd/es';\nimport _ from 'lodash';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\n// import styles from './index.less';\n\nimport hotKeySvg from '@/assets/annotation/toolHotKeyIcon/icon_kj1.svg';\nimport hotKeyHoverSvg from '@/assets/annotation/toolHotKeyIcon/icon_kj_h.svg';\nimport { EToolName } from '@/data/enums/ToolType';\nimport rectToolShortcutTable from './rectToolShortCutTable';\nimport pointToolShortcutTable from './point';\nimport polygonToolShortcutTable from './polygon';\nimport lineToolShortCutTable from './line';\nimport tagToolSingleShortCutTable from './tag';\nimport textToolShortCutTable from './text';\nimport StepUtils from '@/utils/StepUtils';\nimport { footerCls } from '../../index';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  isSingleImg?: boolean;\n  style?: any;\n}\n\nconst shortCutTable: any = {\n  [EToolName.Rect]: rectToolShortcutTable,\n  [EToolName.Tag]: tagToolSingleShortCutTable,\n  [EToolName.Point]: pointToolShortcutTable,\n  [EToolName.Polygon]: polygonToolShortcutTable,\n  [EToolName.Line]: lineToolShortCutTable,\n  [EToolName.Text]: textToolShortCutTable,\n};\n\nexport interface IShortcuts {\n  name: string;\n  icon: any;\n  shortCut: string[];\n  noticeInfo?: string;\n}\nconst ToolHotKey: React.FC<IProps> = ({ isSingleImg, style }) => {\n  const [svgFlag, setFlag] = useState(false);\n  const { t } = useTranslation();\n\n  // @ts-ignore\n  const stepInfo = useSelector((state) =>\n    // @ts-ignore\n    StepUtils.getCurrentStepInfo(state?.annotation?.step, state.annotation?.stepList),\n  );\n\n  const renderImg = (info: Element | string) => {\n    if (typeof info === 'string') {\n      return <img width={16} height={16} src={info} style={iconStyle} />;\n    }\n    return info;\n  };\n  const shortCutStyle = {\n    width: 320,\n    display: 'flex',\n    justifyContent: 'space-between',\n    margin: '23px 21px',\n  };\n\n  const iconStyle = {\n    marginRight: 10,\n  };\n\n  const shortCutNameStyles: React.CSSProperties = {\n    display: 'block',\n    padding: '0 3px',\n    minWidth: '20px',\n    marginRight: '3px',\n    border: '1px solid rgba(204,204,204,1)',\n    verticalAlign: 'middle',\n    fontSize: '12px',\n    textAlign: 'center',\n  };\n\n  const setHotKey = (info: any, index: number) => (\n    <div style={shortCutStyle} key={index}>\n      <span style={{ display: 'flex', alignItems: 'center' }}>\n        {renderImg(info.icon)}\n        {t(info.name)}\n      </span>\n      <span style={{ display: 'flex', alignItems: 'center' }}>\n        {info.noticeInfo && (\n          <span style={{ marginRight: '5px', color: '#CCCCCC' }}>{t(info.noticeInfo)}</span>\n        )}\n        {setSVG(info.shortCut, info.shortCutUseHtml, info.linkSymbol)}\n      </span>\n    </div>\n  );\n\n  const setSVG = (list: any[], useDangerInnerHtml = false, linkSymbol?: string) => {\n    const listDom = list.map((item, index) => {\n      if (useDangerInnerHtml) {\n        return (\n          <span key={index} style={{ display: 'flex' }}>\n            <span style={shortCutNameStyles} dangerouslySetInnerHTML={{ __html: item }} />\n          </span>\n        );\n      }\n\n      if (index < list.length - 1) {\n        if (typeof item === 'number') {\n          return (\n            <span key={index} style={{ display: 'flex' }}>\n              <span style={shortCutNameStyles}>{item}</span>\n              <span style={{ marginRight: '3px' }}>~</span>\n            </span>\n          );\n        }\n\n        if (item?.startsWith('data')) {\n          return (\n            <span key={index} style={{ display: 'flex' }}>\n              <span className='shortCutButton' style={{ marginRight: '3px' }}>\n                <img width={16} height={23} src={item} />\n              </span>\n              <span style={{ marginRight: '3px' }}>+</span>\n            </span>\n          );\n        }\n        return (\n          <span key={index} style={{ display: 'flex' }}>\n            <span style={shortCutNameStyles}>{item}</span>\n            <span style={{ marginRight: '3px' }}>{linkSymbol || '+'}</span>\n          </span>\n        );\n      }\n      if (typeof item === 'number') {\n        return (\n          <span key={index} style={{ display: 'flex' }}>\n            <span style={shortCutNameStyles}>{item}</span>\n          </span>\n        );\n      }\n      if (item?.startsWith('data')) {\n        return (\n          <span className='shortCutButton' key={index} style={{ marginRight: '3px' }}>\n            <img width={16} height={23} src={item} />\n          </span>\n        );\n      }\n      return (\n        <span style={shortCutNameStyles} key={index}>\n          {item}\n        </span>\n      );\n    });\n    return (\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'space-around',\n          alignItems: 'center',\n        }}\n      >\n        {listDom}\n      </div>\n    );\n  };\n\n  const content = (\n    <div className={`${footerCls}__hotkey-content`}>\n      {stepInfo &&\n        shortCutTable[stepInfo?.tool]?.map((info: any, index: number) => setHotKey(info, index))}\n    </div>\n  );\n  const containerStyle = style || { width: 600 };\n\n  // 不存在对应的工具则不展示的快捷键\n  if (stepInfo && !shortCutTable[stepInfo?.tool]) {\n    return null;\n  }\n\n  return (\n    // @ts-ignore\n    <Popover\n      placement='topLeft'\n      content={content}\n      // @ts-ignore\n      onMouseMove={() => setFlag(true)}\n      onMouseLeave={() => {\n        setFlag(false);\n      }}\n      overlayClassName='tool-hotkeys-popover'\n      // visible={svgFlag}\n    >\n      <div\n        className='shortCutTitle'\n        onMouseMove={() => setFlag(true)}\n        onMouseLeave={() => setFlag(false)}\n        style={containerStyle}\n      >\n        <a className='svg'>\n          <img\n            src={svgFlag ? hotKeyHoverSvg : hotKeySvg}\n            width={15}\n            height={13}\n            style={{ marginRight: '5px' }}\n          />\n          {t('Hotkeys')}\n        </a>\n      </div>\n    </Popover>\n  );\n};\n\nexport default ToolHotKey;\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3crect width='16' height='16' fill='none'/%3e%3cg transform='translate(1 2)'%3e%3cpath d='M2%2c12a2.071%2c2.071%2c0%2c0%2c1-1.412-.54A1.791%2c1.791%2c0%2c0%2c1%2c0%2c10.151v-8.3A1.935%2c1.935%2c0%2c0%2c1%2c2.006%2c0h9.988A1.935%2c1.935%2c0%2c0%2c1%2c14%2c1.849v8.3a1.77%2c1.77%2c0%2c0%2c1-.588%2c1.308A2.075%2c2.075%2c0%2c0%2c1%2c12%2c12H2Zm1-3.692a.926.926%2c0%2c1%2c0%2c0%2c1.846H11a.926.926%2c0%2c1%2c0%2c0-1.846Zm7.273-3.692C10.2%2c4.616%2c10%2c4.67%2c10%2c4.8V6.221c0%2c.078%2c0%2c.241.268.241H11.8c.2%2c0%2c.2-.144.2-.213V4.828a.226.226%2c0%2c0%2c0-.236-.212Zm-4%2c0C6.2%2c4.616%2c6%2c4.67%2c6%2c4.8V6.221c0%2c.078%2c0%2c.241.268.241H7.8c.2%2c0%2c.2-.144.2-.213V4.828a.226.226%2c0%2c0%2c0-.236-.212Zm-4%2c0C2.2%2c4.616%2c2%2c4.67%2c2%2c4.8V6.221c0%2c.078%2c0%2c.241.268.241H3.8c.2%2c0%2c.2-.144.2-.213V4.828a.226.226%2c0%2c0%2c0-.236-.212Zm8-2.77c-.065%2c0-.268.054-.268.18V3.451c0%2c.078%2c0%2c.241.268.241H11.8c.2%2c0%2c.2-.143.2-.212V2.059a.226.226%2c0%2c0%2c0-.236-.213Zm-4%2c0C6.2%2c1.846%2c6%2c1.9%2c6%2c2.026V3.451c0%2c.078%2c0%2c.241.268.241H7.8c.2%2c0%2c.2-.143.2-.212V2.059a.226.226%2c0%2c0%2c0-.236-.213Zm-4%2c0C2.2%2c1.846%2c2%2c1.9%2c2%2c2.026V3.451c0%2c.078%2c0%2c.241.268.241H3.8c.2%2c0%2c.2-.143.2-.212V2.059a.226.226%2c0%2c0%2c0-.236-.213Z' fill='white'/%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='17' height='15' viewBox='0 0 17 15'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666fff%3b stroke-miterlimit: 10%3b %7d .cls-2%2c .cls-3 %7b stroke: none%3b %7d .cls-3 %7b fill: white%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_kj_h' transform='translate(1 1)'%3e %3cg id='%e5%9b%be%e6%a0%87_%e8%ae%be%e7%bd%ae_%e5%bf%ab%e6%8d%b7%e9%94%ae'%3e %3cg id='%e5%bd%a2%e7%8a%b6' class='cls-1'%3e %3cpath class='cls-2' d='M 2.142650127410889 13.49960994720459 L 2.14231014251709 13.49960994720459 L 2.141970157623291 13.49960994720459 C 1.443660259246826 13.49962043762207 0.7852402329444885 13.24412059783936 0.2880001962184906 12.78017997741699 C -0.2126297950744629 12.31418991088867 -0.4999997913837433 11.66413974761963 -0.4999997913837433 10.99709987640381 L -0.4999997913837433 2.003400325775146 C -0.4999997913837433 0.6230202317237854 0.6884301900863647 -0.4999997913837433 2.149200201034546 -0.4999997913837433 L 12.85109996795654 -0.4999997913837433 C 14.31187057495117 -0.4999997913837433 15.50030040740967 0.6230202317237854 15.50030040740967 2.003400325775146 L 15.50030040740967 10.99709987640381 C 15.49915027618408 11.6742000579834 15.21883010864258 12.30697059631348 14.71096038818359 12.77968978881836 C 14.2135705947876 13.24379062652588 13.55419063568115 13.49960041046143 12.85474014282227 13.49960041046143 L 2.149200201034546 13.49960041046143 L 2.142650127410889 13.49960994720459 Z M 3.208500146865845 9.5 C 2.89663028717041 9.5 2.642900228500366 9.724249839782715 2.642900228500366 9.999899864196777 C 2.642900228500366 10.27554988861084 2.89663028717041 10.49980068206787 3.208500146865845 10.49980068206787 L 11.79090023040771 10.49980068206787 C 12.10327053070068 10.49980068206787 12.35739994049072 10.27554988861084 12.35739994049072 9.999899864196777 C 12.35739994049072 9.724249839782715 12.10327053070068 9.5 11.79090023040771 9.5 L 3.208500146865845 9.5 Z M 11.21450042724609 6.500200271606445 L 12.35739994049072 6.500200271606445 L 12.35739994049072 5.500400066375732 L 11.21450042724609 5.500400066375732 L 11.21450042724609 6.500200271606445 Z M 6.928699970245361 6.500200271606445 L 8.071599960327148 6.500200271606445 L 8.071599960327148 5.500400066375732 L 6.928699970245361 5.500400066375732 L 6.928699970245361 6.500200271606445 Z M 2.642900228500366 6.500200271606445 L 3.785800218582153 6.500200271606445 L 3.785800218582153 5.500400066375732 L 2.642900228500366 5.500400066375732 L 2.642900228500366 6.500200271606445 Z M 11.21450042724609 3.499600172042847 L 12.35739994049072 3.499600172042847 L 12.35739994049072 2.499800205230713 L 11.21450042724609 2.499800205230713 L 11.21450042724609 3.499600172042847 Z M 6.928699970245361 3.499600172042847 L 8.071599960327148 3.499600172042847 L 8.071599960327148 2.499800205230713 L 6.928699970245361 2.499800205230713 L 6.928699970245361 3.499600172042847 Z M 2.642900228500366 3.499600172042847 L 3.785800218582153 3.499600172042847 L 3.785800218582153 2.499800205230713 L 2.642900228500366 2.499800205230713 L 2.642900228500366 3.499600172042847 Z'/%3e %3cpath class='cls-3' d='M 2.141960144042969 12.99960994720459 L 2.149200201034546 12.99960041046143 L 12.85474014282227 12.99960041046143 C 13.4271297454834 12.99960041046143 13.96537017822266 12.79152011871338 14.37030029296875 12.41370010375977 C 14.77565002441406 12.03639984130859 14.99939060211182 11.53330039978027 15.00030040740967 10.99709987640381 L 15.00030040740967 2.003400325775146 C 15.00030040740967 0.8987202048301697 14.03617000579834 2.188110386214248e-07 12.85109996795654 2.188110386214248e-07 L 2.149200201034546 2.188110386214248e-07 C 0.9641302227973938 2.188110386214248e-07 2.037048290048915e-07 0.8987202048301697 2.037048290048915e-07 2.003400325775146 L 2.037048290048915e-07 10.99709987640381 C 2.037048290048915e-07 11.52581024169922 0.2293002009391785 12.04246044158936 0.6291002035140991 12.41460037231445 C 1.033440232276917 12.79186058044434 1.570720195770264 12.99962043762207 2.141960144042969 12.99960994720459 M 3.208500146865845 9 L 11.79090023040771 9 C 12.3789701461792 9 12.85739994049072 9.448550224304199 12.85739994049072 9.999899864196777 C 12.85739994049072 10.55125045776367 12.3789701461792 10.99980068206787 11.79090023040771 10.99980068206787 L 3.208500146865845 10.99980068206787 C 2.620930194854736 10.99980068206787 2.142900228500366 10.55125045776367 2.142900228500366 9.999899864196777 C 2.142900228500366 9.448550224304199 2.620930194854736 9 3.208500146865845 9 M 11.00160026550293 5.000400066375732 L 12.60449981689453 5.000400066375732 C 12.79372024536133 5.000400066375732 12.85739994049072 5.157999992370605 12.85739994049072 5.229900360107422 L 12.85739994049072 6.769800186157227 C 12.85739994049072 6.844580173492432 12.85739994049072 7.000200271606445 12.64050006866455 7.000200271606445 L 11.00160026550293 7.000200271606445 C 10.71450042724609 7.000200271606445 10.71450042724609 6.823920249938965 10.71450042724609 6.739200115203857 L 10.71450042724609 5.19480037689209 C 10.71450042724609 5.058890342712402 10.9323902130127 5.000400066375732 11.00160026550293 5.000400066375732 M 6.715800285339355 5.000400066375732 L 8.318699836730957 5.000400066375732 C 8.507920265197754 5.000400066375732 8.571599960327148 5.157999992370605 8.571599960327148 5.229900360107422 L 8.571599960327148 6.769800186157227 C 8.571599960327148 6.844580173492432 8.571599960327148 7.000200271606445 8.354700088500977 7.000200271606445 L 6.715800285339355 7.000200271606445 C 6.428699970245361 7.000200271606445 6.428699970245361 6.823920249938965 6.428699970245361 6.739200115203857 L 6.428699970245361 5.19480037689209 C 6.428699970245361 5.058890342712402 6.646590232849121 5.000400066375732 6.715800285339355 5.000400066375732 M 2.430000305175781 5.000400066375732 L 4.032900333404541 5.000400066375732 C 4.22212028503418 5.000400066375732 4.285799980163574 5.157999992370605 4.285799980163574 5.229900360107422 L 4.285799980163574 6.769800186157227 C 4.285799980163574 6.844580173492432 4.285799980163574 7.000200271606445 4.068900108337402 7.000200271606445 L 2.430000305175781 7.000200271606445 C 2.142900228500366 7.000200271606445 2.142900228500366 6.823920249938965 2.142900228500366 6.739200115203857 L 2.142900228500366 5.19480037689209 C 2.142900228500366 5.058890342712402 2.360790252685547 5.000400066375732 2.430000305175781 5.000400066375732 M 11.00160026550293 1.999800205230713 L 12.60449981689453 1.999800205230713 C 12.79372024536133 1.999800205230713 12.85739994049072 2.158020257949829 12.85739994049072 2.230200290679932 L 12.85739994049072 3.770100116729736 C 12.85739994049072 3.844590187072754 12.85739994049072 3.999600172042847 12.64050006866455 3.999600172042847 L 11.00160026550293 3.999600172042847 C 10.71450042724609 3.999600172042847 10.71450042724609 3.823320150375366 10.71450042724609 3.738600254058838 L 10.71450042724609 2.1951003074646 C 10.71450042724609 2.058560132980347 10.9323902130127 1.999800205230713 11.00160026550293 1.999800205230713 M 6.715800285339355 1.999800205230713 L 8.318699836730957 1.999800205230713 C 8.507920265197754 1.999800205230713 8.571599960327148 2.158020257949829 8.571599960327148 2.230200290679932 L 8.571599960327148 3.770100116729736 C 8.571599960327148 3.844590187072754 8.571599960327148 3.999600172042847 8.354700088500977 3.999600172042847 L 6.715800285339355 3.999600172042847 C 6.428699970245361 3.999600172042847 6.428699970245361 3.823320150375366 6.428699970245361 3.738600254058838 L 6.428699970245361 2.1951003074646 C 6.428699970245361 2.058560132980347 6.646590232849121 1.999800205230713 6.715800285339355 1.999800205230713 M 2.430000305175781 1.999800205230713 L 4.032900333404541 1.999800205230713 C 4.22212028503418 1.999800205230713 4.285799980163574 2.158020257949829 4.285799980163574 2.230200290679932 L 4.285799980163574 3.770100116729736 C 4.285799980163574 3.844590187072754 4.285799980163574 3.999600172042847 4.068900108337402 3.999600172042847 L 2.430000305175781 3.999600172042847 C 2.142900228500366 3.999600172042847 2.142900228500366 3.823320150375366 2.142900228500366 3.738600254058838 L 2.142900228500366 2.1951003074646 C 2.142900228500366 2.058560132980347 2.360790252685547 1.999800205230713 2.430000305175781 1.999800205230713 M 2.143340110778809 13.99960994720459 L 2.142660140991211 13.99960994720459 L 2.141980171203613 13.99960994720459 C 1.316610217094421 13.99962043762207 0.537050187587738 13.69639015197754 -0.05309979617595673 13.14577007293701 C -0.654549777507782 12.58592987060547 -0.9999998211860657 11.80247020721436 -0.9999998211860657 10.99709987640381 L -0.9999998211860657 2.003400325775146 C -0.9999998211860657 0.3473202288150787 0.4127302169799805 -0.9999997615814209 2.149200201034546 -0.9999997615814209 L 12.85109996795654 -0.9999997615814209 C 14.58757019042969 -0.9999997615814209 16.00029945373535 0.3473202288150787 16.00029945373535 2.003400325775146 L 16.00029945373535 10.99709987640381 C 15.99890995025635 11.81510066986084 15.66200065612793 12.57754039764404 15.0516300201416 13.14568042755127 C 14.46177005767822 13.6960506439209 13.68125057220459 13.99960041046143 12.85474014282227 13.99960041046143 L 2.149200201034546 13.99960041046143 L 2.143340110778809 13.99960994720459 Z'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import DrawRectSvg from '@/assets/annotation/toolHotKeyIcon/icon_frame_kj.svg';\nimport DrawInvalidRectSvg from '@/assets/annotation/toolHotKeyIcon/icon_frameNull_kj.svg';\nimport MouseLeftSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg';\nimport SelectedRectSvg from '@/assets/annotation/toolHotKeyIcon/icon_frameActive_kj.svg';\nimport MouseRightSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\nimport ChangeValidSvg from '@/assets/annotation/toolHotKeyIcon/icon_frameChange_kj.svg';\nimport DeleteRectSvg from '@/assets/annotation/toolHotKeyIcon/icon_del_kj.svg';\nimport {\n  backward,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  restore,\n  revoke,\n  rotate,\n  scale,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n} from '../common';\n\nexport const drawRect = {\n  name: 'AnnotateRect',\n  icon: DrawRectSvg,\n  shortCut: [MouseLeftSvg, MouseLeftSvg],\n};\n\nexport const drawInvalidRect = {\n  name: 'AnnotateInvalidRect',\n  icon: DrawInvalidRectSvg,\n  shortCut: [MouseLeftSvg, 'Ctrl', MouseLeftSvg],\n};\n\nexport const selectRect = {\n  name: 'SelectRect',\n  icon: SelectedRectSvg,\n  shortCut: [MouseRightSvg],\n  noticeInfo: 'RightClick',\n};\n\nexport const changeValid = {\n  name: 'ToggleRectEffectiveness',\n  icon: ChangeValidSvg,\n  shortCut: ['F'],\n};\n\nexport const changeValidByClick = {\n  name: 'ToggleRectEffectiveness',\n  icon: ChangeValidSvg,\n  shortCut: ['Ctrl', MouseLeftSvg],\n};\n\nexport const deleteRect = {\n  name: 'DeleteRect',\n  icon: DeleteRectSvg,\n  shortCut: [MouseRightSvg],\n  noticeInfo: 'SelectAndDoubleClick',\n};\n\nconst rectToolShortcutTable = [\n  drawRect,\n  drawInvalidRect,\n  selectRect,\n  changeValid,\n  changeValidByClick,\n  deleteRect,\n  revoke,\n  restore,\n  rotate,\n  scale,\n  // fullScreen,\n  backward,\n  forward,\n  // setValid,\n  // copyBackwardResult,\n  dargWithRightClick,\n  // dargWithLeftClick,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n];\nexport default rectToolShortcutTable;\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_27' data-name='%e8%b7%af%e5%be%84 27' class='cls-1' d='M3.5-16v.874h7V-16H14v3.5h-.875v7H14V-2H10.5v-.875h-7V-2H0V-5.5H.875v-7H0V-16Zm0%2c2.624v.876H2.625v7H3.5v.875h7V-5.5h.875v-7H10.5v-.875Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_26' data-name='%e8%b7%af%e5%be%84 26' class='cls-2' d='M-1747%2c836H-67V-109H-1747Z' transform='translate(1747 109)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frame_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cg id='%e7%bb%84_25' data-name='%e7%bb%84 25' class='cls-3' transform='translate(0 -16)'%3e %3cg id='%e7%bb%84_24' data-name='%e7%bb%84 24' class='cls-4' transform='translate(-1528.625 -81.375)'%3e %3cpath id='%e8%b7%af%e5%be%84_25' data-name='%e8%b7%af%e5%be%84 25' class='cls-5' d='M-5-21H17.75V1.75H-5Z' transform='translate(1529.25 98)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2%2c .cls-6 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d .cls-6 %7b stroke: %23666%3b %7d .cls-7 %7b stroke: none%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_27' data-name='%e8%b7%af%e5%be%84 27' class='cls-1' d='M3.5-16v.874h7V-16H14v3.5h-.875v7H14V-2H10.5v-.875h-7V-2H0V-5.5H.875v-7H0V-16Zm0%2c2.624v.876H2.625v7H3.5v.875h7V-5.5h.875v-7H10.5v-.875Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_26' data-name='%e8%b7%af%e5%be%84 26' class='cls-2' d='M-1747%2c836H-67V-109H-1747Z' transform='translate(1747 109)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frameNull_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_131' data-name='%e7%9f%a9%e5%bd%a2 131' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3cg id='%e7%bb%84_25' data-name='%e7%bb%84 25' class='cls-3' transform='translate(0 -16)'%3e %3cg id='%e7%bb%84_24' data-name='%e7%bb%84 24' class='cls-4' transform='translate(-1528.625 -81.375)'%3e %3cpath id='%e8%b7%af%e5%be%84_25' data-name='%e8%b7%af%e5%be%84 25' class='cls-5' d='M-5-21H17.75V1.75H-5Z' transform='translate(1529.25 98)'/%3e %3c/g%3e %3c/g%3e %3cg id='%e7%9f%a9%e5%bd%a2_92' data-name='%e7%9f%a9%e5%bd%a2 92' class='cls-6' transform='translate(1.699 -12.97) rotate(-45)'%3e %3crect class='cls-7' width='1.6' height='13'/%3e %3crect class='cls-2' x='0.5' y='0.5' width='0.6' height='12'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666%3b %7d .cls-2 %7b fill: none%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_frameActive_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_2' data-name='%e5%87%8f%e5%8e%bb 2' class='cls-1' d='M1768.5%2c9503H1765v-3.5h.875v-7H1765V9489h3.5v.873l7%2c0V9489h3.5v3.5h-.875v4.5h-1.75v-4.5h-.873v-.873l-7%2c0v.875h-.873v7h.873v.873h4.5v1.751h-4.5V9503Z' transform='translate(-1765 -9505)'/%3e %3cpath id='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd_4' data-name='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd 4' class='cls-1' d='M2.628%2c0%2c5.256%2c5.256%2c2.632%2c4.129%2c0%2c5.256Z' transform='translate(7.667 -6.406) rotate(-30)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_399' data-name='%e8%b7%af%e5%be%84 399' class='cls-2' d='M2.139-17.789H7.33L8-17.12H3.813l1.172%2c1.34h-1ZM7.5-18.627H2.306l-.67-.669H5.823l-1.172-1.34h1L7.5-18.627Z' transform='translate(-1.636 20.636)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frameChange_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_2' data-name='%e5%87%8f%e5%8e%bb 2' class='cls-1' d='M1768.5%2c9503H1765v-3.5h.875v-7H1765V9489h3.5v.873l7%2c0V9489h3.5v3.5h-.875v4.933l-1.75.025V9492.5h-.873v-.873l-7%2c0v.875h-.873v7h.873v.873h3.841l1.391%2c1.751H1768.5V9503Z' transform='translate(-1765 -9505)'/%3e %3cg id='%e7%bb%84_647' data-name='%e7%bb%84 647' transform='translate(7 14)'%3e %3cg id='%e7%bb%84_646' data-name='%e7%bb%84 646' class='cls-3' transform='translate(1.636 -20.636)'%3e %3cpath id='%e8%b7%af%e5%be%84_398' data-name='%e8%b7%af%e5%be%84 398' class='cls-1' d='M-3.364-25.636H6.07v7.927H-3.364Z' transform='translate(1.829 24.101)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_cencel_kj' transform='translate(0.494)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='15.963' transform='translate(-0.494)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.057%2c3.54C8.654%2c7.1%2c4.678%2c7.648.279%2c5.143A.544.544%2c0%2c0%2c1%2c0%2c4.662a.578.578%2c0%2c0%2c1%2c.283-.493A.548.548%2c0%2c0%2c1%2c.84%2c4.163C4.822%2c6.431%2c8.263%2c5.956%2c11.318%2c2.722L8.918.065%2c13.99%2c0l-.072%2c5.6Z' transform='translate(10.937 16) rotate(-138)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_reform_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='15.963'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.057%2c3.148C8.654-.415%2c4.678-.96.279%2c1.546A.544.544%2c0%2c0%2c0%2c0%2c2.027a.578.578%2c0%2c0%2c0%2c.283.493.548.548%2c0%2c0%2c0%2c.557.005C4.822.257%2c8.263.733%2c11.318%2c3.967l-2.4%2c2.657%2c5.072.065-.072-5.6Z' transform='translate(0.094 11.029) rotate(-42)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_274' data-name='%e8%b7%af%e5%be%84 274' class='cls-1' d='M1.732-140.268a5.914%2c5.914%2c0%2c0%2c1%2c8.364%2c0%2c5.916%2c5.916%2c0%2c0%2c1%2c.581%2c7.69L14-129.255%2c12.745-128l-3.323-3.323a5.916%2c5.916%2c0%2c0%2c1-7.69-.581A5.914%2c5.914%2c0%2c0%2c1%2c1.732-140.268Zm7.528.836a4.732%2c4.732%2c0%2c0%2c0-6.691%2c0%2c4.732%2c4.732%2c0%2c0%2c0%2c0%2c6.691%2c4.732%2c4.732%2c0%2c0%2c0%2c6.691%2c0A4.732%2c4.732%2c0%2c0%2c0%2c9.26-139.431Z' transform='translate(0 142)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_273' data-name='%e8%b7%af%e5%be%84 273' class='cls-2' d='M-29-160.285H-9.285V-180H-29Z' transform='translate(29 180)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_loupe_kj' transform='translate(4 144)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_110' data-name='%e7%9f%a9%e5%bd%a2 110' class='cls-2' width='16' height='16' transform='translate(-4 -144)'/%3e %3cg id='%e7%bb%84_470' data-name='%e7%bb%84 470' class='cls-3' transform='translate(-3 -143)'%3e %3cg id='%e7%bb%84_469' data-name='%e7%bb%84 469' class='cls-4' transform='translate(-2.859 -3.746)'%3e %3cpath id='%e8%b7%af%e5%be%84_272' data-name='%e8%b7%af%e5%be%84 272' class='cls-5' d='M-5-147H9.986v14.986H-5Z' transform='translate(7.366 150.253)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_mouse_middle_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5%2c .cls-7 %7b fill: %23ff5770%3b %7d .cls-5 %7b opacity: 0%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.983v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.969-9.7H5.865V0A5.69%2c5.69%2c0%2c0%2c1%2c9.394%2c1.267%2c3.813%2c3.813%2c0%2c0%2c1%2c10.849%2c4.19V5.98Zm-5.864%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.455%2c1.267%2c5.692%2c5.692%2c0%2c0%2c1%2c4.985%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(-0.698 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3cpath id='%e8%b7%af%e5%be%84-3' data-name='%e8%b7%af%e5%be%84' class='cls-7' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_321' data-name='%e8%b7%af%e5%be%84 321' class='cls-1' d='M0%2c0H16V-16H0Z'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_323' data-name='%e8%b7%af%e5%be%84 323' class='cls-1' d='M5.344-14.625H1.875a.5.5%2c0%2c0%2c0-.5.5v3.5a.251.251%2c0%2c0%2c0%2c.25.25h.75a.251.251%2c0%2c0%2c0%2c.25-.25v-2.75H5.344a.251.251%2c0%2c0%2c0%2c.25-.25v-.75A.251.251%2c0%2c0%2c0%2c5.344-14.625Zm9.031%2c9h-.75a.251.251%2c0%2c0%2c0-.25.25v2.75H10.656a.251.251%2c0%2c0%2c0-.25.25v.75a.251.251%2c0%2c0%2c0%2c.25.25h3.469a.5.5%2c0%2c0%2c0%2c.5-.5v-3.5A.251.251%2c0%2c0%2c0%2c14.375-5.625Zm-9.031%2c3H2.625v-2.75a.251.251%2c0%2c0%2c0-.25-.25h-.75a.251.251%2c0%2c0%2c0-.25.25v3.5a.5.5%2c0%2c0%2c0%2c.5.5H5.344a.251.251%2c0%2c0%2c0%2c.25-.25v-.75A.251.251%2c0%2c0%2c0%2c5.344-2.625Zm8.781-12H10.656a.251.251%2c0%2c0%2c0-.25.25v.75a.251.251%2c0%2c0%2c0%2c.25.25h2.719v2.75a.251.251%2c0%2c0%2c0%2c.25.25h.75a.251.251%2c0%2c0%2c0%2c.25-.25v-3.5A.5.5%2c0%2c0%2c0%2c14.125-14.625Z'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_fullView_kj' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_567' data-name='%e7%bb%84 567' class='cls-2'%3e %3cpath id='%e8%b7%af%e5%be%84_320' data-name='%e8%b7%af%e5%be%84 320' class='cls-3' d='M-5-21H21V5H-5Z'/%3e %3c/g%3e %3cg id='%e7%bb%84_568' data-name='%e7%bb%84 568' class='cls-4'%3e %3cpath id='%e8%b7%af%e5%be%84_322' data-name='%e8%b7%af%e5%be%84 322' class='cls-5' d='M-3.625-19.625h23.25V3.625H-3.625Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_reload_kj' transform='translate(-1 -1.432)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16' transform='translate(1 1.432)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.917%2c1.955l-.9.735A6.615%2c6.615%2c0%2c0%2c0%2c6.72%2c0%2c6.86%2c6.86%2c0%2c0%2c0%2c0%2c6.992%2c6.864%2c6.864%2c0%2c0%2c0%2c6.72%2c14a6.745%2c6.745%2c0%2c0%2c0%2c6.315-4.6.135.135%2c0%2c0%2c0-.078-.172L12.05%2c8.9a.127.127%2c0%2c0%2c0-.162.08c-.029.083-.061.167-.094.248a5.722%2c5.722%2c0%2c0%2c1-1.18%2c1.823%2c5.511%2c5.511%2c0%2c0%2c1-1.749%2c1.23%2c5.32%2c5.32%2c0%2c0%2c1-4.283%2c0%2c5.459%2c5.459%2c0%2c0%2c1-1.749-1.23A5.722%2c5.722%2c0%2c0%2c1%2c1.653%2c9.23a5.979%2c5.979%2c0%2c0%2c1%2c0-4.463%2c5.722%2c5.722%2c0%2c0%2c1%2c1.18-1.823%2c5.511%2c5.511%2c0%2c0%2c1%2c1.749-1.23%2c5.32%2c5.32%2c0%2c0%2c1%2c4.283%2c0%2c5.459%2c5.459%2c0%2c0%2c1%2c1.749%2c1.23%2c5.678%2c5.678%2c0%2c0%2c1%2c.445.523L10.1%2c4.25a.135.135%2c0%2c0%2c0%2c.048.235l2.81.717a.13.13%2c0%2c0%2c0%2c.158-.128l.013-3.015a.129.129%2c0%2c0%2c0-.208-.1Z' transform='translate(2 2.432)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3csvg xmlns='http://www.w3.org/2000/svg' class='icon' viewBox='0 0 1024 1024'%3e %3cpath d='M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_last_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M.163%2c6.632%2c7.735.1a.428.428%2c0%2c0%2c1%2c.7.368V13.53a.428.428%2c0%2c0%2c1-.7.368L.163%2c7.368A.5.5%2c0%2c0%2c1%2c.163%2c6.632Z' transform='translate(4 1)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_next_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M8.268%2c6.632.7.1A.428.428%2c0%2c0%2c0%2c0%2c.47V13.53a.428.428%2c0%2c0%2c0%2c.7.368l7.572-6.53A.5.5%2c0%2c0%2c0%2c8.268%2c6.632Z' transform='translate(4 1)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_277' data-name='%e8%b7%af%e5%be%84 277' class='cls-1' d='M6.857-116.857h-3.3v1.4L0-118l3.556-2.54v1.4h3.3v-3.3H9.143v3.3h3.3v-1.4L16-118l-3.556%2c2.54v-1.4h-3.3v3.3h1.4L8-110l-2.54-3.556h1.4ZM8-126l2.54%2c3.556H5.46Z' transform='translate(0 126)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_276' data-name='%e8%b7%af%e5%be%84 276' class='cls-2' d='M-37-137.6h25.4V-163H-37Z' transform='translate(37 163)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_move_kj' transform='translate(1 128)'%3e %3cg id='%e7%bb%84_475' data-name='%e7%bb%84 475' class='cls-3' transform='translate(-1 -128)'%3e %3cg id='%e7%bb%84_474' data-name='%e7%bb%84 474' class='cls-4' transform='translate(-4.698 -4.698)'%3e %3cpath id='%e8%b7%af%e5%be%84_275' data-name='%e8%b7%af%e5%be%84 275' class='cls-5' d='M-5-131H12.27v17.27H-5Z' transform='translate(9.063 135.064)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M2.1-1.769a.381.381%2c0%2c0%2c1-.382-.382h0V-7.087A.381.381%2c0%2c0%2c1%2c2.1-7.469H8.4a.381.381%2c0%2c0%2c1%2c.382.382h0V-2.15a.381.381%2c0%2c0%2c1-.382.382H2.1Zm.525-.906H7.874V-6.562H2.627Z' transform='translate(-1.721 7.469)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M17.723-5.652A4.782%2c4.782%2c0%2c0%2c0%2c19.561-9.4l.763%2c0a.093.093%2c0%2c0%2c0%2c.073-.15l-1.2-1.526a.094.094%2c0%2c0%2c0-.147%2c0L17.841-9.555a.093.093%2c0%2c0%2c0%2c.073.15h.762a4.019%2c4.019%2c0%2c0%2c1-.03.463%2c3.888%2c3.888%2c0%2c0%2c1-.461%2c1.419A3.9%2c3.9%2c0%2c0%2c1%2c17.179-6.35a3.884%2c3.884%2c0%2c0%2c1-1.381.693%2c3.887%2c3.887%2c0%2c0%2c1-1.488.106c-.064-.008-.129-.017-.192-.029v.893A4.752%2c4.752%2c0%2c0%2c0%2c17.723-5.652Z' transform='translate(-14.118 11.118)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='c'%3e%3cpath d='M19.678-21a.381.381%2c0%2c0%2c1%2c.382.382h0v4.937a.381.381%2c0%2c0%2c1-.382.382h-6.3A.381.381%2c0%2c0%2c1%2c13-15.682h0v-4.937A.381.381%2c0%2c0%2c1%2c13.382-21h6.3Zm-.525.906H13.906v3.887h5.247Z' transform='translate(-13 21)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='d'%3e%3cpath d='M3.673-17.359a4.782%2c4.782%2c0%2c0%2c0-1.839%2c3.751l-.763%2c0a.093.093%2c0%2c0%2c0-.073.15l1.2%2c1.526a.094.094%2c0%2c0%2c0%2c.147%2c0l1.206-1.528a.093.093%2c0%2c0%2c0-.073-.15H2.72a4.017%2c4.017%2c0%2c0%2c1%2c.03-.463%2c3.888%2c3.888%2c0%2c0%2c1%2c.461-1.419%2c3.9%2c3.9%2c0%2c0%2c1%2c1.005-1.173A3.884%2c3.884%2c0%2c0%2c1%2c5.6-17.354a3.887%2c3.887%2c0%2c0%2c1%2c1.488-.106c.064.008.129.017.192.029v-.893A4.752%2c4.752%2c0%2c0%2c0%2c3.673-17.359Z' transform='translate(-0.978 18.372)' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(-957 -603)'%3e%3crect width='16' height='16' transform='translate(957 603)' fill='none'/%3e%3cg transform='translate(956.022 624)'%3e%3cg transform='translate(1.545 -10.994)' clip-path='url(%23a)'%3e%3cpath d='M11.412.863H-3.279V-12.469H11.412Z' transform='translate(-0.537 8.653)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(10.679 -13.779)' clip-path='url(%23b)'%3e%3cpath d='M23.049-16.118V-2.007H9.118V-16.118Z' transform='translate(-12.934 12.302)' fill='%23666'/%3e%3c/g%3e%3crect width='6' height='5' transform='translate(10.652 -20.897)' fill='%23ccc'/%3e%3cg transform='translate(9.826 -21)' clip-path='url(%23c)'%3e%3cpath d='M8-26H22.691v13.331H8Z' transform='translate(-11.816 22.184)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(0.978 -18.995)' clip-path='url(%23d)'%3e%3cpath d='M-4.022-9.261V-23.372H9.909V-9.261Z' transform='translate(0.206 19.556)' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M8.4-7.469a.381.381%2c0%2c0%2c1%2c.382.382h0V-2.15a.381.381%2c0%2c0%2c1-.382.382H2.1a.381.381%2c0%2c0%2c1-.382-.382h0V-7.087A.381.381%2c0%2c0%2c1%2c2.1-7.469H8.4Zm-.525.906H2.627v3.887H7.874Z' transform='translate(-1.721 7.469)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M16.812-10.1a4.782%2c4.782%2c0%2c0%2c0-1.839%2c3.751l-.763%2c0a.093.093%2c0%2c0%2c0-.073.15l1.2%2c1.526a.094.094%2c0%2c0%2c0%2c.147%2c0L16.694-6.2a.093.093%2c0%2c0%2c0-.073-.15H15.86a4.019%2c4.019%2c0%2c0%2c1%2c.03-.463%2c3.888%2c3.888%2c0%2c0%2c1%2c.461-1.419%2c3.9%2c3.9%2c0%2c0%2c1%2c1.005-1.173%2c3.884%2c3.884%2c0%2c0%2c1%2c1.381-.693%2c3.887%2c3.887%2c0%2c0%2c1%2c1.488-.106c.064.008.129.017.192.029v-.893A4.752%2c4.752%2c0%2c0%2c0%2c16.812-10.1Z' transform='translate(-14.118 11.118)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='c'%3e%3cpath d='M13.382-15.3A.381.381%2c0%2c0%2c1%2c13-15.682h0v-4.937A.381.381%2c0%2c0%2c1%2c13.382-21h6.3a.381.381%2c0%2c0%2c1%2c.382.382h0v4.937a.381.381%2c0%2c0%2c1-.382.382h-6.3Zm.525-.906h5.247v-3.887H13.906Z' transform='translate(-13 21)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='d'%3e%3cpath d='M4.583-12.907a4.782%2c4.782%2c0%2c0%2c0%2c1.839-3.751l.763%2c0a.093.093%2c0%2c0%2c0%2c.073-.15l-1.2-1.526a.094.094%2c0%2c0%2c0-.147%2c0L4.7-16.809a.093.093%2c0%2c0%2c0%2c.073.15h.762a4.017%2c4.017%2c0%2c0%2c1-.03.463%2c3.888%2c3.888%2c0%2c0%2c1-.461%2c1.419A3.9%2c3.9%2c0%2c0%2c1%2c4.039-13.6a3.884%2c3.884%2c0%2c0%2c1-1.381.693%2c3.887%2c3.887%2c0%2c0%2c1-1.488.106c-.064-.008-.129-.017-.192-.029v.893A4.752%2c4.752%2c0%2c0%2c0%2c4.583-12.907Z' transform='translate(-0.978 18.372)' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(0)'%3e%3crect width='16' height='16' transform='translate(0)' fill='none'/%3e%3cg transform='translate(0 0.294)'%3e%3cg transform='translate(8.374)' clip-path='url(%23a)'%3e%3cpath d='M-3.279-12.469H11.412V.863H-3.279Z' transform='translate(-0.537 8.653)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(0 2.005)' clip-path='url(%23b)'%3e%3cpath d='M9.118-2.007V-16.118H23.049V-2.007Z' transform='translate(-12.934 12.302)' fill='%23666'/%3e%3c/g%3e%3crect width='6' height='5' transform='translate(0.327 10.603)' fill='%23ccc'/%3e%3cg transform='translate(0.093 10.006)' clip-path='url(%23c)'%3e%3cpath d='M22.691-12.669H8V-26H22.691Z' transform='translate(-11.816 22.184)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(9.701 7.221)' clip-path='url(%23d)'%3e%3cpath d='M9.909-23.372V-9.261H-4.022V-23.372Z' transform='translate(0.206 19.556)' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M0%2c0H16V-16H0Z' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M13.958-11.417l-2.541-2.541a1%2c1%2c0%2c0%2c0-.708-.292H2.25a.5.5%2c0%2c0%2c0-.5.5v11.5a.5.5%2c0%2c0%2c0%2c.5.5h11.5a.5.5%2c0%2c0%2c0%2c.5-.5v-8.461A1%2c1%2c0%2c0%2c0%2c13.958-11.417ZM6-13.25h4v1.75H6ZM8-4.594a2.251%2c2.251%2c0%2c0%2c1-2.25-2.25A2.251%2c2.251%2c0%2c0%2c1%2c8-9.094a2.251%2c2.251%2c0%2c0%2c1%2c2.25%2c2.25A2.251%2c2.251%2c0%2c0%2c1%2c8-4.594Zm0-3.5a1.25%2c1.25%2c0%2c0%2c0-1.25%2c1.25A1.25%2c1.25%2c0%2c0%2c0%2c8-5.594a1.25%2c1.25%2c0%2c0%2c0%2c1.25-1.25A1.25%2c1.25%2c0%2c0%2c0%2c8-8.094Z' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(0 16)'%3e%3cg clip-path='url(%23a)'%3e%3cpath d='M-5-21H21V5H-5Z' fill='rgba(0%2c0%2c0%2c0)'/%3e%3c/g%3e%3cg clip-path='url(%23b)'%3e%3cpath d='M-3.25-19.25h22.5V3.25H-3.25Z' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineSpecial_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23ccc%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='%e8%b7%af%e5%be%84_607' data-name='%e8%b7%af%e5%be%84 607' class='cls-1' d='M12.564%2c4.659l-8.833%2c9.22h8.833Z' transform='translate(0 -1)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(5.604 11.916) rotate(-135)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(8.115 9.239) rotate(-135)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(10.625 6.561) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='7' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-5' width='1.5' height='8' transform='translate(4.75 13.5) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_492' data-name='%e8%b7%af%e5%be%84 492' class='cls-1' d='M0%2c2H16V-14H0Z' transform='translate(0 14)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_noDisplay' transform='translate(0 15)'%3e %3cg id='%e7%bb%84_817' data-name='%e7%bb%84 817' class='cls-3' transform='translate(0 -15)'%3e %3cpath id='%e8%b7%af%e5%be%84_491' data-name='%e8%b7%af%e5%be%84 491' class='cls-4' d='M-5-19H21V7H-5Z' transform='translate(0 15)'/%3e %3c/g%3e %3cpath id='%e5%87%8f%e5%8e%bb_1' data-name='%e5%87%8f%e5%8e%bb 1' class='cls-2' d='M7.114%2c9.861a7.321%2c7.321%2c0%2c0%2c1-3.965-1.19A8.865%2c8.865%2c0%2c0%2c1%2c.159%2c5.522a1.179%2c1.179%2c0%2c0%2c1%2c0-1.181%2c8.865%2c8.865%2c0%2c0%2c1%2c2.989-3.15c.1-.065.206-.128.311-.188l1.51%2c1.628a2.682%2c2.682%2c0%2c0%2c0-.27%2c1.2.42.42%2c0%2c0%2c0%2c.111.292.351.351%2c0%2c0%2c0%2c.267.119.367.367%2c0%2c0%2c0%2c.274-.119.414.414%2c0%2c0%2c0%2c.111-.292%2c1.928%2c1.928%2c0%2c0%2c1%2c.086-.582L9.065%2c7.047a3.241%2c3.241%2c0%2c0%2c1-1.949.623A3.325%2c3.325%2c0%2c0%2c1%2c4.6%2c6.545%2c3.852%2c3.852%2c0%2c0%2c1%2c3.556%2c3.836%2c3.98%2c3.98%2c0%2c0%2c1%2c4.04%2c1.91%2c8.1%2c8.1%2c0%2c0%2c0%2c1.015%2c4.931a8.574%2c8.574%2c0%2c0%2c0%2c2.647%2c2.8%2c6.217%2c6.217%2c0%2c0%2c0%2c3.451%2c1.04A6.16%2c6.16%2c0%2c0%2c0%2c10%2c8.057l.755.814A7.261%2c7.261%2c0%2c0%2c1%2c7.114%2c9.861Zm4.659-1.67h0l-.739-.8A8.7%2c8.7%2c0%2c0%2c0%2c13.21%2c4.931%2c8.088%2c8.088%2c0%2c0%2c0%2c10.185%2c1.91a3.981%2c3.981%2c0%2c0%2c1%2c.484%2c1.926%2c3.868%2c3.868%2c0%2c0%2c1-.751%2c2.357L6.295%2c2.286a1.512%2c1.512%2c0%2c0%2c1%2c.818-.23.357.357%2c0%2c0%2c0%2c.27-.12.409.409%2c0%2c0%2c0%2c.111-.292.417.417%2c0%2c0%2c0-.111-.292.355.355%2c0%2c0%2c0-.27-.12%2c2.2%2c2.2%2c0%2c0%2c0-1.368.46L4.6.46A7.088%2c7.088%2c0%2c0%2c1%2c7.114%2c0a7.321%2c7.321%2c0%2c0%2c1%2c3.965%2c1.19%2c8.85%2c8.85%2c0%2c0%2c1%2c2.989%2c3.15%2c1.179%2c1.179%2c0%2c0%2c1%2c0%2c1.181%2c8.821%2c8.821%2c0%2c0%2c1-2.295%2c2.669Z' transform='translate(1.088 -11.738)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_235' data-name='%e7%9f%a9%e5%bd%a2 235' class='cls-2' width='1.166' height='18.662' transform='matrix(0.719%2c -0.695%2c 0.695%2c 0.719%2c 0.745%2c -12.953)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import DrawPointSvg from '@/assets/annotation/toolHotKeyIcon/icon_point_kj.svg'\nimport DrawInvalidPointSvg from '@/assets/annotation/toolHotKeyIcon/icon_pointNull_kj.svg'\nimport SelectedPointSvg from '@/assets/annotation/toolHotKeyIcon/icon_pointActive_kj.svg'\nimport DeletePointSvg from '@/assets/annotation/toolHotKeyIcon/icon_del_kj.svg'\nimport MouseLeftSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg';\nimport MouseRightSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\n\nimport {\n  backward,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  restore,\n  revoke,\n  rotate,\n  scale,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n} from '../common';\n\nexport const drawPoint = {\n  name: 'AnnotatePoint',\n  icon: DrawPointSvg,\n  shortCut: [MouseLeftSvg],\n};\n\nexport const drawInvalidPoint = {\n  name: 'AnnotateInvalidPoint',\n  icon: DrawInvalidPointSvg,\n  shortCut: ['Ctrl', MouseLeftSvg],\n};\n\nexport const selectPoint = {\n  name: 'SelectPoint',\n  icon: SelectedPointSvg,\n  shortCut: [MouseRightSvg],\n  noticeInfo: 'RightClick',\n};\n\nexport const deletePoint = {\n  name: 'DeletePoint',\n  icon: DeletePointSvg,\n  shortCut: ['Del'],\n};\n\nconst pointToolShortCutTable = [\n  drawPoint,\n  drawInvalidPoint,\n  selectPoint,\n  deletePoint,\n\n  revoke,\n  restore,\n  rotate,\n  scale,\n  // fullScreen,\n  backward,\n  forward,\n  dargWithRightClick,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n];\nexport default pointToolShortCutTable;\n","var img = \"data:image/svg+xml,%3csvg id='icon_point_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3ccircle id='%e6%a4%ad%e5%9c%86%e5%bd%a2' class='cls-2' cx='2.392' cy='2.392' r='2.392' transform='translate(4.811 4.811)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_pointNull_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d .cls-3%2c .cls-5 %7b fill: none%3b %7d .cls-3 %7b stroke: %23666%3b %7d .cls-4 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3ccircle id='%e6%a4%ad%e5%9c%86%e5%bd%a2' class='cls-2' cx='2.392' cy='2.392' r='2.392' transform='translate(4.811 4.811)'/%3e %3c/g%3e %3cg id='%e7%9f%a9%e5%bd%a2_92' data-name='%e7%9f%a9%e5%bd%a2 92' class='cls-3' transform='translate(2.757 4.089) rotate(-45)'%3e %3crect class='cls-4' width='1.6' height='13'/%3e %3crect class='cls-5' x='0.5' y='0.5' width='0.6' height='12'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_pointActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_3' data-name='%e5%87%8f%e5%8e%bb 3' class='cls-2' d='M1506.068%2c9508.987a2.393%2c2.393%2c0%2c1%2c1%2c2.391-2.394l-1.919%2c0v2.345A2.436%2c2.436%2c0%2c0%2c1%2c1506.068%2c9508.987Z' transform='translate(-1498.865 -9499.393)'/%3e %3c/g%3e %3cpath id='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd_4' data-name='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd 4' class='cls-2' d='M2.628%2c0%2c5.256%2c5.256%2c2.632%2c4.129%2c0%2c5.256Z' transform='translate(7.139 9.595) rotate(-30)'/%3e%3c/svg%3e\";\n  export default img;","import DrawPolygonSvg from '@/assets/annotation/toolHotKeyIcon/icon_line_kj.svg'\nimport DrawInvalidPolygonSvg from '@/assets/annotation/toolHotKeyIcon/icon_polygonNull_kj.svg'\nimport SelectedPolygonSvg from '@/assets/annotation/toolHotKeyIcon/icon_polygonActive_kj.svg'\nimport ChangePolygonAttribute from '@/assets/annotation/toolHotKeyIcon/icon_polygonChange_kj.svg'\nimport DeletePolygonSvg from '@/assets/annotation/toolHotKeyIcon/icon_polygonDel_kj.svg'\nimport MouseLeftSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg'\nimport MouseRightSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\n\nimport IconLineContKj from '@/assets/annotation/toolHotKeyIcon/icon_lineCont_kj.svg';\nimport IconPolygonInsertKj from '@/assets/annotation/toolHotKeyIcon/icon_polygonInsert_kj.svg';\nimport IconUnGripKj from '@/assets/annotation/toolHotKeyIcon/icon_unGrip_kj.svg';\nimport IconPointSpecialKj from '@/assets/annotation/toolHotKeyIcon/icon_pointSpecial_kj.svg';\nimport IconSegment from '@/assets/annotation/toolHotKeyIcon/icon_segment.svg';\nimport IconAI from '@/assets/annotation/toolHotKeyIcon/icon_AI.svg';\nimport IconSwapOutlined from '@/assets/annotation/toolHotKeyIcon/icon_swap_outlined.svg';\n\nimport {\n  backward,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  restore,\n  revoke,\n  rotate,\n  setValid,\n  scale,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n  // attributeClickLock,\n  // attributeLock,\n  // copyBackwardResult,\n  // hidden,\n  // changeSpecialLine,\n  // saveResult,\n  dargWithLeftClick\n} from '../common';\n\nexport const polygon = {\n  name: 'AnnotatePolygon',\n  icon: DrawPolygonSvg,\n  shortCut: [MouseLeftSvg],\n};\n\nexport const invalidPolygon = {\n  name: 'AnnotateInvalidPolygon',\n  icon: DrawInvalidPolygonSvg,\n  shortCut: ['Ctrl', MouseLeftSvg],\n};\n\nexport const selectedPolygon = {\n  name: 'SelectPolygon',\n  icon: SelectedPolygonSvg,\n  shortCut: [MouseRightSvg],\n  noticeInfo: 'RightClick',\n};\n\nexport const changePolygonAttribute = {\n  name: 'TogglePolygonEffectiveness',\n  icon: ChangePolygonAttribute,\n  shortCut: ['F'],\n};\n\nexport const deletePolygon = {\n  name: 'DeletePolygon',\n  icon: DeletePolygonSvg,\n  shortCut: ['Del'],\n};\n\nexport const keepLine = {\n  name: 'ContinueToLabel',\n  icon: IconLineContKj,\n  shortCut: ['Space'],\n};\n\nexport const insertPolygonPoint = {\n  name: 'InsertPoint',\n  icon: IconPolygonInsertKj,\n  noticeInfo: 'SelectAndDoubleClick',\n  shortCut: [MouseLeftSvg],\n};\n\nexport const deletePolygonPoint = {\n  name: 'DeletePoint',\n  icon: DeletePolygonSvg,\n  noticeInfo: 'SelectAndDoubleClick',\n  shortCut: [MouseRightSvg],\n};\n\nexport const changeSpecialPoint = {\n  name: 'TogglePointParticularity',\n  icon: IconPointSpecialKj,\n  noticeInfo: '',\n  shortCut: ['Shift', MouseLeftSvg],\n};\n\nexport const suspendAbsorption = {\n  name: 'StopAdsorption',\n  icon: IconUnGripKj,\n  noticeInfo: 'Press',\n  shortCut: ['Alt'],\n};\n\nexport const segment = {\n  name: 'CropOverlapArea',\n  icon: IconSegment,\n  noticeInfo: '',\n  shortCut: ['ALT', 'X'],\n};\n\nexport const segmentByAlgorithm = {\n  name: 'SegmentationRecognition',\n  icon: IconAI,\n  noticeInfo: '',\n  shortCut: ['Q'],\n};\n\nexport const changeRenderPattern = {\n  name: 'SwitchPattern',\n  icon: IconSwapOutlined,\n  noticeInfo: '',\n  shortCut: ['U'],\n};\n\nconst pointToolShortCutTable = [\n  // saveResult,\n  polygon,\n  invalidPolygon,\n  selectedPolygon,\n  changePolygonAttribute,\n  deletePolygon,\n  keepLine,\n  insertPolygonPoint,\n  deletePolygonPoint,\n  // changeSpecialPoint,\n  // changeSpecialLine,\n  suspendAbsorption,\n  // hidden,\n  // segment,\n  // segmentByAlgorithm,\n  // attributeLock,\n  // attributeClickLock,\n  revoke,\n  restore,\n  rotate,\n  scale,\n  // fullScreen,\n  backward,\n  forward,\n  setValid,\n  // copyBackwardResult,\n  dargWithRightClick,\n  dargWithLeftClick,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n  // changeRenderPattern,\n];\nexport default pointToolShortCutTable;\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16.707' height='16' viewBox='0 0 16.707 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-1%2c .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d .cls-1%2c .cls-3 %7b stroke-miterlimit: 10%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b stroke: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_polygonNull_kj' transform='translate(0 -2)'%3e %3cg id='icon_line' transform='translate(10)'%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-1' width='1.499' height='15.5' transform='translate(-6.021 6.04) rotate(-45)'/%3e %3c/g%3e %3cg id='icon_polygonNull_kj-2' data-name='icon_polygonNull_kj' transform='translate(0 2)'%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_10' data-name='%e5%87%8f%e5%8e%bb 10' class='cls-4' d='M18500.451%2c2801h-6v-1.5h4.514l1.488%2c1.487%2c0%2c.012Zm-5.148-1.584h0l-1.059-1.058%2c1.783-1.789%2c1.061%2c1.059-1.785%2c1.788Zm7.895-2.75%2c0%2c0-1.5-1.5V2792.5h1.5v4.166Zm-2.578-2.579h0l-1.061-1.06%2c1.047-1.051%2c1.064%2c1.059-1.051%2c1.052Z' transform='translate(-18489.699 -2787.496)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_polygonActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-3 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-4' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-4' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_polygonChange_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23ccc%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='%e5%87%8f%e5%8e%bb_12' data-name='%e5%87%8f%e5%8e%bb 12' class='cls-1' d='M18493%2c2716.574l0%2c0%2c8.451-8.572.242%2c4.933h-3.889v3.513l-4.8.129Z' transform='translate(-18489.408 -2704.132)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_11' data-name='%e5%87%8f%e5%8e%bb 11' class='cls-5' d='M18496.65%2c2716.5H18493V2715h3.65v1.5Zm5.1-4.7h-1.5V2708h1.5v3.8Z' transform='translate(-18488.25 -2703)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_polygonDel_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_polygonInsert_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(9.222 9.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-4' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-5' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e\";\n  export default img;","import DrawPolygonSvg from '@/assets/annotation/toolHotKeyIcon/icon_line_kj.svg';\nimport MouseLeftSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg';\nimport LineNullKj from '@/assets/annotation/toolHotKeyIcon/icon_lineNull_kj.svg';\nimport StraightLineKj from '@/assets/annotation/toolHotKeyIcon/icon_straightLine_kj.svg';\nimport LineActiveKj from '@/assets/annotation/toolHotKeyIcon/icon_lineActive_kj.svg';\nimport MouseRightSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\nimport LineChangeKj from '@/assets/annotation/toolHotKeyIcon/icon_lineChange_kj.svg';\nimport DeletePointSvg from '@/assets/annotation/toolHotKeyIcon/icon_del_kj.svg';\nimport IconLineContKj from '@/assets/annotation/toolHotKeyIcon/icon_lineCont_kj.svg';\nimport LineInsertKj from '@/assets/annotation/toolHotKeyIcon/icon_lineInsert_kj.svg';\nimport LineDelKj from '@/assets/annotation/toolHotKeyIcon/icon_lineDel_kj.svg';\nimport IconUnGripKj from '@/assets/annotation/toolHotKeyIcon/icon_unGrip_kj.svg';\nimport Up from '@/assets/annotation/toolHotKeyIcon/icon_up.svg';\nimport Down from '@/assets/annotation/toolHotKeyIcon/icon_down.svg';\n\nimport {\n  // attributeClickLock,\n  // attributeLock,\n  backward,\n  // copyBackwardResult,\n  dargWithLeftClick,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  restore,\n  revoke,\n  rotate,\n  scale,\n  setValid,\n  hidden,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n  changeSpecialLine,\n  // saveResult,\n} from '../common';\n\nexport const line = {\n  name: 'AnnotateLine',\n  icon: DrawPolygonSvg,\n  shortCut: [MouseLeftSvg],\n};\n\nexport const invalidLine = {\n  name: 'AnnotateInvalidLine',\n  icon: LineNullKj,\n  shortCut: ['Ctrl', MouseLeftSvg],\n};\n\nexport const horizontalLine = {\n  name: 'HorizontalOrVertical',\n  icon: StraightLineKj,\n  shortCut: ['Shift', MouseLeftSvg],\n};\n\nexport const selectLine = {\n  name: 'SelectLine',\n  icon: LineActiveKj,\n  shortCut: [MouseRightSvg],\n};\n\nexport const changeLineAttribute = {\n  name: 'ToggleLineEffectiveness',\n  icon: LineChangeKj,\n  shortCut: ['F'],\n};\n\nexport const deleteLine = {\n  name: 'DeleteLine',\n  icon: DeletePointSvg,\n  noticeInfo: 'SelectAndDoubleClick',\n  shortCut: [MouseRightSvg],\n};\n\nexport const keepLine = {\n  name: 'ContinueToLabel',\n  icon: IconLineContKj,\n  noticeInfo: 'Select',\n  shortCut: ['Space'],\n};\n\nexport const insertPoint = {\n  name: 'InsertPoint',\n  icon: LineInsertKj,\n  noticeInfo: 'ClickOnLine',\n  shortCut: [MouseLeftSvg],\n};\n\nexport const deletePoint = {\n  name: 'DeletePoint',\n  icon: LineDelKj,\n  noticeInfo: 'DblClickOnPoint',\n  shortCut: [MouseRightSvg],\n};\n\nexport const suspendAbsorption = {\n  name: 'StopAdsorption',\n  icon: IconUnGripKj,\n  noticeInfo: 'Press',\n  shortCut: ['Alt'],\n};\n\nexport const preLine = {\n  name: 'PreviousLine',\n  icon: Up,\n  shortCut: ['W'],\n};\n\nexport const nextLine = {\n  name: 'NextLine',\n  icon: Down,\n  shortCut: ['S'],\n};\n\nconst lineToolShortCutTable = [\n  // saveResult,\n  line,\n  invalidLine,\n  horizontalLine,\n  selectLine,\n  changeLineAttribute,\n  deleteLine,\n  keepLine,\n  changeSpecialLine,\n  insertPoint,\n  deletePoint,\n  suspendAbsorption,\n  // attributeLock,\n  // attributeClickLock,\n  revoke,\n  restore,\n  rotate,\n  scale,\n  // fullScreen,\n  backward,\n  forward,\n  setValid,\n  // copyBackwardResult,\n  dargWithRightClick,\n  dargWithLeftClick,\n  hidden,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n];\nexport default lineToolShortCutTable;\n  ","var img = \"data:image/svg+xml,%3csvg id='icon_lineNull_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b stroke: rgba(0%2c0%2c0%2c0)%3b stroke-miterlimit: 10%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_6' data-name='%e5%87%8f%e5%8e%bb 6' class='cls-2' d='M14710.063%2c1373.254h0l-1.063-1.059%2c2.184-2.182%2c1.062%2c1.061-2.18%2c2.181Zm5.009-5.009h0l-1.061-1.06%2c2.417-2.415%2c1.06%2c1.06-2.414%2c2.415Z' transform='translate(-14705.021 -1360.788)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.499' height='7.5' transform='translate(4.979 6.04) rotate(-45)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_straightLine_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b stroke: rgba(0%2c0%2c0%2c0)%3b stroke-miterlimit: 10%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bb%84_955' data-name='%e7%bb%84 955' transform='translate(-0.721)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(12.721 9.721) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(1.721 9.723) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.5' height='10.5' transform='translate(3.471 9.002) rotate(-90)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: %23666%3b %7d .cls-4 %7b fill: white%3b stroke: %23707070%3b %7d .cls-5 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%9f%a9%e5%bd%a2_254' data-name='%e7%9f%a9%e5%bd%a2 254' class='cls-2' transform='translate(1.22 1.22)'%3e %3crect class='cls-5' width='14.4' height='14.4'/%3e %3crect class='cls-1' x='0.5' y='0.5' width='13.4' height='13.4'/%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' width='1.5' height='10.5' transform='translate(5.04 12.465) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-4' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-4' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineChange_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: %23666%3b %7d .cls-4 %7b clip-path: url(%23clip-path)%3b %7d .cls-5 %7b fill: white%3b stroke: %23707070%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_399' data-name='%e8%b7%af%e5%be%84 399' class='cls-1' d='M2.139-17.789H7.33L8-17.12H3.813l1.172%2c1.34h-1ZM7.5-18.627H2.306l-.67-.669H5.823l-1.172-1.34h1L7.5-18.627Z' transform='translate(-1.636 20.636)'/%3e %3c/clipPath%3e %3c/defs%3e %3cpath id='%e8%b7%af%e5%be%84_599' data-name='%e8%b7%af%e5%be%84 599' class='cls-2' d='M9.937%2c14.746h-7.9V1.654' transform='translate(-0.316)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' width='1.5' height='10.5' transform='translate(5.04 12.465) rotate(-135)'/%3e %3cpath id='%e8%b7%af%e5%be%84_598' data-name='%e8%b7%af%e5%be%84 598' class='cls-2' d='M2.035%2c1.654H15.557V9.5' transform='translate(-0.815)'/%3e %3cg id='%e7%bb%84_965' data-name='%e7%bb%84 965' transform='translate(8 31)'%3e %3cg id='%e7%bb%84_646' data-name='%e7%bb%84 646' class='cls-4' transform='translate(1.636 -20.636)'%3e %3cpath id='%e8%b7%af%e5%be%84_398' data-name='%e8%b7%af%e5%be%84 398' class='cls-3' d='M-3.364-25.636H6.07v7.927H-3.364Z' transform='translate(1.829 24.101)'/%3e %3c/g%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-5' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-5' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineInsert_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='4' height='4' transform='translate(10.222 10.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineDel_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: white%3b %7d .cls-3%2c .cls-4 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-5 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d .cls-6 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3cg id='%e7%9f%a9%e5%bd%a2_273' data-name='%e7%9f%a9%e5%bd%a2 273' class='cls-1' transform='translate(1.221 1.22)'%3e %3crect class='cls-6' width='14' height='14'/%3e %3crect class='cls-2' x='0.5' y='0.5' width='13' height='13'/%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-4' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-5' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e%3c/svg%3e\";\n  export default img;","import iconTagKj from '@/assets/annotation/toolHotKeyIcon/icon_tag_kj.svg'\n\nimport {\n  backward,\n  dargWithLeftClick,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  rotate,\n  // saveResult,\n  scale,\n  // setValid,\n} from '../common';\n\nexport const tagInSingleImg: any = {\n  name: 'Tagging',\n  icon: iconTagKj,\n  shortCut: [1, 9],\n};\n\n// 单图\nconst tagToolSingleShortCutTable = [\n  // saveResult,\n  tagInSingleImg,\n  rotate,\n  // fullScreen,\n  scale,\n  // setValid,\n  backward,\n  forward,\n  dargWithRightClick,\n  dargWithLeftClick,\n];\nexport default tagToolSingleShortCutTable;\n\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_317' data-name='%e8%b7%af%e5%be%84 317' class='cls-1' d='M0%2c0H16V-16H0Z'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_319' data-name='%e8%b7%af%e5%be%84 319' class='cls-1' d='M14.656-8.831l-.462-4.884a.531.531%2c0%2c0%2c0-.478-.478l-4.884-.462H8.825a.16.16%2c0%2c0%2c0-.119.045L1.389-7.294a.156.156%2c0%2c0%2c0%2c0%2c.22L7.073-1.389a.155.155%2c0%2c0%2c0%2c.111.045A.155.155%2c0%2c0%2c0%2c7.3-1.389l7.317-7.317A.165.165%2c0%2c0%2c0%2c14.656-8.831ZM10.922-9.953a1%2c1%2c0%2c0%2c1-1-1%2c1%2c1%2c0%2c0%2c1%2c1-1%2c1%2c1%2c0%2c0%2c1%2c1%2c1A1%2c1%2c0%2c0%2c1%2c10.922-9.953Z'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_tag_kj' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_561' data-name='%e7%bb%84 561' class='cls-2'%3e %3cpath id='%e8%b7%af%e5%be%84_316' data-name='%e8%b7%af%e5%be%84 316' class='cls-3' d='M-5-21H21V5H-5Z'/%3e %3c/g%3e %3cg id='%e7%bb%84_562' data-name='%e7%bb%84 562' class='cls-4'%3e %3cpath id='%e8%b7%af%e5%be%84_318' data-name='%e8%b7%af%e5%be%84 318' class='cls-5' d='M-3.657-19.656H19.657V3.656H-3.657Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import {\n  backward,\n  dargWithLeftClick,\n  dargWithRightClick,\n  forward,\n  fullScreen,\n  rotate,\n  saveResult,\n  scale,\n  setValid,\n} from '../common';\n\nconst textToolShortCutTable = [\n  saveResult,\n  scale,\n  rotate,\n  fullScreen,\n  setValid,\n  backward,\n  forward,\n  dargWithRightClick,\n  dargWithLeftClick,\n];\n\nexport default textToolShortCutTable;\n","/**\n * 用于标注查看模式\n * @author laoluo\n */\n\nimport React, { useEffect, useRef, useImperativeHandle, useState } from 'react';\nimport { ViewOperation, ImgUtils } from '@labelbee/lb-annotation';\nimport { Spin } from 'antd/es';\n\ninterface IProps {\n  src: string; // 图片路径\n  size: {\n    width: number;\n    height: number;\n  };\n  style: {\n    color?: string;\n    fill?: string;\n    thickness?: number;\n  };\n  annotations: any[]; // TODO\n  zoomChange?: (zoom: number) => void;\n  backgroundStyle: React.CSSProperties;\n  onChange?: (type: 'hover' | 'selected', ids: string[]) => void;\n\n  showLoading?: boolean;\n}\n\nconst DEFAULT_SIZE = {\n  width: 1280,\n  height: 720,\n};\n\nconst AnnotationView = (props: IProps, ref: any) => {\n  const {\n    size = DEFAULT_SIZE,\n    src,\n    annotations = [],\n    style = {\n      color: 'blue',\n      thickness: 5,\n    },\n    zoomChange,\n    backgroundStyle = {},\n    onChange,\n    showLoading = false,\n  } = props;\n  const [loading, setLoading] = useState(false);\n  const annotationRef = useRef<HTMLDivElement>(null);\n  const viewOperation = useRef<ViewOperation>();\n\n  useImperativeHandle(\n    ref,\n    () => {\n      const toolInstance = viewOperation.current;\n      if (!toolInstance) {\n        return {};\n      }\n\n      return {\n        zoomIn: () => toolInstance.zoomChanged(true), // 放大\n        zoomOut: () => toolInstance.zoomChanged(false), // 缩小\n        initImgPos: () => toolInstance.initImgPos(),\n        toolInstance,\n      };\n    },\n    [viewOperation.current],\n  );\n\n  useEffect(() => {\n    if (annotationRef.current) {\n      viewOperation.current = new ViewOperation({\n        container: annotationRef.current,\n        size,\n        style,\n        annotations,\n        config: '{}', // TODO，暂时不需要\n      });\n\n      viewOperation.current.init();\n    }\n\n    return () => {\n      viewOperation.current?.destroy();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (viewOperation.current) {\n      setLoading(true);\n      viewOperation.current?.setLoading(true);\n      ImgUtils.load(src)\n        .then((imgNode: HTMLImageElement) => {\n          viewOperation.current?.setLoading(false);\n          setLoading(false);\n\n          viewOperation.current?.setImgNode(imgNode);\n        })\n        .catch(() => {\n          viewOperation.current?.setLoading(false);\n          setLoading(false);\n        });\n    }\n  }, [src]);\n\n  /**\n   * 基础数据绘制监听\n   */\n  useEffect(() => {\n    if (viewOperation.current) {\n      viewOperation.current.updateData(annotations);\n    }\n  }, [annotations]);\n\n  /** 窗口大小监听 */\n  useEffect(() => {\n    const toolInstance = viewOperation.current;\n\n    if (toolInstance?.setSize) {\n      toolInstance.setSize(size);\n    }\n  }, [size?.width, size?.height]);\n\n  useEffect(() => {\n    if (viewOperation.current) {\n      viewOperation.current?.on('onChange', (...args: any) => {\n        onChange?.apply(null, args);\n      });\n\n      viewOperation.current?.on('renderZoom', (zoom: number) => {\n        if (zoomChange) {\n          zoomChange(zoom);\n        }\n      });\n    }\n    return () => {\n      viewOperation.current?.unbindAll('onChange');\n      viewOperation.current?.unbindAll('renderZoom');\n    };\n  }, [zoomChange, onChange]);\n\n  const mainRender = <div ref={annotationRef} style={{ ...size, ...backgroundStyle }} />;\n\n  return (\n    <Spin spinning={showLoading || loading} delay={300}>\n      {mainRender}\n    </Spin>\n  );\n\n  // return mainRender;\n};\n\nexport default React.forwardRef(AnnotationView);\n","import React from 'react';\nimport AnnotationOperation from '@labelbee/lb-components';\nimport '@labelbee/lb-components/dist/index.css';\n\nconst Annotation = (props) => {\n  const { fileList, goBack, stepList, step } = props;\n\n  // const exportData = (data) => {\n  //   console.log('exportData', data);\n  // };\n\n  const onSubmit = (data) => {\n    // 翻页时触发当前页面数据的输出\n    console.log('submitData', data);\n  }\n\n  const onSave = (data, imgList, index) => {\n    console.log('save', data, imgList, index);\n  }\n\n  return (\n    <div>\n      <AnnotationOperation\n        // exportData={exportData}\n        headerName=\"测试各类工具\"\n        onSubmit={onSubmit}\n        imgList={fileList}\n        goBack={goBack}\n        stepList={stepList}\n        step={step}\n        onSave={onSave}\n      />\n    </div>\n  );\n};\nexport default Annotation;\n","import img1 from './images/10.jpg';\nimport img2 from './images/19.jpg';\nimport img3 from './images/20.jpg';\nimport img4 from './images/66.jpg';\n\n// const MOCK_URL = 'http://bee-sdk-demo.sensebee.xyz/images/';\n// export const fileList = ['10', '19', '20', '66'].map((i) => `${MOCK_URL}${i}.jpg`);\nexport const fileList = [img1, img2, img3, img4];\n\n\nexport const rectDefaultResult = JSON.stringify({\n  height: 200,\n  width: 100,\n  rotate: 0,\n  step_1: {\n    dataSource: 0,\n    tool: 'rectTool',\n    result: [\n      {\n        id: 'xs23da23a',\n        sourceID: '0',\n        x: 0,\n        y: 0,\n        width: 100,\n        height: 100,\n        valid: true,\n        order: 1,\n        attribute: '',\n        textAttribute: '',\n      },\n    ],\n  },\n});\n\nexport const tagDefaultResult = JSON.stringify({\n  height: 200,\n  width: 100,\n  rotate: 0,\n  step_1: {\n    dataSource: 0,\n    tool: 'tagTool',\n    result: [],\n  },\n});\n\nexport const getMockResult = (tool) => {\n  if (tool === 'rectTool') {\n    return rectDefaultResult;\n  }\n  if (tool === 'tagTool') {\n    return tagDefaultResult;\n  }\n\n  return '';\n};\n\nexport const mockFileList = [\n  {\n    id: 1,\n    url: 'http://bee-sdk-demo.sensebee.xyz/images/10.jpg',\n    result:\n      '{\"width\":720,\"height\":1280,\"valid\":true,\"rotate\":0,\"step_1\":{\"dataSourceStep\":0,\"toolName\":\"rectTool\",\"result\":[{\"x\":272.47863247863245,\"y\":397.4928774928775,\"width\":288.0911680911681,\"height\":346.4387464387464,\"attribute\":\"\",\"valid\":true,\"id\":\"AwL2kecs\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":1}]}}',\n  },\n  {\n    id: 2,\n    url: 'http://bee-sdk-demo.sensebee.xyz/images/19.jpg',\n    result:\n      '{\"width\":720,\"height\":1280,\"valid\":true,\"rotate\":0,\"step_1\":{\"dataSourceStep\":0,\"toolName\":\"rectTool\",\"result\":[{\"x\":137.54985754985753,\"y\":262.56410256410254,\"width\":492.30769230769226,\"height\":525.1282051282051,\"attribute\":\"\",\"valid\":true,\"id\":\"iCXb9Lat\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":1},{\"x\":133.9031339031339,\"y\":627.2364672364672,\"width\":357.3789173789174,\"height\":353.7321937321937,\"attribute\":\"\",\"valid\":true,\"id\":\"siLd255B\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":2},{\"x\":640.7977207977208,\"y\":1061.196581196581,\"width\":79.2022792022792,\"height\":200.56980056980055,\"attribute\":\"\",\"valid\":true,\"id\":\"udXxQJou\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":3}]}}',\n  },\n  {\n    id: 3,\n    url: 'http://bee-sdk-demo.sensebee.xyz/images/20.jpg',\n    result:\n      '{\"width\":720,\"height\":1280,\"valid\":true,\"rotate\":0,\"step_1\":{\"dataSourceStep\":0,\"toolName\":\"rectTool\",\"result\":[{\"x\":144.84330484330485,\"y\":506.8945868945869,\"width\":324.55840455840456,\"height\":368.3190883190883,\"attribute\":\"\",\"valid\":true,\"id\":\"NFN0vzGW\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":1},{\"x\":301.65242165242165,\"y\":328.2051282051282,\"width\":350.0854700854701,\"height\":386.5527065527065,\"attribute\":\"\",\"valid\":true,\"id\":\"t91AA81j\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":2}]}}',\n  },\n  {\n    id: 4,\n    url: 'http://bee-sdk-demo.sensebee.xyz/images/66.jpg',\n    result:\n      '{\"width\":720,\"height\":1280,\"valid\":true,\"rotate\":0,\"step_1\":{\"dataSourceStep\":0,\"toolName\":\"rectTool\",\"result\":[]}}',\n  },\n];\n\nexport const DEFAULT_ANNOTATIONS = [\n  {\n    type: 'rect',\n    annotation: {\n      id: 123123,\n      x: 123,\n      y: 23,\n      width: 100,\n      height: 100,\n      color: 'pink',\n      // thickness: 10,\n    },\n  },\n  {\n    type: 'polygon',\n    annotation: {\n      id: 3,\n      // thickness: 10,\n      color: 'green',\n      pointList: [\n        {\n          x: 12,\n          y: 123,\n        },\n        {\n          x: 122,\n          y: 123,\n        },\n        {\n          x: 2,\n          y: 3,\n        },\n      ],\n    },\n  },\n  {\n    type: 'line',\n    annotation: {\n      color: 'yellow',\n      thickness: 5,\n      id: 4,\n\n      pointList: [\n        {\n          x: 123,\n          y: 12,\n        },\n        {\n          x: 2,\n          y: 12,\n        },\n        {\n          x: 34,\n          y: 132,\n        },\n      ],\n    },\n  },\n  {\n    type: 'point',\n    annotation: {\n      id: 5,\n      x: 10,\n      y: 10,\n      fill: 'green',\n      color: 'blue',\n      thickness: '20',\n      radius: 10,\n    },\n  },\n  {\n    type: 'rect',\n    annotation: {\n      id: 10,\n      x: 13,\n      y: 3,\n      width: 1020,\n      height: 100,\n    },\n  },\n];\n","export default __webpack_public_path__ + \"static/media/10.1785e6e3.jpg\";","export default __webpack_public_path__ + \"static/media/19.608ec5b7.jpg\";","export default __webpack_public_path__ + \"static/media/20.ad3945c2.jpg\";","export default __webpack_public_path__ + \"static/media/66.2fa781f1.jpg\";","const rectToolConfig = {\n  showConfirm: false,\n  skipWhileNoDependencies: false,\n  drawOutsideTarget: false,\n  copyBackwardResult: true,\n  minWidth: 1,\n  minHeight: 1,\n  isShowOrder: true,\n  filterData: ['valid', 'invalid'],\n  attributeConfigurable: true,\n  attributeList: [\n    { key: '玩偶', value: 'doll' },\n    { key: '喷壶', value: 'wateringCan' },\n    { key: '脸盆', value: 'washbasin' },\n    { key: '保温杯', value: 'vacuumCup' },\n    { key: '纸巾', value: 'tissue' },\n    { key: '水壶', value: 'kettle' },\n  ],\n  textConfigurable: true,\n  textCheckType: 0,\n  customFormat: '',\n};\n\nconst tagToolConfig = {\n  showConfirm: true,\n  skipWhileNoDependencies: false,\n  inputList: [\n    {\n      key: '类别1',\n      value: 'class1',\n      isMulti: false,\n      subSelected: [\n        { key: '选项1', value: 'option1', isDefault: true },\n        { key: '选项2', value: 'option1-2', isDefault: false },\n      ],\n    },\n    {\n      key: '类别2',\n      value: 'class-AH',\n      isMulti: true,\n      subSelected: [\n        { key: '选项2-1', value: 'option2-1', isDefault: true },\n        { key: '选项2-2', value: 'option2-2', isDefault: true },\n        { key: '选项2-3', value: 'option2-3', isDefault: false },\n      ],\n    },\n    {\n      key: '类别3',\n      value: 'class-0P',\n      isMulti: false,\n      subSelected: [\n        { key: '选项3-1', value: 'option3-1', isDefault: false },\n        { key: '选项3-2', value: 'option3-2', isDefault: false },\n        { key: '选项3-3', value: 'option3-3', isDefault: false },\n      ],\n    },\n    {\n      key: '类别4',\n      value: 'class-4',\n      isMulti: true,\n      subSelected: [\n        { key: '选项2-1', value: 'option2-1', isDefault: false },\n        { key: '选项2-2', value: 'option2-2', isDefault: false },\n        { key: '选项2-3', value: 'option2-3', isDefault: false },\n      ],\n    },\n  ],\n};\n\nconst lineToolConfig = {\n  lineType: 0,\n  lineColor: 0,\n  edgeAdsorption: true,\n  outOfTarget: true,\n  copyBackwardResult: true,\n  isShowOrder: true,\n  attributeConfigurable: true,\n  attributeList: [\n    { key: '类别1', value: '类别1' },\n    { key: '类别ao', value: 'class-ao' },\n    { key: '类别M1', value: 'class-M1' },\n    { key: '类别Cm', value: 'class-Cm' },\n    { key: '类别c3', value: 'class-c3' },\n    { key: '类别a0', value: 'class-a0' },\n    { key: '类别u7', value: 'class-u7' },\n    { key: '类别Zb', value: 'class-Zb' },\n    { key: '类别zi', value: 'class-zi' },\n  ],\n  textConfigurable: true,\n  textCheckType: 2,\n  customFormat: '',\n  showConfirm: true,\n  lowerLimitPointNum: 2,\n  upperLimitPointNum: '',\n  preReferenceStep: 0,\n  skipWhileNoDependencies: false,\n  filterData: ['valid', 'invalid'],\n};\n\nconst textToolConfig = {\n  showConfirm: false,\n  skipWhileNoDependencies: false,\n  enableTextRecognition: false,\n  recognitionMode: 'general',\n  configList: [\n    { label: '文本', key: 'text', required: false, default: 'default1', maxLength: 1000 },\n    { label: '文本2', key: 'text2', required: true, default: 'default2', maxLength: 1000 },\n    { label: '文本3', key: 'text3', required: true, default: 'default3', maxLength: 1000 },\n  ],\n  filterData: ['valid', 'invalid'],\n};\n\nconst polygonConfig = {\n  lineType: 0,\n  lineColor: 0,\n  edgeAdsorption: true,\n  drawOutsideTarget: false,\n  copyBackwardResult: false,\n  isShowOrder: false,\n  attributeConfigurable: true,\n  attributeList: [\n    { key: '玩偶', value: 'doll' },\n    { key: '喷壶', value: 'wateringCan' },\n    { key: '脸盆', value: 'washbasin' },\n    { key: '保温杯', value: 'vacuumCup' },\n    { key: '纸巾', value: 'tissue' },\n    { key: '水壶', value: 'kettle' },\n  ],\n  textConfigurable: true,\n  textCheckType: 0,\n  customFormat: '',\n};\n\nexport const getConfig = (tool) => {\n  if (tool === 'lineTool') {\n    return lineToolConfig;\n  }\n\n  if (tool === 'rectTool') {\n    return rectToolConfig;\n  }\n\n  if (tool === 'tagTool') {\n    return tagToolConfig;\n  }\n\n  if (tool === 'textTool') {\n    return textToolConfig;\n  }\n\n  if (tool === 'polygonTool') {\n    return polygonConfig;\n  }\n\n  return rectToolConfig;\n};\n\nexport const getStepList = (tool, sourceStep, step) => {\n  return [getStepConfig(tool)];\n};\n\nconst getStepConfig = (tool, step, sourceStep) => {\n  return {\n    step: step ?? 1,\n    dataSourceStep: sourceStep || 0,\n    tool: tool ?? 'rectTool',\n    config: JSON.stringify(getConfig(tool)),\n  };\n};\n\nexport const getDependStepList = (toolsArray) =>\n  toolsArray.map((tool, index) => getStepConfig(tool, index + 1, index));\n","import React, { useState } from 'react';\nimport './App.css';\nimport 'antd/dist/antd.css';\nimport Annotation from './components/Annotation';\nimport { fileList as mockFileList, getMockResult } from './mock/index';\nimport { getStepList, getDependStepList } from './mock/taskConfig';\nimport qs from 'qs';\nimport { AnnotationView } from '@labelbee/lb-components';\nimport { DEFAULT_ANNOTATIONS } from './mock';\n\nconst App = () => {\n  const tool = qs.parse(window.location.search, { ignoreQueryPrefix: true, comma: true }).tool;\n\n  const isSingleTool = !Array.isArray(tool);\n  const stepList = isSingleTool ? getStepList(tool) : getDependStepList(tool);\n\n  const [fileList] = useState(\n    mockFileList.map((url, i) => ({\n      id: i + 1,\n      url,\n      result: isSingleTool ? getMockResult(tool) : '',\n    })),\n  );\n\n  // 参看工具的展示\n  if (tool === 'annotationView') {\n    return (\n      <div>\n        <div style={{ height: 500 }}>\n          <AnnotationView\n            src='https://cdn.nba.com/manage/2020/10/andre-iguodala-iso-smile-0520-784x588.jpg'\n            annotations={DEFAULT_ANNOTATIONS}\n            style={{\n              color: 'blue',\n              thickness: 5,\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  const goBack = (data) => {\n    console.log('goBack', data);\n  };\n\n  if (fileList.length > 0) {\n    return <Annotation fileList={fileList} goBack={goBack} stepList={stepList} step={1} />;\n  }\n\n  return <div className='App'></div>;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />\n  // </React.StrictMode>,\n  ,\n  document.getElementById('root'),\n);"],"sourceRoot":""}