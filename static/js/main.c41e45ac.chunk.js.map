{"version":3,"sources":["../../lb-utils/es/i18n/resources.json.js","../../lb-utils/es/i18n/index.js","../../lb-utils/es/toolStyle/ToolStyleUtils.js","../../lb-utils/es/toolStyle/index.js","../../lb-utils/es/PerspectiveShiftUtils.js","../../lb-utils/es/PointCloudUtils.js","../../lb-utils/es/MatrixUtils.js","../../lb-utils/es/constant/pointCloud.js","../../lb-utils/es/constant/color.js","../../lb-utils/es/annotation/ImgConversionUtils.js","../../../src/store/ctx.ts","../../lb-annotation/es/constant/tool.js","../../lb-annotation/es/utils/tool/polygonTool.js","../../lb-annotation/es/constant/annotation.js","../../lb-annotation/es/utils/tool/CommonToolUtils.js","../../lb-annotation/es/utils/tool/LineToolUtils.js","../../lb-annotation/es/utils/tool/AxisUtils.js","../../lb-annotation/es/utils/tool/PolygonUtils.js","../../lb-annotation/es/utils/VectorUtils.js","../../lb-annotation/es/utils/MathUtils.js","../../lb-annotation/es/constant/keyCode.js","../../lb-annotation/es/utils/tool/RectUtils.js","../../lb-annotation/es/locales/constants.js","../../lb-annotation/es/locales/en_US/message.js","../../lb-annotation/es/locales/zh_CN/message.js","../../lb-annotation/es/locales/index.js","../../lb-annotation/es/assets/attributeIcon/icon_canvasEdit0.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_canvasEdit_miss.svg.js","../../lb-annotation/es/constant/style.js","../../lb-annotation/es/assets/attributeIcon/icon_canvasEdit6.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_canvasEdit3.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_canvasEdit7.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_canvasEdit2.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_canvasEdit8.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_canvasEdit5.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_canvasEdit1.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_canvasEdit4.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_editLAN.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_editQING.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_editLV.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_editHUANG.svg.js","../../lb-annotation/es/assets/attributeIcon/icon_editFEN.svg.js","../../lb-annotation/es/utils/tool/AttributeUtils.js","../../lb-annotation/es/utils/tool/CanvasUtils.js","../../lb-annotation/es/utils/tool/UnitUtils.js","../../lb-annotation/es/utils/tool/DrawUtils.js","../../lb-annotation/es/utils/tool/MarkerUtils.js","../../lb-annotation/es/utils/uuid.js","../../lb-annotation/es/constant/defaultConfig.js","../../lb-annotation/es/utils/ActionsHistory.js","../../lb-annotation/es/utils/tool/DblClickEventListener.js","../../lb-annotation/es/utils/tool/ImgPosUtils.js","../../lb-annotation/es/utils/tool/RenderDomUtils.js","../../lb-annotation/es/utils/tool/ZoomUtils.js","../../lb-annotation/es/core/toolOperation/LineToolOperation.js","../../lb-annotation/es/core/toolOperation/eventListener.js","../../lb-annotation/es/core/toolOperation/basicToolOperation.js","../../lb-annotation/es/core/toolOperation/textAttributeClass.js","../../lb-annotation/es/core/toolOperation/rectOperation.js","../../lb-annotation/es/utils/tool/TagUtils.js","../../lb-annotation/es/core/toolOperation/tagOperation.js","../../lb-annotation/es/utils/tool/StyleUtils.js","../../lb-annotation/es/core/toolOperation/pointOperation.js","../../lb-annotation/es/constant/annotationTask.js","../../lb-annotation/es/core/toolOperation/TextToolOperation.js","../../lb-annotation/es/core/toolOperation/polygonOperation.js","../../lb-annotation/es/core/toolOperation/measureOperation.js","../../lb-annotation/es/utils/tool/RenderDomClass.js","../../lb-annotation/es/core/toolOperation/ViewOperation.js","../../lb-annotation/es/core/toolOperation/ScribbleTool.js","../../lb-annotation/es/core/toolOperation/pointCloud2dOperation.js","../../lb-annotation/es/core/toolOperation/checkOperation.js","../../lb-annotation/es/core/toolOperation/segmentByRect.js","../../lb-annotation/es/utils/tool/EnhanceCommonToolUtils.js","../../lb-annotation/es/utils/ImgUtils.js","../../lb-annotation/es/core/scheduler.js","../../lb-annotation/es/core/index.js","../../lb-annotation/es/_virtual/_rollup-plugin-web-worker-loader__helper__browser__createBase64WorkerFactory.js","../../lb-annotation/es/_virtual/_rollup-plugin-web-worker-loader__helper__auto__createBase64WorkerFactory.js","../../lb-annotation/es/_virtual/highlightWorker.js","../../lb-annotation/es/_virtual/filterBoxWorker.js","../../lb-annotation/es/core/pointCloud/PCDLoader.js","../../lb-annotation/es/core/pointCloud/OrbitControls.js","../../lb-annotation/es/core/pointCloud/cache.js","../../lb-annotation/es/core/pointCloud/index.js","../../lb-annotation/es/newCore/CanvasScheduler.js","../../lb-annotation/es/core/pointCloud/annotation.js","../../lb-annotation/es/index.js","../../../src/utils/index.ts","../../../../src/components/pointCloudView/PointCloudContext.tsx","../../../src/constant/index.tsx","../../../src/utils/dom.ts","../../../src/utils/StepUtils.ts","../../../../src/store/annotation/actionCreators.ts","../../src/index.tsx","../../../src/store/Actions.ts","../../../../../src/components/pointCloudView/hooks/useSingleBox.ts","../../../../src/data/enums/ToolType.ts","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/common/index.tsx","../../../src/hooks/useSize.ts","../../../../../src/components/pointCloudView/hooks/usePointCloudViews.ts","../../../../../src/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg","../../../../src/store/annotation/reducer.ts","../../../../src/components/pointCloudView/PointCloudLayout.tsx","../../../../src/store/annotation/map.ts","../../../../../src/views/MainView/toolFooter/index.tsx","../../../../src/components/videoPlayer/utils.ts","../../../../src/data/enums/AnnotationSize.ts","../../../src/utils/ToolUtils.ts","../../../../../src/assets/annotation/common/icon_clearSmall_a.svg","../../../../../src/assets/annotation/common/icon_clearSmall.svg","../../../src/data/Style.ts","../../../../../src/assets/annotation/toolHotKeyIcon/icon_del_kj.svg","../../../../src/components/pointCloudView/PointCloudInfos.tsx","../../../../src/components/AnnotationView/index.tsx","../../../../src/components/customResizeHook/index.tsx","../../../src/utils/ConfigUtils.ts","../../../../src/components/fileException/FileError.tsx","../../../../src/store/toolStyle/actionCreators.ts","../../../../../src/views/MainView/sidebar/index.tsx","../../../src/utils/TextUtils.ts","../../../../src/store/imgAttribute/actionCreators.ts","../../../../src/components/attributeList/index.tsx","../../../../../src/views/MainView/sidebar/ToolIcons.tsx","../../../../../src/components/pointCloudView/hooks/useStatus.ts","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_move_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_tab_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_line_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineCont_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_unGrip_kj.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/tag/index.ts","../../../../../../src/views/MainView/toolFooter/ZoomController/index.tsx","../../../../../src/views/MainView/toolFooter/Pagination.tsx","../../../../src/components/videoPlayer/TagToolInstanceAdaptor.tsx","../../../../src/components/videoPlayer/index.tsx","../../../../../../src/components/pointCloudView/components/EmptyPage/index.tsx","../../../../../src/components/pointCloudView/hooks/useRotate.ts","../../lb-annotation/es/_virtual/_rollup-plugin-web-worker-loader__helper__node__createBase64WorkerFactory.js","../../lb-annotation/es/_virtual/_rollup-plugin-web-worker-loader__helper__node__WorkerClass.js","../../lb-annotation/es/_virtual/_rollup-plugin-web-worker-loader__helper__auto__isNodeJS.js","../../../src/hooks/useRefCache.ts","../../../../src/components/AnnotationView/pointCloudAnnotationView.tsx","../../src/App.tsx","../../../../src/views/MainView/index.tsx","../../../src/constant/styleString.ts","../../../src/utils/AnnotationDataUtils.ts","../../../src/utils/data.ts","../../../src/utils/PageOperator.ts","../../../../../src/views/MainView/annotationOperation/index.tsx","../../../src/hooks/useRafState.ts","../../../../../src/views/MainView/annotationTips/index.tsx","../../../../../../src/views/MainView/sidebar/AnnotationText/index.tsx","../../../../../../src/views/MainView/sidebar/TextAreaFormat/index.tsx","../../../../../../src/views/MainView/sidebar/ClearIcon/index.tsx","../../../../../../src/views/MainView/sidebar/GeneralOperation/index.tsx","../../../../../../src/views/MainView/sidebar/GeneralOperation/ActionsConfirm.tsx","../../../../../../src/views/MainView/sidebar/GeneralOperation/useOperationList.tsx","../../../../../src/assets/annotation/common/icon_clear.svg","../../../../../src/assets/annotation/common/icon_clear_a.svg","../../../../../src/assets/annotation/common/icon_invalid.svg","../../../../../src/assets/annotation/common/icon_invalid_a.svg","../../../../../../src/views/MainView/sidebar/ImgAttributeInfo/index.tsx","../../../../../src/assets/annotation/image/saturation.svg","../../../../../src/assets/annotation/image/contrast.svg","../../../../../src/assets/annotation/image/brightness.svg","../../../../src/assets/attributeIcon/zoomUp.svg","../../../../../src/assets/annotation/image/icon_yuantu.svg","../../../../../../src/views/MainView/sidebar/SwitchAttributeList/index.tsx","../../../../src/components/colorTag/index.tsx","../../../../../../src/views/MainView/sidebar/TagSidebar/index.tsx","../../../../src/components/checkboxList/index.tsx","../../../../../../src/views/MainView/sidebar/TextToolSidebar/index.tsx","../../../../../../src/views/MainView/sidebar/PointCloudToolSidebar/index.tsx","../../../../../src/assets/annotation/lineTool/icon_line.svg","../../../../../src/assets/annotation/lineTool/icon_line_a.svg","../../../../../src/assets/annotation/pointTool/icon_point.svg","../../../../../src/assets/annotation/pointTool/icon_point_a.svg","../../../../../src/assets/annotation/polygonTool/icon_polygon_a.svg","../../../../../src/assets/annotation/polygonTool/icon_polygon.svg","../../../../../src/assets/annotation/rectTool/icon_rect.svg","../../../../../src/assets/annotation/rectTool/icon_rect_a.svg","../../../../../../src/views/MainView/sidebar/ToolStyle/index.tsx","../../../../src/assets/toolStyle/icon_border.svg","../../../../src/assets/toolStyle/icon_borderColor.svg","../../../../src/assets/toolStyle/icon_opacityStroke.svg","../../../../src/assets/toolStyle/icon_opacityFill.svg","../../../../../../src/views/MainView/sidebar/ScribbleSidebar/index.tsx","../../../../src/assets/attributeIcon/pen_a.svg","../../../../src/assets/attributeIcon/pen.svg","../../../../src/assets/attributeIcon/eraser_a.svg","../../../../src/assets/attributeIcon/eraser.svg","../../../../../../src/views/MainView/toolFooter/FooterTips/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_kj1.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_kj_h.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/rectToolShortCutTable/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_frame_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_frameNull_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_frameActive_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_frameChange_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_cencel_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_reform_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_loupe_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_mouse_middle_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_fullView_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_reload_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/setValid.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_last_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_next_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_alttab_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_save_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineSpecial_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_noDisplay.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_playPause.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_forward_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_back_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_speed_kj.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/point/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_point_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_pointNull_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_pointActive_kj.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/polygon/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonNull_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonActive_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonChange_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonDel_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonInsert_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_segment.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_polygonMerge_kj.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/line/index.tsx","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineNull_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_straightLine_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineActive_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineChange_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineInsert_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_lineDel_kj.svg","../../../../../src/assets/annotation/toolHotKeyIcon/icon_tag_kj.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/text/index.ts","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/videoTag/index.ts","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/pointCloud/index.tsx","../../../../../src/assets/annotation/pointCloudTool/changePointCloudValid.svg","../../../../../src/assets/annotation/pointCloudTool/copy.svg","../../../../../src/assets/annotation/pointCloudTool/nextBox.svg","../../../../../src/assets/annotation/pointCloudTool/patse.svg","../../../../../src/assets/annotation/pointCloudTool/prevBox.svg","../../../../../src/assets/annotation/pointCloudTool/rotate180_black.svg","../../../../../src/assets/annotation/pointCloudTool/selectAll.svg","../../../../../src/assets/annotation/pointCloudTool/selectMultiple.svg","../../../../../../../src/views/MainView/toolFooter/FooterTips/ToolHotKey/scribble/index.tsx","../../../../../../src/views/MainView/toolFooter/HiddenTips/index.tsx","../../../../../../src/views/MainView/toolFooter/PageNumber/index.tsx","../../../../../src/assets/annotation/common/icon_adapt.svg","../../../../../src/assets/annotation/common/icon_adapt_black.svg","../../../../../../../src/views/MainView/toolFooter/ZoomController/ZoomLevel/index.tsx","../../../src/hooks/useSafeSate.ts","../../../src/hooks/useUnmountedRef.ts","../../../../../src/views/MainView/toolHeader/index.tsx","../../../../../../src/views/MainView/toolHeader/ExportData/index.tsx","../../../../../../src/views/MainView/toolHeader/headerOption/index.tsx","../../../../../src/assets/annotation/common/icon_r.svg","../../../../../src/assets/annotation/common/icon_next.svg","../../../../../src/assets/annotation/common/icon_back.svg","../../../../../src/assets/annotation/common/icon_rA.svg","../../../../../src/assets/annotation/common/icon_nextA.svg","../../../../../src/assets/annotation/common/icon_backA.svg","../../../../../src/assets/annotation/common/icon_save.svg","../../../../../src/assets/annotation/common/icon_saveA.svg","../../../../../../src/views/MainView/toolHeader/StepSwitch/index.tsx","../../../../../src/components/customAntd/IconWithText/index.tsx","../../../../src/components/annotationStepPopover/index.tsx","../../../../src/components/videoAnnotate/index.tsx","../../../../../../src/components/videoPlayer/components/controller/index.tsx","../../../../../src/assets/annotation/video/icon_keyboard_h.svg","../../../../src/components/fileException/index.tsx","../../../../src/components/fileException/FileInvalid.tsx","../../../../src/components/videoPlayer/VideoTagLayer.tsx","../../../../src/components/pointCloudView/index.tsx","../../../../src/components/pointCloudView/PointCloud3DView.tsx","../../../../src/components/pointCloudView/PointCloudBackView.tsx","../../../../../src/assets/annotation/pointCloudTool/nodata.svg","../../../../src/components/pointCloudView/PointCloudTopView.tsx","../../../../../src/components/pointCloudView/hooks/usePolygon.ts","../../../../../src/components/pointCloudView/hooks/useZoom.ts","../../../../src/components/pointCloudView/PointCloudSideView.tsx","../../../../src/components/pointCloudView/PointCloud2DView.tsx","../../../../src/components/pointCloudView/PointCloudListener.tsx","../../../../../src/components/pointCloudView/hooks/useBoxes.ts","../../../src/hooks/annotation.ts","../../src/configureStore.ts","../../../src/store/index.ts","../../../../src/store/imgAttribute/reducer.ts","../../../../src/store/toolStyle/reducer.ts","../../../src/utils/ToolStyleUtils.ts","../../../../src/components/videoPlayer/TagToolInstanceAdaptorI18nProvider.tsx","mock/images/10.jpg","mock/images/19.jpg","mock/images/20.jpg","mock/images/66.jpg","mock/pointCloud/lidar/1.pcd","mock/pointCloud.js","mock/pointCloud/lidar/2.pcd","mock/pointCloud/image/P2/1.png","mock/pointCloud/image/P2/2.png","mock/index.js","components/Annotation/index.jsx","mock/taskConfig.js","App.js","index.js"],"names":["resources","ConfirmTo","TextInput","NoAttribute","Save","Undo","Redo","Rotate","Style","Adjust","BorderThickness","Color","BorderOpacity","FillOpacity","Saturation","Contrast","Exposure","ScreenRatio","OriginalScale","CopyThePrevious","ClearLabel","SetAsInvalid","SetAsValid","Confirm","Cancel","ItemsOfThisPage","Hotkeys","AnnotateRect","AnnotateInvalidRect","SelectRect","RightClick","ToggleRectEffectiveness","ToggleEffectiveness","DeleteRect","SelectAndDoubleClick","Scale","Fullscreen","PreviousImage","PreviousFile","NextImage","NextFile","PreviousFolder","NextFolder","Drag","ToggleSelected","ToggleSelectedReverse","HideGraphics","ToggleLineParticularity","ToSide","SpecifiedAttributesOnly","Press","ToOriginalStep","HorizontalOrVertical","AnnotateInvalidLine","AnnotateLine","SelectLine","ToggleLineEffectiveness","DeleteLine","ContinueToLabel","Select","InsertPoint","ClickOnLine","DeletePoint","DblClickOnPoint","StopAdsorption","PreviousLine","NextLine","SelectPoint","AnnotateInvalidPoint","AnnotatePoint","AnnotatePolygon","SelectPolygon","AnnotateInvalidPolygon","TogglePolygonEffectiveness","DeletePolygon","TogglePointParticularity","CropOverlapArea","SegmentationRecognition","SwitchPattern","Tagging","Hide","HideDrawnAnnotation","Blue","Cyan","Green","Yellow","Pink","Steps","Export","NextStep","StepNotFinishedNotify","curItems","TurnPage","Switch","EmptyTextInput","RegularExpIncorrectly","NoConfiguration","ClearThisOption","RestoreImageAttributes","rectTool","tagTool","polygonTool","lineTool","pointTool","textTool","Speed","PlayPause","FastForward","Rewind","videoInvalidAndSkip","imageInvalidAndSkip","videoErrorAndReload","imageErrorAndReload","orMaskAsInvalid","ClickAnotherPolygon","PolygonsToBeCombinedNeedToBeSelected","CurveModeDoesNotSupportCutting","CombineSuccess","CombiningFailedNotify","CombineOverlapArea","NoDependency","TextCheckNumberOnly","TextCheckEnglishOnly","TextCheckCustomFormat","FramingOfObjectToBeDivided","ClickOnTarget","SplittingAlgorithmPrediction","TopView","SideView","BackView","ShowArrows","Length","Width","Height","Rotation_y","PointCount","Invalid","Tag","Attribute","SubAttribute","PleaseSelect","CopyEmptyInPointCloud","PasteEmptyInPointCloud","HasDuplicateID","LowerLimitPointsNumInBox","PointThickness","RotateAroundCenterPoint","PointCloudViewTranslate","TopViewTranslate","ChangePointCloudValid","CopyBox","PasteBox","RotateLeft","RotateRight","NextBox","PreviousBox","Rotate180","CopyPrevPage","ChangeBoxValid","MultiSelect","SelectAllBox","GeneralOperation","RectPattern","DragOperation","SelectedStatus","updateValidFromValidToInValid","updateValidFromInValidToValid","i18n","language","use","initReactI18next","init","lng","interpolation","escapeValue","react","useSuspense","addResourceBundle","_ToolStyleUtils","ToolStyleUtils","replaceAFromRGBA","rgba","opacity","split","join","replace","toFixed","getToolStrokeAndFill","color","options","hover","selected","borderOpacity","fillOpacity","commonOpacity","stroke","fill","getAttributeIndex","attribute","attributeList","findIndex","i","value","error","DEFAULT_COLORS","ATTRIBUTE_COLORS","index","this","_defaultColors","_attributeColors","result","config","styleConfig","_a","Object","prototype","toString","call","colorIndex","valid","multiColorIndex","defaultStatus","colorList","defaultColors","attributeConfigurable","attributeColors","attributeIndex","length","PerspectiveShiftUtils","x","y","z","distance","translationMatrix","scale","volume","offsetX","width","offsetY","height","offsetZ","depth","PointCloudUtils","genColorByCoord","map","hex","_b","data","jsonParser","renderPolygon","boxParams","center","type","pointList","getFrontViewPolygon","getBackViewPolygon","getAllDirectionLine","v","rotation_y","transferRotation2KittiRotation_y","rotation","standardRange","Math","PI","updatedRotation","newRotation","content","JSON","parse","e","EPerspectiveView","EPerspectiveView2","flat","acc","cur","MatrixUtils","matrix34Kitti","reduce","matrix33Kitti","concat","colorArr","colorId","hexString","rgb","r","g","b","hsl","h","s","l","name","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","step","next","rejected","throw","done","then","apply","_ImgConversionUtils","imgNode","canvas","document","createElement","ctx","getContext","src","Image","crossOrigin","onload","onerror","console","renderCanvas","imgData","customColor","backgroundColor","hiddenUndefinedColor","fillStyle","fillRect","renderPixelByImgData","size","getColor","colorByCustom","find","channel","toDataURL","some","a","floor","ImgConversionUtils","nextTick","setTimeout","getColorMapBySingleChannelMask","params","maskSrc","basicImgSrc","createImgDom","createCanvas","basicCtx","drawImage","renderCtx","basicImg","globalAlpha","getImageData","newImgSrc","renderColorByMask","getMaskByColorImg","_0","renderMaskByColor","LabelBeeContext","React","createContext","useDispatch","createDispatchHook","useSelector","createSelectorHook","EPointCloudName","EVideoToolName","EVideoToolName2","EToolType","EToolType2","EToolName","EToolName2","ECheckModel","ERectPattern","ERectPattern2","editStepWidth","EDependPattern","EDependPattern2","EFilterToolOperation","EFilterToolOperation2","TOOL_NAME","Rect","Point","PointMarker","Segmentation","Filter","Text","Polygon","Line","LineMarker","FolderTag","RectTrack","Face","ClientAttribute","OCRRelation","SegmentByRect","VideoTextTool","VideoTagTool","VideoClipTool","PointCloud","TOOL_NAME_EN","EAnnotationMode","EAnnotationMode2","ELineTypes","ELineTypes2","ELineColor","ELineColor2","ESelectedType","ESelectedType2","EDragTarget","EDragTarget2","EDrawPointPattern","EDrawPointPattern2","EPageOperator","EPageOperator2","EAuditStatus","EAuditStatus2","ETextType","ETextType2","OPERATION_LIST","leftClick","rightClick","ctrlLeftClick","ctrlRightClick","EThumbnailOption","EThumbnailOption2","TEXT_TYPE","TEXT_ATTRIBUTE_MAX_LENGTH","TEXT_ATTRIBUTE_LINE_HEIGHT","DEFAULT_TEXT_MAX_WIDTH","DEFAULT_FONT","EPolygonPattern","EPolygonPattern2","EScribblePattern","EScribblePattern2","CLIENT_TOOL_HEAD_TYPE","CLIENT_TOOL_NAME","SEGMENT_NUMBER","edgeAdsorptionScope","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","enumerable","configurable","writable","__spreadValues","prop","__spreadProps","createSmoothCurvePoints","points","tension","closed","numberOfSegments","t1x","t2x","t1y","t2y","c1","c2","c3","c4","st","t","ps","slice","unshift","push","pow","formatResult","j","d","shift","createSmoothCurvePointsFromPointList","isInPolygon","checkPoint","polygonPoints","xinters","p1","p2","lineType","counter","Curve","pointCount","min","max","getPolygonPointUnderZoom","zoom","EStepType","EStepType2","headerHeight","tipsHeight","footerHeight","sidebarWidth","EDragStatus","EDragStatus2","ESortDirection","ESortDirection2","EGrowthMode","EGrowthMode2","ELang","ELang2","ERotateDirection","ERotateDirection2","ANNOTATION_MAX_SIZE","DEFAULT_TEXT_OFFSET","DEFAULT_TEXT_SHADOW","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","TEXT_ATTRIBUTE_OFFSET","CommonToolUtils","stepList","filter","info","currentStep","currentStepInfo","getStepInfo","QUALITY_INSPECTION","MANUAL_CORRECTION","getCurrentStepInfo","dataSourceStep","order","forEach","event","target","srcElement","tagName","flag","isContentEditable","readOnly","rectList","sort","ascend","selectedID","sign","descend","sortRectList","id","len","sortDirection","shiftKey","getNextSelectedRectID","resultList","sourceID","selectedRect","attributeLockList","showingRect","includes","isDifferSourceID","basicResult","isClose","arr","newPoint","point1","point2","pointIndex","sourceIDA","sourceIDB","translateSourceID","markerList","markerIndex","newSortList","markerInfo","every","rect","label","marker","defaultValue","isObject","EStatus","EStatus2","EColor","_LineToolUtils","scope","MathUtils","getFootOfPerpendicular","LineToolUtils","setSpecialEdgeStyle","lineCap","setLineDash","setReferenceCtx","calcOptimalIntersection","matchLine","matchPoint","pointRadius","optimalIntersection","scopeIntersection","minDistance","Infinity","p","pointAOnLine","isInLine","pointA","pointBOnLine","pointB","point","line2","intersection","lineIntersection","onLine2","onLine1","calcDistance","isOnLine","cPoint","footPoint","distPointA","distPointB","lineA","lineB","lineADiff","getAxisDiff","lineBDiff","denominator","numerator1","numerator2","line","sqrt","abs","drawCurveLine","applyLineWidth","isReference","hoverEdgeIndex","save","lineJoin","strokeStyle","lineWidth","specialEdge","curveLinePoints","splice","beginPath","fn","restore","calcTwoPointDistance","pointOverTarget","axis","preAxis","dependToolName","dependData","dependConfig","imageSize","getRenderAxis","getAbsAxis","absAxis","polygonPointList","getPolygonPointList","PolygonUtils","line1","intersectionAbsAxis","withinRange","endX","endY","px","py","inArea","top","left","right","bottom","getVHPoint","lastPoint","nextPoint","absNextPoint","renderLastPoint","angle","getAngle","startPoint","endPoint","diffX","diffY","atan","AxisUtils","coordinate","currentPos","coord","imgInfo","drawOutsideTarget","rotate","imgSize","changePointByZoom","radius","axisArray","cX","cY","getIsInScope","currentCoord","targetCoord","CoordinateUtils","props","basicImgInfo","renderCoord","absCoord","curCoord","preCoord","polygonPointListToLineList","getRenderCoord","drawingLine","polygon","polygonToolConfig","getIntersection","getAbsCoord","coordInsideRect","curAbsCoord","preAbsCoord","isDependRect","isDependPolygon","coordInsidePolygon","dependToolConfig","isDependOriginalImage","coordInsideImage","isInBasicPolygon","rectHorizontalRange","rectVerticalRange","isInRange","hoverPolygonID","minSize","axisList","axisArea","calcPolygonSize","nextVal","newPoints","pos","m","polygonList","ids","edgeIndex","minLength","range","option","hasClosed","closestPolygonID","closestEdgeIndex","dropFoot","isCloseNode","findAllLine","lineIndex","twoPointDistance1","getLineLength","twoPointDistance2","total","direction","Anticlockwise","rotateRectPointList","array","selectedPolygon","concatBeginAndEnd","backgroundPolygon","diff","difference","geometry","coordinates","_a2","deletePolygonLastPoint","pointLists","newPointList","nextIndex","selectedPolygonID","isPointListInPolygon","wrapPointList","wrapDirection","isPolygonClosewise","selectedDirection","linkIndex","getClosePointDistanceFromPolygon","linkPoint","reverse","k","n","count","minLen","Number","MAX_SAFE_INTEGER","combinedPolygon","turfSelectedPolygon","turfCombinedPolygon","unionPolygon","union","unionList","newPolygon","__pow","Vector","vector1","vector2","vector","Trigonometric","tanA","tanB","sinA","cosA","sinB","cosB","_MathUtils","text","maxWidth","font","lineHeight","context","parseInt","window","getComputedStyle","body","fontHeight","fontSize","arrParagraph","arrText","testLine","metrics","measureText","textWidth","getVector","perpendicularLine","getPerpendicularLine","begin","end","triangle","p3","dragStartCoord","basicLine","footer1","footer2","offset","add","changePointIndex","prePointIndex","getArrayIndex","nextPointIndex","originIndex","newFooter1","newFooter2","rectPointList","centerPoint","getRectCenterPoint","sin","cos","cosAPlusB","sinAPlusB","getPerpendicularFootOfLine","getQuadrangleFromTriangle","point3","cosX","acos","annotations","connectionPoints","cacheSet","Set","annotation","backgroundList","judgeIsConnectPoint","getClosestPoint","has","traverseID","newPolygonList","Array","isArray","inRange","calcViewportBoundaries","isCurve","MIN_LENGTH","xAxis","yAxis","minX","maxX","minY","maxY","addLen","pt","useAxisRange","retVal","dx","dy","u","ratio","fromX","toX","fromY","toY","allAxisOverRange","someAxisOverRange","isOverRange","EKeyCode","EKeyCode2","MathUtils$1","RectUtils","stepName","assign","stringify","toolName","tool","leftTopCoordinate","changeCoordinateByRotate","basicRect","getRectPointList","EMessage","EMessage2","EKeyCode$1","message","NoRotateNotice","RectErrorSizeNotice","TextCheckNumberErrorNotice","TextCheckEnglishErrorNotice","TextCheckCustomErrorNotice","UpperLimitErrorNotice","LowerLimitErrorNotice","InvalidImage","DisableDelete","ClearPartialData","MarkerFinish","LowerLimitPoint","NoRotateInDependence","UnableToReannotation","ForbiddenCreationOutsideBoundary","SuccessfulEdgeAdsorption","Locale","getMessagesByLocale","locale","US","message$1","Zh","canvasEdit0","INVALID_ICON","NULL_ICON","HEADER_HEIGHT","TAB_HEIGHT","SEARCH_HEIGHT","PADDING","TABLE_ROW_HEIGHT","PAGINATION_HEIGHT","TIPS_HEIGHT","FOOTER_HEIGHT","SIDERBAR_WIDTH","EDIT_STEP_WIDTH","THEME_COLOR","COLORS_ARRAY","ICON_ARRAY","BASE_ICON","INVALID_COLOR","NULL_COLOR","FILTER_TOOL_COLOR","lc","rc","clc","crc","AttributeUtils","img","textCheckType","customFormat","regExpString","Order","NumberOnly","EnglishOnly","CustomFormat","checkStrings","RegExp","test","toolResultList","textAttributeList","textAttribute","isNumber","maxOrder","pop","toolList","item","lang","checkString","textAttributeValidate","toolLog","changeRect","baseIcon","keyCode","num","CanvasUtils","canvasRect","getBoundingClientRect","clientX","clientY","viewPort","getViewPort","originOffset","canvasWidth","canvasHeight","getPixelRatio","backingStore","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","devicePixelRatio","UnitUtils","angleDeg","angleRad","DEFAULT_CURRENT_POS","DEFAULT_COLOR","DrawUtils","thickness","moveTo","lineTo","hiddenText","lineDash","strokeRect","showText","drawText","textSizeWidth","marginTop","textMaxWidth","parent","parentNode","dom","innerHTML","setAttribute","appendChild","tagList","oldDom","self","getElementById","contains","removeChild","keyName","setStyle","specialEdgeList","i1","i2","DEFAULT_SPECIAL_POINT_RADIUS","DEFAULT_BORDER","specialPoint","drawSpecialPoint","anchorPoint","startAngleDeg","endAngleDeg","startAngleRad","deg2rad","endAngleRad","arc","closePath","newPointRadius","xl","yl","drawLineWithPointList","otherPointList","strokeColor","fillColor","drawPolygon","drawPolygonWithFill","pointColor","drawCircleWithFill","drawPolygonWithFillAndLine","textAlign","wrapText","fillText","theta","headLen","atan2","angle1","angle2","topX","topY","botX","botY","drawArrow","drawImg","imgAttribute","translate","contrast","saturation","brightness","MarkerUtils","getAttributeShowText","uuid","radix","chars","random","rectToolConfig","showConfirm","skipWhileNoDependencies","copyBackwardResult","minWidth","minHeight","isShowOrder","filterData","textConfigurable","tagToolConfig","inputList","isMulti","subSelected","isDefault","lineToolConfig","lineColor","edgeAdsorption","outOfTarget","lowerLimitPointNum","upperLimitPointNum","preReferenceStep","textToolConfig","enableTextRecognition","recognitionMode","configList","required","default","maxLength","polygonConfig","getConfig","styleDefaultConfig","toolColor","invalid","validSelected","invalidSelected","validHover","invalidHover","attributeColor","attributeLineColor","ActionsHistory","historyChanged","record","recordIndex","minRecordIndex","emitHistoryChanged","constructor","undoEnabled","redoEnabled","action","newRecord","_","cloneDeepWith","cloneDeep","lines","isExitData","existData","DblClickEventListener","delay","rcTime","mouseDownTime","onMouseDown","Date","getTime","isDoubleClick","removeEventListener","mouseUp","mouseMove","dblclick","singleClickFun","leftDblClick","rightDblClick","isAllowDouble","removeEvent","cTime","button","clearTimeout","setTimeFun","cacheFunction","clickCoord","getCoord","addEventListener","ImgPosUtils","canvasSize","zoomRatio","isOriginalSize","wScale","hScale","shrinkRatio","initZoom","viewCenter","imgCenter","innerZoom","RenderDomUtils","container","invalidDOM","ZOOM_LEVEL","from","ZoomUtils","zoomChanged","isZoomIn","growthMode","Linear","Intelligence","newZoom","maxZoom","minZoom","zoomIndex","newZoomIndex","wheelChangePos","operator","oldCurrentPos","basicZoom","zoomMax","parseFloat","imgWidth","imgHeight","offsetLeft","offsetTop","ratioX","ratioY","currentZoom","changeX","changeY","currentX","currentY","EventListener","_events","Map","eventName","callback","existEvents","get","set","args","listener","delete","zoomInfo","BasicToolOperation","_c","_d","_e","_f","_g","_h","_i","isDrag","isSpaceKey","isSpaceClick","isDragStart","startTime","initImgPos","_imgAttribute","getInitImgPos","setCurrentPos","currentPosStorage","setImgInfo","setZoom","render","renderBasicCanvas","emit","getCurrentPos","_firstClickCoordinate","newCurrentPos","getGetCenterCoordinate","zoomChangeOnCenter","hiddenImg","basicCanvas","showDefaultCursor","destroyCanvas","isAppend","isImgError","forbidOperation","forbidBasicResultRender","isShowCursor","style","strokeWidth","history","isHidden","dragStatus","Wait","defaultAttribute","forbidCursorLine","bind","onMouseMove","onMouseLeave","onMouseUp","onKeyDown","onKeyUp","onWheel","onLeftDblClick","onRightDblClick","onClick","clearImgDrag","dblClickListener","coordUtils","setBasicImgInfo","preventDefault","_ctx","markerConfigurable","setZoomAndCurrentPos","referenceData","cursor","defaultCursor","eventUnbinding","initPosition","eventBinding","zIndex","pixel","pixelRatio","position","updateCanvasBasicStyle","hasChildNodes","insertBefore","childNodes","clearInvalidPage","toolStyle","setValid","originIsImgError","setShowDefaultCursor","bounding","getCoordinateUnderZoom","newBoundry","basicZone","getBasicRecPos","undo","redo","clearRect","addEvent","onContextmenu","getCoordinate","stopPropagation","Error","time","Alt","Space","Z","ctrlKey","isRender","delta","deltaY","wheelDelta","drawLine","renderInvalidPage","oldImgAttribute","sendMessage","clearResult","setBasicResult","setDependInfo","dataInjectionAtCreation","renderEnhance","customRenderStyle","dataList","getRotate","_invalidDOM","clearBasicCanvas","drawRect","changeRectByZoom","changePointListByZoom","clearCanvas","newAttribute","TextAttributeClass","textKeyDown","Enter","submitTextarea","appendToContainer","icon","getCurrentSelectedData","updateSelectedTextAttribute","_textAttributeDOM","initTextAttributeDOM","_iconDOM","initIconDOM","_textDOM","initTextDOM","_textareaDOM","initTextareaDOM","renderTextarea","removeTextareaDOM","clearTextAttribute","removeIconDOM","removeTextDOM","focus","newWidth","borderColor","isExitTextareaDOM","RectOperation","setMarkerIndex","setMarkerIndexAndSelect","markerValue","currentRect","currentPageResult","setSelectedID","setDefaultAttribute","getHoverRectID","currentShowList","selectedRectID","isInRect","hoverList","textChange","setRectList","drawOutSideTarget","isFlow","hoverRectEdgeIndex","hoverRectPointIndex","createNewDrawingRect","getDrawingRectWithRectList","setSelectedIdAfterAddingDrawingRect","updateSelectedRectTextAttribute","clearActiveStatus","hasMarkerConfig","nextMarkerInfo","getNextMarker","getCurrentPageResult","_textAttributInstance","isClear","isUpload","oldLen","getRenderResultList","getSourceID","newID","setSelectedRectID","oldID","changeSelected","updateIcon","getTextIconSvg","newTextAttribute","getErrorNotice","returnClosePointIndex","edgeList","getRectEdgeList","edge","forbidMouseOperation","hoverRectID","firstRect","getHoverRectPointIndex","dragTarget","dragInfo","Start","getHoverRectEdgeIndex","drawingRect","Plane","Move","dragRect","getRectUnderZoom","newX","newY","newHeight","isRectNotInPolygon","basicX","basicY","basicWidth","basicHeight","coordinateZoom","changeDrawOutsideTarget","onDragMove","oldHoverRectID","firstClickCoord","basicSourceID","nextMarkInfo","getTextAttribute","isSameSourceID","getMaxOrder","firstCurrentPos","round","newRectList","pushHistory","hoverRect","clearRightDblClick","getCurrentMarkerIndex","addDrawingRectToRectList","setRectValidAndRender","rightMouseUp","shiftRightMouseUp","deleteRect","hotkeyFilter","Ctrl","F","setIsHidden","Delete","Tab","inViewPort","nextSelectedRect","keyCode2Attribute","getAttributeByKeycode","newDrawingRect","newFirsClickCoord","oldZoom","customStyle","textColor","getOffsetCoordinate","isExit","update","renderTextAttribute","isZoom","getRenderStyle","getMarkerShowText","transformRect","drawRectWithFill","rectSize","renderDrawingRect","staticRender","renderSelectedRect","selectedRender","creatingRender","renderStaticRect","renderCreatingRect","renderRect","renderCursorLine","getLineColor","oldDefault","changeStyle","disableDelete","rectID","TagUtil","labelInfoSet","keys","entries","valueList","nameList","getTagKeyName","getTagName","resultValue","indexOf","originResult","originResultList","basicResultList","defaultResult","getDefaultResultByConfig","TagOperation","getInitResultList","getDefaultTagResult","setLabel","basicTagResult","tagResult","times","oldKey","keyList","labelSelectedList","clearTag","currentTagResult","tagInfoList","getTagNameList","renderTag","StyleUtils","isSelected","isHover","PointOperation","currentPoint","setPointList","isMinDistance","transformCoord","transformPoint","createPoint","drawPointOut","setNextMarker","hoverID","getHoverId","zoomCoordinate","getOriginCoordinateWithOffsetCoordinate","deletePoint","onTabKeyDown","upperLimit","isOutSide","newDrawingPoint","selectPoint","print","isInPoint","hoverPoint","showingResult","selectedResult","undoAndRedo","toolData","getStrokeAndFill","drawCircle","showOrder","showingPointList","selectedPoint","renderPoint","renderPointList","renderTop","EAnnotationStatus","EAnnotationStatus2","LINE_ORDER_OFFSET","LineToolOperation","drawActivatedLine","hideTempAxis","activeLine","isActiveLineValid","existLine","lineList","nextOrder","getLineColorByAttribute","updateActiveArea","drawLineNumber","isCreate","isShift","drawHoverPoint","isMousedown","isLineSelected","nearestPoint","getPointList","findNearestPoint","hoverPointID","coordsInsideActiveArea","hoverLineSegmentIndex","showPoint","isActive","pointsToDraw","lineConfig","lineStyle","drawStraightLine","pointID","prePoint","drawLines","attributeFilteredLines","displayOrder","textEditingID","drawLineTextAttribute","moveLineInPolygon","lineDragging","moveActiveArea","moveLineInRectRange","activeArea","hBoundaries","vBoundaries","horizontalInRange","verticalInRange","calcOffsetX","calcOffsetY","onRightClick","isLinePointsNotEnough","stopLineCreating","setActiveArea","updateSelectedAttributeAfterHistoryChanged","updateAttribute","onLeftClick","isNone","hoveredLine","findHoverLine","setInvalidLine","isLinePointsExceed","nextAxis","getNextPoint","setCreatStatusAndAddPoint","isMouseCoordOutsideActiveArea","setNoneStatus","updateLineSegmentSpecial","addLinePointToActiveLine","onDblclick","Esc","deleteLine","continueToEdit","keyboardEventWhileLineCreating","findHoveredPoint","deleteSelectedLinePoint","deleteSelectedLine","setReference","pointsWithinRange","setLineList","lengthChanged","lineListLen","status","isLineValid","setConfig","prevAxis","actionsHistory","MultiColor","enableOutOfTarget","resetText","defaultText","isTextConfigurable","lineStatusChanged","getNextCoordByAbsCoord","getNextCoordByDependTool","initRecord","isRestText","updateStatus","addLinePoint","getActiveArea","renderActiveArea","hasActiveLine","keyForAttribute","updateLines","iAxis","list","getLineWidthScope","pointPosition","isVH","disabledAdsorb","altKey","edgeAdsorptionEnabled","getAdsorptionPoint","getCoordByConfig","getNextCoordByRenderCoord","isLeftClick","which","renderNextPoint","lineHover","edgeAdsorptionPoint","moveSelectPoint","moveSelectedLine","mouseMoveHandler","outsideCancel","area","setActiveLine","setSelectedLineID","updateLineAttributes","funcName","enableKeyName","currentHistory","straightLinePoints","pointInLine","specialEdgeIndex","getPointInsertIndex","pointData","insertIndex","pointsWithInRange","reset","newLine","setActiveAfterCreating","cloneWith","isEqual","createLineData","setActiveStatus","empty","Shift","setKeyDownStatus","toggleIsHide","selectToNextLine","nextSelectedLine","getNextSelectedRectIDByEvent","viewPortLines","setActiveLineByID","setInvalidLineOnCreating","boundary","setLineAttribute","applyAttribute","targetID","updateTextAttribute","updateHistory","selectedLineID","_textAttributeInstance","setResult","setTextAttribute","TextToolOperation","getSingleResult","initValue","textList","initTextDisplayContainer","textValueContainerID","textResultList","toggleTextContainerVisible","values","renderText","textDom","innerText","domStyle","background","pre","div","getTextDomID","textValueContainer","isVisible","display","PolygonOperation","currentSelectedID","getHoverID","setPolygonList","drawingPointList","hoverPointIndex","drawingHistory","isCtrl","isAlt","isCombined","pattern","Normal","dragMouseUp","getPolygonByID","isForce","showingPolygon","selectdPolygon","newPolygonData","Clockwise","rotatePointList","updatePolygonByRotate","setPolygonDataByID","forbidAddNewPolygonFuc","deleteSelectedID","polygonListUnderZoom","coordinateWithOrigin","getRectangleByRightAngle","isPolygonOutSide","addDrawingPointToPolygonList","clearPolygonDrag","isRect","createPolygon","editPolygonID","samePolygon","setSelectedIdAfterAddingDrawing","polygonListWithZoom","getHoverPolygonID","selectPolygon","editPointListUnderZoom","getHoverEdgeIndex","deletedPolygon","deletedObject","switchToNextPolygon","sortList","nextSelectedResult","spaceKeydown","setPolygonValidAndRender","onCombinedExecute","deletePolygon","X","segment","oldAlt","getHoverPointIndex","deletePolygonPoint","firstPolygon","initPointList","closePointIndex","closeEdgeIndex","originPolygon","selectedPointList","backgroundPolygonList","wrapIndex","getWrapPolygonIndex","newPointListArray","segmentPolygonByPolygon","clipPolygonFromWrapPolygon","composeData","combinePolygonWithPolygon","isPointListOutSidePolygon","firstPointIndex","secondPointIndex","getRectPerpendicularOffset","getPointListFromPointOffset","newData","newHoverID","addPointInDrawing","combine","leftMouseUp","transformPointList","drawSelectedPolygonWithFillAndLine","hoverPolygon","renderStaticPolygon","renderHoverPolygon","renderSelectedPolygon","defaultColor","hoverColor","selectedColor","padding","rectWidth","MeasureOperation","RenderDomClass","_domMap","_container","_height","wheelChange","oldKeys","newKeys","drawTagByDom","getStyle2String","DEFAULT_STROKE_COLOR","ViewOperation","originCoordinate","minArea","getPolygonArea","loading","renderDomInstance","newAnnotations","getCollectionPointByAnnotationData","mouseHoverID","newMouseSelectedID","oldMouseHoverID","newMouseHoverID","specificStyle","pick","newStyle","fontFamily","headerText","bottomText","newBoundary","setCurrentPosStorage","innerPosAndZoom","_j","_k","_l","_m","getSpecificStyle","fontStyle","getFontStyle","hiddenRectSize","fillArr","getReferenceOptions","getRenderText","polygonRenderOptions","showKeyPoint","drawPolygonWithKeyPoint","showDirection","getLineCenterPoint","drawArrowByCanvas","appendOffset","renderLine","textAnnotation","getTextArea","paddingLR","paddingTB","toolInstance","renderConnectionPoints","ScribbleTool","Scribble","getOriginCoordinate","getCoordinateUnderZoomByRotate","initCacheCanvas","mouseEvents","eventType","onScribbleMove","onScribbleEnd","onScribbleStart","Erase","onEraseMove","onEraseEnd","onEraseStart","setPattern","setCustomCursor","cursorErase","penSize","firstAttributeInfo","iconUrl","btoa","unescape","encodeURIComponent","isShowDefaultCursor","defaultAttributeInfo","cacheCanvas","cacheContext","url","clearCacheCanvas","updateCacheCanvasSize","cacheCanvasToDataUrl","updateUrl2CacheContext","attributeValue","attributeInfo","clearStatusAfterLeave","penSizeWithZoom","buttons","clip","eraseArc","imgBase64","renderBorderPoint","PointCloud2dOperation","selectedIDs","renderSingleSelectedPolygon","selectedPolygons","showDirectionLine","renderRectPolygonDirection","forbidAddNew","getPolygonByIDs","currentPolygonListByPattern","setSelectedIDs","isUpdate","ANNOTATION_TYPE","ANNOTATION_STATUS","CheckOperation","fillID","drawTag","isShow","getTagnameListWithoutConfig","onKeydown","clearPredictionInfo","segmentPrediction","isRunSegment","runPrediction","w","isEn","getCurrentOperation","Check","EnhanceCommonToolUtils","ImgUtils","startsWith","encodeURI","arraySwap","index1","index2","_HybridToolUtils","isHybridTool","HybridToolUtils","getTopToolName","ToolScheduler","toolOperationList","toolOperationDom","setImgNode","setSize","currentToolInstance","defaultSize","imgSrc","createEmptyImage","emptyImgNode","createDom","getEmptyImage","defaultData","ToolOperation","on","syncPosition","lastOneIndex","last2SecondIndex","lastOneDom","last2SecondDom","clearCursorLine","loadImage","AnnotationEngine","setImgSrc","toolScheduler","i18nLanguage","_initToolOperation","defaultConfig","destroyAllLayer","isSingleTool","createOperation","setLang","setDependName","setBasicInfo","setForbidOperation","setDataInjectionAtCreation","setRenderEnhance","newInstance","switchLastTwoCanvas","getFirstToolOperation","setCustomRenderStyle","createURL","base64","sourcemapArg","enableUnicodeArg","sourcemap","undefined","source","enableUnicode","binaryString","atob","binaryView","Uint8Array","charCodeAt","String","fromCharCode","Uint16Array","buffer","decodeBase64","start","substring","blob","Blob","URL","createObjectURL","createBase64WorkerFactory","isNodeJS","createBase64WorkerFactory$1","Worker","createBase64WorkerFactory$2","WorkerFactory","PCDLoader","manager","littleEndian","onLoad","onProgress","onError","loader","FileLoader","setPath","path","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","itemError","textData","LoaderUtils","decodeText","PCDheader","data2","PCDheader2","result1","search","result2","exec","headerLen","str","version","fields","viewpoint","sizeSum","rowSize","parseHeader","normal","pdColorUnit8","normal_x","normal_y","normal_z","sizes","Uint32Array","compressedSize","decompressedSize","decompressed","inData","outLength","ctrl","ref","inLength","outData","inPtr","outPtr","decompressLZF","dataview","DataView","getFloat32","row","BufferGeometry","Float32BufferAttribute","computeBoundingSphere","material","PointsMaterial","vertexColors","setHex","Points","Loader","__publicField","_changeEvent","_startEvent","_endEvent","OrbitControls","object","domElement","_domElementKeyEvents","warn","touchAction","enabled","Vector3","maxDistance","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TOUCH","TWO","DOLLY_PAN","target0","clone","position0","zoom0","getPolarAngle","spherical","phi","getAzimuthalAngle","getDistance","distanceTo","saveState","copy","updateProjectionMatrix","dispatchEvent","state","STATE","NONE","quat","Quaternion","setFromUnitVectors","up","quatInverse","invert","lastPosition","lastQuaternion","twoPI","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","isFinite","makeSafe","addScaledVector","panOffset","setFromSpherical","lookAt","multiplyScalar","distanceToSquared","EPS","dot","quaternion","dispose","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","onPointerMove","onPointerUp","onKeyDown2","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","element","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","matrix","isOrthographicCamera","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchMoveRotate","getSecondPointerPosition","subVectors","handleTouchMovePan","handleTouchMoveDolly","setPointerCapture","pointerId","addPointer","pointerType","trackPointer","DOLLY_ROTATE","onTouchStart","mouseAction","handleMouseDownDolly","metaKey","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","onTouchMove","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","removePointer","releasePointerCapture","handleMouseWheel","needsUpdate","code","handleKeyDown","pointer","passive","EventDispatcher","PointCloudCache","MAX_SIZE","cacheList","loadPCDFile","clonePoints","pointsMap","firstCacheInfo","pcdLoader","err","instance","noAppend","orthographicParams","zAxisLimit","initCameraPosition","DEFAULT_INIT_CAMERA_POSITION","pointsUuid","pointCloudObjectName","rangeObjectName","AddBoxToSense","removeObjectByName","group","THREE","cube","box","arrow","generateBoxArrow","scene","overridePointShader","shader","vertexShader","fragmentShader","clearPointCloud","cacheInstance","renderPointCloud","loadPCDFileByBox","cb","points2","filterPointsByBox","dir","origin","arrowHelper","visible","generateBoxTrackID","trackID","texture","getTextCanvas","sprite","depthWrite","boxID","applyZAxisPoints","filterZAxisPoints","updatePointSize","zoomIn","getObjectByName","preSize","renderer","antialias","camera","near","far","containerWidth","containerHeight","initCamera","controls","axesHelper","getInstance","aspect","setDefaultControls","setPixelRatio","initControls","initRenderer","oldBox","removeFromParent","P","R","T","PMA","transferMatrix34FromKitti2Three","RMA","transferMatrix33FromKitti2Three","TMA","PM","createThreeMatrix4","RM","TM","composeMatrix4","premultiply","cameraMatrix","allViewData","getAllViewData","transferKitti2Matrix","viewData","rotatePoint","lidar2image","newV","applyMatrix4","fixMatrix4","boxes","generateBox","perspectiveView","cameraPositionVector","getCameraVector","updateCamera","updateCameraByBox","setInitCameraPosition","matrix4","rotationZ","pointVector","Rz","makeRotationZ","TFrom","makeTranslation","TBack","zMax","zMin","originPoints","getCuboidFromPointCloudBox","attributes","filterBoxWorker","WorkerFactory$1","postMessage","onmessage","newColor","newPosition","terminate","Front","defaultDistance","TcMatrix4","frontViewMatrix4","Back","backViewMatrix4","Left","leftViewMatrix4","Right","rightViewMatrix4","Top","topViewMatrix4","LFT","leftFrontTopViewMatrix4","RBT","rightBackTopViewMatrix4","Tc","centerVector","cameraVector","getPoints","setFromPoints","ellipse","pointsMaterial","onBeforeCompile","circle","createRange","children","textBaseline","zScope","minZ","maxZ","zCount","pointPosArray","idx","multiply","getBoxPolygon2DCoordinate","getPolygonSidePoints","getPolygonBackPoints","getPolygonTopPoints","vectorList","boxParams2ViewPolygon","projectMatrix","matrixWorldInverse","projectionMatrix","boxSideMatrix","getModelTransformationMatrix","basicCoordinate2CanvasMatrix4","sideMatrix","polygon2d","wZoom","hZoom","offsetCenterPoint","offsetWidth","offsetDepth","selectedPointCloudBox","offsetVector","newBoxParams","offsetHeight","invertMatrix","polygonWorld","p1v","p2v","p3v","p4v","applyMatrix3","pcdPoints","visibility","getZ","CanvasScheduler","PointCloudAnnotation","pcdPath","polygonOperationProps","updatePolygonList","pointCloudDataList","extraList","pointCloudInstance","getBoxTopPolygon2DCoordinate","pointCloud2dOperation","defaultOrthographic","getDefaultOrthographic","image","canvasScheduler","pointCloud","defaultPolygonProps","polygonOperation","updateTopCamera","initOrthographicCamera","setCanvasSize","getBoxParamsFromResultList","getPolygonListFromResultList","addPolygonListOnTopView","clearPointCloudAndRender","toolUtils","className","classArray","PointCloudContext","pointCloudBoxList","setPointCloudResult","setPointCloudValid","setTopViewInstance","setSideViewInstance","setBackViewInstance","setMainViewInstance","addSelectedID","selectedAllBoxes","addPointCloudBox","useState","setSelectedIDsState","topViewInstance","sideViewInstance","backViewInstance","mainViewInstance","useMemo","ptCtx","ESubmitType","componentCls","block","elm","modify","prefix","defaultElement","current","StepUtils","ToolUtils","isVideoTool","isPointCloudTool","dispatchTasks","dispatch","tasks","task","getSubmitByPageOperation","pageTurningOperation","EPageTurningOperation","Forward","Backward","Jump","getBasicIndex","annotationStore","basicIndex","imgList","imgIndex","getStepConfig","SetTaskStepList","ANNOTATION_ACTIONS","SET_TASK_STEP_LIST","payload","SET_TASK_CONFIG","UpdateOnSubmit","onSubmit","UPDATE_ON_SUBMIT","UpdateOnSave","onSave","UPDATE_ON_SAVE","UpdateOnPageChange","onPageChange","UPDATE_ON_PAGE_CHANGE","UpdateOnStepChange","onStepChange","UPDATE_ON_STEP_CHANGE","UpdateGetFileData","getFileData","UPDATE_GET_FILE_DATA","UpdatePageSize","pageSize","UPDATE_PAGE_SIZE","UpdateGetFileList","loadFileList","UPDATE_LOAD_FILE_LIST","UpdateSkipBeforePageTurning","skipBeforePageTurning","SKIP_BEFORE_PAGE_TURNING","UpdateBeforeRotate","beforeRotate","UPDATE_BEFORE_ROTATE","UpdateProcessingStep","toStep","getState","SUBMIT_RESULT","SUBMIT_FILE_DATA","submitType","StepChanged","SET_STEP","CALC_STEP_PROGRESS","LoadFileAndFileData","ToSubmitFileData","SubmitAndChangeFileIndex","nextBasicIndex","ChangeBasicIndex","SET_BASIC_INDEX","ChangeTriggerEventAfterIndexChanged","triggerEventAfterIndexChanged","SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED","loadImgList","isInitial","page","SetAnnotationLoading","res","fileList","newImgList","UPDATE_IMG_LIST","DispatcherTurning","toIndex","PageOperator","getNextPageInfo","fileIndexChanged","fileIndex","basicIndexChanged","SET_LOADING","SAVE_RESULT","COPY_BACKWARD_RESULT","SetTaskConfig","INIT_TOOL","pageNumber","nextStep","currentStepIndex","getNextStep","UPDATE_ROTATE","UPDATE_TOOL_INSTANCE","store","configureStore","forwardRef","setToolInstance","useImperativeHandle","annotationEngine","pageBackwardActions","PageBackward","pageForwardActions","PageForward","pageJump","PageJump","hello","alert","Provider","I18nextProvider","PointCloudProvider","UPDATE_ANNOTATION_CONFIG","LOAD_FILE_DATA","SET_TOOL","GET_FILE_DATA","SET_FILE_DATA","SET_POINT_CLOUD_LOADING","UPDATE_ANNOTATION_VALID","UPDATE_IMG_ATTRIBUTE","INIT_IMG_ATTRIBUTE","INIT_TOOL_STYLE_CONFIG","UPDATE_TOOL_STYLE_CONFIG","cAnnotation","useContext","selectedBox","boxIndex","updateSelectedBox","useCallback","merge","updateBoxByID","changePolygonViewValid","changeSelectedBoxValid","changeBoxValidByID","boxInfo","switchToNextBox","newSelectedIDs","selectNextBox","selectPrevBox","deletePointCloudBox","revoke","shortCut","fullScreen","noticeInfo","backward","forward","dargWithRightClick","dargWithLeftClick","tabChangeSelected","tabReverseChangeSelected","hidden","changeSpecialLine","saveResult","speed","shortCutUseHtml","playPause","forwardForward","rewind","useRafState","el","getTargetElement","setState","useLayoutEffect","resizeObserver","ResizeObserver","entry","observe","disconnect","PointCloudView","transferCanvas2World","topViewPolygon2PointCloud","point4","getRadiusFromQuadrangle","extraData","zInfo","getSensesPointZAxisInPolygon","synchronizeSideView","updateOrthoCamera","getBoxSidePolygon2DCoordinate","setResultAndSelectedID","synchronizeBackView","BackViewInstance","backPointCloudPolygonOperation","backPointCloud","getBoxBackPolygon2DCoordinate","synchronizeTopView","oldPolygon","useSingleBox","currentData","useTranslation","topViewAddBox","topViewSelectedChanged","sideViewUpdateBox","topViewPointCloud","viewUpdateBox","fromView","op1","op2","op3","newCenterPoint","oldCenterPoint","getNewBoxBySideUpdate","sideViewPolygon2PointCloud","syncPointCloudViews","omitView","dataUrl","viewToBeUpdated","highlightOriginPointCloud","newParams","lowerLimitPointsNumInBox","topViewUpdateBox","pickBy","backViewUpdateBox","pointCloudBoxListUpdated","newBoxes","generateBoxes","clearAllResult","initPointCloud3d","initPerspectiveCamera","updatePointCloudData","SetPointCloudLoading","boxParamsList","clearAllData","updateData","initialState","imgPageSize","stepProgress","pointCloudLoading","calcStepProgress","resultStr","updateToolInstance","stepConfig","ConfigUtils","getFormatSize","innerWidth","innerHeight","styleString","TryGetFileDataByAPI","fileData","AfterVideoLoaded","AfterImageLoaded","catch","setErrorImg","currentIsVideo","currentToolIsVideo","currentIsPointCloud","currentToolIsPointCloud","oldResultString","exportData","customObject","exportCustomData","resultWithBasicInfo","composeResultWithBasicImgInfo","newResultString","composeResult","AnnotationDataUtils","dataCorrection","exportResult","previousResultList","newResultData","fileResult","dependStepConfig","stepBasicResultList","launchOperation","imgError","stepResult","isInitData","hasDataSourceStep","getInitialResultList","resultForBasicIndex","updateRotate","Modal","confirm","onOk","okText","cancelText","backwardResult","newResult","copyResultChange","setToolName","ceil","title","toolbar","getClassName","cTool","footerCls","FooterDivider","Divider","renderFooter","footerTips","hiddenTips","pagination","zoomController","footerDivider","flex","connect","totalPage","getTotalPage","mode","footer","stepInfo","hasSourceStep","Pagination","pageBackward","pageForward","ZoomController","findTagLabel","primaryTagConfig","secondaryTagConfig","keyLabel","valueLabel","tagsSortThruInputList","tagsKeys","key1","key2","input","findLabelFromValuesArray","valuesArray","exitsTags","tagHasAssign","valuesLabelArray","places","select","infos","setInfos","trans","useEffect","transferBox2Kitti","rad2deg","marginRight","DEFAULT_SIZE","zoomChange","backgroundStyle","onChange","showLoading","globalStyle","afterImgOnLoad","newSize","sizeInitialized","setLoading","annotationRef","useRef","viewOperation","afterImgOnLoadRef","useRefCache","zoomOut","destroy","unbindAll","mainRender","Spin","spinning","cKeyCode","viewportContext","ViewportProviderComponent","keydown","A","D","UpdateRotate","C","CopyBackWordResult","success","UpdateToolInstance","ViewportProvider","windowSize","isEdit","isTips","otherHeight","placeholderHeight","placeholderWidth","reloadImage","hideSetInvalidTips","ignoreOffsetY","fileType","layerStyle","transform","marginBottom","Button","shape","ReloadOutlined","TOOL_STYLE_ACTIONS","Panel","Collapse","sidebarCls","sider","toolIcon","ToolIcons","annotationText","defaultActiveKey","bordered","expandIconPosition","expandIcon","expandIconFuc","ToolStyleComponent","header","renderStylePanel","imageAttributeInfo","operation","tagToolSideBar","TagSidebar","textToolSideBar","TextToolSidebar","scribbleSidebar","horizontal","pointCloudToolSidebar","pointCloudOperation","PointCloudOperation","REGEXP_NUMBER","REGEXP_ENGLISH","UpdateImgAttribute","IMAGE_ATTRIBUTE_ACTIONS","InitImgAttribute","AttributeList","radioRef","NEW_ATTRIBUTE_COLORS","forbidDefault","noHeightLimit","Radio","selectedAttribute","attributeChanged","hotKey","forbidColor","ColorTag","commonSvg","selectedSvg","selectedToolName","renderTools","hasMultiTools","classnames","pointCloudPattern","setPointCloudPattern","updatePointCloudPattern","polygon2dOperation","shortCutTable","ToolHotKeyIcon","svgFlag","setFlag","shortCutStyle","justifyContent","margin","shortCutNameStyles","border","verticalAlign","setSVG","useDangerInnerHtml","linkSymbol","listDom","wrapperStyle","alignItems","dangerouslySetInnerHTML","__html","marginLeft","setHotKey","containerStyle","Popover","placement","overlayClassName","hotKeyHoverSvg","tagInSingleImg","tagToolSingleShortCutTable","initialPosition","defaultIcon","adaptIcon","MinusOutlined","PlusOutlined","PageInput","jumpSkip","newIndex","setIndex","inputEl","Input","NextPage","isVideo","StepForwardFilled","iconProps","PrevPage","StepBackwardFilled","newTag","emitEvent","duration","videoQulity","videoRef","getVideoPlaybackQuality","frames","totalVideoFrames","videoWidth","videoHeight","fns","inputValue","existValue","valuesSet","num1","num2","setLabelBySelectedList","getKeyCodeNumber","keyIndex","setResultFromImgList","stepRes","func","singleOn","mulitTags","keycode2","newTagConfig","getTagResultByCode","tagRes","combineResult","onMounted","onUnmounted","VideoPlayer","setVideoRef","video","VideoTagLayer","Component","VideoPlayerCtx","isPlay","updateNextPlaybackRate","playbackRate","currentTime","buffered","setCurrentTime","PLAYBACK_RATES","changePlaybackPate","videoElm","paused","play","pause","isForward","nextIdx","fastForward","Up","Down","onPlay","onVideoStart","onPause","onVideoStopped","timeInterval","clearInterval","setInterval","decimalReserved","resetVideoData","setDuration","reload","createRef","videoSrc","onLoadedMetadata","onDurationChange","errorProps","isError","invalidProps","isValid","TopPointCloudPolygonOperation","restrictAngleRange","rotatePolygon","Buffer","WorkerClass","eval","WorkerThreads","module","require","__non_webpack_require__","kIsNodeJS","process","refCallback","node","forceContextLoss","initialIndex","defaultLang","InitTaskData","initImgList","changeLanguage","UpdateInjectFunc","isSuccess","MainView","Layout","Sider","Content","layoutCls","ImageAnnotate","showTips","tips","ToolFooter","PointCloudAnnotate","AnnotatedArea","currentToolName","VideoAnnotate","siderWidth","layout","headerName","goBack","leftSider","Sidebar","copyResult","currentResult","copyData","sourceIDForCurStep","sourceIDForDependStep","deltaResultList","deltaUpdateBasicResultList","newResStr","oldResStr","curStep","stepKey","newRes","oldRes","newResForCurStep","oldResForCurStep","idCmp","deletedIds","findDeletedIds","stepKeys","getStepKeys","deleteRes","idA","idB","findDeletedItems","deletedItems","isNaN","resData","newDeletedIds","basicRectID","basicList","pageInfo","getPageInfo","currentFileIndex","nextFileIndex","getNextFileIndex","getNextBasicIndex","hasNextBasicIndex","pageChangedInfo","getBasicResultIndexForNextFile","annotationState","forceRender","drawLayerSlot","annotationPos","setAnnotationPos","containerRef","useSize","InitToolStyleConfig","renderZoom","dragMove","unbind","setImgAttribute","frame","setRafState","cancelAnimationFrame","requestAnimationFrame","Tooltip","textValue","selectedText","TextUtils","textLength","setTextLength","setError","onFocus","setOnFocus","hoverDelete","setHoverDelete","clearIcon","onMouseEnter","IconClearSmallA","textareaContainer","toolTextAreaBox","toolTextAreaBoxFocus","resize","wordBreak","onKeyDownCapture","onKeyUpCapture","onBlur","clearSmallA","mapStateToProps","operationList","useOperationList","allOperation","copyPrevious","setValidity","PopconfirmTitle","ActionIcon","setHover","annotationLength","Col","span","Popconfirm","getPopupContainer","onConfirm","hoverSvg","imgSvg","updateNum","iconStyle","StopOutlined","imgAttributeChange","throttle","ImgAttribute","trailing","imgAttributeInfo","svg","Row","Slider","trackStyle","disabled","checked","listRef","scrollIntoView","isScribbleTool","CaretRightOutlined","expandKeyList","setExpandKeyList","sidebarRef","hoverDeleteIndex","setHoverDeleteIndex","expendRender","scrollTop","setExpendKeyList","expend","newKeyList","selectedButton","labelPanel","isResult","TagUtils","judgeResultIsInInputList","activeKey","Badge","RadioList","checkboxRef","Checkbox","blur","syntheticEventStopPagination","nativeEvent","stopImmediatePropagation","TextareaWithFooter","textareaProps","rows","textAreaLength","SingleTextInput","textAreaFocus","setTextAreaFocus","setInvalid","updateText","switchToNextTextarea","hasMultiple","onNext","updateTextWithKey","newVal","tabToSwitchEnabled","autoSize","minRows","maxRows","TextareaFooter","clearText","setConfigList","focusIndex","setFocusIndex","currentIndex","textareaFocus","textarea","behavior","updateTextValue","AttributeUpdater","subAttributeList","ptx","titleStyle","fontWeight","borderBottom","subAttribute","placeholder","setSubAttribute","allowClear","useStatus","secondaryAttributeConfigurable","getMarks","marks","getImage","getDefaultValue","getStyleType","annotationConfig","getTitle","tipFormatter","UpdateToolStyleConfig","silderValue","setSilderValue","selectTool","setSelectTool","changeValue","penActivate","pen","eraserActivate","eraser","setPenSize","MouseLeftSvg","drawInvalidRect","selectRect","changeValid","changeValidByClick","rectToolShortcutTable","drawPoint","drawInvalidPoint","pointToolShortCutTable","invalidPolygon","changePolygonAttribute","keepLine","insertPolygonPoint","suspendAbsorption","splitPolygon","combinePolygon","invalidLine","horizontalLine","selectLine","changeLineAttribute","insertPoint","lineToolShortCutTable","textToolShortCutTable","videoForward","videoBackward","videoTagToolShortCurTable","changePointSize","borderRadius","rotateRoundCenter","Drag3D","DragTopView","ChangeInvalid","changePointCloudValid","LeftRotate","RotateLeftOutlined","RightRotate","RotateRightOutlined","PrevBox","prevBox","nextBox","rotate180_black","ChangeBoxInvalid","SelectMulti","selectMultiple","SelectAll","selectAll","pointCloudShortCutTable","scribbleShortCutTable","useSafeState","unmountedRef","useUnmountedRef","currentState","NextButton","ToNextStep","lastStep","useReducer","forceUpdate","currentOption","curLang","backNode","LeftOutlined","Quit","headerNameNode","stepListNode","headerOptionNode","langNode","classNames","toolHover","setToolHover","isTagTool","isPointCloud","isBegin","revocation","commonOptionList","show","click","ChangeSave","Hover","Dropdown","overlay","updateStep","Icon","OrderedListOutlined","iconChildren","CaretDownOutlined","otherProps","highlight","TagToolInstanceAdaptor","videoTimeFormat","sec","minSec","fillZero","VideoProgress","progressRef","bufferLoadedPercent","playedPercent","toTime","VideoSpeedButton","CaretUpOutlined","VideoHotKeys","VideoPageChange","VideoTime","remained10x","remaingTime","PauseOutlined","inset","tagLayerCSSProperty","maxHeight","overflowY","tagsLabel","result2LabelKey","paddingRight","PointCloud3DContext","setTarget3DView","reset3DView","PointCloudViewIcon","getTarget3DViewClassName","toLocaleLowerCase","PointCloud3DSideBar","aMapStateToProps","setShowDirection","usePointCloudViews","resetCamera","ptCloud3DCtx","PointCloud3DTitle","PointCloudContainer","mappingImgList","updateBackViewByCanvas2D","canvasCenterPoint","worldCenterPoint","TransferCanvas2WorldOffset","offsetXX","offsetXY","pointCloudAnnotation","getNewBoxByBackUpdate","initSize","SizeInfoForView","TopViewToolbar","useZoom","useRotate","UpSquareOutlined","DownSquareOutlined","ZAxisSlider","setZAxisLimit","vertical","onAfterChange","usePolygon","addPolygon","pointCloudViews","TopView2dOperation","validUpdate","PointCloudValidity","updateSideViewByCanvas2D","SidePointCloud","Toolbar","onPrev","imgLength","RightOutlined","annotations2d","setAnnotations2d","mappingIndex","setMappingIndex","viewRef","mappingData","defaultViewStyle","newAnnotations2d","pointCloudBox","viewDataPointList","pointCloudLidar2image","calib","hiddenData","selected2data","focusPositionByPointList","basicInfo","useBoxes","copySelectedBoxes","pasteSelectedBoxes","copiedBoxes","toolInstanceRef","useCustomToolInstance","lowerCaseKey","newPattern","POLYGON_PATTERN","clearDrawingStatus","keydownEvents","selectBox","originSubAttribute","setCopiedBoxes","selectedBoxes","newPointCloudResult","createStore","rootReducer","applyMiddleware","combineReducers","annotationReducer","imgAttributeReducer","toolStyleReducer","getToolColors","getAttributeColors","getDefaultToolLineColors","computeColor","initByOpacity","FILL_OPACITY","firstOpacity","match","borderOpacityParam","fillOpacityParam","colorSplit","computeOpacity","CHANGE_COLOR","BORDER_OPACITY_LEVEL","FILL_OPACITY_LEVEL","showColor","AttributeColorList","changeOpacity","step_1","resultPolygon","img1","img2","img3","img4","videoList","pointCloudList","pcd1","pcd2","pointCloudMappingImgList","pointCloudImg1","calib1","pointCloudImg2","calib2","rectDefaultResult","dataSource","polygonDefaultResult","tagDefaultResult","videoTagDefaultResult","getMockResult","DEFAULT_ANNOTATIONS","strokeText","Annotation","firstToolInstance","setRunPrediction","log","testDataInjection","scribbleToolConfig","pointCloudConfig","sourceStep","App","qs","location","ignoreQueryPrefix","comma","getStepList","srcList","mockFileList","getMockList","setData","ReactDOM"],"mappings":"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EAAG,GAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,EACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,EACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,QAER,CACEV,QAAS,EACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,EACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,QAER,CACEV,QAAS,EACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,EACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,QAER,CACEV,QAAS,EACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,GAELC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,KAAM,OAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,QAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,QAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,QAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,KAELC,KAAM,SAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAELC,KAAM,SAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,GAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,qBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,EACHC,EAAG,GAELC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,EACHC,EAAG,IAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,kBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,kBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,kBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,GAELC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,IAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,GACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,kBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,kBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,kBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,kBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,GAELC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,KAAM,QAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,IAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,kBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,kBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,GAELC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,KAAM,QAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,IAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,eAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,OAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,GACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,GAELC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,KAAM,QAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,IAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,EACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,GACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,iBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,kBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,iBACHC,EAAG,IACHC,EAAG,IAELC,KAAM,SAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,gBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,IACHC,EAAG,IAELC,KAAM,cAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,KAAM,YAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,GAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,mBAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,GACHC,EAAG,IACHC,EAAG,IAELC,KAAM,aAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,KAELC,KAAM,WAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAELC,KAAM,SAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAELC,KAAM,SAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,GACHC,EAAG,GACHC,EAAG,IAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QAAS,IACTC,UAAW,UACXC,IAAK,CACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAELC,IAAK,CACHC,EAAG,EACHC,EAAG,EACHC,EAAG,IAELC,KAAM,UAER,CACEV,QA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","file":"static/js/main.c41e45ac.chunk.js","sourcesContent":["var en = {\n\tConfirmTo: \"Confirm To \",\n\tTextInput: \"Text Input\",\n\tNoAttribute: \"No Attribute\",\n\tSave: \"Save\",\n\tUndo: \"Undo\",\n\tRedo: \"Redo\",\n\tRotate: \"Rotate\",\n\tStyle: \"Style\",\n\tAdjust: \"Adjust\",\n\tBorderThickness: \"Border Thickness\",\n\tColor: \"Color\",\n\tBorderOpacity: \"Border Opacity\",\n\tFillOpacity: \"Fill Opacity\",\n\tSaturation: \"Saturation\",\n\tContrast: \"Contrast\",\n\tExposure: \"Exposure\",\n\tScreenRatio: \"Screen Ratio\",\n\tOriginalScale: \"Original Scale\",\n\tCopyThePrevious: \"Copy Prev\",\n\tClearLabel: \"Clear\",\n\tSetAsInvalid: \"Set As Invalid\",\n\tSetAsValid: \"Set As Valid\",\n\tConfirm: \"Confirm\",\n\tCancel: \"Cancel\",\n\tItemsOfThisPage: \"Items Of This Page\",\n\tHotkeys: \"Hotkeys\",\n\tAnnotateRect: \"Annotate Rect\",\n\tAnnotateInvalidRect: \"Annotate Invalid Rect\",\n\tSelectRect: \"Select Rect\",\n\tRightClick: \"Right Click\",\n\tToggleRectEffectiveness: \"Toggle Rect Validity\",\n\tToggleEffectiveness: \"Toggle Validity\",\n\tDeleteRect: \"Delete Rect\",\n\tSelectAndDoubleClick: \"Select And Double Click\",\n\tScale: \"Scale\",\n\tFullscreen: \"Fullscreen\",\n\tPreviousImage: \"Previous\",\n\tPreviousFile: \"Previous\",\n\tNextImage: \"Next\",\n\tNextFile: \"Next\",\n\tPreviousFolder: \"Previous Folder\",\n\tNextFolder: \"Next Folder\",\n\tDrag: \"Drag\",\n\tToggleSelected: \"Toggle Selected\",\n\tToggleSelectedReverse: \"Toggle Selected Reverse\",\n\tHideGraphics: \"Hide Graphics\",\n\tToggleLineParticularity: \"Toggle Line Particularity\",\n\tToSide: \"To Line\",\n\tSpecifiedAttributesOnly: \"Specified Attributes Only\",\n\t\"Number\": \"Number\",\n\tPress: \"Press\",\n\tToOriginalStep: \"To Original\",\n\tHorizontalOrVertical: \"Horizontal/Vertical\",\n\tAnnotateInvalidLine: \"Annotate Invalid Line\",\n\tAnnotateLine: \"Annotate Line\",\n\tSelectLine: \"Select Line\",\n\tToggleLineEffectiveness: \"Toggle Line Validity\",\n\tDeleteLine: \"Delete Line\",\n\tContinueToLabel: \"Continue To Label\",\n\tSelect: \"Select\",\n\tInsertPoint: \"Insert Point\",\n\tClickOnLine: \"Click On Line\",\n\tDeletePoint: \"Delete Point\",\n\tDblClickOnPoint: \"Double Click On Point\",\n\tStopAdsorption: \"Stop Adsorption\",\n\tPreviousLine: \"Previous Line\",\n\tNextLine: \"Next Line\",\n\tSelectPoint: \"Select Point\",\n\tAnnotateInvalidPoint: \"Annotate Invalid Point\",\n\tAnnotatePoint: \"Annotate Point\",\n\tAnnotatePolygon: \"Annotate Polygon\",\n\tSelectPolygon: \"Select Polygon\",\n\tAnnotateInvalidPolygon: \"Annotate Invalid Polygon\",\n\tTogglePolygonEffectiveness: \"Toggle Polygon Validity\",\n\tDeletePolygon: \"Delete Polygon\",\n\tTogglePointParticularity: \"Toggle Point Particularity\",\n\tCropOverlapArea: \"Crop Overlap Area\",\n\tSegmentationRecognition: \"Segmentation Recognition\",\n\tSwitchPattern: \"Switch Pattern\",\n\tTagging: \"Tagging\",\n\tHide: \"Hide \",\n\tHideDrawnAnnotation: \"Hidden Drawn Annotation\",\n\tBlue: \"Blue\",\n\tCyan: \"Cyan\",\n\tGreen: \"Green\",\n\tYellow: \"Yellow\",\n\tPink: \"Pink\",\n\tSteps: \"Steps\",\n\tExport: \"Export\",\n\tNextStep: \"Next Step\",\n\tStepNotFinishedNotify: \"There are unannotated files in the current step , please finish before the next step\",\n\tcurItems: \"{{current}}/{{total}} Items\",\n\tTurnPage: \"Turn Page\",\n\tSwitch: \"Switch\",\n\tEmptyTextInput: \"Empty Text Input\",\n\tRegularExpIncorrectly: \"Regular expression is incorrectly\",\n\tNoConfiguration: \"Missing Configuration\",\n\tClearThisOption: \"Clear This Option\",\n\tRestoreImageAttributes: \"Restore Image Attributes\",\n\trectTool: \"RectTool\",\n\ttagTool: \"TagTool\",\n\tpolygonTool: \"PolygonTool\",\n\tlineTool: \"LineTool\",\n\tpointTool: \"PointTool\",\n\ttextTool: \"TextTool\",\n\tSpeed: \"Speed\",\n\tPlayPause: \"Play / Pause\",\n\tFastForward: \"Fast Forward\",\n\tRewind: \"Rewind\",\n\tvideoInvalidAndSkip: \"Video invalid, please skip\",\n\timageInvalidAndSkip: \"Image invalid, please skip\",\n\tvideoErrorAndReload: \"Failed to load video, please reload\",\n\timageErrorAndReload: \"Failed to load image, please reload\",\n\torMaskAsInvalid: \" or mask it as invalid\",\n\tClickAnotherPolygon: \"Click another polygon\",\n\tPolygonsToBeCombinedNeedToBeSelected: \"Polygons to be combined need to be selected\",\n\tCurveModeDoesNotSupportCutting: \"Curve mode does not support cutting\",\n\tCombineSuccess: \"Combine success\",\n\tCombiningFailedNotify: \"Combining failed. Please check whether two polygons intersect or whether polygon combining forms a leak\",\n\tCombineOverlapArea: \"Combine Overlap Area\",\n\tNoDependency: \"This image does not need to be labeled\",\n\tTextCheckNumberOnly: \"Please enter the number\",\n\tTextCheckEnglishOnly: \"Please enter English\",\n\tTextCheckCustomFormat: \"Please enter data in custom format\",\n\tFramingOfObjectToBeDivided: \"Please frame the object to be divided first\",\n\tClickOnTarget: \"Please click on target object\",\n\tSplittingAlgorithmPrediction: \"Splitting algorithm prediction in progress...\",\n\t\"2DView\": \"2DView\",\n\t\"3DView\": \"3DView\",\n\tTopView: \"TopView\",\n\tSideView: \"SideView\",\n\tBackView: \"BackView\",\n\tShowArrows: \"Show Arrows\",\n\tLength: \"Length\",\n\tWidth: \"Width\",\n\tHeight: \"Height\",\n\tRotation_y: \"Rotation_y\",\n\tPointCount: \"Point Count\",\n\tInvalid: \"Invalid\",\n\tTag: \"Tag\",\n\tAttribute: \"Attribute\",\n\tSubAttribute: \"SubAttribute\",\n\tPleaseSelect: \"Please Select\",\n\tCopyEmptyInPointCloud: \"The copy content is empty, please select the corresponding point cloud data\",\n\tPasteEmptyInPointCloud: \"Please copy the pointCloud data before pasting\",\n\tHasDuplicateID: \"Duplicate ID exists, copy failed\",\n\tLowerLimitPointsNumInBox: \"The number of points in the box must not be less than {{num}}\",\n\tPointThickness: \"Point Thickness\",\n\tRotateAroundCenterPoint: \"Rotate Around Center Point\",\n\tPointCloudViewTranslate: \"PointCloudView Translation\",\n\tTopViewTranslate: \"TopView Translation\",\n\tChangePointCloudValid: \"Change PointCloud Valid\",\n\tCopyBox: \"Copy Box\",\n\tPasteBox: \"Paste Box\",\n\tRotateLeft: \"Rotate Left\",\n\tRotateRight: \"Rotate Right\",\n\tNextBox: \"Next Box\",\n\tPreviousBox: \"Previous Box\",\n\tRotate180: \"Rotate 180°\",\n\tCopyPrevPage: \"Copy Previous Page\",\n\tChangeBoxValid: \"Change Box's Valid\",\n\tMultiSelect: \"Multi Select\",\n\tSelectAllBox: \"Select All Boxes\",\n\tGeneralOperation: \"General Operation\",\n\tRectPattern: \"Rect Pattern\",\n\tDragOperation: \"Drag\",\n\tSelectedStatus: \"Selected\",\n\tupdateValidFromValidToInValid: \"Confirm update as invalid page？\",\n\tupdateValidFromInValidToValid: \"Confirm update as valid page？\"\n};\nvar cn = {\n\tTextInput: \"文本输入\",\n\tNoAttribute: \"无属性\",\n\tSave: \"保存\",\n\tUndo: \"撤销\",\n\tRedo: \"重做\",\n\tRotate: \"旋转\",\n\tStyle: \"样式\",\n\tAdjust: \"图片调整\",\n\tBorderThickness: \"边框粗细\",\n\tColor: \"颜色\",\n\tBorderOpacity: \"边框透明度\",\n\tFillOpacity: \"填充透明度\",\n\tSaturation: \"饱和度\",\n\tContrast: \"对比度\",\n\tExposure: \"曝光度\",\n\tScreenRatio: \"画面占比\",\n\tOriginalScale: \"按原图比例显示\",\n\tCopyThePrevious: \"复制上张\",\n\tClearLabel: \"清空标注\",\n\tSetAsInvalid: \"标为无效\",\n\tSetAsValid: \"取消无效\",\n\tConfirm: \"确认\",\n\tCancel: \"取消\",\n\tItemsOfThisPage: \"本页件数\",\n\tHotkeys: \"快捷键\",\n\tAnnotateRect: \"拉框\",\n\tAnnotateInvalidRect: \"拉无效框\",\n\tSelectRect: \"选中框\",\n\tRightClick: \"右击\",\n\tToggleRectEffectiveness: \"切换框是否有效\",\n\tToggleEffectiveness: \"是否标为无效\",\n\tDeleteRect: \"删除框\",\n\tSelectAndDoubleClick: \"选中双击\",\n\tScale: \"缩放\",\n\tFullscreen: \"全屏\",\n\tPreviousImage: \"上一张\",\n\tPreviousFile: \"上一个\",\n\tNextImage: \"下一张\",\n\tNextFile: \"下一个\",\n\tPreviousFolder: \"上一文件夹\",\n\tNextFolder: \"下一文件夹\",\n\tDrag: \"拖动图片\",\n\tToggleSelected: \"切换选中\",\n\tToggleSelectedReverse: \"逆序切换选中\",\n\tHideGraphics: \"隐藏图形\",\n\tToggleLineParticularity: \"换特殊边\",\n\tToSide: \"对边\",\n\tSpecifiedAttributesOnly: \"仅看指定属性\",\n\t\"Number\": \"数字\",\n\tPress: \"长按\",\n\tToOriginalStep: \"仅原图\",\n\tHorizontalOrVertical: \"标水平/垂直线\",\n\tAnnotateInvalidLine: \"标无效线\",\n\tAnnotateLine: \"标线\",\n\tSelectLine: \"选中线\",\n\tToggleLineEffectiveness: \"切换线是否有效\",\n\tDeleteLine: \"删除线\",\n\tContinueToLabel: \"续标\",\n\tSelect: \"选中\",\n\tInsertPoint: \"插入点\",\n\tClickOnLine: \"对线单击\",\n\tDeletePoint: \"删除点\",\n\tDblClickOnPoint: \"对点双击\",\n\tStopAdsorption: \"暂停吸附\",\n\tPreviousLine: \"上条线\",\n\tNextLine: \"下条线\",\n\tSelectPoint: \"选中点\",\n\tAnnotateInvalidPoint: \"标无效点\",\n\tAnnotatePoint: \"标点\",\n\tAnnotatePolygon: \"标多边形\",\n\tSelectPolygon: \"选中多边形\",\n\tAnnotateInvalidPolygon: \"标无效多边形\",\n\tTogglePolygonEffectiveness: \"切换多边形是否有效\",\n\tDeletePolygon: \"删除多边形\",\n\tTogglePointParticularity: \"换特殊点\",\n\tCropOverlapArea: \"裁剪重叠区域\",\n\tSegmentationRecognition: \"分割辅助\",\n\tSwitchPattern: \"切换绘制形式\",\n\tTagging: \"打标签\",\n\tHide: \"打标签\",\n\tHideDrawnAnnotation: \"标注隐藏中\",\n\tBlue: \"蓝\",\n\tCyan: \"青\",\n\tGreen: \"绿\",\n\tYellow: \"黄\",\n\tPink: \"粉\",\n\tSteps: \"标注步骤\",\n\tExport: \"导出\",\n\tNextStep: \"下一步\",\n\tStepNotFinishedNotify: \"当前步骤存在为未标注过的图片，请标注完成再点击下一步\",\n\tcurItems: \"第{{current}}/{{total}}分页\",\n\tTurnPage: \"翻页\",\n\tSwitch: \"切换\",\n\tEmptyTextInput: \"清空文本输入\",\n\tRegularExpIncorrectly: \"正则表达式填写错误\",\n\tNoConfiguration: \"暂无信息配置\",\n\tClearThisOption: \"清空此选项\",\n\tRestoreImageAttributes: \"还原图片属性\",\n\tConfirmTo: \"确认\",\n\trectTool: \"标签\",\n\ttagTool: \"标点\",\n\tpolygonTool: \"多边形\",\n\tlineTool: \"线条\",\n\tpointTool: \"标点\",\n\ttextTool: \"文本\",\n\tSpeed: \"倍速\",\n\tPlayPause: \"播放/暂停\",\n\tFastForward: \"快进\",\n\tRewind: \"快退\",\n\tvideoInvalidAndSkip: \"无效视频，请跳过\",\n\timageInvalidAndSkip: \"无效图片，请跳过\",\n\tvideoErrorAndReload: \"视频加载失败, 请重新加载\",\n\timageErrorAndReload: \"图片加载失败, 请重新加载\",\n\torMaskAsInvalid: \" 或 将其标为无效\",\n\tClickAnotherPolygon: \"请点击希望合并的多边形\",\n\tPolygonsToBeCombinedNeedToBeSelected: \"需要选中需要合并的多边形\",\n\tCurveModeDoesNotSupportCutting: \"曲线模式暂不支持裁剪\",\n\tCombineSuccess: \"合并成功\",\n\tCombiningFailedNotify: \"合并失败，请检查是否两个多边形是否有相交，或多边形合并是否形成漏空\",\n\tCombineOverlapArea: \"合并重叠区域\",\n\tNoDependency: \"该图片无需标注\",\n\tTextCheckNumberOnly: \"请按仅数字的格式输入\",\n\tTextCheckEnglishOnly: \"请按仅英文的格式输入\",\n\tTextCheckCustomFormat: \"请按要求的格式输入\",\n\tFramingOfObjectToBeDivided: \"请先框出需分割的物体\",\n\tClickOnTarget: \"请单击目标物体\",\n\tSplittingAlgorithmPrediction: \"分割算法预测中...\",\n\t\"2DView\": \"2D视图\",\n\t\"3DView\": \"3D视图\",\n\tTopView: \"俯视图\",\n\tSideView: \"侧视图\",\n\tBackView: \"背视图\",\n\tShowArrows: \"显示箭头\",\n\tLength: \"长\",\n\tWidth: \"宽\",\n\tHeight: \"高\",\n\tRotation_y: \"朝向角\",\n\tPointCount: \"点数\",\n\tInvalid: \"无效\",\n\tTag: \"标签\",\n\tAttribute: \"主属性\",\n\tSubAttribute: \"副属性\",\n\tPleaseSelect: \"请选择\",\n\tCopyEmptyInPointCloud: \"复制内容为空，请选择对应的点云数据\",\n\tPasteEmptyInPointCloud: \"请先复制需要的点云数据再进行粘贴\",\n\tHasDuplicateID: \"存在重复ID,复制失败\",\n\tLowerLimitPointsNumInBox: \"框体内点数不允许低于 {{num}} 个\",\n\tPointThickness: \"点的显示粗细\",\n\tRotateAroundCenterPoint: \"绕中心点旋转画面\",\n\tPointCloudViewTranslate: \"点云平移\",\n\tTopViewTranslate: \"俯视图平移\",\n\tChangePointCloudValid: \"切换点云有效性\",\n\tCopyBox: \"复制框\",\n\tPasteBox: \"粘贴框\",\n\tRotateLeft: \"向左旋转微调\",\n\tRotateRight: \"向右旋转微调\",\n\tPreviousBox: \"上一框\",\n\tNextBox: \"下一框\",\n\tRotate180: \"旋转180°\",\n\tCopyPrevPage: \"复制上一页\",\n\tChangeBoxValid: \"切换标注框有效性\",\n\tMultiSelect: \"多选\",\n\tSelectAllBox: \"全选\",\n\tGeneralOperation: \"通用\",\n\tRectPattern: \"拉框模式\",\n\tDragOperation: \"拖动\",\n\tSelectedStatus: \"选中时\",\n\tupdateValidFromValidToInValid: \"是否确认标为无效文件？\",\n\tupdateValidFromInValidToValid: \"是否确认取消无效文件？\"\n};\nvar resources = {\n\ten: en,\n\tcn: cn\n};\n\nexport { cn, resources as default, en };\n","import i18n from 'i18next';\nexport { default, default as i18n } from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport resources from './resources.json.js';\n\nif (!i18n.language) {\n  i18n.use(initReactI18next).init({\n    lng: \"en\",\n    interpolation: {\n      escapeValue: false\n    },\n    react: {\n      useSuspense: false\n    }\n  });\n}\ni18n.addResourceBundle(\"en\", \"translation\", resources.en, true);\ni18n.addResourceBundle(\"cn\", \"translation\", resources.cn, true);\n","const _ToolStyleUtils = class {\n};\nlet ToolStyleUtils = _ToolStyleUtils;\nToolStyleUtils.replaceAFromRGBA = (rgba, opacity) => {\n  return rgba.split(\" \").join(\"\").replace(/,[0-9]+([.]{1}[0-9]+){0,1}\\)/, `,${opacity.toFixed(2)})`);\n};\nToolStyleUtils.getToolStrokeAndFill = (color, options) => {\n  const {\n    hover = false,\n    selected = false,\n    borderOpacity = 1,\n    fillOpacity = 1,\n    commonOpacity = 0.8\n  } = options;\n  if (selected || hover) {\n    return {\n      stroke: _ToolStyleUtils.replaceAFromRGBA(color, borderOpacity),\n      fill: _ToolStyleUtils.replaceAFromRGBA(color, fillOpacity)\n    };\n  }\n  return {\n    stroke: _ToolStyleUtils.replaceAFromRGBA(color, borderOpacity * commonOpacity),\n    fill: _ToolStyleUtils.replaceAFromRGBA(color, fillOpacity * commonOpacity)\n  };\n};\nToolStyleUtils.getAttributeIndex = (attribute, attributeList) => {\n  try {\n    const attributeIndex = attributeList.findIndex((i) => i.value === attribute);\n    return attributeIndex;\n  } catch (error) {\n    return -1;\n  }\n};\n\nexport { ToolStyleUtils as default };\n","import ToolStyleUtils from './ToolStyleUtils.js';\n\nconst DEFAULT_COLORS = [\n  \"rgba(102, 111, 255, 1)\",\n  \"rgba(102, 230, 255, 1)\",\n  \"rgba(191, 255, 102, 1)\",\n  \"rgba(255, 230, 102, 1)\",\n  \"rgba(230, 102, 255, 1)\"\n];\nconst ATTRIBUTE_COLORS = [\n  \"rgba(128, 12, 249, 1)\",\n  \"rgba(0, 255, 48, 1)\",\n  \"rgba(255, 136, 247, 1)\",\n  \"rgba(255, 226, 50, 1)\",\n  \"rgba(153, 66, 23, 1)\",\n  \"rgba(2, 130, 250, 1)\",\n  \"rgba(255, 35, 35, 1)\",\n  \"rgba(0, 255, 234, 1)\"\n];\nconst INVALID_COLOR = \"rgba(255, 51, 51, 1)\";\nconst NULL_COLOR = \"rgba(204, 204, 204, 1)\";\nclass ToolStyleConverter {\n  constructor() {\n    this._defaultColors = DEFAULT_COLORS;\n    this._attributeColors = ATTRIBUTE_COLORS;\n  }\n  get defaultColors() {\n    return this._defaultColors;\n  }\n  get attributeColors() {\n    return this._attributeColors;\n  }\n  getColorFromConfig(result, config, styleConfig, options) {\n    var _a;\n    if (Object.prototype.toString.call(config) !== \"[object Object]\") {\n      throw \"Config must be Object\";\n    }\n    if (Object.prototype.toString.call(result) !== \"[object Object]\") {\n      throw \"Result must be Object\";\n    }\n    const {\n      borderOpacity = 1,\n      fillOpacity = 0.6,\n      colorIndex = 0\n    } = styleConfig;\n    if (!options) {\n      options = {};\n    }\n    const valid = (_a = result == null ? void 0 : result.valid) != null ? _a : true;\n    const {multiColorIndex = -1, selected, hover} = options;\n    const defaultStatus = {\n      selected,\n      hover,\n      borderOpacity,\n      fillOpacity\n    };\n    let colorList = this.defaultColors;\n    if ((config == null ? void 0 : config.attributeConfigurable) === true || multiColorIndex > -1) {\n      colorList = this.attributeColors;\n    }\n    if (valid === false) {\n      return ToolStyleUtils.getToolStrokeAndFill(INVALID_COLOR, defaultStatus);\n    }\n    if ((config == null ? void 0 : config.attributeConfigurable) === true) {\n      const attributeIndex = ToolStyleUtils.getAttributeIndex(result == null ? void 0 : result.attribute, config == null ? void 0 : config.attributeList);\n      let color = colorList[attributeIndex % colorList.length];\n      if (attributeIndex === -1) {\n        color = NULL_COLOR;\n      }\n      return ToolStyleUtils.getToolStrokeAndFill(color, defaultStatus);\n    }\n    if (multiColorIndex > -1) {\n      return ToolStyleUtils.getToolStrokeAndFill(colorList[multiColorIndex % colorList.length], defaultStatus);\n    }\n    return ToolStyleUtils.getToolStrokeAndFill(colorList[colorIndex % colorList.length], defaultStatus);\n  }\n}\nvar index = new ToolStyleConverter();\n\nexport { ATTRIBUTE_COLORS, INVALID_COLOR, NULL_COLOR, ToolStyleConverter, index as default };\n","class PerspectiveShiftUtils {\n  static translationMatrix(x, y, z) {\n    return [1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1];\n  }\n  static frontViewMatrix4(distance) {\n    return this.translationMatrix(distance, 0, 0);\n  }\n  static backViewMatrix4(distance) {\n    return this.translationMatrix(-distance, 0, 0);\n  }\n  static leftViewMatrix4(distance) {\n    return this.translationMatrix(0, distance, 0);\n  }\n  static rightViewMatrix4(distance) {\n    return this.translationMatrix(0, -distance, 0);\n  }\n  static topViewMatrix4(distance) {\n    return this.translationMatrix(0, 0, distance);\n  }\n  static leftFrontTopViewMatrix4(scale, volume) {\n    const offsetX = volume.width / 2;\n    const offsetY = volume.height / 2;\n    const offsetZ = volume.depth / 2;\n    return this.translationMatrix(offsetX * scale, offsetY * scale, offsetZ * scale);\n  }\n  static rightBackTopViewMatrix4(scale, volume) {\n    const offsetX = -volume.width / 2;\n    const offsetY = -volume.height / 2;\n    const offsetZ = volume.depth / 2;\n    return this.translationMatrix(offsetX * scale, offsetY * scale, offsetZ * scale);\n  }\n}\n\nexport { PerspectiveShiftUtils as default };\n","class PointCloudUtils {\n  static genColorByCoord(x, y, z) {\n    if (z <= 0) {\n      return [128, 128, 128];\n    }\n    if (z < 5) {\n      return [255, 0, 0];\n    }\n    if (z < 10) {\n      return [0, 255, 0];\n    }\n    return [0, 0, 255];\n  }\n  static getStandardColorByCoord(x, y, z) {\n    const pdColor = this.genColorByCoord(x, y, z);\n    return pdColor.map((hex) => hex / 255);\n  }\n  static getBoxParamsFromResultList(result) {\n    var _a, _b;\n    const data = this.jsonParser(result);\n    const DEFAULT_STEP = `step_1`;\n    const pointCloudDataList = (_b = (_a = data == null ? void 0 : data[DEFAULT_STEP]) == null ? void 0 : _a.result) != null ? _b : [];\n    return pointCloudDataList;\n  }\n  static getPolygonListFromResultList(result) {\n    var _a, _b;\n    const data = this.jsonParser(result);\n    const DEFAULT_STEP = `step_1`;\n    const pointCloudDataList = (_b = (_a = data == null ? void 0 : data[DEFAULT_STEP]) == null ? void 0 : _a.renderPolygon) != null ? _b : [];\n    return pointCloudDataList;\n  }\n  static getFrontViewPolygon(boxParams) {\n    const {\n      center: {x, y, z},\n      width,\n      height,\n      depth\n    } = boxParams;\n    return [\n      {\n        x: x + width / 2,\n        y: y + height / 2,\n        z: z - depth / 2\n      },\n      {\n        x: x + width / 2,\n        y: y + height / 2,\n        z: z + depth / 2\n      },\n      {\n        x: x + width / 2,\n        y: y - height / 2,\n        z: z + depth / 2\n      },\n      {\n        x: x + width / 2,\n        y: y - height / 2,\n        z: z - depth / 2\n      },\n      {\n        x: x + width / 2,\n        y: y + height / 2,\n        z: z - depth / 2\n      }\n    ];\n  }\n  static getBackViewPolygon(boxParams) {\n    const {\n      center: {x, y, z},\n      width,\n      height,\n      depth\n    } = boxParams;\n    return [\n      {\n        x: x - width / 2,\n        y: y - height / 2,\n        z: z - depth / 2\n      },\n      {\n        x: x - width / 2,\n        y: y + height / 2,\n        z: z - depth / 2\n      },\n      {\n        x: x - width / 2,\n        y: y + height / 2,\n        z: z + depth / 2\n      },\n      {\n        x: x - width / 2,\n        y: y - height / 2,\n        z: z + depth / 2\n      },\n      {\n        x: x - width / 2,\n        y: y - height / 2,\n        z: z - depth / 2\n      }\n    ];\n  }\n  static getAllDirectionLine(boxParams) {\n    const {\n      center: {x, y, z},\n      width,\n      height,\n      depth\n    } = boxParams;\n    return [\n      [\n        {\n          x: x + width / 2,\n          y: y - height / 2,\n          z: z - depth / 2\n        },\n        {\n          x: x - width / 2,\n          y: y - height / 2,\n          z: z - depth / 2\n        }\n      ],\n      [\n        {\n          x: x + width / 2,\n          y: y + height / 2,\n          z: z - depth / 2\n        },\n        {\n          x: x - width / 2,\n          y: y + height / 2,\n          z: z - depth / 2\n        }\n      ],\n      [\n        {\n          x: x + width / 2,\n          y: y - height / 2,\n          z: z + depth / 2\n        },\n        {\n          x: x - width / 2,\n          y: y - height / 2,\n          z: z + depth / 2\n        }\n      ],\n      [\n        {\n          x: x + width / 2,\n          y: y + height / 2,\n          z: z + depth / 2\n        },\n        {\n          x: x - width / 2,\n          y: y + height / 2,\n          z: z + depth / 2\n        }\n      ]\n    ];\n  }\n  static getAllViewData(boxParams) {\n    return [\n      {\n        type: \"polygon\",\n        pointList: this.getFrontViewPolygon(boxParams)\n      },\n      {\n        type: \"polygon\",\n        pointList: this.getBackViewPolygon(boxParams)\n      },\n      ...this.getAllDirectionLine(boxParams).map((v) => ({\n        type: \"line\",\n        pointList: v\n      }))\n    ];\n  }\n  static transferBox2Kitti(boxParams) {\n    return {\n      height: boxParams.depth,\n      length: boxParams.width,\n      width: boxParams.height,\n      rotation_y: this.transferRotation2KittiRotation_y(boxParams.rotation)\n    };\n  }\n  static restrictAngleRange(rotation) {\n    const standardRange = Math.PI * 2;\n    let updatedRotation = rotation % standardRange;\n    if (updatedRotation < 0) {\n      return standardRange + updatedRotation;\n    }\n    return updatedRotation;\n  }\n  static transferRotation2KittiRotation_y(rotation) {\n    if (rotation < 0) {\n      return -rotation;\n    }\n    const newRotation = 2 * Math.PI - rotation;\n    if (newRotation > Math.PI && newRotation < 2 * Math.PI) {\n      return -1 * rotation;\n    }\n    return 2 * Math.PI - rotation;\n  }\n}\nPointCloudUtils.jsonParser = (content) => {\n  try {\n    return JSON.parse(content);\n  } catch (e) {\n    return {};\n  }\n};\n\nexport { PointCloudUtils as default };\n","const flat = (acc, cur) => {\n  return [...acc, ...cur];\n};\nclass MatrixUtils {\n  static transferMatrix34FromKitti2Three(matrix34Kitti) {\n    return [...matrix34Kitti.reduce(flat, []), 0, 0, 0, 1];\n  }\n  static transferMatrix33FromKitti2Three(matrix33Kitti) {\n    return [\n      ...matrix33Kitti.reduce((acc, cur) => {\n        const newList = [...acc, ...cur].concat([0]);\n        return newList;\n      }, []),\n      0,\n      0,\n      0,\n      1\n    ];\n  }\n}\n\nexport { MatrixUtils as default };\n","var EPerspectiveView;\n(function(EPerspectiveView2) {\n  EPerspectiveView2[\"Front\"] = \"FRONT\";\n  EPerspectiveView2[\"Back\"] = \"BACK\";\n  EPerspectiveView2[\"Left\"] = \"LEFT\";\n  EPerspectiveView2[\"Right\"] = \"RIGHT\";\n  EPerspectiveView2[\"Top\"] = \"TOP\";\n  EPerspectiveView2[\"LFT\"] = \"LEFT_FRONT_TOP\";\n  EPerspectiveView2[\"RBT\"] = \"RIGHT_BACK_TOP\";\n})(EPerspectiveView || (EPerspectiveView = {}));\n\nexport { EPerspectiveView };\n","const colorArr = [\n  {\n    colorId: 0,\n    hexString: \"#000000\",\n    rgb: {\n      r: 0,\n      g: 0,\n      b: 0\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 0\n    },\n    name: \"Black\"\n  },\n  {\n    colorId: 1,\n    hexString: \"#800000\",\n    rgb: {\n      r: 128,\n      g: 0,\n      b: 0\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 25\n    },\n    name: \"Maroon\"\n  },\n  {\n    colorId: 2,\n    hexString: \"#008000\",\n    rgb: {\n      r: 0,\n      g: 128,\n      b: 0\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 25\n    },\n    name: \"Green\"\n  },\n  {\n    colorId: 3,\n    hexString: \"#808000\",\n    rgb: {\n      r: 128,\n      g: 128,\n      b: 0\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 25\n    },\n    name: \"Olive\"\n  },\n  {\n    colorId: 4,\n    hexString: \"#000080\",\n    rgb: {\n      r: 0,\n      g: 0,\n      b: 128\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 25\n    },\n    name: \"Navy\"\n  },\n  {\n    colorId: 5,\n    hexString: \"#800080\",\n    rgb: {\n      r: 128,\n      g: 0,\n      b: 128\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 25\n    },\n    name: \"Purple\"\n  },\n  {\n    colorId: 6,\n    hexString: \"#008080\",\n    rgb: {\n      r: 0,\n      g: 128,\n      b: 128\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 25\n    },\n    name: \"Teal\"\n  },\n  {\n    colorId: 7,\n    hexString: \"#c0c0c0\",\n    rgb: {\n      r: 192,\n      g: 192,\n      b: 192\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 75\n    },\n    name: \"Silver\"\n  },\n  {\n    colorId: 8,\n    hexString: \"#808080\",\n    rgb: {\n      r: 128,\n      g: 128,\n      b: 128\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 50\n    },\n    name: \"Grey\"\n  },\n  {\n    colorId: 9,\n    hexString: \"#ff0000\",\n    rgb: {\n      r: 255,\n      g: 0,\n      b: 0\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 50\n    },\n    name: \"Red\"\n  },\n  {\n    colorId: 10,\n    hexString: \"#00ff00\",\n    rgb: {\n      r: 0,\n      g: 255,\n      b: 0\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 50\n    },\n    name: \"Lime\"\n  },\n  {\n    colorId: 11,\n    hexString: \"#ffff00\",\n    rgb: {\n      r: 255,\n      g: 255,\n      b: 0\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 50\n    },\n    name: \"Yellow\"\n  },\n  {\n    colorId: 12,\n    hexString: \"#0000ff\",\n    rgb: {\n      r: 0,\n      g: 0,\n      b: 255\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 50\n    },\n    name: \"Blue\"\n  },\n  {\n    colorId: 13,\n    hexString: \"#ff00ff\",\n    rgb: {\n      r: 255,\n      g: 0,\n      b: 255\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 50\n    },\n    name: \"Fuchsia\"\n  },\n  {\n    colorId: 14,\n    hexString: \"#00ffff\",\n    rgb: {\n      r: 0,\n      g: 255,\n      b: 255\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 50\n    },\n    name: \"Aqua\"\n  },\n  {\n    colorId: 15,\n    hexString: \"#ffffff\",\n    rgb: {\n      r: 255,\n      g: 255,\n      b: 255\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 100\n    },\n    name: \"White\"\n  },\n  {\n    colorId: 16,\n    hexString: \"#000000\",\n    rgb: {\n      r: 0,\n      g: 0,\n      b: 0\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 0\n    },\n    name: \"Grey0\"\n  },\n  {\n    colorId: 17,\n    hexString: \"#00005f\",\n    rgb: {\n      r: 0,\n      g: 0,\n      b: 95\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 18\n    },\n    name: \"NavyBlue\"\n  },\n  {\n    colorId: 18,\n    hexString: \"#000087\",\n    rgb: {\n      r: 0,\n      g: 0,\n      b: 135\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 26\n    },\n    name: \"DarkBlue\"\n  },\n  {\n    colorId: 19,\n    hexString: \"#0000af\",\n    rgb: {\n      r: 0,\n      g: 0,\n      b: 175\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 34\n    },\n    name: \"Blue3\"\n  },\n  {\n    colorId: 20,\n    hexString: \"#0000d7\",\n    rgb: {\n      r: 0,\n      g: 0,\n      b: 215\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 42\n    },\n    name: \"Blue3\"\n  },\n  {\n    colorId: 21,\n    hexString: \"#0000ff\",\n    rgb: {\n      r: 0,\n      g: 0,\n      b: 255\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 50\n    },\n    name: \"Blue1\"\n  },\n  {\n    colorId: 22,\n    hexString: \"#005f00\",\n    rgb: {\n      r: 0,\n      g: 95,\n      b: 0\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 18\n    },\n    name: \"DarkGreen\"\n  },\n  {\n    colorId: 23,\n    hexString: \"#005f5f\",\n    rgb: {\n      r: 0,\n      g: 95,\n      b: 95\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 18\n    },\n    name: \"DeepSkyBlue4\"\n  },\n  {\n    colorId: 24,\n    hexString: \"#005f87\",\n    rgb: {\n      r: 0,\n      g: 95,\n      b: 135\n    },\n    hsl: {\n      h: 197.777777777778,\n      s: 100,\n      l: 26\n    },\n    name: \"DeepSkyBlue4\"\n  },\n  {\n    colorId: 25,\n    hexString: \"#005faf\",\n    rgb: {\n      r: 0,\n      g: 95,\n      b: 175\n    },\n    hsl: {\n      h: 207.428571428571,\n      s: 100,\n      l: 34\n    },\n    name: \"DeepSkyBlue4\"\n  },\n  {\n    colorId: 26,\n    hexString: \"#005fd7\",\n    rgb: {\n      r: 0,\n      g: 95,\n      b: 215\n    },\n    hsl: {\n      h: 213.488372093023,\n      s: 100,\n      l: 42\n    },\n    name: \"DodgerBlue3\"\n  },\n  {\n    colorId: 27,\n    hexString: \"#005fff\",\n    rgb: {\n      r: 0,\n      g: 95,\n      b: 255\n    },\n    hsl: {\n      h: 217.647058823529,\n      s: 100,\n      l: 50\n    },\n    name: \"DodgerBlue2\"\n  },\n  {\n    colorId: 28,\n    hexString: \"#008700\",\n    rgb: {\n      r: 0,\n      g: 135,\n      b: 0\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 26\n    },\n    name: \"Green4\"\n  },\n  {\n    colorId: 29,\n    hexString: \"#00875f\",\n    rgb: {\n      r: 0,\n      g: 135,\n      b: 95\n    },\n    hsl: {\n      h: 162.222222222222,\n      s: 100,\n      l: 26\n    },\n    name: \"SpringGreen4\"\n  },\n  {\n    colorId: 30,\n    hexString: \"#008787\",\n    rgb: {\n      r: 0,\n      g: 135,\n      b: 135\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 26\n    },\n    name: \"Turquoise4\"\n  },\n  {\n    colorId: 31,\n    hexString: \"#0087af\",\n    rgb: {\n      r: 0,\n      g: 135,\n      b: 175\n    },\n    hsl: {\n      h: 193.714285714286,\n      s: 100,\n      l: 34\n    },\n    name: \"DeepSkyBlue3\"\n  },\n  {\n    colorId: 32,\n    hexString: \"#0087d7\",\n    rgb: {\n      r: 0,\n      g: 135,\n      b: 215\n    },\n    hsl: {\n      h: 202.325581395349,\n      s: 100,\n      l: 42\n    },\n    name: \"DeepSkyBlue3\"\n  },\n  {\n    colorId: 33,\n    hexString: \"#0087ff\",\n    rgb: {\n      r: 0,\n      g: 135,\n      b: 255\n    },\n    hsl: {\n      h: 208.235294117647,\n      s: 100,\n      l: 50\n    },\n    name: \"DodgerBlue1\"\n  },\n  {\n    colorId: 34,\n    hexString: \"#00af00\",\n    rgb: {\n      r: 0,\n      g: 175,\n      b: 0\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 34\n    },\n    name: \"Green3\"\n  },\n  {\n    colorId: 35,\n    hexString: \"#00af5f\",\n    rgb: {\n      r: 0,\n      g: 175,\n      b: 95\n    },\n    hsl: {\n      h: 152.571428571429,\n      s: 100,\n      l: 34\n    },\n    name: \"SpringGreen3\"\n  },\n  {\n    colorId: 36,\n    hexString: \"#00af87\",\n    rgb: {\n      r: 0,\n      g: 175,\n      b: 135\n    },\n    hsl: {\n      h: 166.285714285714,\n      s: 100,\n      l: 34\n    },\n    name: \"DarkCyan\"\n  },\n  {\n    colorId: 37,\n    hexString: \"#00afaf\",\n    rgb: {\n      r: 0,\n      g: 175,\n      b: 175\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 34\n    },\n    name: \"LightSeaGreen\"\n  },\n  {\n    colorId: 38,\n    hexString: \"#00afd7\",\n    rgb: {\n      r: 0,\n      g: 175,\n      b: 215\n    },\n    hsl: {\n      h: 191.162790697674,\n      s: 100,\n      l: 42\n    },\n    name: \"DeepSkyBlue2\"\n  },\n  {\n    colorId: 39,\n    hexString: \"#00afff\",\n    rgb: {\n      r: 0,\n      g: 175,\n      b: 255\n    },\n    hsl: {\n      h: 198.823529411765,\n      s: 100,\n      l: 50\n    },\n    name: \"DeepSkyBlue1\"\n  },\n  {\n    colorId: 40,\n    hexString: \"#00d700\",\n    rgb: {\n      r: 0,\n      g: 215,\n      b: 0\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 42\n    },\n    name: \"Green3\"\n  },\n  {\n    colorId: 41,\n    hexString: \"#00d75f\",\n    rgb: {\n      r: 0,\n      g: 215,\n      b: 95\n    },\n    hsl: {\n      h: 146.511627906977,\n      s: 100,\n      l: 42\n    },\n    name: \"SpringGreen3\"\n  },\n  {\n    colorId: 42,\n    hexString: \"#00d787\",\n    rgb: {\n      r: 0,\n      g: 215,\n      b: 135\n    },\n    hsl: {\n      h: 157.674418604651,\n      s: 100,\n      l: 42\n    },\n    name: \"SpringGreen2\"\n  },\n  {\n    colorId: 43,\n    hexString: \"#00d7af\",\n    rgb: {\n      r: 0,\n      g: 215,\n      b: 175\n    },\n    hsl: {\n      h: 168.837209302326,\n      s: 100,\n      l: 42\n    },\n    name: \"Cyan3\"\n  },\n  {\n    colorId: 44,\n    hexString: \"#00d7d7\",\n    rgb: {\n      r: 0,\n      g: 215,\n      b: 215\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 42\n    },\n    name: \"DarkTurquoise\"\n  },\n  {\n    colorId: 45,\n    hexString: \"#00d7ff\",\n    rgb: {\n      r: 0,\n      g: 215,\n      b: 255\n    },\n    hsl: {\n      h: 189.411764705882,\n      s: 100,\n      l: 50\n    },\n    name: \"Turquoise2\"\n  },\n  {\n    colorId: 46,\n    hexString: \"#00ff00\",\n    rgb: {\n      r: 0,\n      g: 255,\n      b: 0\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 50\n    },\n    name: \"Green1\"\n  },\n  {\n    colorId: 47,\n    hexString: \"#00ff5f\",\n    rgb: {\n      r: 0,\n      g: 255,\n      b: 95\n    },\n    hsl: {\n      h: 142.352941176471,\n      s: 100,\n      l: 50\n    },\n    name: \"SpringGreen2\"\n  },\n  {\n    colorId: 48,\n    hexString: \"#00ff87\",\n    rgb: {\n      r: 0,\n      g: 255,\n      b: 135\n    },\n    hsl: {\n      h: 151.764705882353,\n      s: 100,\n      l: 50\n    },\n    name: \"SpringGreen1\"\n  },\n  {\n    colorId: 49,\n    hexString: \"#00ffaf\",\n    rgb: {\n      r: 0,\n      g: 255,\n      b: 175\n    },\n    hsl: {\n      h: 161.176470588235,\n      s: 100,\n      l: 50\n    },\n    name: \"MediumSpringGreen\"\n  },\n  {\n    colorId: 50,\n    hexString: \"#00ffd7\",\n    rgb: {\n      r: 0,\n      g: 255,\n      b: 215\n    },\n    hsl: {\n      h: 170.588235294118,\n      s: 100,\n      l: 50\n    },\n    name: \"Cyan2\"\n  },\n  {\n    colorId: 51,\n    hexString: \"#00ffff\",\n    rgb: {\n      r: 0,\n      g: 255,\n      b: 255\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 50\n    },\n    name: \"Cyan1\"\n  },\n  {\n    colorId: 52,\n    hexString: \"#5f0000\",\n    rgb: {\n      r: 95,\n      g: 0,\n      b: 0\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 18\n    },\n    name: \"DarkRed\"\n  },\n  {\n    colorId: 53,\n    hexString: \"#5f005f\",\n    rgb: {\n      r: 95,\n      g: 0,\n      b: 95\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 18\n    },\n    name: \"DeepPink4\"\n  },\n  {\n    colorId: 54,\n    hexString: \"#5f0087\",\n    rgb: {\n      r: 95,\n      g: 0,\n      b: 135\n    },\n    hsl: {\n      h: 282.222222222222,\n      s: 100,\n      l: 26\n    },\n    name: \"Purple4\"\n  },\n  {\n    colorId: 55,\n    hexString: \"#5f00af\",\n    rgb: {\n      r: 95,\n      g: 0,\n      b: 175\n    },\n    hsl: {\n      h: 272.571428571429,\n      s: 100,\n      l: 34\n    },\n    name: \"Purple4\"\n  },\n  {\n    colorId: 56,\n    hexString: \"#5f00d7\",\n    rgb: {\n      r: 95,\n      g: 0,\n      b: 215\n    },\n    hsl: {\n      h: 266.511627906977,\n      s: 100,\n      l: 42\n    },\n    name: \"Purple3\"\n  },\n  {\n    colorId: 57,\n    hexString: \"#5f00ff\",\n    rgb: {\n      r: 95,\n      g: 0,\n      b: 255\n    },\n    hsl: {\n      h: 262.352941176471,\n      s: 100,\n      l: 50\n    },\n    name: \"BlueViolet\"\n  },\n  {\n    colorId: 58,\n    hexString: \"#5f5f00\",\n    rgb: {\n      r: 95,\n      g: 95,\n      b: 0\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 18\n    },\n    name: \"Orange4\"\n  },\n  {\n    colorId: 59,\n    hexString: \"#5f5f5f\",\n    rgb: {\n      r: 95,\n      g: 95,\n      b: 95\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 37\n    },\n    name: \"Grey37\"\n  },\n  {\n    colorId: 60,\n    hexString: \"#5f5f87\",\n    rgb: {\n      r: 95,\n      g: 95,\n      b: 135\n    },\n    hsl: {\n      h: 240,\n      s: 17,\n      l: 45\n    },\n    name: \"MediumPurple4\"\n  },\n  {\n    colorId: 61,\n    hexString: \"#5f5faf\",\n    rgb: {\n      r: 95,\n      g: 95,\n      b: 175\n    },\n    hsl: {\n      h: 240,\n      s: 33,\n      l: 52\n    },\n    name: \"SlateBlue3\"\n  },\n  {\n    colorId: 62,\n    hexString: \"#5f5fd7\",\n    rgb: {\n      r: 95,\n      g: 95,\n      b: 215\n    },\n    hsl: {\n      h: 240,\n      s: 60,\n      l: 60\n    },\n    name: \"SlateBlue3\"\n  },\n  {\n    colorId: 63,\n    hexString: \"#5f5fff\",\n    rgb: {\n      r: 95,\n      g: 95,\n      b: 255\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 68\n    },\n    name: \"RoyalBlue1\"\n  },\n  {\n    colorId: 64,\n    hexString: \"#5f8700\",\n    rgb: {\n      r: 95,\n      g: 135,\n      b: 0\n    },\n    hsl: {\n      h: 77.7777777777778,\n      s: 100,\n      l: 26\n    },\n    name: \"Chartreuse4\"\n  },\n  {\n    colorId: 65,\n    hexString: \"#5f875f\",\n    rgb: {\n      r: 95,\n      g: 135,\n      b: 95\n    },\n    hsl: {\n      h: 120,\n      s: 17,\n      l: 45\n    },\n    name: \"DarkSeaGreen4\"\n  },\n  {\n    colorId: 66,\n    hexString: \"#5f8787\",\n    rgb: {\n      r: 95,\n      g: 135,\n      b: 135\n    },\n    hsl: {\n      h: 180,\n      s: 17,\n      l: 45\n    },\n    name: \"PaleTurquoise4\"\n  },\n  {\n    colorId: 67,\n    hexString: \"#5f87af\",\n    rgb: {\n      r: 95,\n      g: 135,\n      b: 175\n    },\n    hsl: {\n      h: 210,\n      s: 33,\n      l: 52\n    },\n    name: \"SteelBlue\"\n  },\n  {\n    colorId: 68,\n    hexString: \"#5f87d7\",\n    rgb: {\n      r: 95,\n      g: 135,\n      b: 215\n    },\n    hsl: {\n      h: 220,\n      s: 60,\n      l: 60\n    },\n    name: \"SteelBlue3\"\n  },\n  {\n    colorId: 69,\n    hexString: \"#5f87ff\",\n    rgb: {\n      r: 95,\n      g: 135,\n      b: 255\n    },\n    hsl: {\n      h: 225,\n      s: 100,\n      l: 68\n    },\n    name: \"CornflowerBlue\"\n  },\n  {\n    colorId: 70,\n    hexString: \"#5faf00\",\n    rgb: {\n      r: 95,\n      g: 175,\n      b: 0\n    },\n    hsl: {\n      h: 87.4285714285714,\n      s: 100,\n      l: 34\n    },\n    name: \"Chartreuse3\"\n  },\n  {\n    colorId: 71,\n    hexString: \"#5faf5f\",\n    rgb: {\n      r: 95,\n      g: 175,\n      b: 95\n    },\n    hsl: {\n      h: 120,\n      s: 33,\n      l: 52\n    },\n    name: \"DarkSeaGreen4\"\n  },\n  {\n    colorId: 72,\n    hexString: \"#5faf87\",\n    rgb: {\n      r: 95,\n      g: 175,\n      b: 135\n    },\n    hsl: {\n      h: 150,\n      s: 33,\n      l: 52\n    },\n    name: \"CadetBlue\"\n  },\n  {\n    colorId: 73,\n    hexString: \"#5fafaf\",\n    rgb: {\n      r: 95,\n      g: 175,\n      b: 175\n    },\n    hsl: {\n      h: 180,\n      s: 33,\n      l: 52\n    },\n    name: \"CadetBlue\"\n  },\n  {\n    colorId: 74,\n    hexString: \"#5fafd7\",\n    rgb: {\n      r: 95,\n      g: 175,\n      b: 215\n    },\n    hsl: {\n      h: 200,\n      s: 60,\n      l: 60\n    },\n    name: \"SkyBlue3\"\n  },\n  {\n    colorId: 75,\n    hexString: \"#5fafff\",\n    rgb: {\n      r: 95,\n      g: 175,\n      b: 255\n    },\n    hsl: {\n      h: 210,\n      s: 100,\n      l: 68\n    },\n    name: \"SteelBlue1\"\n  },\n  {\n    colorId: 76,\n    hexString: \"#5fd700\",\n    rgb: {\n      r: 95,\n      g: 215,\n      b: 0\n    },\n    hsl: {\n      h: 93.4883720930233,\n      s: 100,\n      l: 42\n    },\n    name: \"Chartreuse3\"\n  },\n  {\n    colorId: 77,\n    hexString: \"#5fd75f\",\n    rgb: {\n      r: 95,\n      g: 215,\n      b: 95\n    },\n    hsl: {\n      h: 120,\n      s: 60,\n      l: 60\n    },\n    name: \"PaleGreen3\"\n  },\n  {\n    colorId: 78,\n    hexString: \"#5fd787\",\n    rgb: {\n      r: 95,\n      g: 215,\n      b: 135\n    },\n    hsl: {\n      h: 140,\n      s: 60,\n      l: 60\n    },\n    name: \"SeaGreen3\"\n  },\n  {\n    colorId: 79,\n    hexString: \"#5fd7af\",\n    rgb: {\n      r: 95,\n      g: 215,\n      b: 175\n    },\n    hsl: {\n      h: 160,\n      s: 60,\n      l: 60\n    },\n    name: \"Aquamarine3\"\n  },\n  {\n    colorId: 80,\n    hexString: \"#5fd7d7\",\n    rgb: {\n      r: 95,\n      g: 215,\n      b: 215\n    },\n    hsl: {\n      h: 180,\n      s: 60,\n      l: 60\n    },\n    name: \"MediumTurquoise\"\n  },\n  {\n    colorId: 81,\n    hexString: \"#5fd7ff\",\n    rgb: {\n      r: 95,\n      g: 215,\n      b: 255\n    },\n    hsl: {\n      h: 195,\n      s: 100,\n      l: 68\n    },\n    name: \"SteelBlue1\"\n  },\n  {\n    colorId: 82,\n    hexString: \"#5fff00\",\n    rgb: {\n      r: 95,\n      g: 255,\n      b: 0\n    },\n    hsl: {\n      h: 97.6470588235294,\n      s: 100,\n      l: 50\n    },\n    name: \"Chartreuse2\"\n  },\n  {\n    colorId: 83,\n    hexString: \"#5fff5f\",\n    rgb: {\n      r: 95,\n      g: 255,\n      b: 95\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 68\n    },\n    name: \"SeaGreen2\"\n  },\n  {\n    colorId: 84,\n    hexString: \"#5fff87\",\n    rgb: {\n      r: 95,\n      g: 255,\n      b: 135\n    },\n    hsl: {\n      h: 135,\n      s: 100,\n      l: 68\n    },\n    name: \"SeaGreen1\"\n  },\n  {\n    colorId: 85,\n    hexString: \"#5fffaf\",\n    rgb: {\n      r: 95,\n      g: 255,\n      b: 175\n    },\n    hsl: {\n      h: 150,\n      s: 100,\n      l: 68\n    },\n    name: \"SeaGreen1\"\n  },\n  {\n    colorId: 86,\n    hexString: \"#5fffd7\",\n    rgb: {\n      r: 95,\n      g: 255,\n      b: 215\n    },\n    hsl: {\n      h: 165,\n      s: 100,\n      l: 68\n    },\n    name: \"Aquamarine1\"\n  },\n  {\n    colorId: 87,\n    hexString: \"#5fffff\",\n    rgb: {\n      r: 95,\n      g: 255,\n      b: 255\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 68\n    },\n    name: \"DarkSlateGray2\"\n  },\n  {\n    colorId: 88,\n    hexString: \"#870000\",\n    rgb: {\n      r: 135,\n      g: 0,\n      b: 0\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 26\n    },\n    name: \"DarkRed\"\n  },\n  {\n    colorId: 89,\n    hexString: \"#87005f\",\n    rgb: {\n      r: 135,\n      g: 0,\n      b: 95\n    },\n    hsl: {\n      h: 317.777777777778,\n      s: 100,\n      l: 26\n    },\n    name: \"DeepPink4\"\n  },\n  {\n    colorId: 90,\n    hexString: \"#870087\",\n    rgb: {\n      r: 135,\n      g: 0,\n      b: 135\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 26\n    },\n    name: \"DarkMagenta\"\n  },\n  {\n    colorId: 91,\n    hexString: \"#8700af\",\n    rgb: {\n      r: 135,\n      g: 0,\n      b: 175\n    },\n    hsl: {\n      h: 286.285714285714,\n      s: 100,\n      l: 34\n    },\n    name: \"DarkMagenta\"\n  },\n  {\n    colorId: 92,\n    hexString: \"#8700d7\",\n    rgb: {\n      r: 135,\n      g: 0,\n      b: 215\n    },\n    hsl: {\n      h: 277.674418604651,\n      s: 100,\n      l: 42\n    },\n    name: \"DarkViolet\"\n  },\n  {\n    colorId: 93,\n    hexString: \"#8700ff\",\n    rgb: {\n      r: 135,\n      g: 0,\n      b: 255\n    },\n    hsl: {\n      h: 271.764705882353,\n      s: 100,\n      l: 50\n    },\n    name: \"Purple\"\n  },\n  {\n    colorId: 94,\n    hexString: \"#875f00\",\n    rgb: {\n      r: 135,\n      g: 95,\n      b: 0\n    },\n    hsl: {\n      h: 42.2222222222222,\n      s: 100,\n      l: 26\n    },\n    name: \"Orange4\"\n  },\n  {\n    colorId: 95,\n    hexString: \"#875f5f\",\n    rgb: {\n      r: 135,\n      g: 95,\n      b: 95\n    },\n    hsl: {\n      h: 0,\n      s: 17,\n      l: 45\n    },\n    name: \"LightPink4\"\n  },\n  {\n    colorId: 96,\n    hexString: \"#875f87\",\n    rgb: {\n      r: 135,\n      g: 95,\n      b: 135\n    },\n    hsl: {\n      h: 300,\n      s: 17,\n      l: 45\n    },\n    name: \"Plum4\"\n  },\n  {\n    colorId: 97,\n    hexString: \"#875faf\",\n    rgb: {\n      r: 135,\n      g: 95,\n      b: 175\n    },\n    hsl: {\n      h: 270,\n      s: 33,\n      l: 52\n    },\n    name: \"MediumPurple3\"\n  },\n  {\n    colorId: 98,\n    hexString: \"#875fd7\",\n    rgb: {\n      r: 135,\n      g: 95,\n      b: 215\n    },\n    hsl: {\n      h: 260,\n      s: 60,\n      l: 60\n    },\n    name: \"MediumPurple3\"\n  },\n  {\n    colorId: 99,\n    hexString: \"#875fff\",\n    rgb: {\n      r: 135,\n      g: 95,\n      b: 255\n    },\n    hsl: {\n      h: 255,\n      s: 100,\n      l: 68\n    },\n    name: \"SlateBlue1\"\n  },\n  {\n    colorId: 100,\n    hexString: \"#878700\",\n    rgb: {\n      r: 135,\n      g: 135,\n      b: 0\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 26\n    },\n    name: \"Yellow4\"\n  },\n  {\n    colorId: 101,\n    hexString: \"#87875f\",\n    rgb: {\n      r: 135,\n      g: 135,\n      b: 95\n    },\n    hsl: {\n      h: 60,\n      s: 17,\n      l: 45\n    },\n    name: \"Wheat4\"\n  },\n  {\n    colorId: 102,\n    hexString: \"#878787\",\n    rgb: {\n      r: 135,\n      g: 135,\n      b: 135\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 52\n    },\n    name: \"Grey53\"\n  },\n  {\n    colorId: 103,\n    hexString: \"#8787af\",\n    rgb: {\n      r: 135,\n      g: 135,\n      b: 175\n    },\n    hsl: {\n      h: 240,\n      s: 20,\n      l: 60\n    },\n    name: \"LightSlateGrey\"\n  },\n  {\n    colorId: 104,\n    hexString: \"#8787d7\",\n    rgb: {\n      r: 135,\n      g: 135,\n      b: 215\n    },\n    hsl: {\n      h: 240,\n      s: 50,\n      l: 68\n    },\n    name: \"MediumPurple\"\n  },\n  {\n    colorId: 105,\n    hexString: \"#8787ff\",\n    rgb: {\n      r: 135,\n      g: 135,\n      b: 255\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 76\n    },\n    name: \"LightSlateBlue\"\n  },\n  {\n    colorId: 106,\n    hexString: \"#87af00\",\n    rgb: {\n      r: 135,\n      g: 175,\n      b: 0\n    },\n    hsl: {\n      h: 73.7142857142857,\n      s: 100,\n      l: 34\n    },\n    name: \"Yellow4\"\n  },\n  {\n    colorId: 107,\n    hexString: \"#87af5f\",\n    rgb: {\n      r: 135,\n      g: 175,\n      b: 95\n    },\n    hsl: {\n      h: 90,\n      s: 33,\n      l: 52\n    },\n    name: \"DarkOliveGreen3\"\n  },\n  {\n    colorId: 108,\n    hexString: \"#87af87\",\n    rgb: {\n      r: 135,\n      g: 175,\n      b: 135\n    },\n    hsl: {\n      h: 120,\n      s: 20,\n      l: 60\n    },\n    name: \"DarkSeaGreen\"\n  },\n  {\n    colorId: 109,\n    hexString: \"#87afaf\",\n    rgb: {\n      r: 135,\n      g: 175,\n      b: 175\n    },\n    hsl: {\n      h: 180,\n      s: 20,\n      l: 60\n    },\n    name: \"LightSkyBlue3\"\n  },\n  {\n    colorId: 110,\n    hexString: \"#87afd7\",\n    rgb: {\n      r: 135,\n      g: 175,\n      b: 215\n    },\n    hsl: {\n      h: 210,\n      s: 50,\n      l: 68\n    },\n    name: \"LightSkyBlue3\"\n  },\n  {\n    colorId: 111,\n    hexString: \"#87afff\",\n    rgb: {\n      r: 135,\n      g: 175,\n      b: 255\n    },\n    hsl: {\n      h: 220,\n      s: 100,\n      l: 76\n    },\n    name: \"SkyBlue2\"\n  },\n  {\n    colorId: 112,\n    hexString: \"#87d700\",\n    rgb: {\n      r: 135,\n      g: 215,\n      b: 0\n    },\n    hsl: {\n      h: 82.3255813953488,\n      s: 100,\n      l: 42\n    },\n    name: \"Chartreuse2\"\n  },\n  {\n    colorId: 113,\n    hexString: \"#87d75f\",\n    rgb: {\n      r: 135,\n      g: 215,\n      b: 95\n    },\n    hsl: {\n      h: 100,\n      s: 60,\n      l: 60\n    },\n    name: \"DarkOliveGreen3\"\n  },\n  {\n    colorId: 114,\n    hexString: \"#87d787\",\n    rgb: {\n      r: 135,\n      g: 215,\n      b: 135\n    },\n    hsl: {\n      h: 120,\n      s: 50,\n      l: 68\n    },\n    name: \"PaleGreen3\"\n  },\n  {\n    colorId: 115,\n    hexString: \"#87d7af\",\n    rgb: {\n      r: 135,\n      g: 215,\n      b: 175\n    },\n    hsl: {\n      h: 150,\n      s: 50,\n      l: 68\n    },\n    name: \"DarkSeaGreen3\"\n  },\n  {\n    colorId: 116,\n    hexString: \"#87d7d7\",\n    rgb: {\n      r: 135,\n      g: 215,\n      b: 215\n    },\n    hsl: {\n      h: 180,\n      s: 50,\n      l: 68\n    },\n    name: \"DarkSlateGray3\"\n  },\n  {\n    colorId: 117,\n    hexString: \"#87d7ff\",\n    rgb: {\n      r: 135,\n      g: 215,\n      b: 255\n    },\n    hsl: {\n      h: 200,\n      s: 100,\n      l: 76\n    },\n    name: \"SkyBlue1\"\n  },\n  {\n    colorId: 118,\n    hexString: \"#87ff00\",\n    rgb: {\n      r: 135,\n      g: 255,\n      b: 0\n    },\n    hsl: {\n      h: 88.2352941176471,\n      s: 100,\n      l: 50\n    },\n    name: \"Chartreuse1\"\n  },\n  {\n    colorId: 119,\n    hexString: \"#87ff5f\",\n    rgb: {\n      r: 135,\n      g: 255,\n      b: 95\n    },\n    hsl: {\n      h: 105,\n      s: 100,\n      l: 68\n    },\n    name: \"LightGreen\"\n  },\n  {\n    colorId: 120,\n    hexString: \"#87ff87\",\n    rgb: {\n      r: 135,\n      g: 255,\n      b: 135\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 76\n    },\n    name: \"LightGreen\"\n  },\n  {\n    colorId: 121,\n    hexString: \"#87ffaf\",\n    rgb: {\n      r: 135,\n      g: 255,\n      b: 175\n    },\n    hsl: {\n      h: 140,\n      s: 100,\n      l: 76\n    },\n    name: \"PaleGreen1\"\n  },\n  {\n    colorId: 122,\n    hexString: \"#87ffd7\",\n    rgb: {\n      r: 135,\n      g: 255,\n      b: 215\n    },\n    hsl: {\n      h: 160,\n      s: 100,\n      l: 76\n    },\n    name: \"Aquamarine1\"\n  },\n  {\n    colorId: 123,\n    hexString: \"#87ffff\",\n    rgb: {\n      r: 135,\n      g: 255,\n      b: 255\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 76\n    },\n    name: \"DarkSlateGray1\"\n  },\n  {\n    colorId: 124,\n    hexString: \"#af0000\",\n    rgb: {\n      r: 175,\n      g: 0,\n      b: 0\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 34\n    },\n    name: \"Red3\"\n  },\n  {\n    colorId: 125,\n    hexString: \"#af005f\",\n    rgb: {\n      r: 175,\n      g: 0,\n      b: 95\n    },\n    hsl: {\n      h: 327.428571428571,\n      s: 100,\n      l: 34\n    },\n    name: \"DeepPink4\"\n  },\n  {\n    colorId: 126,\n    hexString: \"#af0087\",\n    rgb: {\n      r: 175,\n      g: 0,\n      b: 135\n    },\n    hsl: {\n      h: 313.714285714286,\n      s: 100,\n      l: 34\n    },\n    name: \"MediumVioletRed\"\n  },\n  {\n    colorId: 127,\n    hexString: \"#af00af\",\n    rgb: {\n      r: 175,\n      g: 0,\n      b: 175\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 34\n    },\n    name: \"Magenta3\"\n  },\n  {\n    colorId: 128,\n    hexString: \"#af00d7\",\n    rgb: {\n      r: 175,\n      g: 0,\n      b: 215\n    },\n    hsl: {\n      h: 288.837209302326,\n      s: 100,\n      l: 42\n    },\n    name: \"DarkViolet\"\n  },\n  {\n    colorId: 129,\n    hexString: \"#af00ff\",\n    rgb: {\n      r: 175,\n      g: 0,\n      b: 255\n    },\n    hsl: {\n      h: 281.176470588235,\n      s: 100,\n      l: 50\n    },\n    name: \"Purple\"\n  },\n  {\n    colorId: 130,\n    hexString: \"#af5f00\",\n    rgb: {\n      r: 175,\n      g: 95,\n      b: 0\n    },\n    hsl: {\n      h: 32.5714285714286,\n      s: 100,\n      l: 34\n    },\n    name: \"DarkOrange3\"\n  },\n  {\n    colorId: 131,\n    hexString: \"#af5f5f\",\n    rgb: {\n      r: 175,\n      g: 95,\n      b: 95\n    },\n    hsl: {\n      h: 0,\n      s: 33,\n      l: 52\n    },\n    name: \"IndianRed\"\n  },\n  {\n    colorId: 132,\n    hexString: \"#af5f87\",\n    rgb: {\n      r: 175,\n      g: 95,\n      b: 135\n    },\n    hsl: {\n      h: 330,\n      s: 33,\n      l: 52\n    },\n    name: \"HotPink3\"\n  },\n  {\n    colorId: 133,\n    hexString: \"#af5faf\",\n    rgb: {\n      r: 175,\n      g: 95,\n      b: 175\n    },\n    hsl: {\n      h: 300,\n      s: 33,\n      l: 52\n    },\n    name: \"MediumOrchid3\"\n  },\n  {\n    colorId: 134,\n    hexString: \"#af5fd7\",\n    rgb: {\n      r: 175,\n      g: 95,\n      b: 215\n    },\n    hsl: {\n      h: 280,\n      s: 60,\n      l: 60\n    },\n    name: \"MediumOrchid\"\n  },\n  {\n    colorId: 135,\n    hexString: \"#af5fff\",\n    rgb: {\n      r: 175,\n      g: 95,\n      b: 255\n    },\n    hsl: {\n      h: 270,\n      s: 100,\n      l: 68\n    },\n    name: \"MediumPurple2\"\n  },\n  {\n    colorId: 136,\n    hexString: \"#af8700\",\n    rgb: {\n      r: 175,\n      g: 135,\n      b: 0\n    },\n    hsl: {\n      h: 46.2857142857143,\n      s: 100,\n      l: 34\n    },\n    name: \"DarkGoldenrod\"\n  },\n  {\n    colorId: 137,\n    hexString: \"#af875f\",\n    rgb: {\n      r: 175,\n      g: 135,\n      b: 95\n    },\n    hsl: {\n      h: 30,\n      s: 33,\n      l: 52\n    },\n    name: \"LightSalmon3\"\n  },\n  {\n    colorId: 138,\n    hexString: \"#af8787\",\n    rgb: {\n      r: 175,\n      g: 135,\n      b: 135\n    },\n    hsl: {\n      h: 0,\n      s: 20,\n      l: 60\n    },\n    name: \"RosyBrown\"\n  },\n  {\n    colorId: 139,\n    hexString: \"#af87af\",\n    rgb: {\n      r: 175,\n      g: 135,\n      b: 175\n    },\n    hsl: {\n      h: 300,\n      s: 20,\n      l: 60\n    },\n    name: \"Grey63\"\n  },\n  {\n    colorId: 140,\n    hexString: \"#af87d7\",\n    rgb: {\n      r: 175,\n      g: 135,\n      b: 215\n    },\n    hsl: {\n      h: 270,\n      s: 50,\n      l: 68\n    },\n    name: \"MediumPurple2\"\n  },\n  {\n    colorId: 141,\n    hexString: \"#af87ff\",\n    rgb: {\n      r: 175,\n      g: 135,\n      b: 255\n    },\n    hsl: {\n      h: 260,\n      s: 100,\n      l: 76\n    },\n    name: \"MediumPurple1\"\n  },\n  {\n    colorId: 142,\n    hexString: \"#afaf00\",\n    rgb: {\n      r: 175,\n      g: 175,\n      b: 0\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 34\n    },\n    name: \"Gold3\"\n  },\n  {\n    colorId: 143,\n    hexString: \"#afaf5f\",\n    rgb: {\n      r: 175,\n      g: 175,\n      b: 95\n    },\n    hsl: {\n      h: 60,\n      s: 33,\n      l: 52\n    },\n    name: \"DarkKhaki\"\n  },\n  {\n    colorId: 144,\n    hexString: \"#afaf87\",\n    rgb: {\n      r: 175,\n      g: 175,\n      b: 135\n    },\n    hsl: {\n      h: 60,\n      s: 20,\n      l: 60\n    },\n    name: \"NavajoWhite3\"\n  },\n  {\n    colorId: 145,\n    hexString: \"#afafaf\",\n    rgb: {\n      r: 175,\n      g: 175,\n      b: 175\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 68\n    },\n    name: \"Grey69\"\n  },\n  {\n    colorId: 146,\n    hexString: \"#afafd7\",\n    rgb: {\n      r: 175,\n      g: 175,\n      b: 215\n    },\n    hsl: {\n      h: 240,\n      s: 33,\n      l: 76\n    },\n    name: \"LightSteelBlue3\"\n  },\n  {\n    colorId: 147,\n    hexString: \"#afafff\",\n    rgb: {\n      r: 175,\n      g: 175,\n      b: 255\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 84\n    },\n    name: \"LightSteelBlue\"\n  },\n  {\n    colorId: 148,\n    hexString: \"#afd700\",\n    rgb: {\n      r: 175,\n      g: 215,\n      b: 0\n    },\n    hsl: {\n      h: 71.1627906976744,\n      s: 100,\n      l: 42\n    },\n    name: \"Yellow3\"\n  },\n  {\n    colorId: 149,\n    hexString: \"#afd75f\",\n    rgb: {\n      r: 175,\n      g: 215,\n      b: 95\n    },\n    hsl: {\n      h: 80,\n      s: 60,\n      l: 60\n    },\n    name: \"DarkOliveGreen3\"\n  },\n  {\n    colorId: 150,\n    hexString: \"#afd787\",\n    rgb: {\n      r: 175,\n      g: 215,\n      b: 135\n    },\n    hsl: {\n      h: 90,\n      s: 50,\n      l: 68\n    },\n    name: \"DarkSeaGreen3\"\n  },\n  {\n    colorId: 151,\n    hexString: \"#afd7af\",\n    rgb: {\n      r: 175,\n      g: 215,\n      b: 175\n    },\n    hsl: {\n      h: 120,\n      s: 33,\n      l: 76\n    },\n    name: \"DarkSeaGreen2\"\n  },\n  {\n    colorId: 152,\n    hexString: \"#afd7d7\",\n    rgb: {\n      r: 175,\n      g: 215,\n      b: 215\n    },\n    hsl: {\n      h: 180,\n      s: 33,\n      l: 76\n    },\n    name: \"LightCyan3\"\n  },\n  {\n    colorId: 153,\n    hexString: \"#afd7ff\",\n    rgb: {\n      r: 175,\n      g: 215,\n      b: 255\n    },\n    hsl: {\n      h: 210,\n      s: 100,\n      l: 84\n    },\n    name: \"LightSkyBlue1\"\n  },\n  {\n    colorId: 154,\n    hexString: \"#afff00\",\n    rgb: {\n      r: 175,\n      g: 255,\n      b: 0\n    },\n    hsl: {\n      h: 78.8235294117647,\n      s: 100,\n      l: 50\n    },\n    name: \"GreenYellow\"\n  },\n  {\n    colorId: 155,\n    hexString: \"#afff5f\",\n    rgb: {\n      r: 175,\n      g: 255,\n      b: 95\n    },\n    hsl: {\n      h: 90,\n      s: 100,\n      l: 68\n    },\n    name: \"DarkOliveGreen2\"\n  },\n  {\n    colorId: 156,\n    hexString: \"#afff87\",\n    rgb: {\n      r: 175,\n      g: 255,\n      b: 135\n    },\n    hsl: {\n      h: 100,\n      s: 100,\n      l: 76\n    },\n    name: \"PaleGreen1\"\n  },\n  {\n    colorId: 157,\n    hexString: \"#afffaf\",\n    rgb: {\n      r: 175,\n      g: 255,\n      b: 175\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 84\n    },\n    name: \"DarkSeaGreen2\"\n  },\n  {\n    colorId: 158,\n    hexString: \"#afffd7\",\n    rgb: {\n      r: 175,\n      g: 255,\n      b: 215\n    },\n    hsl: {\n      h: 150,\n      s: 100,\n      l: 84\n    },\n    name: \"DarkSeaGreen1\"\n  },\n  {\n    colorId: 159,\n    hexString: \"#afffff\",\n    rgb: {\n      r: 175,\n      g: 255,\n      b: 255\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 84\n    },\n    name: \"PaleTurquoise1\"\n  },\n  {\n    colorId: 160,\n    hexString: \"#d70000\",\n    rgb: {\n      r: 215,\n      g: 0,\n      b: 0\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 42\n    },\n    name: \"Red3\"\n  },\n  {\n    colorId: 161,\n    hexString: \"#d7005f\",\n    rgb: {\n      r: 215,\n      g: 0,\n      b: 95\n    },\n    hsl: {\n      h: 333.488372093023,\n      s: 100,\n      l: 42\n    },\n    name: \"DeepPink3\"\n  },\n  {\n    colorId: 162,\n    hexString: \"#d70087\",\n    rgb: {\n      r: 215,\n      g: 0,\n      b: 135\n    },\n    hsl: {\n      h: 322.325581395349,\n      s: 100,\n      l: 42\n    },\n    name: \"DeepPink3\"\n  },\n  {\n    colorId: 163,\n    hexString: \"#d700af\",\n    rgb: {\n      r: 215,\n      g: 0,\n      b: 175\n    },\n    hsl: {\n      h: 311.162790697674,\n      s: 100,\n      l: 42\n    },\n    name: \"Magenta3\"\n  },\n  {\n    colorId: 164,\n    hexString: \"#d700d7\",\n    rgb: {\n      r: 215,\n      g: 0,\n      b: 215\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 42\n    },\n    name: \"Magenta3\"\n  },\n  {\n    colorId: 165,\n    hexString: \"#d700ff\",\n    rgb: {\n      r: 215,\n      g: 0,\n      b: 255\n    },\n    hsl: {\n      h: 290.588235294118,\n      s: 100,\n      l: 50\n    },\n    name: \"Magenta2\"\n  },\n  {\n    colorId: 166,\n    hexString: \"#d75f00\",\n    rgb: {\n      r: 215,\n      g: 95,\n      b: 0\n    },\n    hsl: {\n      h: 26.5116279069767,\n      s: 100,\n      l: 42\n    },\n    name: \"DarkOrange3\"\n  },\n  {\n    colorId: 167,\n    hexString: \"#d75f5f\",\n    rgb: {\n      r: 215,\n      g: 95,\n      b: 95\n    },\n    hsl: {\n      h: 0,\n      s: 60,\n      l: 60\n    },\n    name: \"IndianRed\"\n  },\n  {\n    colorId: 168,\n    hexString: \"#d75f87\",\n    rgb: {\n      r: 215,\n      g: 95,\n      b: 135\n    },\n    hsl: {\n      h: 340,\n      s: 60,\n      l: 60\n    },\n    name: \"HotPink3\"\n  },\n  {\n    colorId: 169,\n    hexString: \"#d75faf\",\n    rgb: {\n      r: 215,\n      g: 95,\n      b: 175\n    },\n    hsl: {\n      h: 320,\n      s: 60,\n      l: 60\n    },\n    name: \"HotPink2\"\n  },\n  {\n    colorId: 170,\n    hexString: \"#d75fd7\",\n    rgb: {\n      r: 215,\n      g: 95,\n      b: 215\n    },\n    hsl: {\n      h: 300,\n      s: 60,\n      l: 60\n    },\n    name: \"Orchid\"\n  },\n  {\n    colorId: 171,\n    hexString: \"#d75fff\",\n    rgb: {\n      r: 215,\n      g: 95,\n      b: 255\n    },\n    hsl: {\n      h: 285,\n      s: 100,\n      l: 68\n    },\n    name: \"MediumOrchid1\"\n  },\n  {\n    colorId: 172,\n    hexString: \"#d78700\",\n    rgb: {\n      r: 215,\n      g: 135,\n      b: 0\n    },\n    hsl: {\n      h: 37.6744186046512,\n      s: 100,\n      l: 42\n    },\n    name: \"Orange3\"\n  },\n  {\n    colorId: 173,\n    hexString: \"#d7875f\",\n    rgb: {\n      r: 215,\n      g: 135,\n      b: 95\n    },\n    hsl: {\n      h: 20,\n      s: 60,\n      l: 60\n    },\n    name: \"LightSalmon3\"\n  },\n  {\n    colorId: 174,\n    hexString: \"#d78787\",\n    rgb: {\n      r: 215,\n      g: 135,\n      b: 135\n    },\n    hsl: {\n      h: 0,\n      s: 50,\n      l: 68\n    },\n    name: \"LightPink3\"\n  },\n  {\n    colorId: 175,\n    hexString: \"#d787af\",\n    rgb: {\n      r: 215,\n      g: 135,\n      b: 175\n    },\n    hsl: {\n      h: 330,\n      s: 50,\n      l: 68\n    },\n    name: \"Pink3\"\n  },\n  {\n    colorId: 176,\n    hexString: \"#d787d7\",\n    rgb: {\n      r: 215,\n      g: 135,\n      b: 215\n    },\n    hsl: {\n      h: 300,\n      s: 50,\n      l: 68\n    },\n    name: \"Plum3\"\n  },\n  {\n    colorId: 177,\n    hexString: \"#d787ff\",\n    rgb: {\n      r: 215,\n      g: 135,\n      b: 255\n    },\n    hsl: {\n      h: 280,\n      s: 100,\n      l: 76\n    },\n    name: \"Violet\"\n  },\n  {\n    colorId: 178,\n    hexString: \"#d7af00\",\n    rgb: {\n      r: 215,\n      g: 175,\n      b: 0\n    },\n    hsl: {\n      h: 48.8372093023256,\n      s: 100,\n      l: 42\n    },\n    name: \"Gold3\"\n  },\n  {\n    colorId: 179,\n    hexString: \"#d7af5f\",\n    rgb: {\n      r: 215,\n      g: 175,\n      b: 95\n    },\n    hsl: {\n      h: 40,\n      s: 60,\n      l: 60\n    },\n    name: \"LightGoldenrod3\"\n  },\n  {\n    colorId: 180,\n    hexString: \"#d7af87\",\n    rgb: {\n      r: 215,\n      g: 175,\n      b: 135\n    },\n    hsl: {\n      h: 30,\n      s: 50,\n      l: 68\n    },\n    name: \"Tan\"\n  },\n  {\n    colorId: 181,\n    hexString: \"#d7afaf\",\n    rgb: {\n      r: 215,\n      g: 175,\n      b: 175\n    },\n    hsl: {\n      h: 0,\n      s: 33,\n      l: 76\n    },\n    name: \"MistyRose3\"\n  },\n  {\n    colorId: 182,\n    hexString: \"#d7afd7\",\n    rgb: {\n      r: 215,\n      g: 175,\n      b: 215\n    },\n    hsl: {\n      h: 300,\n      s: 33,\n      l: 76\n    },\n    name: \"Thistle3\"\n  },\n  {\n    colorId: 183,\n    hexString: \"#d7afff\",\n    rgb: {\n      r: 215,\n      g: 175,\n      b: 255\n    },\n    hsl: {\n      h: 270,\n      s: 100,\n      l: 84\n    },\n    name: \"Plum2\"\n  },\n  {\n    colorId: 184,\n    hexString: \"#d7d700\",\n    rgb: {\n      r: 215,\n      g: 215,\n      b: 0\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 42\n    },\n    name: \"Yellow3\"\n  },\n  {\n    colorId: 185,\n    hexString: \"#d7d75f\",\n    rgb: {\n      r: 215,\n      g: 215,\n      b: 95\n    },\n    hsl: {\n      h: 60,\n      s: 60,\n      l: 60\n    },\n    name: \"Khaki3\"\n  },\n  {\n    colorId: 186,\n    hexString: \"#d7d787\",\n    rgb: {\n      r: 215,\n      g: 215,\n      b: 135\n    },\n    hsl: {\n      h: 60,\n      s: 50,\n      l: 68\n    },\n    name: \"LightGoldenrod2\"\n  },\n  {\n    colorId: 187,\n    hexString: \"#d7d7af\",\n    rgb: {\n      r: 215,\n      g: 215,\n      b: 175\n    },\n    hsl: {\n      h: 60,\n      s: 33,\n      l: 76\n    },\n    name: \"LightYellow3\"\n  },\n  {\n    colorId: 188,\n    hexString: \"#d7d7d7\",\n    rgb: {\n      r: 215,\n      g: 215,\n      b: 215\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 84\n    },\n    name: \"Grey84\"\n  },\n  {\n    colorId: 189,\n    hexString: \"#d7d7ff\",\n    rgb: {\n      r: 215,\n      g: 215,\n      b: 255\n    },\n    hsl: {\n      h: 240,\n      s: 100,\n      l: 92\n    },\n    name: \"LightSteelBlue1\"\n  },\n  {\n    colorId: 190,\n    hexString: \"#d7ff00\",\n    rgb: {\n      r: 215,\n      g: 255,\n      b: 0\n    },\n    hsl: {\n      h: 69.4117647058823,\n      s: 100,\n      l: 50\n    },\n    name: \"Yellow2\"\n  },\n  {\n    colorId: 191,\n    hexString: \"#d7ff5f\",\n    rgb: {\n      r: 215,\n      g: 255,\n      b: 95\n    },\n    hsl: {\n      h: 75,\n      s: 100,\n      l: 68\n    },\n    name: \"DarkOliveGreen1\"\n  },\n  {\n    colorId: 192,\n    hexString: \"#d7ff87\",\n    rgb: {\n      r: 215,\n      g: 255,\n      b: 135\n    },\n    hsl: {\n      h: 80,\n      s: 100,\n      l: 76\n    },\n    name: \"DarkOliveGreen1\"\n  },\n  {\n    colorId: 193,\n    hexString: \"#d7ffaf\",\n    rgb: {\n      r: 215,\n      g: 255,\n      b: 175\n    },\n    hsl: {\n      h: 90,\n      s: 100,\n      l: 84\n    },\n    name: \"DarkSeaGreen1\"\n  },\n  {\n    colorId: 194,\n    hexString: \"#d7ffd7\",\n    rgb: {\n      r: 215,\n      g: 255,\n      b: 215\n    },\n    hsl: {\n      h: 120,\n      s: 100,\n      l: 92\n    },\n    name: \"Honeydew2\"\n  },\n  {\n    colorId: 195,\n    hexString: \"#d7ffff\",\n    rgb: {\n      r: 215,\n      g: 255,\n      b: 255\n    },\n    hsl: {\n      h: 180,\n      s: 100,\n      l: 92\n    },\n    name: \"LightCyan1\"\n  },\n  {\n    colorId: 196,\n    hexString: \"#ff0000\",\n    rgb: {\n      r: 255,\n      g: 0,\n      b: 0\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 50\n    },\n    name: \"Red1\"\n  },\n  {\n    colorId: 197,\n    hexString: \"#ff005f\",\n    rgb: {\n      r: 255,\n      g: 0,\n      b: 95\n    },\n    hsl: {\n      h: 337.647058823529,\n      s: 100,\n      l: 50\n    },\n    name: \"DeepPink2\"\n  },\n  {\n    colorId: 198,\n    hexString: \"#ff0087\",\n    rgb: {\n      r: 255,\n      g: 0,\n      b: 135\n    },\n    hsl: {\n      h: 328.235294117647,\n      s: 100,\n      l: 50\n    },\n    name: \"DeepPink1\"\n  },\n  {\n    colorId: 199,\n    hexString: \"#ff00af\",\n    rgb: {\n      r: 255,\n      g: 0,\n      b: 175\n    },\n    hsl: {\n      h: 318.823529411765,\n      s: 100,\n      l: 50\n    },\n    name: \"DeepPink1\"\n  },\n  {\n    colorId: 200,\n    hexString: \"#ff00d7\",\n    rgb: {\n      r: 255,\n      g: 0,\n      b: 215\n    },\n    hsl: {\n      h: 309.411764705882,\n      s: 100,\n      l: 50\n    },\n    name: \"Magenta2\"\n  },\n  {\n    colorId: 201,\n    hexString: \"#ff00ff\",\n    rgb: {\n      r: 255,\n      g: 0,\n      b: 255\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 50\n    },\n    name: \"Magenta1\"\n  },\n  {\n    colorId: 202,\n    hexString: \"#ff5f00\",\n    rgb: {\n      r: 255,\n      g: 95,\n      b: 0\n    },\n    hsl: {\n      h: 22.3529411764706,\n      s: 100,\n      l: 50\n    },\n    name: \"OrangeRed1\"\n  },\n  {\n    colorId: 203,\n    hexString: \"#ff5f5f\",\n    rgb: {\n      r: 255,\n      g: 95,\n      b: 95\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 68\n    },\n    name: \"IndianRed1\"\n  },\n  {\n    colorId: 204,\n    hexString: \"#ff5f87\",\n    rgb: {\n      r: 255,\n      g: 95,\n      b: 135\n    },\n    hsl: {\n      h: 345,\n      s: 100,\n      l: 68\n    },\n    name: \"IndianRed1\"\n  },\n  {\n    colorId: 205,\n    hexString: \"#ff5faf\",\n    rgb: {\n      r: 255,\n      g: 95,\n      b: 175\n    },\n    hsl: {\n      h: 330,\n      s: 100,\n      l: 68\n    },\n    name: \"HotPink\"\n  },\n  {\n    colorId: 206,\n    hexString: \"#ff5fd7\",\n    rgb: {\n      r: 255,\n      g: 95,\n      b: 215\n    },\n    hsl: {\n      h: 315,\n      s: 100,\n      l: 68\n    },\n    name: \"HotPink\"\n  },\n  {\n    colorId: 207,\n    hexString: \"#ff5fff\",\n    rgb: {\n      r: 255,\n      g: 95,\n      b: 255\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 68\n    },\n    name: \"MediumOrchid1\"\n  },\n  {\n    colorId: 208,\n    hexString: \"#ff8700\",\n    rgb: {\n      r: 255,\n      g: 135,\n      b: 0\n    },\n    hsl: {\n      h: 31.7647058823529,\n      s: 100,\n      l: 50\n    },\n    name: \"DarkOrange\"\n  },\n  {\n    colorId: 209,\n    hexString: \"#ff875f\",\n    rgb: {\n      r: 255,\n      g: 135,\n      b: 95\n    },\n    hsl: {\n      h: 15,\n      s: 100,\n      l: 68\n    },\n    name: \"Salmon1\"\n  },\n  {\n    colorId: 210,\n    hexString: \"#ff8787\",\n    rgb: {\n      r: 255,\n      g: 135,\n      b: 135\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 76\n    },\n    name: \"LightCoral\"\n  },\n  {\n    colorId: 211,\n    hexString: \"#ff87af\",\n    rgb: {\n      r: 255,\n      g: 135,\n      b: 175\n    },\n    hsl: {\n      h: 340,\n      s: 100,\n      l: 76\n    },\n    name: \"PaleVioletRed1\"\n  },\n  {\n    colorId: 212,\n    hexString: \"#ff87d7\",\n    rgb: {\n      r: 255,\n      g: 135,\n      b: 215\n    },\n    hsl: {\n      h: 320,\n      s: 100,\n      l: 76\n    },\n    name: \"Orchid2\"\n  },\n  {\n    colorId: 213,\n    hexString: \"#ff87ff\",\n    rgb: {\n      r: 255,\n      g: 135,\n      b: 255\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 76\n    },\n    name: \"Orchid1\"\n  },\n  {\n    colorId: 214,\n    hexString: \"#ffaf00\",\n    rgb: {\n      r: 255,\n      g: 175,\n      b: 0\n    },\n    hsl: {\n      h: 41.1764705882353,\n      s: 100,\n      l: 50\n    },\n    name: \"Orange1\"\n  },\n  {\n    colorId: 215,\n    hexString: \"#ffaf5f\",\n    rgb: {\n      r: 255,\n      g: 175,\n      b: 95\n    },\n    hsl: {\n      h: 30,\n      s: 100,\n      l: 68\n    },\n    name: \"SandyBrown\"\n  },\n  {\n    colorId: 216,\n    hexString: \"#ffaf87\",\n    rgb: {\n      r: 255,\n      g: 175,\n      b: 135\n    },\n    hsl: {\n      h: 20,\n      s: 100,\n      l: 76\n    },\n    name: \"LightSalmon1\"\n  },\n  {\n    colorId: 217,\n    hexString: \"#ffafaf\",\n    rgb: {\n      r: 255,\n      g: 175,\n      b: 175\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 84\n    },\n    name: \"LightPink1\"\n  },\n  {\n    colorId: 218,\n    hexString: \"#ffafd7\",\n    rgb: {\n      r: 255,\n      g: 175,\n      b: 215\n    },\n    hsl: {\n      h: 330,\n      s: 100,\n      l: 84\n    },\n    name: \"Pink1\"\n  },\n  {\n    colorId: 219,\n    hexString: \"#ffafff\",\n    rgb: {\n      r: 255,\n      g: 175,\n      b: 255\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 84\n    },\n    name: \"Plum1\"\n  },\n  {\n    colorId: 220,\n    hexString: \"#ffd700\",\n    rgb: {\n      r: 255,\n      g: 215,\n      b: 0\n    },\n    hsl: {\n      h: 50.5882352941176,\n      s: 100,\n      l: 50\n    },\n    name: \"Gold1\"\n  },\n  {\n    colorId: 221,\n    hexString: \"#ffd75f\",\n    rgb: {\n      r: 255,\n      g: 215,\n      b: 95\n    },\n    hsl: {\n      h: 45,\n      s: 100,\n      l: 68\n    },\n    name: \"LightGoldenrod2\"\n  },\n  {\n    colorId: 222,\n    hexString: \"#ffd787\",\n    rgb: {\n      r: 255,\n      g: 215,\n      b: 135\n    },\n    hsl: {\n      h: 40,\n      s: 100,\n      l: 76\n    },\n    name: \"LightGoldenrod2\"\n  },\n  {\n    colorId: 223,\n    hexString: \"#ffd7af\",\n    rgb: {\n      r: 255,\n      g: 215,\n      b: 175\n    },\n    hsl: {\n      h: 30,\n      s: 100,\n      l: 84\n    },\n    name: \"NavajoWhite1\"\n  },\n  {\n    colorId: 224,\n    hexString: \"#ffd7d7\",\n    rgb: {\n      r: 255,\n      g: 215,\n      b: 215\n    },\n    hsl: {\n      h: 0,\n      s: 100,\n      l: 92\n    },\n    name: \"MistyRose1\"\n  },\n  {\n    colorId: 225,\n    hexString: \"#ffd7ff\",\n    rgb: {\n      r: 255,\n      g: 215,\n      b: 255\n    },\n    hsl: {\n      h: 300,\n      s: 100,\n      l: 92\n    },\n    name: \"Thistle1\"\n  },\n  {\n    colorId: 226,\n    hexString: \"#ffff00\",\n    rgb: {\n      r: 255,\n      g: 255,\n      b: 0\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 50\n    },\n    name: \"Yellow1\"\n  },\n  {\n    colorId: 227,\n    hexString: \"#ffff5f\",\n    rgb: {\n      r: 255,\n      g: 255,\n      b: 95\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 68\n    },\n    name: \"LightGoldenrod1\"\n  },\n  {\n    colorId: 228,\n    hexString: \"#ffff87\",\n    rgb: {\n      r: 255,\n      g: 255,\n      b: 135\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 76\n    },\n    name: \"Khaki1\"\n  },\n  {\n    colorId: 229,\n    hexString: \"#ffffaf\",\n    rgb: {\n      r: 255,\n      g: 255,\n      b: 175\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 84\n    },\n    name: \"Wheat1\"\n  },\n  {\n    colorId: 230,\n    hexString: \"#ffffd7\",\n    rgb: {\n      r: 255,\n      g: 255,\n      b: 215\n    },\n    hsl: {\n      h: 60,\n      s: 100,\n      l: 92\n    },\n    name: \"Cornsilk1\"\n  },\n  {\n    colorId: 231,\n    hexString: \"#ffffff\",\n    rgb: {\n      r: 255,\n      g: 255,\n      b: 255\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 100\n    },\n    name: \"Grey100\"\n  },\n  {\n    colorId: 232,\n    hexString: \"#080808\",\n    rgb: {\n      r: 8,\n      g: 8,\n      b: 8\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 3\n    },\n    name: \"Grey3\"\n  },\n  {\n    colorId: 233,\n    hexString: \"#121212\",\n    rgb: {\n      r: 18,\n      g: 18,\n      b: 18\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 7\n    },\n    name: \"Grey7\"\n  },\n  {\n    colorId: 234,\n    hexString: \"#1c1c1c\",\n    rgb: {\n      r: 28,\n      g: 28,\n      b: 28\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 10\n    },\n    name: \"Grey11\"\n  },\n  {\n    colorId: 235,\n    hexString: \"#262626\",\n    rgb: {\n      r: 38,\n      g: 38,\n      b: 38\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 14\n    },\n    name: \"Grey15\"\n  },\n  {\n    colorId: 236,\n    hexString: \"#303030\",\n    rgb: {\n      r: 48,\n      g: 48,\n      b: 48\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 18\n    },\n    name: \"Grey19\"\n  },\n  {\n    colorId: 237,\n    hexString: \"#3a3a3a\",\n    rgb: {\n      r: 58,\n      g: 58,\n      b: 58\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 22\n    },\n    name: \"Grey23\"\n  },\n  {\n    colorId: 238,\n    hexString: \"#444444\",\n    rgb: {\n      r: 68,\n      g: 68,\n      b: 68\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 26\n    },\n    name: \"Grey27\"\n  },\n  {\n    colorId: 239,\n    hexString: \"#4e4e4e\",\n    rgb: {\n      r: 78,\n      g: 78,\n      b: 78\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 30\n    },\n    name: \"Grey30\"\n  },\n  {\n    colorId: 240,\n    hexString: \"#585858\",\n    rgb: {\n      r: 88,\n      g: 88,\n      b: 88\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 34\n    },\n    name: \"Grey35\"\n  },\n  {\n    colorId: 241,\n    hexString: \"#626262\",\n    rgb: {\n      r: 98,\n      g: 98,\n      b: 98\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 37\n    },\n    name: \"Grey39\"\n  },\n  {\n    colorId: 242,\n    hexString: \"#6c6c6c\",\n    rgb: {\n      r: 108,\n      g: 108,\n      b: 108\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 40\n    },\n    name: \"Grey42\"\n  },\n  {\n    colorId: 243,\n    hexString: \"#767676\",\n    rgb: {\n      r: 118,\n      g: 118,\n      b: 118\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 46\n    },\n    name: \"Grey46\"\n  },\n  {\n    colorId: 244,\n    hexString: \"#808080\",\n    rgb: {\n      r: 128,\n      g: 128,\n      b: 128\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 50\n    },\n    name: \"Grey50\"\n  },\n  {\n    colorId: 245,\n    hexString: \"#8a8a8a\",\n    rgb: {\n      r: 138,\n      g: 138,\n      b: 138\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 54\n    },\n    name: \"Grey54\"\n  },\n  {\n    colorId: 246,\n    hexString: \"#949494\",\n    rgb: {\n      r: 148,\n      g: 148,\n      b: 148\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 58\n    },\n    name: \"Grey58\"\n  },\n  {\n    colorId: 247,\n    hexString: \"#9e9e9e\",\n    rgb: {\n      r: 158,\n      g: 158,\n      b: 158\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 61\n    },\n    name: \"Grey62\"\n  },\n  {\n    colorId: 248,\n    hexString: \"#a8a8a8\",\n    rgb: {\n      r: 168,\n      g: 168,\n      b: 168\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 65\n    },\n    name: \"Grey66\"\n  },\n  {\n    colorId: 249,\n    hexString: \"#b2b2b2\",\n    rgb: {\n      r: 178,\n      g: 178,\n      b: 178\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 69\n    },\n    name: \"Grey70\"\n  },\n  {\n    colorId: 250,\n    hexString: \"#bcbcbc\",\n    rgb: {\n      r: 188,\n      g: 188,\n      b: 188\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 73\n    },\n    name: \"Grey74\"\n  },\n  {\n    colorId: 251,\n    hexString: \"#c6c6c6\",\n    rgb: {\n      r: 198,\n      g: 198,\n      b: 198\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 77\n    },\n    name: \"Grey78\"\n  },\n  {\n    colorId: 252,\n    hexString: \"#d0d0d0\",\n    rgb: {\n      r: 208,\n      g: 208,\n      b: 208\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 81\n    },\n    name: \"Grey82\"\n  },\n  {\n    colorId: 253,\n    hexString: \"#dadada\",\n    rgb: {\n      r: 218,\n      g: 218,\n      b: 218\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 85\n    },\n    name: \"Grey85\"\n  },\n  {\n    colorId: 254,\n    hexString: \"#e4e4e4\",\n    rgb: {\n      r: 228,\n      g: 228,\n      b: 228\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 89\n    },\n    name: \"Grey89\"\n  },\n  {\n    colorId: 255,\n    hexString: \"#eeeeee\",\n    rgb: {\n      r: 238,\n      g: 238,\n      b: 238\n    },\n    hsl: {\n      h: 0,\n      s: 0,\n      l: 93\n    },\n    name: \"Grey93\"\n  }\n];\n\nexport { colorArr };\n","import { colorArr } from '../constant/color.js';\n\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst _ImgConversionUtils = class {\n  static createCanvas(imgNode) {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = imgNode.width;\n    canvas.height = imgNode.height;\n    const ctx = canvas.getContext(\"2d\");\n    return {canvas, ctx};\n  }\n  static createImgDom(src) {\n    const imgNode = new Image();\n    imgNode.crossOrigin = \"Anonymous\";\n    imgNode.src = src;\n    return new Promise((resolve) => {\n      imgNode.onload = () => {\n        resolve(imgNode);\n      };\n      imgNode.onerror = (e) => {\n        console.error(e);\n      };\n    });\n  }\n  static renderColorByMask({\n    renderCanvas,\n    imgData,\n    imgNode,\n    customColor,\n    backgroundColor = \"rgb(0, 0, 0)\",\n    hiddenUndefinedColor = false\n  }) {\n    const ctx = renderCanvas.getContext(\"2d\");\n    if (ctx) {\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(0, 0, imgNode.width, imgNode.height);\n      const getColor = ({r}) => {\n        var _a;\n        const colorByCustom = (_a = customColor == null ? void 0 : customColor.find((i) => (i == null ? void 0 : i.channel) === r)) == null ? void 0 : _a.color;\n        if (hiddenUndefinedColor === true && !colorByCustom) {\n          return \"\";\n        }\n        return colorByCustom || colorArr[r].hexString;\n      };\n      _ImgConversionUtils.renderPixelByImgData({\n        ctx,\n        imgData,\n        size: imgNode,\n        getColor\n      });\n      const newImgSrc = renderCanvas.toDataURL(\"image/png\");\n      return newImgSrc;\n    }\n  }\n  static renderMaskByColor({\n    renderCanvas,\n    imgData,\n    imgNode,\n    customColor,\n    backgroundColor = \"rgb(0, 0, 0)\"\n  }) {\n    const ctx = renderCanvas.getContext(\"2d\");\n    if (ctx) {\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(0, 0, imgNode.width, imgNode.height);\n      const getColor = ({r, g, b}) => {\n        let color = \"\";\n        customColor == null ? void 0 : customColor.some((v) => {\n          if (v.rgb) {\n            const scope = 2;\n            if (r >= v.rgb.r - scope && r <= v.rgb.r + scope && g >= v.rgb.g - scope && g <= v.rgb.g + scope && b >= v.rgb.b - scope && b <= v.rgb.b + scope) {\n              color = `rgb(${v.channel},${v.channel},${v.channel})`;\n              return true;\n            }\n            return false;\n          }\n        });\n        return color;\n      };\n      _ImgConversionUtils.renderPixelByImgData({\n        ctx,\n        imgData,\n        size: imgNode,\n        getColor\n      });\n      const newImgSrc = renderCanvas.toDataURL(\"image/png\");\n      return newImgSrc;\n    }\n  }\n  static renderPixelByImgData({\n    ctx,\n    imgData,\n    size,\n    getColor\n  }) {\n    for (let i = 0; i < imgData.data.length / 4; i++) {\n      const index = i * 4;\n      const r = imgData.data[index];\n      const g = imgData.data[index + 1];\n      const b = imgData.data[index + 2];\n      const a = imgData.data[index + 3];\n      const color = getColor({r, g, b, a});\n      if (!color) {\n        continue;\n      }\n      ctx.fillStyle = color;\n      const x = Math.floor(i % size.width);\n      const y = Math.floor(i / size.width);\n      ctx.fillRect(x, y, 1, 1);\n    }\n  }\n};\nlet ImgConversionUtils = _ImgConversionUtils;\nImgConversionUtils.nextTick = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(\"\");\n    });\n  });\n};\nImgConversionUtils.getColorMapBySingleChannelMask = (params) => __async(_ImgConversionUtils, null, function* () {\n  const {\n    maskSrc,\n    customColor,\n    basicImgSrc,\n    opacity = 0.3,\n    hiddenUndefinedColor = false\n  } = params;\n  try {\n    const imgNode = yield _ImgConversionUtils.createImgDom(maskSrc);\n    const {ctx: basicCtx} = _ImgConversionUtils.createCanvas(imgNode);\n    basicCtx.drawImage(imgNode, 0, 0, imgNode.width, imgNode.height);\n    const {canvas: renderCanvas, ctx: renderCtx} = _ImgConversionUtils.createCanvas(imgNode);\n    if (basicImgSrc) {\n      const basicImg = yield _ImgConversionUtils.createImgDom(basicImgSrc);\n      renderCtx.drawImage(basicImg, 0, 0);\n      renderCtx.globalAlpha = opacity;\n    }\n    yield _ImgConversionUtils.nextTick();\n    const imgData = basicCtx.getImageData(0, 0, imgNode.width, imgNode.height);\n    const newImgSrc = _ImgConversionUtils.renderColorByMask({\n      renderCanvas,\n      imgData,\n      imgNode,\n      customColor,\n      backgroundColor: params.backgroundColor,\n      hiddenUndefinedColor\n    });\n    return newImgSrc;\n  } catch (e) {\n    console.error(\"Failed to load image\");\n  }\n});\nImgConversionUtils.getMaskByColorImg = (_0) => __async(_ImgConversionUtils, [_0], function* ({\n  maskSrc,\n  customColor\n}) {\n  try {\n    const imgNode = yield _ImgConversionUtils.createImgDom(maskSrc);\n    const {ctx: basicCtx} = _ImgConversionUtils.createCanvas(imgNode);\n    basicCtx.drawImage(imgNode, 0, 0, imgNode.width, imgNode.height);\n    const {canvas: renderCanvas} = _ImgConversionUtils.createCanvas(imgNode);\n    yield _ImgConversionUtils.nextTick();\n    const imgData = basicCtx.getImageData(0, 0, imgNode.width, imgNode.height);\n    const newImgSrc = _ImgConversionUtils.renderMaskByColor({\n      renderCanvas,\n      imgData,\n      imgNode,\n      customColor\n    });\n    return newImgSrc;\n  } catch (e) {\n    console.error(\"Failed to load image\");\n  }\n});\n\nexport { ImgConversionUtils as default };\n","import React from 'react';\nimport { createDispatchHook, createSelectorHook } from 'react-redux';\nimport { AnyAction, Dispatch } from 'redux';\n\nexport const LabelBeeContext = React.createContext(undefined) as any;\nexport const useDispatch = createDispatchHook(LabelBeeContext) as () => Dispatch<AnyAction | any>; // TODO, Any need to be updated.\nexport const useSelector = createSelectorHook(LabelBeeContext);\n","const editStepWidth = 320;\nvar EPointCloudName;\n(function(EPointCloudName2) {\n  EPointCloudName2[\"PointCloud\"] = \"pointCloudTool\";\n})(EPointCloudName || (EPointCloudName = {}));\nvar EVideoToolName;\n(function(EVideoToolName2) {\n  EVideoToolName2[\"VideoTextTool\"] = \"videoTextTool\";\n  EVideoToolName2[\"VideoTagTool\"] = \"videoTagTool\";\n  EVideoToolName2[\"VideoClipTool\"] = \"videoClipTool\";\n})(EVideoToolName || (EVideoToolName = {}));\nvar EToolType;\n(function(EToolType2) {\n  EToolType2[EToolType2[\"Rect\"] = 0] = \"Rect\";\n  EToolType2[EToolType2[\"Tag\"] = 1] = \"Tag\";\n})(EToolType || (EToolType = {}));\nvar EToolName;\n(function(EToolName2) {\n  EToolName2[\"Rect\"] = \"rectTool\";\n  EToolName2[\"Tag\"] = \"tagTool\";\n  EToolName2[\"Point\"] = \"pointTool\";\n  EToolName2[\"PointMarker\"] = \"pointMarkerTool\";\n  EToolName2[\"Segmentation\"] = \"segmentationTool\";\n  EToolName2[\"Filter\"] = \"filterTool\";\n  EToolName2[\"Text\"] = \"textTool\";\n  EToolName2[\"Polygon\"] = \"polygonTool\";\n  EToolName2[\"Line\"] = \"lineTool\";\n  EToolName2[\"LineMarker\"] = \"lineMarkerTool\";\n  EToolName2[\"Empty\"] = \"emptyTool\";\n  EToolName2[\"FolderTag\"] = \"folderTagTool\";\n  EToolName2[\"RectTrack\"] = \"rectTrackTool\";\n  EToolName2[\"ScribbleTool\"] = \"scribbleTool\";\n  EToolName2[\"Face\"] = \"faceTool\";\n  EToolName2[\"ClientAttribute\"] = \"clientAttributeTool\";\n  EToolName2[\"OCRRelation\"] = \"OCRRelationTool\";\n  EToolName2[\"SegmentByRect\"] = \"segmentByRectTool\";\n})(EToolName || (EToolName = {}));\nvar ECheckModel;\n(function(ECheckModel2) {\n  ECheckModel2[\"Check\"] = \"check\";\n})(ECheckModel || (ECheckModel = {}));\nvar ERectPattern;\n(function(ERectPattern2) {\n  ERectPattern2[ERectPattern2[\"nothing\"] = 0] = \"nothing\";\n  ERectPattern2[ERectPattern2[\"RectBG\"] = 1] = \"RectBG\";\n  ERectPattern2[ERectPattern2[\"showOrder\"] = 2] = \"showOrder\";\n})(ERectPattern || (ERectPattern = {}));\nconst TOOL_NAME = {\n  [EToolName.Rect]: \"\\u62C9\\u6846\",\n  [EToolName.Tag]: \"\\u6807\\u7B7E\",\n  [EToolName.Point]: \"\\u6807\\u70B9\",\n  [EToolName.PointMarker]: \"\\u5217\\u8868\\u6807\\u70B9\",\n  [EToolName.Segmentation]: \"\\u524D\\u666F\\u5206\\u5272\",\n  [EToolName.Filter]: \"\\u7B5B\\u9009\",\n  [EToolName.Text]: \"\\u6587\\u672C\",\n  [EToolName.Polygon]: \"\\u591A\\u8FB9\\u5F62\",\n  [EToolName.Line]: \"\\u7EBF\\u6761\",\n  [EToolName.LineMarker]: \"\\u5217\\u8868\\u7EBF\\u6761\",\n  [EToolName.FolderTag]: \"\\u6587\\u4EF6\\u5939\\u6807\\u7B7E\",\n  [EToolName.RectTrack]: \"\\u62C9\\u6846\\u8DDF\\u8E2A\",\n  [EToolName.Face]: \"\\u4EBA\\u8138106\\u5DE5\\u5177\",\n  [EToolName.ClientAttribute]: \"\\u5BA2\\u6237\\u7AEF\\u5C5E\\u6027\\u5DE5\\u5177\",\n  [EToolName.OCRRelation]: \"OCR\\u5173\\u8054\\u5173\\u7CFB\\u5DE5\\u5177\",\n  [EToolName.SegmentByRect]: \"\\u7B97\\u6CD5\\u5206\\u5272\\u8F85\\u52A9\\u5DE5\\u5177\",\n  [EVideoToolName.VideoTextTool]: \"\\u89C6\\u9891\\u6587\\u672C\",\n  [EVideoToolName.VideoTagTool]: \"\\u89C6\\u9891\\u6807\\u7B7E\",\n  [EVideoToolName.VideoClipTool]: \"\\u89C6\\u9891\\u622A\\u53D6\",\n  [EPointCloudName.PointCloud]: \"\\u70B9\\u4E91\"\n};\nconst TOOL_NAME_EN = {\n  [EToolName.Rect]: \"Rect\",\n  [EToolName.Tag]: \"Tag\",\n  [EToolName.Point]: \"Point\",\n  [EToolName.PointMarker]: \"PointMarker\",\n  [EToolName.Segmentation]: \"Segmentation\",\n  [EToolName.Filter]: \"Filter\",\n  [EToolName.Text]: \"Text\",\n  [EToolName.Polygon]: \"Polygon\",\n  [EToolName.Line]: \"Line\",\n  [EToolName.LineMarker]: \"LineMarker\",\n  [EToolName.FolderTag]: \"FolderTag\",\n  [EToolName.RectTrack]: \"RectTrack\",\n  [EToolName.Face]: \"Face\",\n  [EToolName.ClientAttribute]: \"ClientAttribute\",\n  [EToolName.OCRRelation]: \"OCRRelation\",\n  [EToolName.SegmentByRect]: \"SegmentByRect\",\n  [EVideoToolName.VideoTextTool]: \"VideoTextTool\",\n  [EVideoToolName.VideoTagTool]: \"VideoTagTool\",\n  [EVideoToolName.VideoClipTool]: \"VideoClipTool\",\n  [EPointCloudName.PointCloud]: \"PointCloud\"\n};\nvar EDependPattern;\n(function(EDependPattern2) {\n  EDependPattern2[EDependPattern2[\"noDepend\"] = 1] = \"noDepend\";\n  EDependPattern2[EDependPattern2[\"dependOrigin\"] = 2] = \"dependOrigin\";\n  EDependPattern2[EDependPattern2[\"dependShape\"] = 3] = \"dependShape\";\n  EDependPattern2[EDependPattern2[\"dependLine\"] = 4] = \"dependLine\";\n  EDependPattern2[EDependPattern2[\"dependPolygon\"] = 5] = \"dependPolygon\";\n  EDependPattern2[EDependPattern2[\"dependPreShape\"] = 101] = \"dependPreShape\";\n  EDependPattern2[EDependPattern2[\"dependPreLine\"] = 102] = \"dependPreLine\";\n  EDependPattern2[EDependPattern2[\"dependPrePolygon\"] = 103] = \"dependPrePolygon\";\n})(EDependPattern || (EDependPattern = {}));\nvar EFilterToolOperation;\n(function(EFilterToolOperation2) {\n  EFilterToolOperation2[\"lc\"] = \"leftClick\";\n  EFilterToolOperation2[\"rc\"] = \"rightClick\";\n  EFilterToolOperation2[\"clc\"] = \"ctrlLeftClick\";\n  EFilterToolOperation2[\"crc\"] = \"ctrlRightClick\";\n})(EFilterToolOperation || (EFilterToolOperation = {}));\nconst OPERATION_LIST = {\n  leftClick: \"\\u9F20\\u6807\\u5DE6\\u952E\",\n  rightClick: \"\\u9F20\\u6807\\u53F3\\u952E\",\n  ctrlLeftClick: \"ctrl + \\u9F20\\u6807\\u5DE6\\u952E\",\n  ctrlRightClick: \"ctrl + \\u9F20\\u6807\\u53F3\\u952E\"\n};\nvar EAnnotationMode;\n(function(EAnnotationMode2) {\n  EAnnotationMode2[EAnnotationMode2[\"Normal\"] = 1] = \"Normal\";\n  EAnnotationMode2[EAnnotationMode2[\"Modify\"] = 2] = \"Modify\";\n})(EAnnotationMode || (EAnnotationMode = {}));\nvar ELineTypes;\n(function(ELineTypes2) {\n  ELineTypes2[ELineTypes2[\"Line\"] = 0] = \"Line\";\n  ELineTypes2[ELineTypes2[\"Curve\"] = 1] = \"Curve\";\n})(ELineTypes || (ELineTypes = {}));\nvar ELineColor;\n(function(ELineColor2) {\n  ELineColor2[ELineColor2[\"SingleColor\"] = 0] = \"SingleColor\";\n  ELineColor2[ELineColor2[\"MultiColor\"] = 1] = \"MultiColor\";\n})(ELineColor || (ELineColor = {}));\nvar ESelectedType;\n(function(ESelectedType2) {\n  ESelectedType2[ESelectedType2[\"Form\"] = 1] = \"Form\";\n  ESelectedType2[ESelectedType2[\"Json\"] = 2] = \"Json\";\n})(ESelectedType || (ESelectedType = {}));\nvar EDragTarget;\n(function(EDragTarget2) {\n  EDragTarget2[EDragTarget2[\"Point\"] = 0] = \"Point\";\n  EDragTarget2[EDragTarget2[\"Line\"] = 1] = \"Line\";\n  EDragTarget2[EDragTarget2[\"Plane\"] = 2] = \"Plane\";\n})(EDragTarget || (EDragTarget = {}));\nvar EDrawPointPattern;\n(function(EDrawPointPattern2) {\n  EDrawPointPattern2[EDrawPointPattern2[\"None\"] = 0] = \"None\";\n  EDrawPointPattern2[EDrawPointPattern2[\"Drawing\"] = 1] = \"Drawing\";\n  EDrawPointPattern2[EDrawPointPattern2[\"Edit\"] = 2] = \"Edit\";\n})(EDrawPointPattern || (EDrawPointPattern = {}));\nvar EPageOperator;\n(function(EPageOperator2) {\n  EPageOperator2[EPageOperator2[\"Backward\"] = 0] = \"Backward\";\n  EPageOperator2[EPageOperator2[\"Forward\"] = 1] = \"Forward\";\n  EPageOperator2[EPageOperator2[\"JumpSkip\"] = 2] = \"JumpSkip\";\n  EPageOperator2[EPageOperator2[\"None\"] = 3] = \"None\";\n})(EPageOperator || (EPageOperator = {}));\nvar EAuditStatus;\n(function(EAuditStatus2) {\n  EAuditStatus2[EAuditStatus2[\"Wait\"] = 0] = \"Wait\";\n  EAuditStatus2[EAuditStatus2[\"Pass\"] = 1] = \"Pass\";\n  EAuditStatus2[EAuditStatus2[\"Fail\"] = 2] = \"Fail\";\n  EAuditStatus2[EAuditStatus2[\"Loading\"] = 3] = \"Loading\";\n})(EAuditStatus || (EAuditStatus = {}));\nvar ETextType;\n(function(ETextType2) {\n  ETextType2[ETextType2[\"AnyString\"] = 0] = \"AnyString\";\n  ETextType2[ETextType2[\"Order\"] = 1] = \"Order\";\n  ETextType2[ETextType2[\"EnglishOnly\"] = 2] = \"EnglishOnly\";\n  ETextType2[ETextType2[\"NumberOnly\"] = 3] = \"NumberOnly\";\n  ETextType2[ETextType2[\"CustomFormat\"] = 4] = \"CustomFormat\";\n})(ETextType || (ETextType = {}));\nconst TEXT_TYPE = {\n  0: \"\\u4EFB\\u610F\\u5B57\\u7B26\",\n  1: \"\\u5E8F\\u53F7\",\n  2: \"\\u4EC5\\u82F1\\u6587\",\n  3: \"\\u4EC5\\u6570\\u5B57\"\n};\nconst TEXT_ATTRIBUTE_MAX_LENGTH = 1e3;\nconst TEXT_ATTRIBUTE_LINE_HEIGHT = 16;\nconst DEFAULT_TEXT_MAX_WIDTH = 300;\nconst DEFAULT_FONT = \"normal normal 500 14px Arial\";\nvar EThumbnailOption;\n(function(EThumbnailOption2) {\n  EThumbnailOption2[EThumbnailOption2[\"ImgList\"] = 1e3] = \"ImgList\";\n  EThumbnailOption2[EThumbnailOption2[\"TrackPrediction\"] = 1001] = \"TrackPrediction\";\n  EThumbnailOption2[EThumbnailOption2[\"ImgSearch\"] = 1002] = \"ImgSearch\";\n})(EThumbnailOption || (EThumbnailOption = {}));\nconst CLIENT_TOOL_HEAD_TYPE = {\n  [EPointCloudName.PointCloud]: \"sensebeepc\",\n  [EToolName.ClientAttribute]: \"sensebeepc-EnumAttributeTool\",\n  [EToolName.Face]: \"sensebeepc-FacePointsLabellingTool\",\n  [EToolName.OCRRelation]: \"sensebeepc-OCRRelationTool\"\n};\nconst CLIENT_TOOL_NAME = {\n  [EPointCloudName.PointCloud]: \"\\u70B9\\u4E91\\u5BA2\\u6237\\u7AEF\",\n  [EToolName.ClientAttribute]: \"\\u5BA2\\u6237\\u7AEF\\u5C5E\\u6027\\u5DE5\\u5177\",\n  [EToolName.Face]: \"\\u4EBA\\u8138106\\u70B9\\u5DE5\\u5177\",\n  [EToolName.OCRRelation]: \"OCR\\u5173\\u8054\\u5173\\u7CFB\\u5DE5\\u5177\"\n};\nconst SEGMENT_NUMBER = 16;\nconst edgeAdsorptionScope = 10;\nvar EPolygonPattern;\n(function(EPolygonPattern2) {\n  EPolygonPattern2[EPolygonPattern2[\"Normal\"] = 0] = \"Normal\";\n  EPolygonPattern2[EPolygonPattern2[\"Rect\"] = 1] = \"Rect\";\n})(EPolygonPattern || (EPolygonPattern = {}));\nvar EScribblePattern;\n(function(EScribblePattern2) {\n  EScribblePattern2[EScribblePattern2[\"Scribble\"] = 1] = \"Scribble\";\n  EScribblePattern2[EScribblePattern2[\"Erase\"] = 2] = \"Erase\";\n})(EScribblePattern || (EScribblePattern = {}));\n\nexport { CLIENT_TOOL_HEAD_TYPE, CLIENT_TOOL_NAME, DEFAULT_FONT, DEFAULT_TEXT_MAX_WIDTH, EAnnotationMode, EAuditStatus, ECheckModel, EDependPattern, EDragTarget, EDrawPointPattern, EFilterToolOperation, ELineColor, ELineTypes, EPageOperator, EPointCloudName, EPolygonPattern, ERectPattern, EScribblePattern, ESelectedType, ETextType, EThumbnailOption, EToolName, EToolType, EVideoToolName, OPERATION_LIST, SEGMENT_NUMBER, TEXT_ATTRIBUTE_LINE_HEIGHT, TEXT_ATTRIBUTE_MAX_LENGTH, TEXT_TYPE, TOOL_NAME, TOOL_NAME_EN, edgeAdsorptionScope, editStepWidth };\n","import { ELineTypes, SEGMENT_NUMBER } from '../../constant/tool.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction createSmoothCurvePoints(points, tension = 0.5, closed = false, numberOfSegments = 16) {\n  if (points.length < 4) {\n    return points;\n  }\n  const result = [];\n  const ps = points.slice(0);\n  let x;\n  let y;\n  let t1x;\n  let t2x;\n  let t1y;\n  let t2y;\n  let c1;\n  let c2;\n  let c3;\n  let c4;\n  let st;\n  let t;\n  let i;\n  if (closed) {\n    ps.unshift(points[points.length - 1]);\n    ps.unshift(points[points.length - 2]);\n    ps.unshift(points[points.length - 1]);\n    ps.unshift(points[points.length - 2]);\n    ps.push(points[0]);\n    ps.push(points[1]);\n  } else {\n    ps.unshift(points[1]);\n    ps.unshift(points[0]);\n    ps.push(points[points.length - 2]);\n    ps.push(points[points.length - 1]);\n  }\n  for (i = 2; i < ps.length - 4; i += 2) {\n    t1x = (ps[i + 2] - ps[i - 2]) * tension;\n    t2x = (ps[i + 4] - ps[i - 0]) * tension;\n    t1y = (ps[i + 3] - ps[i - 1]) * tension;\n    t2y = (ps[i + 5] - ps[i + 1]) * tension;\n    for (t = 0; t <= numberOfSegments; t++) {\n      st = t / numberOfSegments;\n      c1 = 2 * Math.pow(st, 3) - 3 * Math.pow(st, 2) + 1;\n      c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2);\n      c3 = Math.pow(st, 3) - 2 * Math.pow(st, 2) + st;\n      c4 = Math.pow(st, 3) - Math.pow(st, 2);\n      x = c1 * ps[i] + c2 * ps[i + 2] + c3 * t1x + c4 * t2x;\n      y = c1 * ps[i + 1] + c2 * ps[i + 3] + c3 * t1y + c4 * t2y;\n      result.push(x);\n      result.push(y);\n    }\n  }\n  const formatResult = [];\n  for (let j = 0; j < result.length - 1; j += 2) {\n    formatResult.push({\n      x: result[j],\n      y: result[j + 1]\n    });\n  }\n  if (closed) {\n    for (let j = 0; j < numberOfSegments + 1; j++) {\n      const d = formatResult.shift();\n      formatResult.push(d);\n    }\n  }\n  return formatResult;\n}\nconst createSmoothCurvePointsFromPointList = (pointList, numberOfSegments = 16) => createSmoothCurvePoints(pointList.reduce((acc, cur) => {\n  return [...acc, cur.x, cur.y];\n}, []), 0.5, false, numberOfSegments);\nfunction isInPolygon(checkPoint, polygonPoints, lineType = ELineTypes.Line) {\n  let counter = 0;\n  let i;\n  let xinters;\n  let p1;\n  let p2;\n  polygonPoints = [...polygonPoints];\n  if (lineType === ELineTypes.Curve) {\n    polygonPoints = createSmoothCurvePoints(polygonPoints.reduce((acc, cur) => {\n      return [...acc, cur.x, cur.y];\n    }, []), 0.5, true, SEGMENT_NUMBER);\n  }\n  [p1] = polygonPoints;\n  const pointCount = polygonPoints.length;\n  for (i = 1; i <= pointCount; i++) {\n    p2 = polygonPoints[i % pointCount];\n    if (checkPoint.x > Math.min(p1.x, p2.x) && checkPoint.x <= Math.max(p1.x, p2.x)) {\n      if (checkPoint.y <= Math.max(p1.y, p2.y)) {\n        if (p1.x !== p2.x) {\n          xinters = (checkPoint.x - p1.x) * (p2.y - p1.y) / (p2.x - p1.x) + p1.y;\n          if (p1.y === p2.y || checkPoint.y <= xinters) {\n            counter++;\n          }\n        }\n      }\n    }\n    p1 = p2;\n  }\n  if (counter % 2 === 0) {\n    return false;\n  }\n  return true;\n}\nfunction getPolygonPointUnderZoom(pointList, zoom = 1) {\n  return pointList.map((v) => __spreadProps(__spreadValues({}, v), {x: v.x * zoom, y: v.y * zoom}));\n}\n\nexport { createSmoothCurvePoints, createSmoothCurvePointsFromPointList, getPolygonPointUnderZoom, isInPolygon };\n","const headerHeight = 61;\nconst tipsHeight = 40;\nconst footerHeight = 40;\nconst sidebarWidth = 240;\nvar EStepType;\n(function(EStepType2) {\n  EStepType2[EStepType2[\"ANNOTATION\"] = 1] = \"ANNOTATION\";\n  EStepType2[EStepType2[\"QUALITY_INSPECTION\"] = 2] = \"QUALITY_INSPECTION\";\n  EStepType2[EStepType2[\"PRE_ANNOTATION\"] = 3] = \"PRE_ANNOTATION\";\n  EStepType2[EStepType2[\"MANUAL_CORRECTION\"] = 4] = \"MANUAL_CORRECTION\";\n})(EStepType || (EStepType = {}));\nconst ANNOTATION_MAX_SIZE = 1e3;\nvar EPageOperator;\n(function(EPageOperator2) {\n  EPageOperator2[EPageOperator2[\"Backward\"] = 0] = \"Backward\";\n  EPageOperator2[EPageOperator2[\"Forward\"] = 1] = \"Forward\";\n  EPageOperator2[EPageOperator2[\"JumpSkip\"] = 2] = \"JumpSkip\";\n  EPageOperator2[EPageOperator2[\"None\"] = 3] = \"None\";\n})(EPageOperator || (EPageOperator = {}));\nvar EDragStatus;\n(function(EDragStatus2) {\n  EDragStatus2[EDragStatus2[\"Start\"] = 0] = \"Start\";\n  EDragStatus2[EDragStatus2[\"Stop\"] = 1] = \"Stop\";\n  EDragStatus2[EDragStatus2[\"Wait\"] = 2] = \"Wait\";\n  EDragStatus2[EDragStatus2[\"Move\"] = 3] = \"Move\";\n})(EDragStatus || (EDragStatus = {}));\nvar EDragTarget;\n(function(EDragTarget2) {\n  EDragTarget2[EDragTarget2[\"Point\"] = 0] = \"Point\";\n  EDragTarget2[EDragTarget2[\"Line\"] = 1] = \"Line\";\n  EDragTarget2[EDragTarget2[\"Plane\"] = 2] = \"Plane\";\n})(EDragTarget || (EDragTarget = {}));\nvar ESortDirection;\n(function(ESortDirection2) {\n  ESortDirection2[ESortDirection2[\"ascend\"] = 0] = \"ascend\";\n  ESortDirection2[ESortDirection2[\"descend\"] = 1] = \"descend\";\n})(ESortDirection || (ESortDirection = {}));\nvar EGrowthMode;\n(function(EGrowthMode2) {\n  EGrowthMode2[EGrowthMode2[\"Intelligence\"] = 0] = \"Intelligence\";\n  EGrowthMode2[EGrowthMode2[\"Linear\"] = 1] = \"Linear\";\n})(EGrowthMode || (EGrowthMode = {}));\nvar ELang;\n(function(ELang2) {\n  ELang2[\"Zh\"] = \"zh_CN\";\n  ELang2[\"US\"] = \"en_US\";\n})(ELang || (ELang = {}));\nvar ERotateDirection;\n(function(ERotateDirection2) {\n  ERotateDirection2[ERotateDirection2[\"Clockwise\"] = 0] = \"Clockwise\";\n  ERotateDirection2[ERotateDirection2[\"Anticlockwise\"] = 1] = \"Anticlockwise\";\n})(ERotateDirection || (ERotateDirection = {}));\nconst DEFAULT_TEXT_OFFSET = {\n  offsetX: -10,\n  offsetY: -10\n};\nconst DEFAULT_TEXT_SHADOW = {\n  shadowColor: \"rgba(0, 0, 0, 1)\",\n  shadowOffsetX: 1,\n  shadowOffsetY: 1,\n  shadowBlur: 0\n};\nconst TEXT_ATTRIBUTE_OFFSET = {\n  x: 8,\n  y: 26\n};\n\nexport { ANNOTATION_MAX_SIZE, DEFAULT_TEXT_OFFSET, DEFAULT_TEXT_SHADOW, EDragStatus, EDragTarget, EGrowthMode, ELang, EPageOperator, ERotateDirection, ESortDirection, EStepType, TEXT_ATTRIBUTE_OFFSET, footerHeight, headerHeight, sidebarWidth, tipsHeight };\n","import { isObject } from 'lodash';\nimport { EStepType, ESortDirection } from '../../constant/annotation.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass CommonToolUtils {\n  static getStepInfo(step, stepList) {\n    return stepList == null ? void 0 : stepList.filter((info) => info.step === step)[0];\n  }\n  static getCurrentStepInfo(currentStep, stepList) {\n    const currentStepInfo = this.getStepInfo(currentStep, stepList);\n    if (currentStepInfo) {\n      if (currentStepInfo.type === EStepType.QUALITY_INSPECTION || currentStepInfo.type === EStepType.MANUAL_CORRECTION) {\n        return this.getCurrentStepInfo(currentStepInfo.dataSourceStep, stepList);\n      }\n    }\n    return currentStepInfo;\n  }\n  static getMaxOrder(result) {\n    let order = 0;\n    result.forEach((v) => {\n      if (v.order && v.order > order) {\n        order = v.order;\n      }\n    });\n    return order;\n  }\n  static hotkeyFilter(event) {\n    const target = event.target || event.srcElement;\n    if (!target) {\n      return true;\n    }\n    const {tagName, type} = target;\n    if (!tagName || !type) {\n      return true;\n    }\n    let flag = true;\n    if (target.isContentEditable || tagName === \"TEXTAREA\" || (tagName === \"INPUT\" && type !== \"radio\" || tagName === \"TEXTAREA\") && !target.readOnly) {\n      flag = false;\n    }\n    return flag;\n  }\n  static getNextSelectedRectID(rectList, sort = ESortDirection.ascend, selectedID) {\n    let sign = 1;\n    if (sort === ESortDirection.descend) {\n      sign = -1;\n    }\n    const sortRectList = rectList.sort((a, b) => {\n      if (a.x - b.x === 0) {\n        return a.y - b.y;\n      }\n      return sign * (a.x - b.x);\n    });\n    const i = sortRectList.findIndex((v) => v.id === selectedID);\n    const len = sortRectList.length;\n    return sortRectList[(i + 1) % len];\n  }\n  static getNextSelectedRectIDByEvent(pointList, event, selectedID) {\n    const sortDirection = event.shiftKey ? ESortDirection.descend : ESortDirection.ascend;\n    return this.getNextSelectedRectID(pointList, sortDirection, selectedID);\n  }\n  static getRenderResultList(resultList, sourceID, attributeLockList = [], selectedID) {\n    let selectedRect;\n    const showingRect = resultList.filter((result) => {\n      if (selectedID && selectedID === (result == null ? void 0 : result.id)) {\n        selectedRect = result;\n        return false;\n      }\n      if (attributeLockList.length > 0 && !attributeLockList.includes(result == null ? void 0 : result.attribute)) {\n        return false;\n      }\n      if (this.isDifferSourceID(result == null ? void 0 : result.sourceID, sourceID)) {\n        return false;\n      }\n      return true;\n    });\n    return [showingRect, selectedRect];\n  }\n  static getSourceID(basicResult) {\n    var _a;\n    const defaultSourceID = \"\";\n    if (basicResult) {\n      return (_a = basicResult == null ? void 0 : basicResult.id) != null ? _a : defaultSourceID;\n    }\n    return defaultSourceID;\n  }\n  static findAllLine(pointList, isClose = true) {\n    const arr = [];\n    const newPoint = [...pointList];\n    if (newPoint.length >= 3 && isClose === true) {\n      newPoint.push(__spreadValues({}, newPoint[0]));\n    }\n    for (let i = 0; i < newPoint.length; i++) {\n      if (newPoint[i + 1]) {\n        arr.push({\n          point1: newPoint[i],\n          point2: newPoint[i + 1],\n          pointIndex: i\n        });\n      }\n    }\n    return arr;\n  }\n  static translateSourceID(sourceID) {\n    if (sourceID === void 0 || sourceID === 0 || sourceID === \"0\") {\n      sourceID = \"\";\n    }\n    return sourceID;\n  }\n  static isDifferSourceID(sourceIDA, sourceIDB) {\n    sourceIDA = this.translateSourceID(sourceIDA);\n    sourceIDB = this.translateSourceID(sourceIDB);\n    return `${sourceIDA}` !== `${sourceIDB}`;\n  }\n  static isSameSourceID(sourceIDA, sourceIDB) {\n    sourceIDA = this.translateSourceID(sourceIDA);\n    sourceIDB = this.translateSourceID(sourceIDB);\n    return `${sourceIDA}` === `${sourceIDB}`;\n  }\n  static getNextMarker(resultList, markerList = [], markerIndex) {\n    if ((markerList == null ? void 0 : markerList.length) === 0) {\n      return void 0;\n    }\n    let newSortList = markerList.map((data, index) => __spreadProps(__spreadValues({}, data), {index}));\n    if (typeof markerIndex === \"number\" && markerIndex > 0) {\n      const markerInfo = markerList[markerIndex];\n      if (markerInfo && resultList.every((rect) => rect.label !== markerInfo.value)) {\n        return {label: markerInfo.value, index: markerIndex};\n      }\n      newSortList = [...newSortList.slice(markerIndex, markerList.length), ...newSortList.slice(0, markerIndex)];\n    }\n    for (let i = 0; i < newSortList.length; i++) {\n      if (resultList.some((rect) => rect.label === newSortList[i].value)) {\n        continue;\n      }\n      return {label: newSortList[i].value, index: newSortList[i].index};\n    }\n    return void 0;\n  }\n  static getCurrentMarkerIndex(label, markerList = []) {\n    return markerList.findIndex((marker) => label === marker.value);\n  }\n}\nCommonToolUtils.jsonParser = (content, defaultValue = {}) => {\n  try {\n    if (typeof content === \"string\") {\n      return JSON.parse(content);\n    }\n    return isObject(content) ? content : defaultValue;\n  } catch (e) {\n    return defaultValue;\n  }\n};\n\nexport { CommonToolUtils as default };\n","import { EToolName, ELineTypes } from '../../constant/tool.js';\nimport { createSmoothCurvePointsFromPointList } from './polygonTool.js';\nimport PolygonUtils from './PolygonUtils.js';\nimport MathUtils from '../MathUtils.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar EStatus;\n(function(EStatus2) {\n  EStatus2[EStatus2[\"Create\"] = 0] = \"Create\";\n  EStatus2[EStatus2[\"Active\"] = 1] = \"Active\";\n  EStatus2[EStatus2[\"Edit\"] = 1] = \"Edit\";\n  EStatus2[EStatus2[\"None\"] = 2] = \"None\";\n})(EStatus || (EStatus = {}));\nvar EColor;\n(function(EColor2) {\n  EColor2[\"ActiveArea\"] = \"#B3B8FF\";\n})(EColor || (EColor = {}));\nconst SEGMENT_NUMBER = 16;\nconst POINT_RADIUS = 3;\nconst _LineToolUtils = class {\n  static isInLine(checkPoint, point1, point2, scope = 3) {\n    const {length} = MathUtils.getFootOfPerpendicular(checkPoint, point1, point2);\n    if (length < scope) {\n      return true;\n    }\n    return false;\n  }\n};\nlet LineToolUtils = _LineToolUtils;\nLineToolUtils.setSpecialEdgeStyle = (ctx) => {\n  ctx.lineCap = \"butt\";\n  ctx.setLineDash([10, 10]);\n};\nLineToolUtils.setReferenceCtx = (ctx) => {\n  ctx.lineCap = \"butt\";\n  ctx.setLineDash([6]);\n};\nLineToolUtils.calcOptimalIntersection = (pointList, matchLine, matchPoint, pointRadius, zoom) => {\n  let optimalIntersection;\n  let minDistance = Infinity;\n  let scopeIntersection;\n  const matchLineOnExistLine = pointList.find((p, index) => {\n    if (index === 0) {\n      return;\n    }\n    const pointAOnLine = _LineToolUtils.isInLine(matchLine.pointA, p, pointList[index - 1]);\n    const pointBOnLine = _LineToolUtils.isInLine(matchLine.pointB, p, pointList[index - 1]);\n    return pointAOnLine && pointBOnLine;\n  });\n  if (matchLineOnExistLine) {\n    return {point: matchPoint};\n  }\n  pointList.forEach((point, index) => {\n    if (index === 0) {\n      return;\n    }\n    const line2 = {\n      pointA: pointList[index - 1],\n      pointB: point\n    };\n    const intersection = _LineToolUtils.lineIntersection(matchLine, line2);\n    if (intersection && matchLine) {\n      const {onLine2, onLine1, x, y} = intersection;\n      const distance = _LineToolUtils.calcDistance(matchPoint, intersection);\n      const matchPointInLine = _LineToolUtils.isOnLine(matchLine.pointB.x, matchLine.pointB.y, point.x, point.y, pointList[index - 1].x, pointList[index - 1].y);\n      if (matchPointInLine) {\n        const intersectionDistance = _LineToolUtils.calcDistance(matchPoint, intersection);\n        if (intersectionDistance < pointRadius / zoom) {\n          const cPoint = matchLine.pointB;\n          const {footPoint, length} = MathUtils.getFootOfPerpendicular(cPoint, line2.pointA, line2.pointB, true);\n          if (length !== void 0) {\n            const distPointA = _LineToolUtils.calcDistance(line2.pointA, footPoint);\n            const distPointB = _LineToolUtils.calcDistance(line2.pointB, footPoint);\n            scopeIntersection = {\n              point: footPoint,\n              minDistance: length\n            };\n            if (length === Infinity) {\n              scopeIntersection.point = distPointA > distPointB ? line2.pointB : line2.pointA;\n            }\n          }\n        }\n        return;\n      }\n      if (distance < minDistance && onLine2 && onLine1) {\n        minDistance = distance;\n        optimalIntersection = {\n          x,\n          y\n        };\n      }\n    }\n  });\n  if (optimalIntersection) {\n    return {point: optimalIntersection, minDistance};\n  }\n  if (scopeIntersection) {\n    return scopeIntersection;\n  }\n  return void 0;\n};\nLineToolUtils.lineIntersection = (lineA, lineB) => {\n  let onLine1 = false;\n  let onLine2 = false;\n  const lineADiff = _LineToolUtils.getAxisDiff(lineA);\n  const lineBDiff = _LineToolUtils.getAxisDiff(lineB);\n  const denominator = lineBDiff.y * lineADiff.x - lineBDiff.x * lineADiff.y;\n  if (denominator === 0) {\n    return false;\n  }\n  let a = lineA.pointA.y - lineB.pointA.y;\n  let b = lineA.pointA.x - lineB.pointA.x;\n  const numerator1 = (lineB.pointB.x - lineB.pointA.x) * a - (lineB.pointB.y - lineB.pointA.y) * b;\n  const numerator2 = (lineA.pointB.x - lineA.pointA.x) * a - (lineA.pointB.y - lineA.pointA.y) * b;\n  a = numerator1 / denominator;\n  b = numerator2 / denominator;\n  if (a > 0 && a < 1) {\n    onLine1 = true;\n  }\n  if (b > 0 && b < 1) {\n    onLine2 = true;\n  }\n  const x = lineA.pointA.x + a * (lineA.pointB.x - lineA.pointA.x);\n  const y = lineA.pointA.y + a * (lineA.pointB.y - lineA.pointA.y);\n  return {x, y, onLine1, onLine2};\n};\nLineToolUtils.getAxisDiff = (line) => {\n  return {\n    x: line.pointB.x - line.pointA.x,\n    y: line.pointB.y - line.pointA.y\n  };\n};\nLineToolUtils.calcDistance = (point1, point2) => {\n  return Math.sqrt(Math.pow(Math.abs(point1.x - point2.x), 2) + Math.pow(Math.abs(point1.y - point2.y), 2));\n};\nLineToolUtils.drawCurveLine = (ctx, points, config, applyLineWidth = true, isReference = false, hoverEdgeIndex) => {\n  const pointList = createSmoothCurvePointsFromPointList(points, SEGMENT_NUMBER);\n  ctx.save();\n  ctx.lineCap = \"round\";\n  ctx.lineJoin = \"round\";\n  ctx.strokeStyle = config.color;\n  if (applyLineWidth) {\n    ctx.lineWidth = config.lineWidth;\n  }\n  if (isReference) {\n    _LineToolUtils.setReferenceCtx(ctx);\n  }\n  points.forEach((point, index) => {\n    const specialEdge = point == null ? void 0 : point.specialEdge;\n    const curveLinePoints = pointList.splice(0, SEGMENT_NUMBER + 1);\n    ctx.save();\n    ctx.beginPath();\n    if (hoverEdgeIndex === index) {\n      ctx.lineWidth = 4;\n    }\n    curveLinePoints.forEach(({x, y}, pointIndex) => {\n      const fn = pointIndex > 0 ? \"lineTo\" : \"moveTo\";\n      if (specialEdge) {\n        _LineToolUtils.setSpecialEdgeStyle(ctx);\n      }\n      ctx[fn](x, y);\n    });\n    ctx.stroke();\n    ctx.restore();\n  });\n  ctx.restore();\n};\nLineToolUtils.calcTwoPointDistance = (pointA, pointB) => Math.sqrt(Math.pow(pointA.x - pointB.x, 2) + Math.pow(pointA.y - pointB.y, 2));\nLineToolUtils.pointOverTarget = (axis, preAxis, dependToolName, dependData, dependConfig, imageSize, pointRadius, zoom, getRenderAxis, getAbsAxis) => {\n  const absAxis = axis;\n  if (!preAxis) {\n    return axis;\n  }\n  if (dependToolName === EToolName.Polygon) {\n    const polygonPointList = _LineToolUtils.getPolygonPointList(dependData, dependConfig);\n    if (polygonPointList.length === 0) {\n      return absAxis;\n    }\n    const inPolygon = PolygonUtils.isInPolygon(axis, polygonPointList);\n    if (inPolygon) {\n      return absAxis;\n    }\n    const pointList = polygonPointList.concat(polygonPointList[0]).map((i) => getRenderAxis(i));\n    const pointA = getRenderAxis(preAxis);\n    const pointB = getRenderAxis(axis);\n    const line1 = {\n      pointA,\n      pointB\n    };\n    const intersection = _LineToolUtils.calcOptimalIntersection(pointList, line1, pointA, pointRadius, zoom);\n    if (intersection) {\n      const intersectionAbsAxis = getAbsAxis(intersection == null ? void 0 : intersection.point);\n      absAxis.x = intersectionAbsAxis.x;\n      absAxis.y = intersectionAbsAxis.y;\n    } else {\n      return preAxis;\n    }\n    return absAxis;\n  }\n  if (dependToolName === EToolName.Rect) {\n    const {x, y, width, height} = dependData;\n    absAxis.x = MathUtils.withinRange(absAxis.x, [x, x + width]);\n    absAxis.y = MathUtils.withinRange(absAxis.y, [y, y + height]);\n    return absAxis;\n  }\n  absAxis.x = MathUtils.withinRange(absAxis.x, [0, imageSize.width]);\n  absAxis.y = MathUtils.withinRange(absAxis.y, [0, imageSize.height]);\n  return absAxis;\n};\nLineToolUtils.getPolygonPointList = (dependData, dependConfig) => {\n  const {pointList} = dependData;\n  const {lineType} = dependConfig;\n  return lineType === ELineTypes.Line ? pointList : PolygonUtils.createSmoothCurvePoints(pointList.reduce((acc, cur) => {\n    return [...acc, cur.x, cur.y];\n  }, []), 0.5, true, 20);\n};\nLineToolUtils.isOnLine = (x, y, endX, endY, px, py) => {\n  const f = (someX) => {\n    return (endY - y) / (endX - x) * (someX - x) + y;\n  };\n  return Math.abs(f(px) - py) < 1e-6 && px >= x && px <= endX;\n};\nLineToolUtils.inArea = ({top, left, right, bottom}, {x, y}) => y >= top && y <= bottom && x >= left && x <= right;\nLineToolUtils.getVHPoint = (lastPoint, nextPoint, absNextPoint, renderLastPoint) => {\n  const angle = _LineToolUtils.getAngle(lastPoint, absNextPoint);\n  if (Math.abs(angle) < 45) {\n    return __spreadProps(__spreadValues({}, nextPoint), {y: renderLastPoint.y});\n  }\n  return __spreadProps(__spreadValues({}, nextPoint), {x: renderLastPoint.x});\n};\nLineToolUtils.getAngle = (startPoint, endPoint) => {\n  const diffX = endPoint.x - startPoint.x;\n  const diffY = endPoint.y - startPoint.y;\n  return 360 * Math.atan(diffY / diffX) / (2 * Math.PI);\n};\n\nexport { EColor, EStatus, POINT_RADIUS, SEGMENT_NUMBER, LineToolUtils as default };\n","import { EToolName, ELineTypes } from '../../constant/tool.js';\nimport MathUtils from '../MathUtils.js';\nimport PolygonUtils from './PolygonUtils.js';\nimport LineToolUtils, { POINT_RADIUS } from './LineToolUtils.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass AxisUtils {\n  static getOffsetCoordinate(coordinate, currentPos, zoom) {\n    return {\n      x: coordinate.x * zoom + currentPos.x,\n      y: coordinate.y * zoom + currentPos.y\n    };\n  }\n  static changeDrawOutsideTarget(coord, currentPos, imgInfo, drawOutsideTarget, basicResult, zoom) {\n    if (typeof drawOutsideTarget === \"boolean\" && !drawOutsideTarget) {\n      if (basicResult && zoom) {\n        if (coord.x - currentPos.x > (basicResult.x + basicResult.width) * zoom) {\n          coord.x = (basicResult.x + basicResult.width) * zoom + currentPos.x;\n        }\n        if (coord.x - currentPos.x < basicResult.x * zoom) {\n          coord.x = basicResult.x * zoom + currentPos.x;\n        }\n        if (coord.y - currentPos.y > (basicResult.y + basicResult.height) * zoom) {\n          coord.y = (basicResult.y + basicResult.height) * zoom + currentPos.y;\n        }\n        if (coord.y - currentPos.y < basicResult.y * zoom) {\n          coord.y = basicResult.y * zoom + currentPos.y;\n        }\n      } else {\n        if (coord.x - currentPos.x > imgInfo.width) {\n          coord.x = imgInfo.width + currentPos.x;\n        }\n        if (coord.x - currentPos.x < 0) {\n          coord.x = currentPos.x;\n        }\n        if (coord.y - currentPos.y > imgInfo.height) {\n          coord.y = imgInfo.height + currentPos.y;\n        }\n        if (coord.y - currentPos.y < 0) {\n          coord.y = currentPos.y;\n        }\n      }\n    }\n    return coord;\n  }\n  static changeCoordinateByRotate(coordinate, rotate, imgSize) {\n    const {width, height} = imgSize;\n    const {x, y} = coordinate;\n    switch (rotate % 360) {\n      case 90:\n        return {\n          x: height - y,\n          y: x\n        };\n      case 180:\n        return {\n          x: width - x,\n          y: height - y\n        };\n      case 270:\n        return {\n          x: y,\n          y: width - x\n        };\n      default:\n        return coordinate;\n    }\n  }\n  static changeRectByZoom(rect, zoom, currentPos = {x: 0, y: 0}) {\n    return __spreadProps(__spreadValues({}, rect), {\n      x: rect.x * zoom + currentPos.x,\n      y: rect.y * zoom + currentPos.y,\n      width: rect.width * zoom,\n      height: rect.height * zoom\n    });\n  }\n  static changePointByZoom(point, zoom, currentPos = {x: 0, y: 0}) {\n    return __spreadProps(__spreadValues({}, point), {\n      x: point.x * zoom + currentPos.x,\n      y: point.y * zoom + currentPos.y\n    });\n  }\n  static changePointListByZoom(pointList, zoom, currentPos = {x: 0, y: 0}) {\n    return pointList.map((point) => {\n      return this.changePointByZoom(point, zoom, currentPos);\n    });\n  }\n  static axisArea(axis, radius = 3) {\n    const {x, y} = axis;\n    const axisArray = [];\n    for (let cX = x - radius; cX < x + radius; cX += radius / 3) {\n      for (let cY = y - radius; cY < y + radius; cY += radius / 3) {\n        axisArray.push({x: cX, y: cY});\n      }\n    }\n    return axisArray;\n  }\n  static getOriginCoordinateWithOffsetCoordinate(coord, zoom = 1, currentPos = {\n    x: 0,\n    y: 0\n  }) {\n    return {\n      x: (coord.x - currentPos.x) / zoom,\n      y: (coord.y - currentPos.y) / zoom\n    };\n  }\n  static returnClosePointIndex(checkPoint, polygonPoints, scope = 3) {\n    let pointIndex = -1;\n    for (let i = 0; i < polygonPoints.length; i++) {\n      const data = polygonPoints[i];\n      if (this.getIsInScope(checkPoint, data, scope)) {\n        pointIndex = i;\n      }\n    }\n    return pointIndex;\n  }\n  static getIsInScope(currentCoord, targetCoord, scope) {\n    if (Math.abs(currentCoord.x - targetCoord.x) < scope && Math.abs(currentCoord.y - targetCoord.y) < scope) {\n      return true;\n    }\n    return false;\n  }\n}\nclass CoordinateUtils {\n  constructor(props) {\n    this.currentPos = props.currentPos;\n    this.zoom = props.zoom;\n    this.basicImgInfo = props.basicImgInfo;\n    this.dependToolName = \"\";\n  }\n  get isDependPolygon() {\n    return this.dependToolName === EToolName.Polygon;\n  }\n  get isDependRect() {\n    return this.dependToolName === EToolName.Rect;\n  }\n  get isDependOriginalImage() {\n    return this.dependToolName === \"\";\n  }\n  getAbsCoord(renderCoord) {\n    return {\n      x: (renderCoord.x - this.currentPos.x) / this.zoom,\n      y: (renderCoord.y - this.currentPos.y) / this.zoom\n    };\n  }\n  getRenderCoord(absCoord) {\n    return {\n      x: absCoord.x * this.zoom + this.currentPos.x,\n      y: absCoord.y * this.zoom + this.currentPos.y\n    };\n  }\n  coordInsideRect(absCoord, rect) {\n    const {x, y, width, height} = rect;\n    return {\n      x: MathUtils.withinRange(absCoord.x, [x, x + width]),\n      y: MathUtils.withinRange(absCoord.y, [y, y + height])\n    };\n  }\n  getPolygonPointList(lineType, pointList) {\n    return lineType === ELineTypes.Curve ? PolygonUtils.createSmoothCurvePointsFromPointList(pointList) : pointList;\n  }\n  getIntersection(curCoord, preCoord, polygonPointListToLineList) {\n    const pointA = this.getRenderCoord(preCoord);\n    const pointB = this.getRenderCoord(curCoord);\n    const drawingLine = {\n      pointA,\n      pointB\n    };\n    const intersection = LineToolUtils.calcOptimalIntersection(polygonPointListToLineList, drawingLine, pointA, POINT_RADIUS, this.zoom);\n    return intersection;\n  }\n  coordInsidePolygon(curCoord, preCoord, polygon, polygonToolConfig) {\n    const {pointList} = polygon;\n    const lineType = polygonToolConfig == null ? void 0 : polygonToolConfig.lineType;\n    if (pointList.length === 0) {\n      return curCoord;\n    }\n    const polygonPointList = this.getPolygonPointList(lineType, pointList);\n    const isInPolygon = PolygonUtils.isInPolygon(curCoord, polygonPointList);\n    if (isInPolygon) {\n      return curCoord;\n    }\n    const polygonPointListToLineList = polygonPointList.concat(polygonPointList[0]).map((i) => this.getRenderCoord(i));\n    const intersection = this.getIntersection(curCoord, preCoord, polygonPointListToLineList);\n    if (intersection) {\n      return this.getAbsCoord(intersection == null ? void 0 : intersection.point);\n    }\n    return curCoord;\n  }\n  coordInsideImage(coord) {\n    return this.coordInsideRect(coord, __spreadProps(__spreadValues({}, this.basicImgInfo), {x: 0, y: 0}));\n  }\n  getNextCoordByDependTool(curAbsCoord, preAbsCoord) {\n    if (this.isDependRect) {\n      return this.coordInsideRect(curAbsCoord, this.basicResult);\n    }\n    if (this.isDependPolygon) {\n      return this.coordInsidePolygon(curAbsCoord, preAbsCoord, this.basicResult, this.dependToolConfig);\n    }\n    if (this.isDependOriginalImage) {\n      return this.coordInsideImage(curAbsCoord);\n    }\n  }\n  setDependInfo(dependToolName, dependToolConfig) {\n    this.dependToolName = dependToolName != null ? dependToolName : \"\";\n    this.dependToolConfig = dependToolName ? dependToolConfig : void 0;\n  }\n  setBasicImgInfo(basicImgInfo) {\n    this.basicImgInfo = basicImgInfo;\n  }\n  setBasicResult(basicResult) {\n    this.basicResult = basicResult;\n  }\n  setZoomAndCurrentPos(zoom, currentPos) {\n    this.zoom = zoom;\n    this.currentPos = currentPos;\n  }\n  isCoordInsideTarget(coord) {\n    if (this.isDependPolygon) {\n      return this.isInBasicPolygon(coord);\n    }\n    if (this.isDependRect) {\n      const {x, y, width, height} = this.basicResult;\n      const rectHorizontalRange = [x, x + width];\n      const rectVerticalRange = [y, y + height];\n      return MathUtils.isInRange(coord.x, rectHorizontalRange) && MathUtils.isInRange(coord.y, rectVerticalRange);\n    }\n    return MathUtils.isInRange(coord.x, [0, this.basicImgInfo.width]) && MathUtils.isInRange(coord.y, [0, this.basicImgInfo.height]);\n  }\n  isInBasicPolygon(coord) {\n    var _a, _b;\n    return PolygonUtils.isInPolygon(coord, ((_a = this.basicResult) == null ? void 0 : _a.pointList) || [], (_b = this.dependToolConfig) == null ? void 0 : _b.lineType);\n  }\n}\n\nexport { CoordinateUtils, AxisUtils as default };\n","import { polygon, difference, union } from '@turf/turf';\nimport { ERotateDirection } from '../../constant/annotation.js';\nimport CommonToolUtils from './CommonToolUtils.js';\nimport { ELineTypes, SEGMENT_NUMBER } from '../../constant/tool.js';\nimport AxisUtils from './AxisUtils.js';\nimport MathUtils from '../MathUtils.js';\nimport LineToolUtils from './LineToolUtils.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass PolygonUtils {\n  static getHoverPolygonID(checkPoint, polygonPoints, scope = 3, lineType = ELineTypes.Line) {\n    let hoverPolygonID = \"\";\n    let minSize = Infinity;\n    const axisList = AxisUtils.axisArea(checkPoint, scope);\n    polygonPoints.forEach((p) => {\n      if (p.pointList) {\n        axisList.forEach((v) => {\n          const size = this.calcPolygonSize(p.pointList);\n          if (this.isInPolygon(v, p.pointList, lineType) && size < minSize) {\n            hoverPolygonID = p.id;\n            minSize = size;\n          }\n        });\n      }\n    });\n    return hoverPolygonID;\n  }\n  static calcPolygonSize(pointList = []) {\n    if ((pointList == null ? void 0 : pointList.length) <= 2) {\n      return 0;\n    }\n    const len = pointList.length;\n    const size = pointList.reduce((acc, cur, index, src) => {\n      const nextVal = src[(index + 1) % len];\n      return acc + cur.x * nextVal.y - nextVal.x * cur.y;\n    }, 0);\n    return Math.abs(size) / 2;\n  }\n  static isInPolygon(checkPoint, polygonPoints, lineType = ELineTypes.Line) {\n    let counter = 0;\n    let i;\n    let xinters;\n    let p1;\n    let p2;\n    polygonPoints = [...polygonPoints];\n    if (lineType === ELineTypes.Curve) {\n      polygonPoints = this.createSmoothCurvePoints(polygonPoints.reduce((acc, cur) => {\n        return [...acc, cur.x, cur.y];\n      }, []), 0.5, true, 20);\n    }\n    [p1] = polygonPoints;\n    const pointCount = polygonPoints.length;\n    for (i = 1; i <= pointCount; i++) {\n      p2 = polygonPoints[i % pointCount];\n      if (checkPoint.x > Math.min(p1.x, p2.x) && checkPoint.x <= Math.max(p1.x, p2.x)) {\n        if (checkPoint.y <= Math.max(p1.y, p2.y)) {\n          if (p1.x !== p2.x) {\n            xinters = (checkPoint.x - p1.x) * (p2.y - p1.y) / (p2.x - p1.x) + p1.y;\n            if (p1.y === p2.y || checkPoint.y <= xinters) {\n              counter++;\n            }\n          }\n        }\n      }\n      p1 = p2;\n    }\n    if (counter % 2 === 0) {\n      return false;\n    }\n    return true;\n  }\n  static createSmoothCurvePointsFromPointList(pointList, numberOfSegments = SEGMENT_NUMBER) {\n    const newPoints = this.createSmoothCurvePoints(pointList.reduce((acc, cur) => {\n      return [...acc, cur.x, cur.y];\n    }, []), 0.5, false, numberOfSegments);\n    return newPoints.map((p, i) => {\n      var _a;\n      const pos = i / (SEGMENT_NUMBER + 1);\n      const v = Math.floor(pos);\n      const data = (_a = pointList[v]) != null ? _a : {};\n      if (v === pos) {\n        return __spreadValues(__spreadValues({}, data), p);\n      }\n      return __spreadValues({\n        specialEdge: data.specialEdge\n      }, p);\n    });\n  }\n  static createSmoothCurvePoints(points, tension = 0.5, closed = false, numberOfSegments = SEGMENT_NUMBER) {\n    if (points.length < 4) {\n      return points;\n    }\n    const result = [];\n    const ps = points.slice(0);\n    let x;\n    let y;\n    let t1x;\n    let t2x;\n    let t1y;\n    let t2y;\n    let c1;\n    let c2;\n    let c3;\n    let c4;\n    let st;\n    let t;\n    let i;\n    if (closed) {\n      ps.unshift(points[points.length - 1]);\n      ps.unshift(points[points.length - 2]);\n      ps.unshift(points[points.length - 1]);\n      ps.unshift(points[points.length - 2]);\n      ps.push(points[0]);\n      ps.push(points[1]);\n    } else {\n      ps.unshift(points[1]);\n      ps.unshift(points[0]);\n      ps.push(points[points.length - 2]);\n      ps.push(points[points.length - 1]);\n    }\n    for (i = 2; i < ps.length - 4; i += 2) {\n      t1x = (ps[i + 2] - ps[i - 2]) * tension;\n      t2x = (ps[i + 4] - ps[i - 0]) * tension;\n      t1y = (ps[i + 3] - ps[i - 1]) * tension;\n      t2y = (ps[i + 5] - ps[i + 1]) * tension;\n      for (t = 0; t <= numberOfSegments; t++) {\n        st = t / numberOfSegments;\n        c1 = 2 * Math.pow(st, 3) - 3 * Math.pow(st, 2) + 1;\n        c2 = -(2 * Math.pow(st, 3)) + 3 * Math.pow(st, 2);\n        c3 = Math.pow(st, 3) - 2 * Math.pow(st, 2) + st;\n        c4 = Math.pow(st, 3) - Math.pow(st, 2);\n        x = c1 * ps[i] + c2 * ps[i + 2] + c3 * t1x + c4 * t2x;\n        y = c1 * ps[i + 1] + c2 * ps[i + 3] + c3 * t1y + c4 * t2y;\n        result.push(x);\n        result.push(y);\n      }\n    }\n    const formatResult = [];\n    for (let j = 0; j < result.length - 1; j += 2) {\n      formatResult.push({\n        x: result[j],\n        y: result[j + 1]\n      });\n    }\n    if (closed) {\n      for (let m = 0; m < numberOfSegments + 1; m++) {\n        const d = formatResult.shift();\n        formatResult.push(d);\n      }\n    }\n    return formatResult;\n  }\n  static getPolygonByID(polygonList, id) {\n    return polygonList.find((p) => p.id === id);\n  }\n  static getPolygonByIDs(polygonList, ids) {\n    if (ids && (ids == null ? void 0 : ids.length) > 0) {\n      return polygonList.filter((p) => ids.includes(p.id));\n    }\n  }\n  static getHoverEdgeIndex(checkPoint, pointList, lineType = ELineTypes.Line, scope = 3) {\n    let points = [...pointList];\n    if (lineType === ELineTypes.Curve) {\n      points = this.createSmoothCurvePoints(pointList.reduce((acc, cur) => {\n        return [...acc, cur.x, cur.y];\n      }, []), 0.5, true, SEGMENT_NUMBER);\n    } else if (lineType === ELineTypes.Line) {\n      points.push(points[0]);\n    }\n    let edgeIndex = -1;\n    let minLength = scope;\n    for (let i = 0; i < points.length - 1; i++) {\n      const {length} = MathUtils.getFootOfPerpendicular(checkPoint, points[i], points[i + 1]);\n      if (length < minLength) {\n        edgeIndex = i;\n        minLength = length;\n      }\n    }\n    if (edgeIndex === -1) {\n      return -1;\n    }\n    if (lineType === ELineTypes.Curve) {\n      return Math.floor(edgeIndex / SEGMENT_NUMBER);\n    }\n    return edgeIndex;\n  }\n  static getClosestPoint(coordinate, polygonList, lineType = ELineTypes.Line, range = 3, option) {\n    var _a;\n    let hasClosed = false;\n    const isClose = (_a = option == null ? void 0 : option.isClose) != null ? _a : true;\n    let closestPolygonID = \"\";\n    let closestEdgeIndex = -1;\n    let min = Infinity;\n    let dropFoot = coordinate;\n    const numberOfSegments = 20;\n    let isCloseNode = false;\n    polygonList.forEach((v) => {\n      if (isCloseNode) {\n        return;\n      }\n      if (!v.pointList) {\n        return;\n      }\n      switch (lineType) {\n        case ELineTypes.Line:\n          {\n            const allLine = CommonToolUtils.findAllLine(v.pointList, isClose);\n            allLine.forEach((line, lineIndex) => {\n              if (isCloseNode) {\n                return;\n              }\n              let {length, footPoint} = MathUtils.getFootOfPerpendicular(coordinate, line.point1, line.point2);\n              const twoPointDistance1 = MathUtils.getLineLength(line.point1, coordinate);\n              const twoPointDistance2 = MathUtils.getLineLength(line.point2, coordinate);\n              if (twoPointDistance1 < range * 2) {\n                footPoint = line.point1;\n                length = twoPointDistance1;\n                isCloseNode = true;\n              }\n              if (twoPointDistance2 < range * 2) {\n                footPoint = line.point2;\n                length = twoPointDistance2;\n                isCloseNode = true;\n              }\n              if (length < min && length < range) {\n                closestPolygonID = v.id;\n                closestEdgeIndex = lineIndex;\n                min = length;\n                dropFoot = footPoint;\n                hasClosed = true;\n              }\n            });\n          }\n          break;\n        case ELineTypes.Curve:\n          {\n            const points = this.createSmoothCurvePoints(v.pointList.reduce((acc, cur) => {\n              return [...acc, cur.x, cur.y];\n            }, []), 0.5, isClose, numberOfSegments);\n            for (let i = 0; i < points.length - 1; i++) {\n              const {length, footPoint} = MathUtils.getFootOfPerpendicular(coordinate, points[i], points[i + 1]);\n              if (length < min && length < range) {\n                closestPolygonID = v.id;\n                closestEdgeIndex = Math.floor(i / (numberOfSegments + 1));\n                min = length;\n                dropFoot = footPoint;\n                hasClosed = true;\n              }\n            }\n          }\n          break;\n      }\n    });\n    return {dropFoot, closestEdgeIndex, closestPolygonID, hasClosed};\n  }\n  static isPointListInPolygon(pointList, polygonPoints, lineType = ELineTypes.Line) {\n    return pointList.every((v) => this.isInPolygon(v, polygonPoints, lineType));\n  }\n  static isPointListOutSidePolygon(pointList, polygonPoints, lineType = ELineTypes.Line) {\n    return pointList.some((v) => !this.isInPolygon(v, polygonPoints, lineType));\n  }\n  static getPolygonArea(pointList) {\n    let total = 0;\n    for (let i = 0, l = pointList.length; i < l; i++) {\n      const addX = pointList[i].x;\n      const addY = pointList[i === pointList.length - 1 ? 0 : i + 1].y;\n      const subX = pointList[i === pointList.length - 1 ? 0 : i + 1].x;\n      const subY = pointList[i].y;\n      total += addX * addY * 0.5;\n      total -= subX * subY * 0.5;\n    }\n    return Math.abs(total);\n  }\n  static updatePolygonByRotate(direction, angle = 1, pointList) {\n    let rotate = 1;\n    if (direction === ERotateDirection.Anticlockwise) {\n      rotate = -1;\n    }\n    rotate *= angle;\n    return MathUtils.rotateRectPointList(rotate, pointList);\n  }\n  static deletePolygonLastPoint(acc, cur, index, array) {\n    if (index === array.length - 1) {\n      return acc;\n    }\n    return [\n      ...acc,\n      {\n        x: cur[0],\n        y: cur[1]\n      }\n    ];\n  }\n  static concatBeginAndEnd(array) {\n    if (array.length < 1) {\n      return array;\n    }\n    return [...array, array[0]];\n  }\n  static segmentPolygonByPolygon(pointList, polygonList) {\n    var _a, _b;\n    try {\n      let selectedPolygon = polygon([[...PolygonUtils.concatBeginAndEnd(pointList.map((v) => [v.x, v.y]))]]);\n      polygonList.forEach((v) => {\n        const backgroundPolygon = polygon([[...PolygonUtils.concatBeginAndEnd(v.pointList.map((p) => [p.x, p.y]))]]);\n        const diff = difference(selectedPolygon, backgroundPolygon);\n        if (diff) {\n          selectedPolygon = diff;\n        }\n      });\n      const resultList = (_b = (_a = selectedPolygon == null ? void 0 : selectedPolygon.geometry) == null ? void 0 : _a.coordinates.map((p) => {\n        var _a2;\n        if (((_a2 = selectedPolygon == null ? void 0 : selectedPolygon.geometry) == null ? void 0 : _a2.type) === \"MultiPolygon\") {\n          return p[0].reduce(PolygonUtils.deletePolygonLastPoint, []);\n        }\n        return p.reduce(PolygonUtils.deletePolygonLastPoint, []);\n      })) != null ? _b : [];\n      return resultList.reduce((acc, pointLists) => {\n        const len = pointLists.length;\n        const newPointList = pointLists.filter((point, i) => {\n          const nextIndex = (i + 1) % len;\n          if (AxisUtils.getIsInScope(point, pointLists[nextIndex], 1)) {\n            return false;\n          }\n          return true;\n        });\n        if (newPointList.length < 3) {\n          return acc;\n        }\n        return [...acc, newPointList];\n      }, []);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  static getPolygonPointList(selectedPolygonID, polygonList) {\n    const p = polygonList.find((v) => v.id === selectedPolygonID);\n    if (p && p.pointList && p.pointList.length > 0) {\n      return p.pointList;\n    }\n    return [];\n  }\n  static getWrapPolygonIndex(pointList, polygonList) {\n    return polygonList.findIndex((p) => PolygonUtils.isPointListInPolygon(pointList, p.pointList));\n  }\n  static clipPolygonFromWrapPolygon(pointList, wrapPointList) {\n    const wrapDirection = PolygonUtils.isPolygonClosewise(wrapPointList);\n    const selectedDirection = PolygonUtils.isPolygonClosewise(pointList);\n    const linkIndex = PolygonUtils.getClosePointDistanceFromPolygon(pointList[0], wrapPointList);\n    const linkPoint = wrapPointList[linkIndex];\n    let newPointList = [\n      ...wrapPointList.slice(0, linkIndex),\n      linkPoint,\n      ...pointList,\n      pointList[0],\n      ...wrapPointList.slice(linkIndex, wrapPointList.length)\n    ];\n    if (wrapDirection === selectedDirection) {\n      newPointList = [\n        ...wrapPointList.slice(0, linkIndex),\n        linkPoint,\n        pointList[0],\n        ...pointList.reverse(),\n        ...wrapPointList.slice(linkIndex, wrapPointList.length)\n      ];\n    }\n    return newPointList;\n  }\n  static isPolygonClosewise(p) {\n    const n = p.length;\n    let i;\n    let j;\n    let k;\n    let count = 0;\n    let z;\n    if (n < 3) {\n      return 0;\n    }\n    for (i = 0; i < n; i++) {\n      j = (i + 1) % n;\n      k = (i + 2) % n;\n      z = (p[j].x - p[i].x) * (p[k].y - p[j].y);\n      z -= (p[j].y - p[i].y) * (p[k].x - p[j].x);\n      if (z < 0) {\n        count--;\n      } else if (z > 0) {\n        count++;\n      }\n    }\n    if (count > 0) {\n      return 1;\n    }\n    if (count < 0) {\n      return -1;\n    }\n    return 0;\n  }\n  static getClosePointDistanceFromPolygon(point, pointList) {\n    let minLen = Number.MAX_SAFE_INTEGER;\n    let index = -1;\n    pointList.forEach((p, i) => {\n      const distance = LineToolUtils.calcDistance(point, p);\n      if (distance < minLen) {\n        minLen = distance;\n        index = i;\n      }\n    });\n    return index;\n  }\n  static combinePolygonWithPolygon(selectedPolygon, combinedPolygon) {\n    var _a, _b;\n    try {\n      const turfSelectedPolygon = polygon([\n        [...PolygonUtils.concatBeginAndEnd(selectedPolygon.pointList.map((v) => [v.x, v.y]))]\n      ]);\n      const turfCombinedPolygon = polygon([\n        [...PolygonUtils.concatBeginAndEnd(combinedPolygon.pointList.map((v) => [v.x, v.y]))]\n      ]);\n      const unionPolygon = union(turfSelectedPolygon, turfCombinedPolygon);\n      const unionList = [];\n      const newPolygon = selectedPolygon;\n      if (((_b = (_a = unionPolygon == null ? void 0 : unionPolygon.geometry) == null ? void 0 : _a.coordinates) == null ? void 0 : _b.length) === 1) {\n        unionList.push(combinedPolygon.id);\n        const pointList = unionPolygon == null ? void 0 : unionPolygon.geometry.coordinates.map((p) => {\n          var _a2;\n          if (((_a2 = unionPolygon == null ? void 0 : unionPolygon.geometry) == null ? void 0 : _a2.type) === \"MultiPolygon\") {\n            return p[0].reduce(PolygonUtils.deletePolygonLastPoint, []);\n          }\n          return p.reduce(PolygonUtils.deletePolygonLastPoint, []);\n        })[0];\n        newPolygon.pointList = pointList;\n      }\n      return {\n        newPolygon,\n        unionList\n      };\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}\n\nexport { PolygonUtils as default };\n","var __pow = Math.pow;\nclass Vector {\n  static add(vector1, vector2) {\n    return {\n      x: vector1.x + vector2.x,\n      y: vector1.y + vector2.y\n    };\n  }\n  static getVector(point1, point2) {\n    return {\n      x: point2.x - point1.x,\n      y: point2.y - point1.y\n    };\n  }\n  static len(vector) {\n    return Math.sqrt(__pow(vector.x, 2) + __pow(vector.y, 2));\n  }\n  static dotProduct(vector1, vector2) {\n    return vector1.x * vector2.x + vector1.y + vector2.y;\n  }\n}\n\nexport { Vector as default };\n","import { SEGMENT_NUMBER, DEFAULT_TEXT_MAX_WIDTH, DEFAULT_FONT, ELineTypes } from '../constant/tool.js';\nimport { createSmoothCurvePointsFromPointList } from './tool/polygonTool.js';\nimport PolygonUtils from './tool/PolygonUtils.js';\nimport Vector from './VectorUtils.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass Trigonometric {\n  static tanAPlusB(tanA, tanB) {\n    return (tanA + tanB) / (1 - tanA * tanB);\n  }\n  static sinAPlusB(sinA, cosA, sinB, cosB) {\n    return cosB * sinA + cosA * sinB;\n  }\n  static cosAPlusB(sinA, cosA, sinB, cosB) {\n    return cosA * cosB - sinA * sinB;\n  }\n}\nconst _MathUtils = class {\n  static getRotate(rotate) {\n    if (rotate + 90 >= 360) {\n      return rotate + 90 - 360;\n    }\n    return rotate + 90;\n  }\n  static getLineLength(point1, point2) {\n    return Math.sqrt(Math.pow(point2.y - point1.y, 2) + Math.pow(point2.x - point1.x, 2));\n  }\n  static getTextArea(canvas, text, maxWidth = DEFAULT_TEXT_MAX_WIDTH, font = DEFAULT_FONT, lineHeight) {\n    if (typeof text !== \"string\") {\n      return {\n        width: 0,\n        height: 0\n      };\n    }\n    const context = canvas.getContext(\"2d\");\n    context.font = font;\n    let height = 0;\n    if (typeof lineHeight === \"undefined\") {\n      lineHeight = canvas && parseInt(window.getComputedStyle(canvas).lineHeight, 10) || parseInt(window.getComputedStyle(document.body).lineHeight, 10);\n    }\n    const fontHeight = canvas && parseInt(window.getComputedStyle(canvas).fontSize, 10) || parseInt(window.getComputedStyle(document.body).fontSize, 10) || 0;\n    const arrParagraph = text.split(\"\\n\");\n    let lineWidth = 0;\n    for (let i = 0; i < arrParagraph.length; i++) {\n      const arrText = arrParagraph[i].split(\"\");\n      let line = \"\";\n      for (let n = 0; n < arrText.length; n++) {\n        const testLine = line + arrText[n];\n        const metrics = context.measureText(testLine);\n        const textWidth = metrics.width;\n        if (textWidth > maxWidth && n > 0) {\n          line = arrText[n];\n          height += lineHeight;\n          lineWidth = maxWidth;\n        } else {\n          line = testLine;\n          if (textWidth > lineWidth) {\n            lineWidth = textWidth;\n          }\n        }\n      }\n      if (i !== arrParagraph.length - 1) {\n        height += lineHeight;\n      }\n    }\n    return {\n      width: lineWidth,\n      height: height + fontHeight,\n      lineHeight,\n      fontHeight\n    };\n  }\n  static getLineCenterPoint(line) {\n    const [p1, p2] = line;\n    const vector = Vector.getVector(p1, p2);\n    return {\n      x: p1.x + vector.x / 2,\n      y: p1.y + vector.y / 2\n    };\n  }\n  static getPerpendicularLine(line) {\n    if (line.length !== 2) {\n      return void 0;\n    }\n    const [p1, p2] = line;\n    const p3 = {\n      x: p2.x + p2.y - p1.y,\n      y: p2.y - (p2.x - p1.x)\n    };\n    return [p2, p3];\n  }\n  static getPerpendicularFootOfLine(line, coordinate) {\n    if (line.length !== 2) {\n      return line;\n    }\n    const perpendicularLine = this.getPerpendicularLine(line);\n    if (!perpendicularLine) {\n      return line;\n    }\n    const [begin, end] = perpendicularLine;\n    return this.getFootOfPerpendicular(coordinate, begin, end).footPoint;\n  }\n  static getQuadrangleFromTriangle(triangle) {\n    if (triangle.length !== 3) {\n      return triangle;\n    }\n    const [p1, p2, p3] = triangle;\n    const p4 = {\n      x: p3.x + p1.x - p2.x,\n      y: p3.y + p1.y - p2.y\n    };\n    return [p1, p2, p3, p4];\n  }\n  static getRectPerpendicularOffset(dragStartCoord, currentCoord, basicLine) {\n    const [p1, p2] = basicLine;\n    const footer1 = this.getFootOfPerpendicular(dragStartCoord, p1, p2).footPoint;\n    const footer2 = this.getFootOfPerpendicular(currentCoord, p1, p2).footPoint;\n    const offset = {\n      x: footer1.x - footer2.x,\n      y: footer1.y - footer2.y\n    };\n    const newPoint = Vector.add(currentCoord, offset);\n    const vector3 = Vector.getVector(dragStartCoord, newPoint);\n    return vector3;\n  }\n  static getArrayIndex(index, len) {\n    if (index < 0) {\n      return len + index;\n    }\n    if (index >= len) {\n      return index - len;\n    }\n    return index;\n  }\n  static getPointListFromPointOffset(pointList, changePointIndex, offset) {\n    const prePointIndex = this.getArrayIndex(changePointIndex - 1, pointList.length);\n    const nextPointIndex = this.getArrayIndex(changePointIndex + 1, pointList.length);\n    const originIndex = this.getArrayIndex(changePointIndex - 2, pointList.length);\n    const newPointList = [...pointList];\n    newPointList[changePointIndex] = Vector.add(newPointList[changePointIndex], offset);\n    const newFooter1 = this.getFootOfPerpendicular(newPointList[changePointIndex], newPointList[originIndex], newPointList[prePointIndex]).footPoint;\n    const newFooter2 = this.getFootOfPerpendicular(newPointList[changePointIndex], newPointList[nextPointIndex], newPointList[originIndex]).footPoint;\n    newPointList[prePointIndex] = newFooter1;\n    newPointList[nextPointIndex] = newFooter2;\n    return newPointList;\n  }\n  static getRectCenterPoint(rectPointList) {\n    const [p1, , p3] = rectPointList;\n    return {\n      x: (p1.x + p3.x) / 2,\n      y: (p1.y + p3.y) / 2\n    };\n  }\n  static rotateRectPointList(angle = 5, rectPointList) {\n    const centerPoint = this.getRectCenterPoint(rectPointList);\n    const {PI} = Math;\n    const sinB = Math.sin(angle * PI / 180);\n    const cosB = Math.cos(angle * PI / 180);\n    return rectPointList.map((point) => {\n      const vector = Vector.getVector(centerPoint, point);\n      const len = Vector.len(vector);\n      const sinA = vector.y / len;\n      const cosA = vector.x / len;\n      return {\n        x: len * Trigonometric.cosAPlusB(sinA, cosA, sinB, cosB) + centerPoint.x,\n        y: len * Trigonometric.sinAPlusB(sinA, cosA, sinB, cosB) + centerPoint.y\n      };\n    });\n  }\n  static getRectangleByRightAngle(coordinate, pointList) {\n    if (pointList.length !== 2) {\n      return pointList;\n    }\n    const newPoint = _MathUtils.getPerpendicularFootOfLine(pointList, coordinate);\n    return _MathUtils.getQuadrangleFromTriangle([...pointList, newPoint]);\n  }\n  static getRadiusFromQuadrangle(points) {\n    const [, point2, point3] = points;\n    const y = point3.y - point2.y;\n    const x = point2.x - point3.x;\n    const len = this.getLineLength(point2, point3);\n    const cosX = y / len;\n    const radius = Math.acos(cosX);\n    if (x > 0) {\n      return Math.PI * 2 - radius;\n    }\n    return radius;\n  }\n  static getCollectionPointByAnnotationData(annotations) {\n    const connectionPoints = [];\n    const cacheSet = new Set();\n    const points = annotations.filter((v) => v.type === \"point\").map((v) => v.annotation);\n    const backgroundList = annotations.filter((v) => {\n      if ([\"polygon\", \"line\"].includes(v.type)) {\n        return true;\n      }\n      return false;\n    }).map((v) => {\n      const {annotation} = v;\n      if (v.type === \"polygon\") {\n        return __spreadProps(__spreadValues({}, annotation), {\n          pointList: PolygonUtils.concatBeginAndEnd(annotation.pointList)\n        });\n      }\n      return annotation;\n    });\n    const judgeIsConnectPoint = (point, polygonList) => {\n      const {dropFoot} = PolygonUtils.getClosestPoint(point, polygonList, ELineTypes.Line, 1, {isClose: false});\n      if (dropFoot !== point) {\n        const s = `${dropFoot.x} + ${dropFoot.y}`;\n        if (!cacheSet.has(s)) {\n          connectionPoints.push(point);\n        }\n        cacheSet.add(s);\n      }\n    };\n    points.forEach((point) => {\n      judgeIsConnectPoint(point, backgroundList);\n    });\n    backgroundList.forEach((v) => {\n      let traverseID = \"\";\n      traverseID = v.id;\n      backgroundList.forEach((annotation, i) => {\n        if (annotation.id === traverseID) {\n          return;\n        }\n        const newPolygonList = [...backgroundList];\n        newPolygonList.splice(i, 1);\n        annotation.pointList.forEach((point) => {\n          judgeIsConnectPoint(point, newPolygonList);\n        });\n      });\n    });\n    return {connectionPoints};\n  }\n};\nlet MathUtils = _MathUtils;\nMathUtils.isInRange = (value, range) => {\n  const min = Math.min(...range);\n  const max = Math.max(...range);\n  const inRange = (v) => v <= max && v >= min;\n  const values = Array.isArray(value) ? value : [value];\n  return values.every((v) => inRange(v));\n};\nMathUtils.withinRange = (value, range) => {\n  const min = Math.min(...range);\n  const max = Math.max(...range);\n  if (value > max) {\n    return max;\n  }\n  if (value < min) {\n    return min;\n  }\n  return value;\n};\nMathUtils.calcViewportBoundaries = (array, isCurve = false, numberOfSegments = SEGMENT_NUMBER, zoom = 1) => {\n  if (!array) {\n    return {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n  }\n  const MIN_LENGTH = 20 / zoom;\n  const xAxis = [];\n  const yAxis = [];\n  let points = array;\n  if (isCurve) {\n    points = createSmoothCurvePointsFromPointList(array, numberOfSegments);\n  }\n  points.forEach(({x, y}) => {\n    xAxis.push(x);\n    yAxis.push(y);\n  });\n  let minX = Math.min(...xAxis);\n  let maxX = Math.max(...xAxis);\n  let minY = Math.min(...yAxis);\n  let maxY = Math.max(...yAxis);\n  const diffX = maxX - minX;\n  const diffY = maxY - minY;\n  if (diffX < MIN_LENGTH) {\n    const addLen = (MIN_LENGTH - diffX) / 2;\n    minX -= addLen;\n    maxX += addLen;\n  }\n  if (diffY < MIN_LENGTH) {\n    const addLen = (MIN_LENGTH - diffY) / 2;\n    minY -= addLen;\n    maxY += addLen;\n  }\n  return {\n    top: minY,\n    bottom: maxY,\n    left: minX,\n    right: maxX\n  };\n};\nMathUtils.getFootOfPerpendicular = (pt, begin, end, useAxisRange = false) => {\n  let retVal = {x: 0, y: 0};\n  const dx = begin.x - end.x;\n  const dy = begin.y - end.y;\n  if (Math.abs(dx) < 1e-8 && Math.abs(dy) < 1e-8) {\n    retVal = begin;\n    return retVal;\n  }\n  let u = (pt.x - begin.x) * (begin.x - end.x) + (pt.y - begin.y) * (begin.y - end.y);\n  u /= dx * dx + dy * dy;\n  retVal.x = begin.x + u * dx;\n  retVal.y = begin.y + u * dy;\n  const length = _MathUtils.getLineLength(pt, retVal);\n  const ratio = 2;\n  const fromX = Math.min(begin.x, end.x);\n  const toX = Math.max(begin.x, end.x);\n  const fromY = Math.min(begin.y, end.y);\n  const toY = Math.max(begin.y, end.y);\n  const allAxisOverRange = !(_MathUtils.isInRange(pt.x, [fromX, toX]) || _MathUtils.isInRange(pt.y, [fromY, toY]));\n  const someAxisOverRange = pt.x > toX + ratio || pt.x < fromX - ratio || pt.y > toY + ratio || pt.y < fromY - ratio;\n  const isOverRange = useAxisRange ? allAxisOverRange : someAxisOverRange;\n  if (isOverRange) {\n    return {\n      footPoint: retVal,\n      length: Infinity\n    };\n  }\n  return {\n    footPoint: retVal,\n    length\n  };\n};\nvar MathUtils$1 = MathUtils;\n\nexport { Trigonometric, MathUtils$1 as default };\n","var EKeyCode;\n(function(EKeyCode2) {\n  EKeyCode2[EKeyCode2[\"A\"] = 65] = \"A\";\n  EKeyCode2[EKeyCode2[\"B\"] = 66] = \"B\";\n  EKeyCode2[EKeyCode2[\"C\"] = 67] = \"C\";\n  EKeyCode2[EKeyCode2[\"D\"] = 68] = \"D\";\n  EKeyCode2[EKeyCode2[\"E\"] = 69] = \"E\";\n  EKeyCode2[EKeyCode2[\"F\"] = 70] = \"F\";\n  EKeyCode2[EKeyCode2[\"G\"] = 71] = \"G\";\n  EKeyCode2[EKeyCode2[\"H\"] = 72] = \"H\";\n  EKeyCode2[EKeyCode2[\"L\"] = 76] = \"L\";\n  EKeyCode2[EKeyCode2[\"R\"] = 82] = \"R\";\n  EKeyCode2[EKeyCode2[\"Z\"] = 90] = \"Z\";\n  EKeyCode2[EKeyCode2[\"W\"] = 87] = \"W\";\n  EKeyCode2[EKeyCode2[\"X\"] = 88] = \"X\";\n  EKeyCode2[EKeyCode2[\"Y\"] = 89] = \"Y\";\n  EKeyCode2[EKeyCode2[\"S\"] = 83] = \"S\";\n  EKeyCode2[EKeyCode2[\"Q\"] = 81] = \"Q\";\n  EKeyCode2[EKeyCode2[\"Delete\"] = 46] = \"Delete\";\n  EKeyCode2[EKeyCode2[\"F11\"] = 122] = \"F11\";\n  EKeyCode2[EKeyCode2[\"Space\"] = 32] = \"Space\";\n  EKeyCode2[EKeyCode2[\"Esc\"] = 27] = \"Esc\";\n  EKeyCode2[EKeyCode2[\"Left\"] = 37] = \"Left\";\n  EKeyCode2[EKeyCode2[\"Up\"] = 38] = \"Up\";\n  EKeyCode2[EKeyCode2[\"Right\"] = 39] = \"Right\";\n  EKeyCode2[EKeyCode2[\"Down\"] = 40] = \"Down\";\n  EKeyCode2[EKeyCode2[\"Enter\"] = 13] = \"Enter\";\n  EKeyCode2[EKeyCode2[\"Ctrl\"] = 17] = \"Ctrl\";\n  EKeyCode2[EKeyCode2[\"Alt\"] = 18] = \"Alt\";\n  EKeyCode2[EKeyCode2[\"Shift\"] = 16] = \"Shift\";\n  EKeyCode2[EKeyCode2[\"Tab\"] = 9] = \"Tab\";\n  EKeyCode2[EKeyCode2[\"BackSpace\"] = 8] = \"BackSpace\";\n})(EKeyCode || (EKeyCode = {}));\nvar EKeyCode$1 = EKeyCode;\n\nexport { EKeyCode$1 as default };\n","import AxisUtils from './AxisUtils.js';\nimport CommonToolUtils from './CommonToolUtils.js';\nimport { isInPolygon } from './polygonTool.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass RectUtils {\n  static composeResult(result, currentStep, resultList, stepList, basicImgInfo) {\n    try {\n      const data = JSON.parse(result);\n      const currentStepInfo = CommonToolUtils.getCurrentStepInfo(currentStep, stepList);\n      const {dataSourceStep} = currentStepInfo;\n      const stepName = `step_${currentStepInfo.step}`;\n      Object.assign(data, basicImgInfo);\n      if (data[stepName]) {\n        const info = data[stepName];\n        if (info.result) {\n          info.result = resultList;\n          return JSON.stringify(data);\n        }\n        return JSON.stringify(__spreadProps(__spreadValues({}, data), {\n          [stepName]: __spreadProps(__spreadValues({}, data[stepName]), {\n            result: resultList\n          })\n        }));\n      }\n      return JSON.stringify(__spreadProps(__spreadValues({}, data), {\n        [stepName]: {\n          dataSourceStep,\n          toolName: currentStepInfo.tool,\n          result: resultList\n        }\n      }));\n    } catch (e) {\n      return result;\n    }\n  }\n  static changeCoordinateByRotate(rect, rotate, imgSize) {\n    const {x, y, width, height} = rect;\n    const leftTopCoordinate = AxisUtils.changeCoordinateByRotate({x, y}, rotate, imgSize);\n    switch (rotate % 360) {\n      case 90:\n        return __spreadProps(__spreadValues({}, rect), {\n          x: leftTopCoordinate.x - height,\n          y: leftTopCoordinate.y,\n          width: height,\n          height: width\n        });\n      case 180:\n        return __spreadProps(__spreadValues({}, rect), {\n          x: leftTopCoordinate.x - width,\n          y: leftTopCoordinate.y - height\n        });\n      case 270:\n        return __spreadProps(__spreadValues({}, rect), {\n          x: leftTopCoordinate.x,\n          y: leftTopCoordinate.y - width,\n          width: height,\n          height: width\n        });\n      default:\n        return rect;\n    }\n  }\n  static translateRect2Points(rect) {\n    const {x, y, width, height} = rect;\n    return [\n      {\n        x,\n        y\n      },\n      {\n        x: x + width,\n        y\n      },\n      {\n        x: x + width,\n        y: y + height\n      },\n      {\n        x,\n        y: y + height\n      }\n    ];\n  }\n  static translatePoints2Rect(points, basicRect) {\n    if (points.length !== 4) {\n      return;\n    }\n    const {x, y} = points[0];\n    const width = points[1].x - points[0].x;\n    const height = points[2].y - points[1].y;\n    return __spreadProps(__spreadValues({}, basicRect), {\n      x,\n      y,\n      width,\n      height\n    });\n  }\n  static getRectPointList(rect, zoom = 1) {\n    return [\n      {x: rect.x * zoom, y: rect.y * zoom},\n      {x: (rect.x + rect.width) * zoom, y: rect.y * zoom},\n      {x: (rect.x + rect.width) * zoom, y: (rect.y + rect.height) * zoom},\n      {x: rect.x * zoom, y: (rect.y + rect.height) * zoom}\n    ];\n  }\n  static getRectEdgeList(rect, zoom = 1) {\n    const pointList = this.getRectPointList(rect, zoom);\n    const len = pointList.length;\n    return pointList.map((v, i) => {\n      return {\n        begin: v,\n        end: pointList[(i + 1) % len]\n      };\n    });\n  }\n  static isInRect(coordinate, rect, scope = 0, zoom = 1) {\n    return coordinate.x >= rect.x * zoom - scope && coordinate.x <= (rect.x + rect.width) * zoom + scope && coordinate.y >= rect.y * zoom - scope && coordinate.y <= (rect.y + rect.height) * zoom + scope;\n  }\n  static getRectUnderZoom(rect, zoom = 1) {\n    const {x, y, width, height} = rect;\n    return __spreadProps(__spreadValues({}, rect), {\n      x: x * zoom,\n      y: y * zoom,\n      width: width * zoom,\n      height: height * zoom\n    });\n  }\n  static isRectNotInPolygon(rect, polygonPointList) {\n    const rectPointList = this.getRectPointList(rect);\n    return rectPointList.some((p) => !isInPolygon(p, polygonPointList));\n  }\n}\n\nexport { RectUtils as default };\n","var EMessage;\n(function(EMessage2) {\n  EMessage2[\"NoRotateNotice\"] = \"noRotateNotice\";\n  EMessage2[\"RectErrorSizeNotice\"] = \"rectErrorSizeNotice\";\n  EMessage2[\"TextCheckNumberErrorNotice\"] = \"textCheckNumberErrorNotice\";\n  EMessage2[\"TextCheckEnglishErrorNotice\"] = \"textCheckEnglishErrorNotice\";\n  EMessage2[\"TextCheckCustomErrorNotice\"] = \"textCheckCustomErrorNotice\";\n  EMessage2[\"UpperLimitErrorNotice\"] = \"UpperLimitErrorNotice\";\n  EMessage2[\"LowerLimitErrorNotice\"] = \"LowerLimitErrorNotice\";\n  EMessage2[\"InvalidImage\"] = \"InvalidImage\";\n  EMessage2[\"DisableDelete\"] = \"DisableDelete\";\n  EMessage2[\"ClearPartialData\"] = \"ClearPartialData\";\n  EMessage2[\"MarkerFinish\"] = \"MarkerFinish\";\n  EMessage2[\"LowerLimitPoint\"] = \"LowerLimitPoint\";\n  EMessage2[\"NoRotateInDependence\"] = \"noRotateInDependence\";\n  EMessage2[\"UnableToReannotation\"] = \"unableToReannotation\";\n  EMessage2[\"ForbiddenCreationOutsideBoundary\"] = \"ForbiddenCreationOutsideBoundary\";\n  EMessage2[\"SuccessfulEdgeAdsorption\"] = \"SuccessfulEdgeAdsorption\";\n})(EMessage || (EMessage = {}));\n\nexport { EMessage };\n","import { EMessage } from '../constants.js';\n\nconst message = {\n  [EMessage.NoRotateNotice]: \"This Image contains data and cannot be rotated\",\n  [EMessage.RectErrorSizeNotice]: \"The drawing frame size is smaller than the minimum drawing size\",\n  [EMessage.TextCheckNumberErrorNotice]: \"Please enter in number-only format\",\n  [EMessage.TextCheckEnglishErrorNotice]: \"Please enter in English only format\",\n  [EMessage.TextCheckCustomErrorNotice]: \"Please enter in the required format\",\n  [EMessage.UpperLimitErrorNotice]: \"The number of vertices is not more than\",\n  [EMessage.LowerLimitErrorNotice]: \"The number of vertices is not less than\",\n  [EMessage.InvalidImage]: \"Invalid image, please skip this image\",\n  [EMessage.DisableDelete]: \"Disable delete\",\n  [EMessage.ClearPartialData]: \"Clear partial data\",\n  [EMessage.MarkerFinish]: \"ListAnnotation is finished\",\n  [EMessage.LowerLimitPoint]: \"The maximum number of points has been reached\",\n  [EMessage.NoRotateInDependence]: \"Disallow rotation in dependent cases\",\n  [EMessage.UnableToReannotation]: \"Unabled to reannotation\",\n  [EMessage.ForbiddenCreationOutsideBoundary]: \"Fobid creation outside boundary\",\n  [EMessage.SuccessfulEdgeAdsorption]: \"Successful edge adsorption\"\n};\n\nexport { message as default };\n","import { EMessage } from '../constants.js';\n\nconst message = {\n  [EMessage.NoRotateNotice]: \"\\u672C\\u56FE\\u542B\\u6709\\u6570\\u636E\\uFF0C\\u65E0\\u6CD5\\u8FDB\\u884C\\u65CB\\u8F6C\",\n  [EMessage.RectErrorSizeNotice]: \"\\u7ED8\\u5236\\u6846\\u5C3A\\u5BF8\\u5C0F\\u4E8E\\u6700\\u5C0F\\u7ED8\\u5236\\u5C3A\\u5BF8\",\n  [EMessage.TextCheckNumberErrorNotice]: \"\\u8BF7\\u6309\\u4EC5\\u6570\\u5B57\\u7684\\u683C\\u5F0F\\u8F93\\u5165\",\n  [EMessage.TextCheckEnglishErrorNotice]: \"\\u8BF7\\u6309\\u4EC5\\u82F1\\u6587\\u7684\\u683C\\u5F0F\\u8F93\\u5165\",\n  [EMessage.TextCheckCustomErrorNotice]: \"\\u8BF7\\u6309\\u8981\\u6C42\\u7684\\u683C\\u5F0F\\u8F93\\u5165\",\n  [EMessage.UpperLimitErrorNotice]: \"\\u9876\\u70B9\\u6570\\u4E0D\\u591A\\u4E8E\",\n  [EMessage.LowerLimitErrorNotice]: \"\\u9876\\u70B9\\u6570\\u4E0D\\u5C11\\u4E8E\",\n  [EMessage.InvalidImage]: \"\\u65E0\\u6548\\u56FE\\u7247\\uFF0C\\u8BF7\\u8DF3\\u8FC7\\u6B64\\u56FE\",\n  [EMessage.DisableDelete]: \"\\u8BE5\\u6570\\u636E\\u7981\\u6B62\\u5220\\u9664\",\n  [EMessage.ClearPartialData]: \"\\u5B58\\u5728\\u90E8\\u5206\\u6570\\u636E\\u65E0\\u6CD5\\u6E05\\u9664\",\n  [EMessage.MarkerFinish]: \"\\u5217\\u8868\\u6807\\u6CE8\\u5DF2\\u5B8C\\u6210\",\n  [EMessage.LowerLimitPoint]: \"\\u5DF2\\u5230\\u8FBE\\u6807\\u70B9\\u6570\\u91CF\\u4E0A\\u9650\",\n  [EMessage.NoRotateInDependence]: \"\\u4F9D\\u8D56\\u60C5\\u51B5\\u4E0B\\u65E0\\u6CD5\\u8FDB\\u884C\\u65CB\\u8F6C\",\n  [EMessage.UnableToReannotation]: \"\\u65E0\\u6CD5\\u8FDB\\u884C\\u7EED\\u6807\\u64CD\\u4F5C\",\n  [EMessage.ForbiddenCreationOutsideBoundary]: \"\\u8FB9\\u754C\\u5916\\u7981\\u6B62\\u521B\\u5EFA\",\n  [EMessage.SuccessfulEdgeAdsorption]: \"\\u8FB9\\u7F18\\u5438\\u9644\\u6210\\u529F\"\n};\n\nexport { message as default };\n","import { ELang } from '../constant/annotation.js';\nimport message$1 from './en_US/message.js';\nimport message from './zh_CN/message.js';\n\nclass Locale {\n}\nLocale.getMessagesByLocale = (key, locale) => {\n  switch (locale) {\n    case ELang.US:\n      return message$1[key];\n    case ELang.Zh:\n    default:\n      return message[key];\n  }\n};\n\nexport { Locale as default };\n","var canvasEdit0 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#ccc\\\"/></g></g></svg>\";\n\nexport { canvasEdit0 as default };\n","var INVALID_ICON = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#f33\\\"/></g></g></svg>\";\n\nexport { INVALID_ICON as default };\n","import canvasEdit0 from '../assets/attributeIcon/icon_canvasEdit0.svg.js';\nimport canvasEdit1 from '../assets/attributeIcon/icon_canvasEdit1.svg.js';\nimport canvasEdit2 from '../assets/attributeIcon/icon_canvasEdit2.svg.js';\nimport canvasEdit3 from '../assets/attributeIcon/icon_canvasEdit3.svg.js';\nimport canvasEdit4 from '../assets/attributeIcon/icon_canvasEdit4.svg.js';\nimport canvasEdit5 from '../assets/attributeIcon/icon_canvasEdit5.svg.js';\nimport canvasEdit6 from '../assets/attributeIcon/icon_canvasEdit6.svg.js';\nimport canvasEdit7 from '../assets/attributeIcon/icon_canvasEdit7.svg.js';\nimport canvasEdit8 from '../assets/attributeIcon/icon_canvasEdit8.svg.js';\nimport baseEditLan from '../assets/attributeIcon/icon_editLAN.svg.js';\nimport baseEditQing from '../assets/attributeIcon/icon_editQING.svg.js';\nimport baseEditLv from '../assets/attributeIcon/icon_editLV.svg.js';\nimport baseEditHuang from '../assets/attributeIcon/icon_editHUANG.svg.js';\nimport baseEditFen from '../assets/attributeIcon/icon_editFEN.svg.js';\nimport { EFilterToolOperation } from './tool.js';\nexport { default as INVALID_ICON } from '../assets/attributeIcon/icon_canvasEdit_miss.svg.js';\n\nconst NULL_ICON = canvasEdit0;\nconst HEADER_HEIGHT = 61;\nconst TAB_HEIGHT = 80;\nconst SEARCH_HEIGHT = 62;\nconst PADDING = 20;\nconst TABLE_ROW_HEIGHT = 55;\nconst PAGINATION_HEIGHT = 55;\nconst TIPS_HEIGHT = 40;\nconst FOOTER_HEIGHT = 80;\nconst SIDERBAR_WIDTH = 240;\nconst EDIT_STEP_WIDTH = 320;\nconst THEME_COLOR = \"rgba(102, 111, 255, 1)\";\nconst COLORS_ARRAY = [\n  \"rgba(128, 12, 249, 1)\",\n  \"rgba(0, 255, 48, 1)\",\n  \"rgba(255, 136, 247, 1)\",\n  \"rgba(255, 226, 50, 1)\",\n  \"rgba(153, 66, 23, 1)\",\n  \"rgba(2, 130, 250, 1)\",\n  \"rgba(255, 35, 35, 1)\",\n  \"rgba(0, 255, 234, 1)\"\n];\nconst ICON_ARRAY = [\n  canvasEdit0,\n  canvasEdit6,\n  canvasEdit3,\n  canvasEdit7,\n  canvasEdit2,\n  canvasEdit8,\n  canvasEdit5,\n  canvasEdit1,\n  canvasEdit4\n];\nconst BASE_ICON = {\n  1: baseEditLan,\n  3: baseEditQing,\n  5: baseEditLv,\n  7: baseEditHuang,\n  9: baseEditFen\n};\nconst INVALID_COLOR = \"rgba(255, 51, 51, 1)\";\nconst NULL_COLOR = \"rgba(204, 204, 204, 1)\";\nconst FILTER_TOOL_COLOR = {\n  [EFilterToolOperation.lc]: \"rgba(153, 51, 255, 1)\",\n  [EFilterToolOperation.rc]: \"rgba(51, 153, 255, 1)\",\n  [EFilterToolOperation.clc]: \"rgba(46, 230, 46, 1)\",\n  [EFilterToolOperation.crc]: \"rgba(255, 51, 51, 1)\"\n};\n\nexport { BASE_ICON, COLORS_ARRAY, EDIT_STEP_WIDTH, FILTER_TOOL_COLOR, FOOTER_HEIGHT, HEADER_HEIGHT, ICON_ARRAY, INVALID_COLOR, NULL_COLOR, NULL_ICON, PADDING, PAGINATION_HEIGHT, SEARCH_HEIGHT, SIDERBAR_WIDTH, TABLE_ROW_HEIGHT, TAB_HEIGHT, THEME_COLOR, TIPS_HEIGHT };\n","var canvasEdit6 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#800cf9\\\"/></g></g></svg>\";\n\nexport { canvasEdit6 as default };\n","var canvasEdit3 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#01ff30\\\"/></g></g></svg>\";\n\nexport { canvasEdit3 as default };\n","var canvasEdit7 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#ff88f7\\\"/></g></g></svg>\";\n\nexport { canvasEdit7 as default };\n","var canvasEdit2 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#ffe232\\\"/></g></g></svg>\";\n\nexport { canvasEdit2 as default };\n","var canvasEdit8 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#994217\\\"/></g></g></svg>\";\n\nexport { canvasEdit8 as default };\n","var canvasEdit5 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#0282fa\\\"/></g></g></svg>\";\n\nexport { canvasEdit5 as default };\n","var canvasEdit1 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#ff2323\\\"/></g></g></svg>\";\n\nexport { canvasEdit1 as default };\n","var canvasEdit4 = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#00ffea\\\"/></g></g></svg>\";\n\nexport { canvasEdit4 as default };\n","var baseEditLan = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#1f0bf9\\\"/></g></g></svg>\";\n\nexport { baseEditLan as default };\n","var baseEditQing = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#3fe\\\"/></g></g></svg>\";\n\nexport { baseEditQing as default };\n","var baseEditLv = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#33fe33\\\"/></g></g></svg>\";\n\nexport { baseEditLv as default };\n","var baseEditHuang = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#fdff37\\\"/></g></g></svg>\";\n\nexport { baseEditHuang as default };\n","var baseEditFen = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\"><defs><clipPath id=\\\"a\\\"><path d=\\\"M0,0H16V-16H0Z\\\" fill=\\\"none\\\"/></clipPath><clipPath id=\\\"b\\\"><path d=\\\"M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z\\\" fill=\\\"none\\\"/></clipPath></defs><g transform=\\\"translate(0 16)\\\"><g clip-path=\\\"url(#a)\\\"><path d=\\\"M-5-21H21V5H-5Z\\\" fill=\\\"rgba(0,0,0,0)\\\"/></g><g clip-path=\\\"url(#b)\\\"><path d=\\\"M-3.25-19.25h22.5V3.25H-3.25Z\\\" fill=\\\"#f70efa\\\"/></g></g></svg>\";\n\nexport { baseEditFen as default };\n","import { isNumber } from 'lodash';\nimport { ICON_ARRAY, NULL_ICON, NULL_COLOR, COLORS_ARRAY } from '../../constant/style.js';\nimport { ETextType } from '../../constant/tool.js';\nimport Locale from '../../locales/index.js';\nimport { EMessage } from '../../locales/constants.js';\nimport MathUtils from '../MathUtils.js';\nimport INVALID_ICON from '../../assets/attributeIcon/icon_canvasEdit_miss.svg.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst REGEXP_NUMBER = \"^[0-9]+$\";\nconst REGEXP_ENGLISH = \"^[A-Za-z]+$\";\nclass AttributeUtils {\n  static getAttributeIcon(attribute, attributeList, valid = true) {\n    var _a;\n    const attributeIndex = attributeList.findIndex((i) => i.value === attribute);\n    let src = (_a = ICON_ARRAY[attributeIndex % ICON_ARRAY.length]) != null ? _a : NULL_ICON;\n    if (!valid) {\n      src = INVALID_ICON;\n    }\n    src = \"\";\n    const img = new Image();\n    img.src = src;\n    return img;\n  }\n  static checkString(textCheckType, customFormat) {\n    let regExpString = \"\";\n    switch (textCheckType) {\n      case ETextType.Order:\n      case ETextType.NumberOnly:\n        regExpString = REGEXP_NUMBER;\n        break;\n      case ETextType.EnglishOnly:\n        regExpString = REGEXP_ENGLISH;\n        break;\n      case ETextType.CustomFormat:\n        regExpString = customFormat;\n        break;\n    }\n    return regExpString;\n  }\n  static checkTextAttibute(value, checkStrings) {\n    if (value === void 0 || value === \"\") {\n      return true;\n    }\n    try {\n      return new RegExp(checkStrings).test(value);\n    } catch (error) {\n      return false;\n    }\n  }\n  static getAttributeShowText(attribute, attributeList = []) {\n    var _a, _b;\n    try {\n      const attributeIndex = attributeList.findIndex((i) => i.value === attribute);\n      return (_b = (_a = attributeList[attributeIndex]) == null ? void 0 : _a.key) != null ? _b : attribute;\n    } catch (error) {\n      return attribute;\n    }\n  }\n  static getAttributeIndex(attribute, attributeList) {\n    try {\n      const attributeIndex = attributeList.findIndex((i) => i.value === attribute);\n      if (attributeIndex >= 8) {\n        return attributeIndex % 8;\n      }\n      return attributeIndex;\n    } catch (error) {\n      return -1;\n    }\n  }\n  static getAttributeColor(attribute, attributeList) {\n    try {\n      const attributeIndex = this.getAttributeIndex(attribute, attributeList);\n      if (attributeIndex === -1) {\n        return NULL_COLOR;\n      }\n      return COLORS_ARRAY[attributeIndex % COLORS_ARRAY.length];\n    } catch (error) {\n      return NULL_COLOR;\n    }\n  }\n  static getTextAttribute(toolResultList, textCheckType) {\n    try {\n      if (textCheckType === ETextType.Order) {\n        const textAttributeList = toolResultList.map((i) => parseInt(i.textAttribute, 10)).filter((order) => {\n          return isNumber(order) && order < Number.MAX_SAFE_INTEGER && order >= 0;\n        });\n        textAttributeList.sort((a, b) => a - b);\n        const maxOrder = textAttributeList.pop();\n        return `${(maxOrder || 0) + 1}`;\n      }\n      return \"\";\n    } catch (error) {\n      return \"\";\n    }\n  }\n  static textChange(value, selectedID, toolList) {\n    return toolList.map((item) => {\n      if (item.id === selectedID) {\n        return __spreadProps(__spreadValues({}, item), {\n          textAttribute: value\n        });\n      }\n      return item;\n    });\n  }\n  static getErrorNotice(textCheckType, lang) {\n    switch (textCheckType) {\n      case ETextType.Order:\n      case ETextType.NumberOnly:\n        return Locale.getMessagesByLocale(EMessage.TextCheckNumberErrorNotice, lang);\n      case ETextType.EnglishOnly:\n        return Locale.getMessagesByLocale(EMessage.TextCheckEnglishErrorNotice, lang);\n      case ETextType.CustomFormat:\n        return Locale.getMessagesByLocale(EMessage.TextCheckCustomErrorNotice, lang);\n      default:\n        return \"\";\n    }\n  }\n  static textAttributeValidate(textCheckType, customFormat, text) {\n    try {\n      const reg = new RegExp(this.checkString(textCheckType, customFormat));\n      return reg.test(text);\n    } catch (error) {\n    }\n  }\n  static checkTextAttribute(textCheckType, customFormat, resultList, selectedID) {\n    let error = false;\n    resultList.forEach((item) => {\n      if ((item == null ? void 0 : item.textAttribute) === void 0 || (item == null ? void 0 : item.textAttribute) === \"\") {\n        return;\n      }\n      if ((selectedID ? item.id === selectedID : true) && !this.textAttributeValidate(textCheckType, customFormat, item.textAttribute)) {\n        error = true;\n      }\n    });\n    if (error) {\n      return true;\n    }\n    return false;\n  }\n  static changeTextAttributeInLog(toolLog, toolList) {\n    return toolLog == null ? void 0 : toolLog.map((item) => {\n      return item == null ? void 0 : item.map((info) => {\n        if ((toolList == null ? void 0 : toolList.findIndex((i) => (i == null ? void 0 : i.id) === (info == null ? void 0 : info.id))) > -1) {\n          const changeRect = toolList == null ? void 0 : toolList.find((i) => (i == null ? void 0 : i.id) === (info == null ? void 0 : info.id));\n          return __spreadProps(__spreadValues({}, info), {\n            textAttribute: changeRect == null ? void 0 : changeRect.textAttribute\n          });\n        }\n        return info;\n      });\n    });\n  }\n  static getTextIconSvg(attribute = \"\", attributeList, attributeConfigurable = false, baseIcon) {\n    if (attributeConfigurable === true) {\n      const attributeIndex = (attributeList == null ? void 0 : attributeList.findIndex((i) => (i == null ? void 0 : i.value) === attribute)) % COLORS_ARRAY.length + 1;\n      return ICON_ARRAY[attributeIndex];\n    }\n    return baseIcon;\n  }\n  static getAttributeByKeycode(keyCode, attributeList) {\n    var _a;\n    let num;\n    if (MathUtils.isInRange(keyCode, [48, 57])) {\n      num = keyCode - 48;\n    }\n    if (MathUtils.isInRange(keyCode, [96, 105])) {\n      num = keyCode - 96;\n    }\n    if (num === 0) {\n      return \"\";\n    }\n    return num ? (_a = attributeList[num - 1]) == null ? void 0 : _a.value : void 0;\n  }\n}\n\nexport { REGEXP_ENGLISH, REGEXP_NUMBER, AttributeUtils as default };\n","import MathUtils from '../MathUtils.js';\n\nclass CanvasUtils {\n  static getMousePositionOnCanvasFromEvent(event, canvas) {\n    if (canvas && event) {\n      const canvasRect = canvas.getBoundingClientRect();\n      return {\n        x: event.clientX - canvasRect.left,\n        y: event.clientY - canvasRect.top\n      };\n    }\n    return null;\n  }\n  static getClientRect(canvas) {\n    if (canvas) {\n      const canvasRect = canvas.getBoundingClientRect();\n      return {\n        x: canvasRect.left,\n        y: canvasRect.top,\n        width: canvasRect.width,\n        height: canvasRect.height\n      };\n    }\n    return null;\n  }\n  static getSize(canvas) {\n    if (canvas) {\n      const canvasRect = canvas.getBoundingClientRect();\n      return {\n        width: canvasRect.width,\n        height: canvasRect.height\n      };\n    }\n    return null;\n  }\n  static inViewPort(coord, viewPort) {\n    if (!coord) {\n      return false;\n    }\n    return MathUtils.isInRange(coord.x, [viewPort.left, viewPort.right]) && MathUtils.isInRange(coord.y, [viewPort.top, viewPort.bottom]);\n  }\n}\nCanvasUtils.getViewPort = (canvas, originOffset, zoom) => {\n  const {width: canvasWidth, height: canvasHeight} = canvas;\n  const {x, y} = originOffset;\n  const top = (0 - y) / zoom;\n  const left = (0 - x) / zoom;\n  const bottom = top + canvasHeight / zoom;\n  const right = left + canvasWidth / zoom;\n  return {top, bottom, left, right};\n};\nCanvasUtils.getPixelRatio = (context) => {\n  if (!context || !window) {\n    return 1;\n  }\n  const backingStore = context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n  return (window.devicePixelRatio || 1) / backingStore;\n};\n\nexport { CanvasUtils as default };\n","class UnitUtils {\n  static deg2rad(angleDeg) {\n    return angleDeg * Math.PI / 180;\n  }\n  static rad2deg(angleRad) {\n    return angleRad * 180 / Math.PI;\n  }\n}\n\nexport { UnitUtils as default };\n","import { ELineTypes, SEGMENT_NUMBER, DEFAULT_FONT } from '../../constant/tool.js';\nimport PolygonUtils from './PolygonUtils.js';\nimport UnitUtils from './UnitUtils.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst DEFAULT_ZOOM = 1;\nconst DEFAULT_CURRENT_POS = {\n  x: 0,\n  y: 0\n};\nconst DEFAULT_ROTATE = 0;\nconst DEFAULT_COLOR = \"\";\nclass DrawUtils {\n  static drawLine(canvas, startPoint, endPoint, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    const {color = DEFAULT_COLOR, thickness = 1, lineCap = \"round\"} = options;\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = thickness;\n    ctx.lineCap = lineCap;\n    ctx.beginPath();\n    ctx.moveTo(startPoint.x, startPoint.y);\n    ctx.lineTo(endPoint.x + 1, endPoint.y + 1);\n    ctx.stroke();\n    ctx.restore();\n  }\n  static drawRect(canvas, rect, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    const {color = DEFAULT_COLOR, thickness = 1, lineCap = \"round\", hiddenText = false, lineDash} = options;\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = thickness;\n    ctx.lineCap = lineCap;\n    if (Array.isArray(lineDash)) {\n      ctx.setLineDash(lineDash);\n    }\n    ctx.fillStyle = color;\n    ctx.strokeRect(rect.x, rect.y, rect.width, rect.height);\n    if (hiddenText === false) {\n      let showText = \"\";\n      if (rect.attribute) {\n        showText = `${showText}  ${rect.attribute}`;\n      }\n      this.drawText(canvas, {x: rect.x, y: rect.y - 5}, showText);\n      if (rect.textAttribute) {\n        const text = `${~~rect.width} * ${~~rect.height}`;\n        const textSizeWidth = text.length * 7;\n        const marginTop = 0;\n        const textWidth = Math.max(20, rect.width - textSizeWidth);\n        this.drawText(canvas, {x: rect.x, y: rect.y + rect.height + 20 + marginTop}, rect.textAttribute, {\n          textMaxWidth: textWidth\n        });\n      }\n    }\n    ctx.restore();\n  }\n  static drawRectWithFill(canvas, rect, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    const {color = DEFAULT_COLOR} = options;\n    ctx.save();\n    ctx.fillStyle = color;\n    ctx.fillRect(rect.x, rect.y, rect.width, rect.height);\n    ctx.restore();\n  }\n  static drawTagByDom(parent, text, id) {\n    const parentNode = parent;\n    if (!((text == null ? void 0 : text.length) > 0)) {\n      return;\n    }\n    const dom = document.createElement(\"div\");\n    dom.innerHTML = text;\n    dom.setAttribute(\"id\", id);\n    parentNode == null ? void 0 : parentNode.appendChild(dom);\n    return dom;\n  }\n  static drawTag(canvas, tagList) {\n    var _a;\n    const parentNode = canvas == null ? void 0 : canvas.parentNode;\n    const oldDom = window.self.document.getElementById(\"tagToolTag\");\n    if (oldDom && parentNode && parentNode.contains(oldDom)) {\n      parentNode == null ? void 0 : parentNode.removeChild(oldDom);\n    }\n    if (!((tagList == null ? void 0 : tagList.length) > 0)) {\n      return;\n    }\n    const dom = document.createElement(\"div\");\n    dom.innerHTML = (_a = tagList.reduce((acc, cur) => {\n      return `${acc}${cur.keyName}: ${cur.value.join(` \\u3001 `)}\n`;\n    }, \"\")) != null ? _a : \"\";\n    dom.setAttribute(\"id\", \"tagToolTag\");\n    parentNode == null ? void 0 : parentNode.appendChild(dom);\n    return dom;\n  }\n  static drawLineWithPointList(canvas, pointList, options = {}) {\n    if (pointList.length < 2) {\n      return;\n    }\n    const ctx = canvas.getContext(\"2d\");\n    const {\n      color = DEFAULT_COLOR,\n      thickness = 1,\n      lineCap = \"round\",\n      lineType = ELineTypes.Line,\n      lineDash,\n      hoverEdgeIndex\n    } = options;\n    ctx.save();\n    const setStyle = () => {\n      ctx.strokeStyle = color;\n      ctx.lineWidth = thickness;\n      ctx.lineCap = lineCap;\n      if (Array.isArray(lineDash)) {\n        ctx.setLineDash(lineDash);\n      } else {\n        ctx.setLineDash([]);\n      }\n    };\n    setStyle();\n    if (lineType === ELineTypes.Curve) {\n      if (hoverEdgeIndex !== void 0 && hoverEdgeIndex > -1) {\n        pointList.push(pointList[0]);\n      }\n      pointList = PolygonUtils.createSmoothCurvePointsFromPointList([...pointList], SEGMENT_NUMBER);\n      if (hoverEdgeIndex !== void 0 && hoverEdgeIndex > -1) {\n        pointList = pointList.slice((SEGMENT_NUMBER + 1) * hoverEdgeIndex, (SEGMENT_NUMBER + 1) * (hoverEdgeIndex + 1));\n      }\n    } else if (hoverEdgeIndex !== void 0 && hoverEdgeIndex > -1) {\n      pointList = [...pointList, pointList[0]];\n      pointList = pointList.slice(hoverEdgeIndex, hoverEdgeIndex + 2);\n    }\n    const specialEdgeList = [];\n    ctx.beginPath();\n    ctx.moveTo(pointList[0].x, pointList[0].y);\n    for (let i = 0; i < pointList.length - 1; i++) {\n      if (pointList[i].specialEdge) {\n        specialEdgeList.push({\n          i1: i,\n          i2: i + 1\n        });\n      }\n      ctx.lineTo(pointList[i + 1].x, pointList[i + 1].y);\n    }\n    ctx.stroke();\n    ctx.save();\n    ctx.lineWidth = thickness * 0.8;\n    ctx.lineCap = \"butt\";\n    ctx.strokeStyle = \"white\";\n    ctx.setLineDash([3, 3]);\n    specialEdgeList.forEach((v) => {\n      const point1 = pointList[v.i1];\n      const point2 = pointList[v.i2];\n      ctx.beginPath();\n      ctx.moveTo(point1.x, point1.y);\n      ctx.lineTo(point2.x, point2.y);\n      ctx.stroke();\n    });\n    ctx.restore();\n    const DEFAULT_SPECIAL_POINT_RADIUS = 4;\n    const DEFAULT_BORDER = 2;\n    pointList.forEach((p) => {\n      if (p.specialPoint) {\n        this.drawSpecialPoint(canvas, p, DEFAULT_SPECIAL_POINT_RADIUS + DEFAULT_BORDER, color);\n        this.drawSpecialPoint(canvas, p, DEFAULT_SPECIAL_POINT_RADIUS, \"white\");\n      }\n    });\n    ctx.restore();\n    return pointList;\n  }\n  static drawCircle(canvas, anchorPoint, radius, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    const {\n      startAngleDeg = 0,\n      endAngleDeg = 360,\n      thickness = 1,\n      color = DEFAULT_COLOR,\n      fill = DEFAULT_COLOR\n    } = options;\n    const startAngleRad = UnitUtils.deg2rad(startAngleDeg);\n    const endAngleRad = UnitUtils.deg2rad(endAngleDeg);\n    ctx.save();\n    ctx.beginPath();\n    ctx.strokeStyle = color;\n    ctx.fillStyle = fill;\n    ctx.lineWidth = thickness;\n    ctx.arc(anchorPoint.x, anchorPoint.y, radius, startAngleRad, endAngleRad, false);\n    ctx.stroke();\n    if (fill) {\n      ctx.fill();\n    }\n    ctx.closePath();\n    ctx.restore();\n  }\n  static drawCircleWithFill(canvas, anchorPoint, radius = 3, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    const {color = DEFAULT_COLOR} = options;\n    ctx.save();\n    const startAngleRad = UnitUtils.deg2rad(0);\n    const endAngleRad = UnitUtils.deg2rad(360);\n    ctx.fillStyle = color;\n    ctx.beginPath();\n    ctx.arc(anchorPoint.x, anchorPoint.y, radius, startAngleRad, endAngleRad, false);\n    ctx.fill();\n    ctx.restore();\n  }\n  static drawSpecialPoint(canvas, point, pointRadius = 6, fillStyle) {\n    const ctx = canvas.getContext(\"2d\");\n    const {x, y} = point;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = fillStyle;\n    const newPointRadius = pointRadius * 1.5;\n    const xl = newPointRadius * Math.sqrt(3) / 2;\n    const yl = newPointRadius / 2;\n    ctx.moveTo(x, y - newPointRadius);\n    ctx.lineTo(x - xl, y + yl);\n    ctx.lineTo(x + xl, y + yl);\n    ctx.closePath();\n    ctx.fill();\n    ctx.restore();\n  }\n  static drawPolygon(canvas, pointList, options = {}) {\n    const {isClose = false, lineType = ELineTypes.Line} = options;\n    if (isClose === true) {\n      pointList = [...pointList, pointList[0]];\n    }\n    if (lineType === ELineTypes.Curve) {\n      pointList = PolygonUtils.createSmoothCurvePointsFromPointList([...pointList]);\n    }\n    this.drawLineWithPointList(canvas, pointList, __spreadProps(__spreadValues({}, options), {\n      lineType: ELineTypes.Line\n    }));\n    return pointList;\n  }\n  static drawPolygonWithFill(canvas, pointList, options = {}) {\n    if (pointList.length < 2) {\n      return;\n    }\n    const ctx = canvas.getContext(\"2d\");\n    const {color = DEFAULT_COLOR, lineType = ELineTypes.Line} = options;\n    ctx.save();\n    ctx.fillStyle = color;\n    ctx.beginPath();\n    if (lineType === ELineTypes.Curve) {\n      pointList = PolygonUtils.createSmoothCurvePointsFromPointList([...pointList, pointList[0]]);\n    }\n    const [startPoint, ...otherPointList] = pointList;\n    ctx.moveTo(startPoint.x, startPoint.y);\n    otherPointList.forEach((point) => {\n      ctx.lineTo(point.x, point.y);\n    });\n    ctx.fill();\n    ctx.restore();\n    return pointList;\n  }\n  static drawPolygonWithFillAndLine(canvas, pointList, options = {}) {\n    const {strokeColor, fillColor, thickness, lineCap, isClose, lineType} = options;\n    const newPointList = this.drawPolygon(canvas, pointList, {\n      color: strokeColor,\n      thickness,\n      lineCap,\n      isClose,\n      lineType\n    });\n    this.drawPolygonWithFill(canvas, pointList, {color: fillColor, lineType});\n    return newPointList;\n  }\n  static drawPolygonWithKeyPoint(canvas, pointList, options = {}) {\n    const {pointColor = \"white\", strokeColor} = options;\n    const newPointList = this.drawPolygon(canvas, pointList, options);\n    newPointList.forEach((point) => {\n      this.drawCircleWithFill(canvas, point, 4, {color: strokeColor});\n      this.drawCircleWithFill(canvas, point, 3, {color: pointColor});\n    });\n    return newPointList;\n  }\n  static drawSelectedPolygonWithFillAndLine(canvas, pointList, options = {}) {\n    const {pointColor = \"white\", strokeColor} = options;\n    const newPointList = this.drawPolygonWithFillAndLine(canvas, pointList, options);\n    newPointList.forEach((point) => {\n      this.drawCircleWithFill(canvas, point, 4, {color: strokeColor});\n      this.drawCircleWithFill(canvas, point, 3, {color: pointColor});\n    });\n    return newPointList;\n  }\n  static drawText(canvas, startPoint, text, options = {}) {\n    if (!text) {\n      return;\n    }\n    const ctx = canvas.getContext(\"2d\");\n    const {\n      color = DEFAULT_COLOR,\n      font = DEFAULT_FONT,\n      shadowColor = \"\",\n      shadowBlur = 0,\n      shadowOffsetX = 0,\n      shadowOffsetY = 0,\n      textMaxWidth = 164,\n      offsetX = 0,\n      offsetY = 0,\n      textAlign = \"start\",\n      lineHeight\n    } = options;\n    ctx.save();\n    ctx.textAlign = textAlign;\n    ctx.fillStyle = color != null ? color : \"white\";\n    ctx.font = font;\n    ctx.shadowColor = shadowColor;\n    ctx.shadowOffsetX = shadowOffsetX;\n    ctx.shadowOffsetY = shadowOffsetY;\n    ctx.shadowBlur = shadowBlur;\n    this.wrapText(canvas, `${text}`, startPoint.x + offsetX, startPoint.y + offsetY, textMaxWidth, lineHeight);\n    ctx.restore();\n  }\n  static wrapText(canvas, text, x, y, maxWidth, lineHeight) {\n    if (typeof text !== \"string\" || typeof x !== \"number\" || typeof y !== \"number\") {\n      return;\n    }\n    const context = canvas.getContext(\"2d\");\n    if (typeof maxWidth === \"undefined\") {\n      maxWidth = canvas && canvas.width || 300;\n    }\n    if (typeof lineHeight === \"undefined\") {\n      lineHeight = canvas && parseInt(window.getComputedStyle(canvas).lineHeight, 10) || parseInt(window.getComputedStyle(document.body).lineHeight, 10);\n    }\n    const arrParagraph = text.split(\"\\n\");\n    for (let i = 0; i < arrParagraph.length; i++) {\n      const arrText = arrParagraph[i].split(\"\");\n      let line = \"\";\n      for (let n = 0; n < arrText.length; n++) {\n        const testLine = line + arrText[n];\n        const metrics = context.measureText(testLine);\n        const testWidth = metrics.width;\n        if (!maxWidth) {\n          maxWidth = 300;\n        }\n        if (testWidth > maxWidth && n > 0) {\n          context.fillText(line, x, y);\n          line = arrText[n];\n          y += lineHeight;\n        } else {\n          line = testLine;\n        }\n      }\n      context.fillText(line, x, y);\n      y += lineHeight;\n    }\n  }\n  static drawArrow(ctx, startPoint, endPoint, options = {}) {\n    const {color = DEFAULT_COLOR, thickness = 1, lineCap = \"round\", theta = 30, headLen = 10} = options;\n    const angle = Math.atan2(startPoint.y - endPoint.y, startPoint.x - endPoint.x) * 180 / Math.PI;\n    const angle1 = (angle + theta) * Math.PI / 180;\n    const angle2 = (angle - theta) * Math.PI / 180;\n    const topX = headLen * Math.cos(angle1);\n    const topY = headLen * Math.sin(angle1);\n    const botX = headLen * Math.cos(angle2);\n    const botY = headLen * Math.sin(angle2);\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = thickness;\n    ctx.lineCap = lineCap;\n    ctx.beginPath();\n    ctx.moveTo(endPoint.x + topX, endPoint.y + topY);\n    ctx.lineTo(endPoint.x, endPoint.y);\n    ctx.lineTo(endPoint.x + botX, endPoint.y + botY);\n    ctx.stroke();\n    ctx.restore();\n  }\n  static drawArrowByCanvas(canvas, startPoint, endPoint, options = {}) {\n    const ctx = canvas.getContext(\"2d\");\n    this.drawArrow(ctx, startPoint, endPoint, options);\n  }\n}\nDrawUtils.drawImg = (canvas, imgNode, options = {}) => {\n  const ctx = canvas.getContext(\"2d\");\n  const {zoom = DEFAULT_ZOOM, currentPos = DEFAULT_CURRENT_POS, rotate = DEFAULT_ROTATE, imgAttribute} = options;\n  ctx.save();\n  switch (rotate) {\n    case 0:\n      ctx.translate(currentPos.x, currentPos.y);\n      break;\n    case 90:\n      ctx.translate(currentPos.x + imgNode.height * zoom, currentPos.y);\n      ctx.rotate(90 * Math.PI / 180);\n      break;\n    case 180:\n      ctx.translate(currentPos.x + imgNode.width * zoom, currentPos.y + imgNode.height * zoom);\n      ctx.rotate(Math.PI);\n      break;\n    case 270:\n      ctx.translate(currentPos.x, currentPos.y + imgNode.width * zoom);\n      ctx.rotate(270 * Math.PI / 180);\n      break;\n    default:\n      ctx.translate(currentPos.x, currentPos.y);\n      break;\n  }\n  if (imgAttribute) {\n    const {contrast, saturation, brightness} = imgAttribute;\n    ctx.filter = `saturate(${saturation + 100}%) contrast(${contrast + 100}%) brightness(${brightness + 100}%)`;\n  }\n  ctx.drawImage(imgNode, 0, 0, imgNode.width * zoom, imgNode.height * zoom);\n  ctx.restore();\n};\n\nexport { DrawUtils as default };\n","import AttributeUtils from './AttributeUtils.js';\n\nclass MarkerUtils {\n  static getMarkerShowText(marker, markerList = []) {\n    return AttributeUtils.getAttributeShowText(marker, markerList);\n  }\n}\n\nexport { MarkerUtils as default };\n","function uuid(len = 8, radix = 62) {\n  const chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\".split(\"\");\n  const id = [];\n  let i;\n  radix = radix || chars.length;\n  if (len) {\n    for (i = 0; i < len; i++) {\n      id[i] = chars[0 | Math.random() * radix];\n    }\n  } else {\n    let r;\n    id[8] = id[13] = id[18] = id[23] = \"-\";\n    id[14] = \"4\";\n    for (i = 0; i < 36; i++) {\n      if (!id[i]) {\n        r = 0 | Math.random() * 16;\n        id[i] = chars[i === 19 ? r & 3 | 8 : r];\n      }\n    }\n  }\n  return id.join(\"\");\n}\n\nexport { uuid as default };\n","const rectToolConfig = {\n  showConfirm: false,\n  skipWhileNoDependencies: false,\n  drawOutsideTarget: false,\n  copyBackwardResult: false,\n  minWidth: 1,\n  minHeight: 1,\n  isShowOrder: false,\n  filterData: [\"valid\", \"invalid\"],\n  attributeConfigurable: false,\n  attributeList: [],\n  textConfigurable: false,\n  textCheckType: 0,\n  customFormat: \"\"\n};\nconst tagToolConfig = {\n  showConfirm: false,\n  skipWhileNoDependencies: false,\n  inputList: [\n    {\n      key: \"\\u7C7B\\u522B1\",\n      value: \"class1\",\n      isMulti: false,\n      subSelected: [\n        {key: \"\\u9009\\u98791\", value: \"option1\", isDefault: false},\n        {key: \"\\u9009\\u98792\", value: \"option1-2\", isDefault: false}\n      ]\n    },\n    {\n      key: \"\\u7C7B\\u522B2\",\n      value: \"class-AH\",\n      isMulti: true,\n      subSelected: [\n        {key: \"\\u9009\\u98792-1\", value: \"option2-1\", isDefault: false},\n        {key: \"\\u9009\\u98792-2\", value: \"option2-2\", isDefault: false},\n        {key: \"\\u9009\\u98792-3\", value: \"option2-3\", isDefault: false}\n      ]\n    },\n    {\n      key: \"\\u7C7B\\u522B3\",\n      value: \"class-0P\",\n      isMulti: false,\n      subSelected: [\n        {key: \"\\u9009\\u98793-1\", value: \"option3-1\", isMulti: false},\n        {key: \"\\u9009\\u98793-2\", value: \"option3-2\", isDefault: false},\n        {key: \"\\u9009\\u98793-3\", value: \"option3-3\", isDefault: false}\n      ]\n    }\n  ]\n};\nconst lineToolConfig = {\n  lineType: 0,\n  lineColor: 0,\n  edgeAdsorption: false,\n  outOfTarget: true,\n  copyBackwardResult: false,\n  isShowOrder: false,\n  attributeConfigurable: false,\n  attributeList: [\n    {key: \"\\u7C7B\\u522B1\", value: \"\\u7C7B\\u522B1\"},\n    {key: \"\\u7C7B\\u522Bao\", value: \"class-ao\"},\n    {key: \"\\u7C7B\\u522BM1\", value: \"class-M1\"},\n    {key: \"\\u7C7B\\u522BCm\", value: \"class-Cm\"},\n    {key: \"\\u7C7B\\u522Bc3\", value: \"class-c3\"},\n    {key: \"\\u7C7B\\u522Ba0\", value: \"class-a0\"},\n    {key: \"\\u7C7B\\u522Bu7\", value: \"class-u7\"},\n    {key: \"\\u7C7B\\u522BZb\", value: \"class-Zb\"},\n    {key: \"\\u7C7B\\u522Bzi\", value: \"class-zi\"}\n  ],\n  textConfigurable: false,\n  textCheckType: 2,\n  customFormat: \"\",\n  showConfirm: false,\n  lowerLimitPointNum: 2,\n  upperLimitPointNum: \"\",\n  preReferenceStep: 0,\n  skipWhileNoDependencies: false,\n  filterData: [\"valid\", \"invalid\"]\n};\nconst textToolConfig = {\n  showConfirm: false,\n  skipWhileNoDependencies: false,\n  enableTextRecognition: false,\n  recognitionMode: \"general\",\n  configList: [{label: \"\\u6587\\u672C\", key: \"text\", required: false, default: \"\", maxLength: 1e3}],\n  filterData: [\"valid\", \"invalid\"]\n};\nconst polygonConfig = {\n  lineType: 0,\n  lineColor: 0,\n  lowerLimitPointNum: 3,\n  edgeAdsorption: false,\n  drawOutsideTarget: false,\n  copyBackwardResult: false,\n  isShowOrder: false,\n  attributeConfigurable: false,\n  attributeList: [],\n  textConfigurable: true,\n  textCheckType: 0,\n  customFormat: \"\"\n};\nconst getConfig = (tool) => {\n  if (tool === \"lineTool\") {\n    return lineToolConfig;\n  }\n  if (tool === \"rectTool\") {\n    return rectToolConfig;\n  }\n  if (tool === \"tagTool\") {\n    return tagToolConfig;\n  }\n  if (tool === \"textTool\") {\n    return textToolConfig;\n  }\n  if (tool === \"polygonTool\") {\n    return polygonConfig;\n  }\n  return rectToolConfig;\n};\nconst styleDefaultConfig = {\n  toolColor: {\n    1: {\n      valid: {stroke: \"rgba(0,0,255,0.50)\", fill: \"rgba(0,0,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.80)\"},\n      validSelected: {stroke: \"rgba(0,15,255,1.00)\", fill: \"rgba(0,15,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,0.60)\", fill: \"rgba(255,0,0,0.24)\"},\n      validHover: {stroke: \"rgba(0,15,255,0.80)\", fill: \"rgba(0,15,255,0.64)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,0.50)\", fill: \"rgba(255,0,0,0.40)\"}\n    },\n    3: {\n      valid: {stroke: \"rgba(0,255,255,0.50)\", fill: \"rgba(0,255,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.80)\"},\n      validSelected: {stroke: \"rgba(0,212,255,1.00)\", fill: \"rgba(0,212,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,0.60)\", fill: \"rgba(255,0,0,0.24)\"},\n      validHover: {stroke: \"rgba(0,212,255,0.80)\", fill: \"rgba(0,212,255,0.64)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,0.50)\", fill: \"rgba(255,0,0,0.40)\"}\n    },\n    5: {\n      valid: {stroke: \"rgba(0,255,0,0.50)\", fill: \"rgba(0,255,0,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.80)\"},\n      validSelected: {stroke: \"rgba(149,255,1.00)\", fill: \"rgba(149,255,0,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,0.60)\", fill: \"rgba(255,0,0,0.24)\"},\n      validHover: {stroke: \"rgba(149,255,0,0.80)\", fill: \"rgba(149,255,0,0.64)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,0.50)\", fill: \"rgba(255,0,0,0.40)\"}\n    },\n    7: {\n      valid: {stroke: \"rgba(255,255,0,0.50)\", fill: \"rgba(255,255,0,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.80)\"},\n      validSelected: {stroke: \"rgba(255,230,102,1.00)\", fill: \"rgba(255,213,0,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,0.60)\", fill: \"rgba(255,0,0,0.24)\"},\n      validHover: {stroke: \"rgba(255,230,102,0.80)\", fill: \"rgba(255,230,102,0.64)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,0.50)\", fill: \"rgba(255,0,0,0.40)\"}\n    },\n    9: {\n      valid: {stroke: \"rgba(255,0,255,0.50)\", fill: \"rgba(255,0,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.80)\"},\n      validSelected: {stroke: \"rgba(230,102,255,1.00)\", fill: \"rgba(213,0,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,0.60)\", fill: \"rgba(255,0,0,0.24)\"},\n      validHover: {stroke: \"rgba(230,102,255,0.80)\", fill: \"rgba(230,102,255,0.64)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,0.50)\", fill: \"rgba(255,0,0,0.40)\"}\n    }\n  },\n  attributeColor: [\n    {\n      valid: {stroke: \"rgba(204,204,204,1.00)\", fill: \"rgba(204,204,204,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(204,204,204,1.00)\", fill: \"rgba(204,204,204,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(204,204,204,1.00)\", fill: \"rgba(204,204,204,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(153,51,255,1.00)\", fill: \"rgba(153,51,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(153,51,255,1.00)\", fill: \"rgba(153,51,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(153,51,255,1.00)\", fill: \"rgba(153,51,255,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(51,254,51,1.00)\", fill: \"rgba(51,254,51,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(51,254,51,1.00)\", fill: \"rgba(51,254,51,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(51,254,51,1.00)\", fill: \"rgba(51,254,51,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(255,51,255,1.00)\", fill: \"rgba(255,51,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(255,51,255,1.00)\", fill: \"rgba(255,51,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(255,51,255,1.00)\", fill: \"rgba(255,51,255,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(204,255,51,1.00)\", fill: \"rgba(204,255,51,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(204,255,51,1.00)\", fill: \"rgba(204,255,51,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(204,255,51,1.00)\", fill: \"rgba(204,255,51,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(51,153,255,1.00)\", fill: \"rgba(51,153,255,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(51,153,255,1.00)\", fill: \"rgba(51,153,255,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(51,153,255,1.00)\", fill: \"rgba(51,153,255,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(255,153,51,1.00)\", fill: \"rgba(255,153,51,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(255,153,51,1.00)\", fill: \"rgba(255,153,51,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(255,153,51,1.00)\", fill: \"rgba(255,153,51,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(51,255,238,1.00)\", fill: \"rgba(51,255,238,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(51,255,238,1.00)\", fill: \"rgba(51,255,238,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(51,255,238,1.00)\", fill: \"rgba(51,255,238,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    },\n    {\n      valid: {stroke: \"rgba(255,221,51,1.00)\", fill: \"rgba(255,221,51,0.40)\"},\n      invalid: {stroke: \"rgba(255,153,102,1.00)\", fill: \"rgba(255,153,102,0.40)\"},\n      validSelected: {stroke: \"rgba(255,221,51,1.00)\", fill: \"rgba(255,221,51,0.80)\"},\n      invalidSelected: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"},\n      validHover: {stroke: \"rgba(255,221,51,1.00)\", fill: \"rgba(255,221,51,0.80)\"},\n      invalidHover: {stroke: \"rgba(255,0,0,1.00)\", fill: \"rgba(255,0,0,0.80)\"}\n    }\n  ],\n  lineColor: {\n    1: \"rgba(102, 111, 255, 1 )\",\n    3: \"rgba(102, 230, 255, 1)\",\n    5: \"rgba(191, 255, 102, 1)\",\n    7: \"rgba(255, 230, 102, 1)\",\n    9: \"rgba(230, 102, 255, 1)\"\n  },\n  attributeLineColor: [\n    \"rgba(204, 204, 204, 1)\",\n    \"rgba(153, 51, 255, 1)\",\n    \"rgba(51, 254, 51, 1)\",\n    \"rgba(255, 51, 255, 1)\",\n    \"rgba(204, 255, 51, 1)\",\n    \"rgba(51, 153, 255, 1)\",\n    \"rgba(255, 153, 51, 1)\",\n    \"rgba(51, 255, 238, 1)\",\n    \"rgba(255, 221, 51, 1)\"\n  ],\n  color: 1,\n  width: 2,\n  opacity: 9\n};\n\nexport { getConfig, styleDefaultConfig };\n","import _ from 'lodash';\n\nclass ActionsHistory {\n  constructor(historyChanged) {\n    this.record = [];\n    this.recordIndex = -1;\n    this.minRecordIndex = -1;\n    this.emitHistoryChanged = () => {\n      if (this.historyChanged) {\n        const isEmit = this.constructor.name === \"ActionsHistory\" ? true : this.record.length > 0;\n        if (isEmit) {\n          this.historyChanged(this.undoEnabled, this.redoEnabled);\n        }\n      }\n    };\n    this.historyChanged = historyChanged;\n  }\n  get undoEnabled() {\n    return this.recordIndex > this.minRecordIndex;\n  }\n  get redoEnabled() {\n    return this.recordIndex < this.record.length - 1;\n  }\n  pushHistory(action) {\n    if (this.recordIndex !== this.record.length - 1) {\n      const newRecord = this.record.slice(0, Math.min(this.recordIndex + 1, this.record.length));\n      this.record = newRecord;\n    }\n    this.record.push(_.cloneDeepWith(action));\n    this.recordIndex += 1;\n    this.emitHistoryChanged();\n  }\n  updateHistory(newRecord) {\n    this.record[this.recordIndex] = _.cloneDeep(newRecord);\n  }\n  applyAttribute(id, key, value) {\n    if (id) {\n      this.record.forEach((lines) => {\n        const line = lines.find((i) => i.id === id);\n        if (line) {\n          line[key] = value;\n        }\n      });\n    }\n  }\n  undo() {\n    if (this.undoEnabled) {\n      this.recordIndex -= 1;\n      this.emitHistoryChanged();\n      return _.cloneDeep(this.record[this.recordIndex]) || [];\n    }\n  }\n  redo() {\n    if (this.redoEnabled) {\n      this.recordIndex += 1;\n      this.emitHistoryChanged();\n      return _.cloneDeep(this.record[this.recordIndex]);\n    }\n  }\n  init() {\n    this.record = [[]];\n    this.recordIndex = 0;\n    this.emitHistoryChanged();\n  }\n  empty() {\n    this.record = [];\n    this.recordIndex = -1;\n    this.emitHistoryChanged();\n  }\n  initRecord(data, isExitData = false) {\n    const existData = data.length > 0 || isExitData;\n    this.record = existData ? [_.cloneDeep(data)] : [];\n    this.minRecordIndex = existData ? 0 : -1;\n    this.recordIndex = 0;\n  }\n}\n\nexport { ActionsHistory as default };\n","import AxisUtils from './AxisUtils.js';\n\nclass DblClickEventListener {\n  constructor(dom, delay) {\n    this.rcTime = 0;\n    this.mouseDownTime = 0;\n    this.onMouseDown = () => {\n      this.mouseDownTime = new Date().getTime();\n    };\n    this.dom = dom;\n    this.isDoubleClick = false;\n    this.delay = delay;\n  }\n  getRcTime() {\n    return this.rcTime;\n  }\n  getCoord(e) {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n  removeEvent() {\n    if (!this.dom) {\n      return;\n    }\n    this.dom.removeEventListener(\"mouseup\", this.mouseUp);\n    this.dom.removeEventListener(\"mousemove\", this.mouseMove);\n    this.dom.removeEventListener(\"dblclick\", this.dblclick);\n    this.dom.removeEventListener(\"mousedown\", this.onMouseDown);\n  }\n  addEvent(singleClickFun, leftDblClick, rightDblClick, isAllowDouble) {\n    if (!this.dom) {\n      return;\n    }\n    this.removeEvent();\n    this.mouseUp = (e) => {\n      const cTime = new Date().getTime();\n      const isDoubleClick = isAllowDouble ? isAllowDouble(e) : true;\n      if (cTime - this.mouseDownTime > this.delay || isDoubleClick !== true) {\n        singleClickFun(e);\n        return;\n      }\n      if (e.button === 2) {\n        if (this.rcTime === 0) {\n          setTimeout(() => {\n            this.rcTime = 0;\n          }, this.delay);\n          this.rcTime = cTime;\n        } else {\n          if (cTime - this.rcTime < this.delay) {\n            rightDblClick(e);\n            clearTimeout(this.setTimeFun);\n            this.cacheFunction = void 0;\n          }\n          this.rcTime = 0;\n          return;\n        }\n      }\n      if (this.setTimeFun) {\n        clearTimeout(this.setTimeFun);\n      }\n      this.clickCoord = this.getCoord(e);\n      this.cacheFunction = () => singleClickFun(e);\n      this.setTimeFun = setTimeout(() => {\n        if (this.isDoubleClick) {\n          this.isDoubleClick = false;\n          return;\n        }\n        this.cacheFunction();\n        this.clickCoord = void 0;\n      }, this.delay);\n    };\n    this.mouseMove = (e) => {\n      const currentCoord = this.getCoord(e);\n      if (this.clickCoord && !AxisUtils.getIsInScope(currentCoord, this.clickCoord, 10)) {\n        if (this.cacheFunction) {\n          this.cacheFunction();\n        }\n        this.clickCoord = void 0;\n        this.cacheFunction = null;\n        clearTimeout(this.setTimeFun);\n      }\n    };\n    this.dblclick = (e) => {\n      this.isDoubleClick = true;\n      this.clickCoord = void 0;\n      leftDblClick(e);\n    };\n    this.dom.addEventListener(\"mouseup\", this.mouseUp);\n    this.dom.addEventListener(\"mousemove\", this.mouseMove);\n    this.dom.addEventListener(\"dblclick\", this.dblclick);\n    this.dom.addEventListener(\"mousedown\", this.onMouseDown);\n  }\n  clearRightDblClick() {\n    this.rcTime = 0;\n  }\n}\n\nexport { DblClickEventListener as default };\n","class ImgPosUtils {\n  static getInitImgPos(canvasSize, imgSize, rotate = 0, zoomRatio = 1, isOriginalSize = false) {\n    if (rotate === 90 || rotate === 270) {\n      imgSize = {\n        width: imgSize.height,\n        height: imgSize.width\n      };\n    }\n    const wScale = canvasSize.width * zoomRatio / imgSize.width;\n    const hScale = canvasSize.height * zoomRatio / imgSize.height;\n    let scale = isOriginalSize ? 1 : Math.min(wScale, hScale);\n    const currentPos = {\n      x: (canvasSize.width - imgSize.width * scale) / 2,\n      y: (canvasSize.height - imgSize.height * scale) / 2\n    };\n    const width = imgSize.width * scale;\n    const height = imgSize.height * scale;\n    if (isOriginalSize) {\n      scale = 1;\n    }\n    return {\n      zoom: scale,\n      currentPos,\n      imgInfo: {width, height}\n    };\n  }\n  static getBasicRecPos(imgNode, basicRect, size, shrinkRatio = 0.9, zoomRatio = 1, isOriginalSize = false) {\n    if (basicRect && imgNode) {\n      const {x, y, height, width} = basicRect;\n      let initZoom = size.height / height;\n      if (width / height > size.width / size.height) {\n        initZoom = size.width / width;\n      }\n      const zoom = isOriginalSize ? 1 : initZoom * shrinkRatio * zoomRatio;\n      const viewCenter = {\n        x: size.width / 2,\n        y: size.height / 2\n      };\n      const imgCenter = {\n        x: (x + width / 2) * zoom,\n        y: (y + height / 2) * zoom\n      };\n      const currentPos = {\n        x: viewCenter.x - imgCenter.x,\n        y: viewCenter.y - imgCenter.y\n      };\n      return {\n        currentPos,\n        innerZoom: zoom\n      };\n    }\n    return false;\n  }\n}\n\nexport { ImgPosUtils as default };\n","import Locale from '../../locales/index.js';\nimport { EMessage } from '../../locales/constants.js';\n\nclass RenderDomUtils {\n  static renderInvalidPage(container, size, lang) {\n    const invalidDOM = document.createElement(\"div\");\n    invalidDOM.setAttribute(\"style\", `\n        position: absolute;\n        left: 0px;\n        top: 0px;\n        width: ${size.width}px;\n        height: ${size.height}px;\n        background: rgba(255, 87, 34, 1);\n        overflow: hidden;\n        color: white;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 30px;\n        opacity: 0.7;\n        z-index: 30;\n      `);\n    invalidDOM.innerHTML = Locale.getMessagesByLocale(EMessage.InvalidImage, lang);\n    container.appendChild(invalidDOM);\n    return invalidDOM;\n  }\n}\n\nexport { RenderDomUtils as default };\n","import { EGrowthMode } from '../../constant/annotation.js';\nimport MathUtils from '../MathUtils.js';\n\nconst ZOOM_LEVEL = [1, 5, 10, 20, 30, 50, 80, 100].concat(Array.from({length: 9}).map((i, index) => (index + 2) * 100));\nclass ZoomUtils {\n}\nZoomUtils.zoomChanged = (zoom, isZoomIn, growthMode = EGrowthMode.Linear) => {\n  switch (growthMode) {\n    case EGrowthMode.Intelligence: {\n      const maxZoom = Math.max(...ZOOM_LEVEL);\n      const minZoom = Math.min(...ZOOM_LEVEL);\n      const zoomIndex = ZOOM_LEVEL.slice(0, ZOOM_LEVEL.length).findIndex((i, index) => zoom >= i && (zoom < ZOOM_LEVEL[index + 1] || i === maxZoom));\n      let newZoom;\n      if (zoomIndex === -1) {\n        if (zoom >= minZoom && zoom <= maxZoom) {\n          newZoom = isZoomIn ? maxZoom : minZoom;\n        } else {\n          newZoom = isZoomIn ? minZoom : zoom;\n        }\n      } else {\n        const newZoomIndex = isZoomIn ? zoomIndex + 1 : zoomIndex - (ZOOM_LEVEL.includes(zoom) ? 1 : 0);\n        newZoom = ZOOM_LEVEL[MathUtils.withinRange(newZoomIndex, [0, ZOOM_LEVEL.length - 1])];\n      }\n      return newZoom;\n    }\n    default: {\n      const ratio = isZoomIn ? 2 : 1 / 2;\n      return zoom * ratio;\n    }\n  }\n};\nZoomUtils.wheelChangePos = (imgNode, coord, operator, oldCurrentPos, options = {}) => {\n  const {zoom = 1, innerZoom = 1, basicZoom = 1, zoomMax = 1e3, rotate = 0} = options;\n  const {x, y} = oldCurrentPos;\n  const ratio = parseFloat((zoom + 1 / 10).toFixed(1)) / 5;\n  if (imgNode && coord) {\n    let {width, height} = imgNode;\n    if ([90, 270].includes(rotate)) {\n      width = imgNode.height;\n      height = imgNode.width;\n    }\n    const imgWidth = width * innerZoom;\n    const imgHeight = height * innerZoom;\n    const offsetLeft = coord.x - x;\n    const offsetTop = coord.y - y;\n    const ratioX = offsetLeft / imgWidth;\n    const ratioY = offsetTop / imgHeight;\n    let currentZoom = zoom + operator * ratio;\n    currentZoom = MathUtils.withinRange(currentZoom, [basicZoom, zoomMax]);\n    const changeX = width * currentZoom * ratioX;\n    const changeY = height * currentZoom * ratioY;\n    const currentX = x + (offsetLeft - changeX);\n    const currentY = y + (offsetTop - changeY);\n    return {\n      zoom: currentZoom,\n      currentPos: {\n        x: currentX,\n        y: currentY\n      },\n      imgInfo: {\n        width: width * currentZoom,\n        height: height * currentZoom\n      },\n      ratio\n    };\n  }\n  return null;\n};\n\nexport { ZoomUtils as default };\n","import _ from 'lodash';\nimport { ELineTypes, ELineColor, EToolName, ETextType } from '../../constant/tool.js';\nimport ActionsHistory from '../../utils/ActionsHistory.js';\nimport uuid from '../../utils/uuid.js';\nimport EKeyCode from '../../constant/keyCode.js';\nimport MathUtils from '../../utils/MathUtils.js';\nimport { BasicToolOperation } from './basicToolOperation.js';\nimport LineToolUtils from '../../utils/tool/LineToolUtils.js';\nimport { createSmoothCurvePointsFromPointList, isInPolygon, createSmoothCurvePoints } from '../../utils/tool/polygonTool.js';\nimport CommonToolUtils from '../../utils/tool/CommonToolUtils.js';\nimport CanvasUtils from '../../utils/tool/CanvasUtils.js';\nimport DrawUtils from '../../utils/tool/DrawUtils.js';\nimport StyleUtils from '../../utils/tool/StyleUtils.js';\nimport AttributeUtils from '../../utils/tool/AttributeUtils.js';\nimport TextAttributeClass from './textAttributeClass.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar EStatus;\n(function(EStatus2) {\n  EStatus2[EStatus2[\"Create\"] = 0] = \"Create\";\n  EStatus2[EStatus2[\"Active\"] = 1] = \"Active\";\n  EStatus2[EStatus2[\"None\"] = 2] = \"None\";\n})(EStatus || (EStatus = {}));\nconst SEGMENT_NUMBER = 16;\nconst LINE_ORDER_OFFSET = {\n  x: 0,\n  y: 20\n};\nconst POINT_RADIUS = 3;\nconst POINT_ACTIVE_RADIUS = 5;\nconst INNER_POINT_RADIUS = 2;\nclass LineToolOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.drawActivatedLine = (coord, e, hideTempAxis) => {\n      const activeLine = _.cloneDeep(this.activeLine);\n      if (!activeLine || activeLine.length === 0) {\n        return;\n      }\n      const isActiveLineValid = this.isActiveLineValid();\n      let order;\n      const existLine = this.selectedID ? this.lineList.find((i) => i.id === this.selectedID) : void 0;\n      if (existLine) {\n        order = existLine.order;\n      } else {\n        order = this.nextOrder();\n      }\n      const color = this.getLineColorByAttribute({attribute: this.defaultAttribute, valid: !!isActiveLineValid});\n      activeLine.map((point) => Object.assign(point, this.coordUtils.getRenderCoord(point)));\n      this.updateActiveArea();\n      this.drawLine(activeLine, coord, color, true, true);\n      this.drawLineNumber(activeLine[0], order, color, \"\", this.defaultAttribute, isActiveLineValid);\n      if (coord && this.isCreate) {\n        this.arc(coord, POINT_RADIUS, color);\n      }\n      if (this.cursor && !this.selectedPoint && !hideTempAxis && !this.isShift) {\n        this.arc(this.cursor, POINT_ACTIVE_RADIUS, color);\n      }\n    };\n    this.drawHoverPoint = (coord) => {\n      if (this.isMousedown) {\n        return;\n      }\n      if (coord && this.isLineSelected) {\n        const pointList = this.getPointList(this.activeLine);\n        const hoverPoint = this.activeLine.find((i) => LineToolUtils.calcDistance(this.coordUtils.getRenderCoord(i), coord) <= POINT_ACTIVE_RADIUS);\n        let nearestPoint;\n        if (!hoverPoint && this.activeLine) {\n          nearestPoint = this.findNearestPoint(pointList, coord);\n        }\n        this.hoverPointID = hoverPoint ? hoverPoint.id : void 0;\n        this.cursor = hoverPoint ? void 0 : nearestPoint == null ? void 0 : nearestPoint.point;\n      }\n    };\n    this.lineList = [];\n    this.activeLine = [];\n    this.coordsInsideActiveArea = false;\n    this.hoverLineSegmentIndex = -1;\n    this.isShift = false;\n    this.isReference = false;\n    this.drawCurveLine = (ctx, points, config, applyLineWidth = true, isReference = false, hoverLineSegmentIndex) => {\n      const pointList = createSmoothCurvePointsFromPointList(points, SEGMENT_NUMBER);\n      ctx.save();\n      ctx.lineCap = \"round\";\n      ctx.lineJoin = \"round\";\n      ctx.strokeStyle = config.color;\n      if (applyLineWidth) {\n        ctx.lineWidth = config.lineWidth;\n      }\n      if (isReference) {\n        LineToolUtils.setReferenceCtx(ctx);\n      }\n      points.forEach(({specialEdge}, index) => {\n        const curveLinePoints = pointList.splice(0, SEGMENT_NUMBER + 1);\n        ctx.save();\n        ctx.beginPath();\n        if (hoverLineSegmentIndex === index) {\n          ctx.lineWidth = 4;\n        }\n        curveLinePoints.forEach(({x, y}, pointIndex) => {\n          const fn = pointIndex > 0 ? \"lineTo\" : \"moveTo\";\n          if (specialEdge) {\n            LineToolUtils.setSpecialEdgeStyle(ctx);\n          }\n          ctx[fn](x, y);\n        });\n        ctx.stroke();\n        ctx.restore();\n      });\n      ctx.restore();\n    };\n    this.drawLine = (points, cursor, color, showPoint = false, isActive = false) => {\n      const pointsToDraw = cursor ? points.concat(cursor) : points;\n      const lineConfig = {color, lineWidth: isActive ? 1 : this.lineStyle.lineWidth};\n      if (this.isCurve) {\n        LineToolUtils.drawCurveLine(this.ctx, pointsToDraw, lineConfig, !showPoint, this.isReference, isActive ? this.hoverLineSegmentIndex : -1);\n      } else {\n        this.drawStraightLine(pointsToDraw, lineConfig, isActive);\n      }\n      if (showPoint) {\n        points.forEach((point) => {\n          var _a, _b;\n          const pointID = point.id;\n          const pointRadius = pointID && [this.hoverPointID, (_a = this.selectedPoint) == null ? void 0 : _a.id].includes(pointID) ? POINT_ACTIVE_RADIUS : POINT_RADIUS;\n          this.arc(point, pointRadius, color);\n          if (![this.hoverPointID, (_b = this.selectedPoint) == null ? void 0 : _b.id].includes(pointID)) {\n            this.arc(point, INNER_POINT_RADIUS, \"white\");\n          }\n        });\n      }\n    };\n    this.drawStraightLine = (points, config, isActive = false) => {\n      const {ctx} = this;\n      if (ctx) {\n        ctx.save();\n        ctx.lineCap = \"round\";\n        ctx.lineJoin = \"round\";\n        ctx.strokeStyle = config.color;\n        ctx.lineWidth = config.lineWidth;\n        if (this.isReference) {\n          LineToolUtils.setReferenceCtx(ctx);\n        }\n        points.forEach((point, index) => {\n          ctx.beginPath();\n          if (index > 0) {\n            const prePoint = points[index - 1];\n            ctx.save();\n            if (prePoint == null ? void 0 : prePoint.specialEdge) {\n              LineToolUtils.setSpecialEdgeStyle(ctx);\n            }\n            if (isActive && this.hoverLineSegmentIndex + 1 === index) {\n              ctx.lineWidth = 4;\n            }\n            ctx.moveTo(prePoint.x, prePoint.y);\n            ctx.lineTo(point.x, point.y);\n            ctx.stroke();\n            ctx.restore();\n          }\n        });\n        ctx.restore();\n      }\n    };\n    this.drawLines = () => {\n      try {\n        const lineList = _.cloneDeep(this.attributeFilteredLines);\n        if (this.isHidden) {\n          return;\n        }\n        lineList.forEach((line) => {\n          if (line.id === this.selectedID) {\n            return;\n          }\n          if (line.pointList) {\n            line.pointList.map((i) => Object.assign(i, this.coordUtils.getRenderCoord(i)));\n            const {order, label} = line;\n            const displayOrder = order;\n            const color = line && this.getLineColorByAttribute(line);\n            this.drawLine(line.pointList, void 0, color, false);\n            this.drawLineNumber(line.pointList[0], displayOrder, color, label, line.attribute, line.valid);\n            if (line.id !== this.textEditingID) {\n              this.drawLineTextAttribute(line.pointList[1], color, line == null ? void 0 : line.textAttribute);\n            }\n          }\n        });\n      } catch (e) {\n        console.error(e, \"\\u7EBF\\u6761\\u5DE5\\u5177\\u6570\\u636E\\u89E3\\u6790\\u9519\\u8BEF\");\n        this.lineList = [];\n        this.clearCanvas();\n      }\n    };\n    this.render = (nextPoint) => {\n      super.render();\n      this.drawLines();\n      this.drawActivatedLine(nextPoint, void 0, true);\n      this.renderTextAttribute();\n      this.renderCursorLine(this.getLineColor(this.defaultAttribute));\n    };\n    this.moveLineInPolygon = (offsetX, offsetY) => {\n      var _a;\n      if (!Array.isArray(this.activeLine)) {\n        return false;\n      }\n      const allPointsInRange = (_a = this.activeLine) == null ? void 0 : _a.every((i) => {\n        return this.isInBasicPolygon({x: i.x + offsetX, y: i.y + offsetY});\n      });\n      if (allPointsInRange) {\n        this.lineDragging = true;\n        this.moveActiveArea(offsetX, offsetY);\n      }\n    };\n    this.moveLineInRectRange = (offsetX, offsetY, rectHorizontalRange, rectVerticalRange) => {\n      if (this.activeArea === void 0) {\n        return;\n      }\n      const {top, left, right, bottom} = this.activeArea;\n      const hBoundaries = [left, right].map((i) => _.isNumber(i) ? i + offsetX : 0);\n      const vBoundaries = [top, bottom].map((i) => _.isNumber(i) ? i + offsetY : 0);\n      const horizontalInRange = left >= 0 && right && MathUtils.isInRange(hBoundaries, rectHorizontalRange);\n      const verticalInRange = top >= 0 && bottom && MathUtils.isInRange(vBoundaries, rectVerticalRange);\n      const calcOffsetX = horizontalInRange ? offsetX : 0;\n      const calcOffsetY = verticalInRange ? offsetY : 0;\n      this.lineDragging = true;\n      this.moveActiveArea(calcOffsetX, calcOffsetY);\n    };\n    this.onRightClick = (e) => {\n      this.cursor = void 0;\n      if (this.isCreate) {\n        if (this.isLinePointsNotEnough()) {\n          return;\n        }\n        this.stopLineCreating(true);\n        return;\n      }\n      this.setActiveArea(this.getCoordinate(e), true);\n      this.emit(\"contextmenu\");\n    };\n    this.updateSelectedAttributeAfterHistoryChanged = () => {\n      if (this.selectedID) {\n        const line = this.lineList.find((i) => i.id === this.selectedID);\n        const attribute = line == null ? void 0 : line.attribute;\n        if (typeof attribute === \"string\") {\n          this.defaultAttribute = attribute;\n          this.updateAttribute(attribute);\n          this.render();\n        }\n      }\n    };\n    this.onLeftClick = (e) => {\n      const coord = this.getCoordinate(e);\n      const {lineDragging} = this;\n      this.lineDragging = false;\n      if (this.isSpaceKey) {\n        return;\n      }\n      if (this.isNone && e.ctrlKey) {\n        const hoveredLine = this.findHoverLine(coord);\n        if (hoveredLine) {\n          this.setInvalidLine(hoveredLine.id);\n        }\n        return;\n      }\n      if (this.isLinePointsExceed()) {\n        return;\n      }\n      const nextAxis = this.getNextPoint(e, coord);\n      if (this.isCreate || this.isNone) {\n        this.setCreatStatusAndAddPoint(nextAxis);\n        return;\n      }\n      if (this.isActive) {\n        if (lineDragging) {\n          return;\n        }\n        const isMouseCoordOutsideActiveArea = this.isMouseCoordOutsideActiveArea();\n        if (isMouseCoordOutsideActiveArea) {\n          this.setNoneStatus(false);\n          this.setCreatStatusAndAddPoint(nextAxis);\n          return;\n        }\n        const isSetSpecialLine = e.shiftKey;\n        if (isSetSpecialLine) {\n          this.updateLineSegmentSpecial(coord);\n          return;\n        }\n        if (this.coordsInsideActiveArea && e.ctrlKey) {\n          this.setInvalidLine(this.selectedID);\n          return;\n        }\n        this.addLinePointToActiveLine();\n      }\n    };\n    this.onDblclick = () => {\n    };\n    this.onKeyUp = (e) => {\n      super.onKeyUp(e);\n      this.isShift = false;\n      this.hoverLineSegmentIndex = -1;\n      if (e.keyCode === EKeyCode.Esc) {\n        this.stopLineCreating(false);\n        return;\n      }\n      if (this.isActive) {\n        if (e.keyCode === EKeyCode.Delete) {\n          this.deleteLine();\n          return;\n        }\n        if (e.keyCode === EKeyCode.F) {\n          this.setInvalidLine(this.selectedID);\n          return;\n        }\n        if (e.keyCode === EKeyCode.Space) {\n          this.continueToEdit();\n          return;\n        }\n      }\n      this.keyboardEventWhileLineCreating(e);\n    };\n    this.onRightDblClick = (e) => {\n      super.onRightDblClick(e);\n      const coord = this.getCoordinate(e);\n      if (this.isActive) {\n        const hoverPoint = this.findHoveredPoint(coord);\n        if (hoverPoint) {\n          this.deleteSelectedLinePoint(hoverPoint.id);\n          return;\n        }\n        this.deleteSelectedLine(coord);\n      }\n    };\n    this.setReference = (isReference) => {\n      this.isReference = isReference;\n    };\n    this.pointsWithinRange = (count) => {\n      if (this.lowerLimitPointNum && count < this.lowerLimitPointNum) {\n        return false;\n      }\n      if (this.upperLimitPointNum && count > this.upperLimitPointNum) {\n        return false;\n      }\n      return true;\n    };\n    this.setLineList = (lineList) => {\n      const lengthChanged = lineList.length !== this.lineListLen;\n      this.lineList = lineList;\n      if (lengthChanged) {\n        this.emit(\"updatePageNumber\");\n      }\n    };\n    this.textChange = (v) => {\n      if (this.config.textConfigurable === false || !this.selectedID) {\n        return;\n      }\n      this.updateSelectedTextAttribute(v);\n      this.emit(\"selectedChange\");\n    };\n    this.status = 2;\n    this.isMousedown = false;\n    this.lineDragging = false;\n    this.isLineValid = true;\n    this.setConfig(props.config);\n    this.prevAxis = {\n      x: 0,\n      y: 0\n    };\n    this.textEditingID = \"\";\n    this.updateSelectedTextAttribute = this.updateSelectedTextAttribute.bind(this);\n    this.getCurrentSelectedData = this.getCurrentSelectedData.bind(this);\n    this.actionsHistory = new ActionsHistory();\n    this.dependToolConfig = {\n      lineType: ELineTypes.Line\n    };\n  }\n  get isLineSelected() {\n    return this.selectedID && this.activeLine;\n  }\n  get selectedLinePoints() {\n    return this.activeLine ? this.getPointList(this.activeLine) : [];\n  }\n  get isCreate() {\n    return this.status === 0;\n  }\n  get isActive() {\n    return this.status === 1;\n  }\n  get isNone() {\n    return this.status === 2;\n  }\n  get isCurve() {\n    return this.config.lineType === ELineTypes.Curve;\n  }\n  get isMultipleColor() {\n    return this.config.lineColor === ELineColor.MultiColor;\n  }\n  get imageSize() {\n    if (this.rotate % 180 === 0) {\n      return this.basicImgInfo;\n    }\n    return {\n      width: this.basicImgInfo.height,\n      height: this.basicImgInfo.width\n    };\n  }\n  get lineListLen() {\n    return this.lineList.length;\n  }\n  get edgeAdsorptionEnabled() {\n    return this.edgeAdsorption && !this.isCurve && this.lineListLen > 0;\n  }\n  get attributeConfigurable() {\n    return this.config.attributeConfigurable;\n  }\n  get isTextConfigurable() {\n    return this.config.textConfigurable;\n  }\n  get isDependPolygon() {\n    return this.dependToolName === EToolName.Polygon;\n  }\n  get isDependRect() {\n    return this.dependToolName === EToolName.Rect;\n  }\n  get isCurrentAttributeLocked() {\n    return this.attributeLockList.includes(this.defaultAttribute);\n  }\n  get attributeFilteredLines() {\n    if (this.attributeLockList.length > 0) {\n      return this.lineList.filter((v) => this.attributeLockList.includes((v == null ? void 0 : v.attribute) || \"\"));\n    }\n    return this.lineList;\n  }\n  get enableOutOfTarget() {\n    return this.config.enableOutOfTarget;\n  }\n  get showOrder() {\n    var _a;\n    return (_a = this.config.showOrder) != null ? _a : this.config.isShowOrder;\n  }\n  get edgeAdsorption() {\n    return this.config.edgeAdsorption;\n  }\n  get attributeList() {\n    return this.config.attributeList;\n  }\n  get lowerLimitPointNum() {\n    return this.config.lowerLimitPointNum;\n  }\n  get upperLimitPointNum() {\n    return this.config.upperLimitPointNum;\n  }\n  get textCheckType() {\n    return this.config.textCheckType;\n  }\n  get customFormat() {\n    return this.config.customFormat;\n  }\n  get dataList() {\n    return this.lineList;\n  }\n  get hasActiveLine() {\n    return this.activeLine && this.activeLine.length > 0;\n  }\n  get viewPortLines() {\n    const viewPort = CanvasUtils.getViewPort(this.canvas, this.currentPos, this.zoom);\n    if (this.isHidden) {\n      return [];\n    }\n    return this.attributeFilteredLines.filter((i) => {\n      var _a;\n      return (_a = i == null ? void 0 : i.pointList) == null ? void 0 : _a.some((p) => CanvasUtils.inViewPort(p, viewPort));\n    });\n  }\n  get lineStyle() {\n    return {\n      lineWidth: this.style.width,\n      color: this.getLineColor(this.defaultAttribute),\n      opacity: this.style.opacity\n    };\n  }\n  get selectedText() {\n    var _a, _b;\n    return (_b = (_a = this.lineList.find((i) => i.id === this.selectedID)) == null ? void 0 : _a.textAttribute) != null ? _b : \"\";\n  }\n  get currentPageResult() {\n    return this.lineList;\n  }\n  updateStatus(status, resetText = false) {\n    if (status === this.status) {\n      return;\n    }\n    if (resetText) {\n      let defaultText = \"\";\n      if (this.textCheckType === ETextType.Order && this.isTextConfigurable) {\n        defaultText = AttributeUtils.getTextAttribute(this.lineList, this.textCheckType);\n      }\n      this.emit(\"updateText\", defaultText);\n    }\n    this.status = status;\n    this.lineStatusChanged();\n  }\n  isInBasicPolygon(coord) {\n    var _a, _b;\n    return isInPolygon(coord, ((_a = this.basicResult) == null ? void 0 : _a.pointList) || [], (_b = this.dependToolConfig) == null ? void 0 : _b.lineType);\n  }\n  getPolygonPointList() {\n    if (!this.basicResult) {\n      return [];\n    }\n    const {pointList} = this.basicResult;\n    const {lineType} = this.dependToolConfig;\n    return lineType === ELineTypes.Curve ? createSmoothCurvePoints(pointList.reduce((acc, cur) => {\n      return [...acc, cur.x, cur.y];\n    }, []), 0.5, true, 20) : pointList;\n  }\n  getNextCoordByRenderCoord(renderCoord) {\n    return this.getNextCoordByAbsCoord(this.coordUtils.getAbsCoord(renderCoord));\n  }\n  getNextCoordByAbsCoord(absCoord) {\n    var _a;\n    const preAxis = (_a = this.activeLine) == null ? void 0 : _a.slice(-1)[0];\n    if (preAxis) {\n      return this.coordUtils.getNextCoordByDependTool(absCoord, preAxis);\n    }\n    return absCoord;\n  }\n  pointInLine(pointList, checkPoint, scope) {\n    if (pointList.filter((i) => i).length < 2) {\n      return false;\n    }\n    return pointList.some((point, index) => {\n      if (index === 0) {\n        return false;\n      }\n      const point1 = this.coordUtils.getRenderCoord(pointList[index - 1]);\n      const point2 = this.coordUtils.getRenderCoord(point);\n      return LineToolUtils.isInLine(checkPoint, point1, point2, scope);\n    });\n  }\n  arc(coord, size = POINT_RADIUS, color) {\n    var _a, _b, _c, _d, _e, _f;\n    if (this.ctx) {\n      const {x, y} = coord;\n      (_a = this.ctx) == null ? void 0 : _a.save();\n      (_b = this.ctx) == null ? void 0 : _b.beginPath();\n      this.ctx.fillStyle = color || this.lineStyle.color;\n      (_c = this.ctx) == null ? void 0 : _c.arc(x, y, size, 0, 360);\n      (_d = this.ctx) == null ? void 0 : _d.closePath();\n      (_e = this.ctx) == null ? void 0 : _e.fill();\n      (_f = this.ctx) == null ? void 0 : _f.restore();\n    }\n  }\n  renderActiveArea() {\n    if (this.isActive && this.activeArea && this.ctx) {\n      const {top, left, right, bottom} = this.activeArea;\n      const {x, y} = this.coordUtils.getRenderCoord({x: left, y: top});\n      this.ctx.save();\n      this.ctx.beginPath();\n      this.ctx.strokeStyle = \"#B3B8FF\";\n      this.ctx.rect(x, y, (right - left) * this.zoom, (bottom - top) * this.zoom);\n      this.ctx.stroke();\n      this.ctx.restore();\n    }\n  }\n  addLinePoint(coord) {\n    var _a, _b, _c, _d;\n    this.arc(coord);\n    (_a = this.activeLine) == null ? void 0 : _a.push(__spreadProps(__spreadValues({}, coord), {id: uuid()}));\n    if (((_b = this.activeLine) == null ? void 0 : _b.length) === 1) {\n      (_c = this.actionsHistory) == null ? void 0 : _c.initRecord(this.activeLine);\n    } else {\n      (_d = this.actionsHistory) == null ? void 0 : _d.pushHistory(this.activeLine);\n    }\n    this.render();\n  }\n  setCreatStatusAndAddPoint(coord, isRestText = false) {\n    this.updateStatus(0, isRestText);\n    this.addLinePoint(coord);\n  }\n  isActiveLineValid() {\n    var _a;\n    return this.selectedID ? (_a = this.lineList.find((i) => i.id === this.selectedID)) == null ? void 0 : _a.valid : this.isLineValid;\n  }\n  nextOrder() {\n    return this.lineListLen === 0 ? 1 : this.lineList.slice(-1)[0].order + 1;\n  }\n  getLineColorByAttribute(line, isSelected = false) {\n    return StyleUtils.getStrokeAndFill(this.getColor(line.attribute), line.valid, {isSelected}).stroke;\n  }\n  updateActiveArea() {\n    this.activeArea = this.getActiveArea();\n    this.renderActiveArea();\n  }\n  getActiveArea() {\n    return this.hasActiveLine ? MathUtils.calcViewportBoundaries(this.activeLine, this.isCurve, SEGMENT_NUMBER, this.zoom) : void 0;\n  }\n  drawLineNumber(coord, order = 1, color, label = \"\", attribute, valid = true) {\n    var _a, _b, _c;\n    if ((this.showOrder || this.attributeConfigurable) && this.ctx) {\n      let text = this.showOrder ? order.toString() : `${label}`;\n      if (this.attributeConfigurable) {\n        const keyForAttribute = attribute ? (_c = (_b = (_a = this.attributeList) == null ? void 0 : _a.find((i) => i.value === attribute)) == null ? void 0 : _b.key) != null ? _c : attribute : \"\";\n        text = [text, `${!valid && keyForAttribute ? \"\\u65E0\\u6548\" : \"\"}${keyForAttribute}`].filter((i) => i).join(\"_\");\n      }\n      this.drawText(coord, text, color);\n    }\n  }\n  drawLineTextAttribute(coord, color, text) {\n    if (coord && text) {\n      return this.drawText(coord, text, color, 200);\n    }\n  }\n  drawText(coord, text, color, lineWidth) {\n    var _a, _b;\n    if (this.ctx) {\n      (_a = this.ctx) == null ? void 0 : _a.save();\n      this.ctx.font = \"italic bold 14px SourceHanSansCN-Regular\";\n      this.ctx.fillStyle = color;\n      this.ctx.strokeStyle = color;\n      this.ctx.shadowColor = \"rgba(0, 0, 0, 0.6)\";\n      this.ctx.shadowOffsetY = 2;\n      this.ctx.shadowBlur = 4;\n      if (lineWidth) {\n        DrawUtils.wrapText(this.canvas, text, coord.x - LINE_ORDER_OFFSET.x, coord.y - LINE_ORDER_OFFSET.y, lineWidth);\n      } else {\n        this.ctx.fillText(text, coord.x - LINE_ORDER_OFFSET.x, coord.y - LINE_ORDER_OFFSET.y);\n      }\n      (_b = this.ctx) == null ? void 0 : _b.restore();\n    }\n  }\n  moveActiveArea(offsetX, offsetY) {\n    if (this.activeArea) {\n      this.activeArea = Object.assign(this.activeArea, {\n        top: this.activeArea.top + offsetY,\n        bottom: this.activeArea.bottom + offsetY,\n        right: this.activeArea.right + offsetX,\n        left: this.activeArea.left + offsetX\n      });\n    }\n    if (this.activeLine) {\n      this.activeLine.map((i) => Object.assign(i, {x: i.x + offsetX, y: i.y + offsetY}));\n      this.updateLines();\n    }\n  }\n  findHoveredPoint(coord) {\n    if (!this.activeLine) {\n      return;\n    }\n    return this.activeLine.find((i) => {\n      const iAxis = this.coordUtils.getRenderCoord(i);\n      return LineToolUtils.calcDistance(iAxis, coord) <= POINT_ACTIVE_RADIUS;\n    });\n  }\n  findHoverLine(coord) {\n    const line = _.cloneDeep(this.lineList).reverse().find(({pointList}) => {\n      const list = pointList ? this.getPointList(pointList) : [];\n      const scope = this.getLineWidthScope();\n      return list.some((point, index) => {\n        if (index === 0) {\n          return false;\n        }\n        const point1 = this.coordUtils.getRenderCoord(point);\n        const point2 = this.coordUtils.getRenderCoord(list[index - 1]);\n        return LineToolUtils.isInLine(coord, point1, point2, scope);\n      });\n    });\n    return line;\n  }\n  getAdsorptionPoint(coord) {\n    let point;\n    let minDistance;\n    let snappedPoint;\n    _.cloneDeep(this.lineList).reverse().forEach(({pointList, id}) => {\n      if (id === this.selectedID || !pointList || (pointList == null ? void 0 : pointList.length) < 2) {\n        return;\n      }\n      const nearestPoint = this.findNearestPoint(pointList, coord);\n      if (nearestPoint) {\n        if (nearestPoint.minDistance === 0) {\n          point = nearestPoint.point;\n          return;\n        }\n        if (minDistance === void 0 || nearestPoint.minDistance < minDistance) {\n          point = nearestPoint.point;\n          minDistance = nearestPoint.minDistance;\n        }\n      }\n    });\n    return snappedPoint || point;\n  }\n  findNearestPoint(pointList, coord, minLength = 7) {\n    let point;\n    const minDistance = minLength;\n    for (let i = 1; i <= pointList.length - 1; i++) {\n      const point1 = this.coordUtils.getRenderCoord(pointList[i]);\n      const point2 = this.coordUtils.getRenderCoord(pointList[i - 1]);\n      const {length, footPoint} = MathUtils.getFootOfPerpendicular(coord, point1, point2);\n      const twoPointDistance1 = LineToolUtils.calcTwoPointDistance(point1, coord);\n      const twoPointDistance2 = LineToolUtils.calcTwoPointDistance(point2, coord);\n      if (twoPointDistance1 <= minLength * 2) {\n        point = point1;\n        minLength = 0;\n        break;\n      }\n      if (twoPointDistance2 <= minLength * 2) {\n        point = point2;\n        minLength = 0;\n        break;\n      }\n      if (length < minLength) {\n        point = footPoint;\n        minLength = length;\n      }\n    }\n    return point ? {point, minDistance} : void 0;\n  }\n  getPointList(pointList) {\n    return this.isCurve ? createSmoothCurvePointsFromPointList(pointList, SEGMENT_NUMBER) : pointList;\n  }\n  moveSelectedLine(coord) {\n    const offsetX = (coord.x - this.prevAxis.x) / this.zoom;\n    const offsetY = (coord.y - this.prevAxis.y) / this.zoom;\n    if (this.enableOutOfTarget) {\n      this.lineDragging = true;\n      this.moveActiveArea(offsetX, offsetY);\n      return;\n    }\n    if (this.isDependPolygon) {\n      this.moveLineInPolygon(offsetX, offsetY);\n      return;\n    }\n    let rectHorizontalRange = [0, this.imageSize.width];\n    let rectVerticalRange = [0, this.imageSize.height];\n    if (this.isDependRect) {\n      const {x, y, width, height} = this.basicResult;\n      rectHorizontalRange = [x, x + width];\n      rectVerticalRange = [y, y + height];\n    }\n    this.moveLineInRectRange(offsetX, offsetY, rectHorizontalRange, rectVerticalRange);\n  }\n  moveSelectPoint(coord) {\n    if (!this.selectedPoint) {\n      return;\n    }\n    const offsetX = coord.x - this.prevAxis.x;\n    const offsetY = coord.y - this.prevAxis.y;\n    const newX = (this.selectedPoint ? this.selectedPoint.x : 0) + offsetX / this.zoom;\n    const newY = (this.selectedPoint ? this.selectedPoint.y : 0) + offsetY / this.zoom;\n    const pointPosition = {\n      x: newX,\n      y: newY\n    };\n    Object.assign(this.selectedPoint, this.getNextCoordByAbsCoord(pointPosition));\n    this.updateLines();\n    this.render();\n  }\n  getCoordByConfig(e, coord) {\n    var _a;\n    const isVH = !!e.shiftKey;\n    const disabledAdsorb = e.altKey;\n    if (((_a = this.activeLine) == null ? void 0 : _a.length) > 0 && isVH) {\n      const lastPoint = this.activeLine.slice(-1)[0];\n      return LineToolUtils.getVHPoint(lastPoint, coord, this.coordUtils.getAbsCoord(coord), this.coordUtils.getRenderCoord(lastPoint));\n    }\n    if (this.edgeAdsorptionEnabled && !disabledAdsorb) {\n      return this.getAdsorptionPoint(coord);\n    }\n    return coord;\n  }\n  getNextPoint(e, nextPoint) {\n    const newPoint = this.getCoordByConfig(e, nextPoint) || nextPoint;\n    return this.enableOutOfTarget ? newPoint : this.getNextCoordByRenderCoord(newPoint);\n  }\n  lineHover() {\n    this.render();\n  }\n  mouseMoveHandler(e) {\n    const coord = this.getCoordinate(e);\n    const isLeftClick = e.which === 1;\n    if (this.isCreate) {\n      if (this.hasActiveLine) {\n        this.renderNextPoint(e, coord);\n      }\n      return;\n    }\n    if (this.isNone) {\n      this.lineHover();\n      if (this.edgeAdsorptionEnabled && !e.altKey) {\n        const edgeAdsorptionPoint = this.getAdsorptionPoint(coord);\n        if (edgeAdsorptionPoint) {\n          this.arc(edgeAdsorptionPoint);\n        }\n      }\n    }\n    if (this.isActive) {\n      if (this.isMousedown && isLeftClick) {\n        if (this.selectedPoint) {\n          this.moveSelectPoint(coord);\n          return;\n        }\n        if (this.coordsInsideActiveArea) {\n          this.moveSelectedLine(coord);\n          this.drawActivatedLine(void 0, void 0, true);\n          return;\n        }\n      }\n      this.drawHoverPoint(coord);\n      this.render();\n    }\n  }\n  onMouseMove(e) {\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    const coord = this.getCoordinate(e);\n    this.mouseMoveHandler(e);\n    this.prevAxis = coord;\n  }\n  setActiveArea(coord, outsideCancel = false) {\n    const activeLine = this.findHoverLine(coord);\n    if (activeLine) {\n      const index = this.lineList.findIndex((i) => i.id === (activeLine == null ? void 0 : activeLine.id));\n      const area = MathUtils.calcViewportBoundaries((activeLine == null ? void 0 : activeLine.pointList) || [], this.isCurve, SEGMENT_NUMBER, this.zoom);\n      const line = this.lineList[index];\n      this.updateStatus(1);\n      this.setActiveLine(line.pointList);\n      this.setSelectedLineID(line.id);\n      this.activeArea = area;\n      this.updateLineAttributes(line);\n    } else if (outsideCancel) {\n      this.setNoneStatus();\n    }\n    this.render();\n  }\n  setActiveLineByID(id) {\n    const line = this.lineList.find((i) => i.id === id);\n    if (line) {\n      const area = MathUtils.calcViewportBoundaries((line == null ? void 0 : line.pointList) || [], this.isCurve, SEGMENT_NUMBER, this.zoom);\n      this.updateStatus(1);\n      this.setActiveLine(line.pointList);\n      this.setSelectedLineID(line.id);\n      this.activeArea = area;\n      this.updateLineAttributes(line);\n    }\n    this.render();\n  }\n  setActiveLine(pointList) {\n    this.activeLine = pointList ? _.cloneDeep(pointList) : void 0;\n  }\n  historyChanged(funcName) {\n    const enableKeyName = `${funcName}Enabled`;\n    if (this.isCreate) {\n      if (this.actionsHistory && this.actionsHistory[enableKeyName]) {\n        const record = this.actionsHistory && this.actionsHistory[funcName]();\n        this.setActiveLine(record);\n        this.render();\n      }\n      return;\n    }\n    if (this.history && this.history[enableKeyName]) {\n      const currentHistory = this.history[funcName]();\n      const activeLine = currentHistory == null ? void 0 : currentHistory.find((i) => i.id === this.selectedID);\n      this.lineList = currentHistory;\n      if (this.selectedID && activeLine) {\n        this.setActiveLine(activeLine == null ? void 0 : activeLine.pointList);\n      } else {\n        this.setNoneStatus();\n      }\n      this.render();\n    }\n    this.emit(\"dataUpdated\", this.lineList);\n  }\n  undo() {\n    this.historyChanged(\"undo\");\n    this.updateSelectedAttributeAfterHistoryChanged();\n  }\n  redo() {\n    this.historyChanged(\"redo\");\n    this.updateSelectedAttributeAfterHistoryChanged();\n  }\n  isCoordInsideTarget(coord) {\n    if (this.isDependPolygon) {\n      return this.isInBasicPolygon(coord);\n    }\n    if (this.isDependRect) {\n      const {x, y, width, height} = this.basicResult;\n      const rectHorizontalRange = [x, x + width];\n      const rectVerticalRange = [y, y + height];\n      return MathUtils.isInRange(coord.x, rectHorizontalRange) && MathUtils.isInRange(coord.y, rectVerticalRange);\n    }\n    return MathUtils.isInRange(coord.x, [0, this.imageSize.width]) && MathUtils.isInRange(coord.y, [0, this.imageSize.height]);\n  }\n  getPointInsertIndex(coord, scope) {\n    if (coord && this.activeLine) {\n      const pointList = this.getPointList(this.activeLine);\n      if (this.activeLine.length === 2) {\n        return 1;\n      }\n      return this.activeLine.findIndex((i, index) => {\n        if (index > 0) {\n          const straightLinePoints = this.activeLine ? this.activeLine[index - 1] : void 0;\n          const points = this.isCurve ? pointList.slice((index - 1) * (SEGMENT_NUMBER + 1), index * (SEGMENT_NUMBER + 1)) : [straightLinePoints, i];\n          return this.pointInLine(points, coord, scope || this.getLineWidthScope());\n        }\n        return false;\n      });\n    }\n    return -1;\n  }\n  getLineWidthScope() {\n    return this.lineStyle.lineWidth;\n  }\n  isMouseCoordOutsideActiveArea() {\n    return !this.coordsInsideActiveArea && !this.selectedPoint;\n  }\n  isLinePointsExceed() {\n    return this.isCreate && this.activeLine && this.upperLimitPointNum && ~~this.upperLimitPointNum <= this.activeLine.length;\n  }\n  isLinePointsNotEnough() {\n    var _a;\n    return this.activeLine && ((_a = this.activeLine) == null ? void 0 : _a.length) < this.lowerLimitPointNum;\n  }\n  updateLineSegmentSpecial(coord) {\n    const specialEdgeIndex = this.getPointInsertIndex(coord, 2) - 1;\n    if (specialEdgeIndex > -1) {\n      const pointData = this.activeLine[specialEdgeIndex];\n      pointData.specialEdge = !pointData.specialEdge;\n      this.hoverLineSegmentIndex = -1;\n      this.render();\n    }\n  }\n  addLinePointToActiveLine() {\n    var _a;\n    const insertIndex = this.getPointInsertIndex(this.cursor);\n    const pointsWithInRange = this.pointsWithinRange(this.activeLine.length + 1);\n    if (this.cursor && insertIndex > -1 && pointsWithInRange) {\n      this.activeLine.splice(insertIndex, 0, __spreadProps(__spreadValues({}, this.coordUtils.getAbsCoord(this.cursor)), {id: uuid()}));\n      this.updateLines();\n      (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n      this.render();\n      this.cursor = void 0;\n    }\n  }\n  onMouseDown(e) {\n    if (super.onMouseDown(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    const coord = this.getCoordinate(e);\n    this.isMousedown = true;\n    this.prevAxis = coord;\n    if (e.which === 3) {\n      this.cursor = void 0;\n      return;\n    }\n    this.selectedPoint = this.findHoveredPoint(coord);\n    this.coordsInsideActiveArea = this.isActive && this.activeArea ? LineToolUtils.inArea(this.activeArea, this.coordUtils.getAbsCoord(coord)) : false;\n    this.lineDragging = false;\n  }\n  lineHasChanged() {\n    const line = this.lineList.find((i) => i.id === this.selectedID);\n    return line ? JSON.stringify(line.pointList) !== JSON.stringify(this.activeLine) : false;\n  }\n  updateLines() {\n    const line = this.lineList.find((i) => i.id === this.selectedID);\n    if (line) {\n      line.pointList = _.cloneDeep(this.activeLine);\n      this.emit(\"dataUpdated\", this.lineList);\n    }\n  }\n  onMouseUp(e) {\n    const reset = () => {\n      this.isMousedown = false;\n      this.hoverPointID = void 0;\n      this.cursor = void 0;\n      this.selectedPoint = void 0;\n    };\n    this.hoverPointID = void 0;\n    if (super.onMouseUp(e) || this.forbidMouseOperation || !this.imgInfo) {\n      reset();\n      return;\n    }\n    if (e.which === 1) {\n      this.onLeftClick(e);\n    }\n    if (e.which === 3) {\n      this.onRightClick(e);\n    }\n    reset();\n  }\n  isTextValid(text) {\n    return AttributeUtils.textAttributeValidate(this.textCheckType, this.customFormat, text);\n  }\n  createLineData() {\n    const id = uuid();\n    const newLine = {\n      pointList: _.cloneDeep(this.activeLine),\n      id,\n      valid: this.isLineValid,\n      order: this.nextOrder()\n    };\n    newLine.attribute = this.defaultAttribute;\n    return newLine;\n  }\n  stopLineCreating(isAppend = true) {\n    var _a, _b, _c, _d;\n    const setActiveAfterCreating = this.selectedID ? true : !!this.isTextConfigurable;\n    let selectedID;\n    if (isAppend) {\n      if (this.selectedID) {\n        const line = this.lineList.find((i) => i.id === this.selectedID);\n        selectedID = this.selectedID;\n        if (line) {\n          line.pointList = _.cloneWith(this.activeLine);\n          if (!_.isEqual(line.pointList, (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList))) {\n            (_b = this.history) == null ? void 0 : _b.pushHistory(this.lineList);\n          }\n        }\n      } else if (this.isCreate && this.activeLine && this.activeLine.length > 1) {\n        const newLine = this.createLineData();\n        selectedID = newLine.id;\n        this.setLineList([...this.lineList, newLine]);\n        (_c = this.history) == null ? void 0 : _c.pushHistory(this.lineList);\n      }\n    }\n    if (setActiveAfterCreating) {\n      this.setActiveStatus(selectedID);\n    } else {\n      this.setNoneStatus();\n    }\n    (_d = this.actionsHistory) == null ? void 0 : _d.empty();\n    this.emit(\"dataUpdated\", this.lineList);\n    this.render();\n  }\n  setActiveStatus(id) {\n    const line = id ? this.lineList.find((i) => i.id === id) : void 0;\n    if (line) {\n      const pointList = line == null ? void 0 : line.pointList;\n      this.updateStatus(1);\n      this.setActiveLine(pointList);\n      this.setSelectedLineID(id);\n    } else {\n      this.setNoneStatus();\n    }\n  }\n  setNoneStatus(updateStatus = true) {\n    if (updateStatus) {\n      this.updateStatus(2);\n    }\n    this.activeLine = [];\n    this.setSelectedLineID(void 0);\n    this.activeArea = void 0;\n    this.isLineValid = true;\n    this.cursor = void 0;\n  }\n  setKeyDownStatus(e, value) {\n    this.isShift = value != null ? value : e.keyCode === EKeyCode.Shift;\n  }\n  continueToEdit() {\n    var _a;\n    this.updateStatus(0);\n    this.cursor = void 0;\n    (_a = this.actionsHistory) == null ? void 0 : _a.pushHistory(this.activeLine);\n    this.render();\n  }\n  setInvalidLineOnCreating(e) {\n    if (this.selectedID && e.keyCode !== EKeyCode.Ctrl || !this.isCreate) {\n      return;\n    }\n    const valid = !e.ctrlKey;\n    if (this.selectedID) {\n      this.setInvalidLine(this.selectedID, valid, false);\n    } else {\n      this.isLineValid = valid;\n    }\n  }\n  onKeyDown(e) {\n    super.onKeyDown(e);\n    this.setKeyDownStatus(e);\n    if (e.keyCode === EKeyCode.Z && !e.ctrlKey) {\n      this.toggleIsHide();\n    }\n    if (e.keyCode === EKeyCode.Shift) {\n      this.render();\n    }\n    if (e.keyCode === EKeyCode.Tab) {\n      e.preventDefault();\n      this.selectToNextLine(e);\n      return;\n    }\n    if (this.isCreate) {\n      this.keyboardEventWhileLineCreating(e);\n    }\n    if (this.config.attributeConfigurable) {\n      const keyCode2Attribute = AttributeUtils.getAttributeByKeycode(e.keyCode, this.config.attributeList);\n      if (keyCode2Attribute !== void 0) {\n        this.setDefaultAttribute(keyCode2Attribute);\n      }\n    }\n  }\n  selectToNextLine(e) {\n    const nextSelectedLine = CommonToolUtils.getNextSelectedRectIDByEvent(this.viewPortLines.map((i) => {\n      var _a, _b, _c, _d;\n      return __spreadProps(__spreadValues({}, i), {\n        x: (_b = (_a = i.pointList[0]) == null ? void 0 : _a.x) != null ? _b : 0,\n        y: (_d = (_c = i.pointList[0]) == null ? void 0 : _c.y) != null ? _d : 0\n      });\n    }), e, this.selectedID);\n    if (nextSelectedLine) {\n      this.setActiveLineByID(nextSelectedLine.id);\n    }\n  }\n  keyboardEventWhileLineCreating(e) {\n    if (!this.isCreate) {\n      return;\n    }\n    if (e.keyCode === EKeyCode.Ctrl) {\n      this.setInvalidLineOnCreating(e);\n    }\n    if ([EKeyCode.Shift, EKeyCode.Alt].includes(e.keyCode)) {\n      this.renderNextPoint(e, this.prevAxis);\n    }\n  }\n  renderNextPoint(e, coord) {\n    const nextPoint = this.coordUtils.getRenderCoord(this.getNextPoint(e, coord));\n    this.render(nextPoint);\n  }\n  deleteSelectedLine(coord) {\n    const boundary = MathUtils.calcViewportBoundaries(this.activeLine, this.isCurve, SEGMENT_NUMBER, this.zoom);\n    const axisOnArea = LineToolUtils.inArea(boundary, this.coordUtils.getAbsCoord(coord));\n    if (axisOnArea) {\n      this.deleteLine();\n    }\n  }\n  deleteSelectedLinePoint(selectedID) {\n    var _a;\n    const pointsWithinRange = this.pointsWithinRange(this.activeLine.length - 1);\n    if (pointsWithinRange && selectedID) {\n      this.setActiveLine(this.activeLine.filter((i) => i.id !== selectedID));\n      this.updateLines();\n      (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n    }\n    this.cursor = void 0;\n    this.render();\n  }\n  deleteLine() {\n    var _a;\n    this.lineList = this.lineList.filter((i) => i.id !== this.selectedID);\n    (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n    this.setNoneStatus();\n    this.emit(\"dataUpdated\", this.lineList);\n    this.render();\n  }\n  setInvalidLine(id, valid, isRender = true) {\n    var _a;\n    const line = this.lineList.find((i) => i.id === id);\n    if (line) {\n      line.valid = valid !== void 0 ? valid : !line.valid;\n      (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n      if (isRender) {\n        this.render();\n      }\n    }\n  }\n  empty() {\n    var _a, _b;\n    this.lineList = [];\n    this.setNoneStatus();\n    this.selectedPoint = void 0;\n    (_a = this.actionsHistory) == null ? void 0 : _a.empty();\n    (_b = this.history) == null ? void 0 : _b.init();\n    this.emit(\"dataUpdated\", this.lineList);\n    this.render();\n  }\n  setAttribute(attribute) {\n    var _a;\n    if (this.attributeConfigurable) {\n      this.defaultAttribute = attribute;\n      this.setLineAttribute(\"attribute\", attribute);\n      if (this.selectedID) {\n        (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n      }\n    }\n  }\n  setTextAttribute(text) {\n    var _a;\n    if (this.isTextConfigurable) {\n      this.setLineAttribute(\"textAttribute\", text);\n      (_a = this.history) == null ? void 0 : _a.applyAttribute(this.selectedID, \"textAttribute\", text);\n    }\n  }\n  setLineAttribute(key, value, id) {\n    const targetID = id || this.selectedID;\n    if (targetID) {\n      const line = this.lineList.find((i) => i.id === targetID);\n      if (line) {\n        line[key] = value;\n      }\n    }\n    this.render();\n  }\n  updateAttribute(attribute) {\n    this.emit(\"updateAttribute\", attribute);\n  }\n  updateLineAttributes(line) {\n    var _a;\n    if (this.attributeConfigurable && line) {\n      const attribute = (line == null ? void 0 : line.attribute) || \"\";\n      this.defaultAttribute = attribute;\n      this.updateAttribute(attribute);\n    }\n    if (this.isTextConfigurable && line) {\n      const text = (line == null ? void 0 : line.textAttribute) || \"\";\n      this.updateTextAttribute(text);\n    }\n    (_a = this.history) == null ? void 0 : _a.updateHistory(this.lineList);\n  }\n  lineStatusChanged() {\n    this.emit(\"lineStatusChanged\", {\n      status: this.status,\n      selectedLineID: this.selectedID\n    });\n  }\n  updateTextAttribute(text) {\n    if (this.selectedID) {\n      const line = this.lineList.find((i) => i.id === this.selectedID);\n      if (line) {\n        line.textAttribute = text;\n      }\n    }\n    this.emit(\"updateText\", text);\n  }\n  saveData() {\n    this.stopLineCreating();\n    this.setNoneStatus();\n    this.render();\n  }\n  setTextEditingID(id) {\n    this.textEditingID = id;\n    this.render();\n  }\n  setSelectedLineID(id) {\n    var _a, _b;\n    if (this.selectedID === id) {\n      return;\n    }\n    const oldID = this.selectedID;\n    if (id !== oldID && oldID) {\n      (_a = this._textAttributeInstance) == null ? void 0 : _a.changeSelected();\n    }\n    if (!id) {\n      (_b = this._textAttributeInstance) == null ? void 0 : _b.clearTextAttribute();\n    }\n    this.selectedID = id;\n    this.emit(\"selectedChange\");\n  }\n  attributeLockListChange(attributeLockList) {\n    this.attributeLockList = attributeLockList;\n    this.render();\n  }\n  setResult(lineList) {\n    this.setNoneStatus();\n    this.setLineList(lineList);\n    this.render();\n  }\n  setConfig(config) {\n    super.setConfig(config);\n  }\n  toggleIsHide() {\n    this.setIsHidden(!this.isHidden);\n    this.render();\n  }\n  clearCanvas() {\n    super.clearCanvas();\n  }\n  clearResult() {\n    this.setResult([]);\n    this.setSelectedLineID(void 0);\n    this.render();\n  }\n  exportData() {\n    return [this.lineList, this.basicImgInfo];\n  }\n  setDefaultAttribute(attribute = \"\") {\n    var _a;\n    if (this.attributeConfigurable) {\n      this.defaultAttribute = attribute;\n      this.setLineAttribute(\"attribute\", attribute);\n      if (this.selectedID) {\n        (_a = this.history) == null ? void 0 : _a.pushHistory(this.lineList);\n      }\n      this.emit(\"changeAttributeSidebar\");\n    }\n  }\n  getCurrentSelectedData() {\n    var _a, _b;\n    const valid = this.isActiveLineValid();\n    const attribute = this.defaultAttribute;\n    const toolColor = this.getColor(attribute);\n    const color = valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    const textAttribute = (_b = (_a = this.lineList.find((i) => i.id === this.selectedID)) == null ? void 0 : _a.textAttribute) != null ? _b : \"\";\n    return {\n      color,\n      textAttribute\n    };\n  }\n  renderTextAttribute() {\n    var _a, _b, _c, _d;\n    if (!this.ctx || !this.activeLine || ((_a = this.activeLine) == null ? void 0 : _a.length) < 2 || this.isCreate) {\n      return;\n    }\n    const valid = this.isActiveLineValid();\n    const attribute = this.defaultAttribute;\n    const {x, y} = this.activeLine[1];\n    const coordinate = this.coordUtils.getRenderCoord({x, y});\n    const toolColor = this.getColor(attribute);\n    const color = valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    const textAttribute = (_c = (_b = this.lineList.find((i) => i.id === this.selectedID)) == null ? void 0 : _b.textAttribute) != null ? _c : \"\";\n    if (!this._textAttributeInstance) {\n      this._textAttributeInstance = new TextAttributeClass({\n        container: this.container,\n        icon: this.getTextIconSvg(attribute),\n        color,\n        getCurrentSelectedData: this.getCurrentSelectedData,\n        updateSelectedTextAttribute: this.updateSelectedTextAttribute\n      });\n    }\n    if (this._textAttributeInstance && !((_d = this._textAttributeInstance) == null ? void 0 : _d.isExit)) {\n      this._textAttributeInstance.appendToContainer();\n    }\n    this._textAttributeInstance.update(`${textAttribute}`, {\n      left: coordinate.x,\n      top: coordinate.y,\n      color\n    });\n    this._textAttributeInstance.updateIcon(this.getTextIconSvg(attribute));\n  }\n  getTextIconSvg(attribute = \"\") {\n    return AttributeUtils.getTextIconSvg(attribute, this.config.attributeList, this.config.attributeConfigurable, this.baseIcon);\n  }\n  updateSelectedTextAttribute(newTextAttribute) {\n    if (this._textAttributeInstance && newTextAttribute && this.selectedID) {\n      let textAttribute = newTextAttribute;\n      const textAttributeInvalid = !AttributeUtils.textAttributeValidate(this.config.textCheckType, \"\", textAttribute);\n      if (textAttributeInvalid) {\n        this.emit(\"messageError\", AttributeUtils.getErrorNotice(this.config.textCheckType, this.lang));\n        textAttribute = \"\";\n      }\n      this.setTextAttribute(textAttribute);\n      this.emit(\"updateTextAttribute\");\n      this.render();\n    }\n  }\n}\n\nexport { INNER_POINT_RADIUS, LINE_ORDER_OFFSET, POINT_ACTIVE_RADIUS, POINT_RADIUS, SEGMENT_NUMBER, LineToolOperation as default };\n","class EventListener {\n  constructor() {\n    this._events = new Map();\n  }\n  on(eventName, callback) {\n    const existEvents = this._events.get(eventName) || [];\n    if (!existEvents.some((fn) => fn === callback)) {\n      this._events.set(eventName, existEvents.concat(callback));\n    }\n  }\n  singleOn(eventName, callback) {\n    this._events.set(eventName, [callback]);\n  }\n  emit(eventName, ...args) {\n    const listener = this._events.get(eventName);\n    if (listener) {\n      listener.forEach((fn) => {\n        if (fn) {\n          fn(...args);\n        }\n      });\n    }\n  }\n  unbind(eventName, callback) {\n    const existEvents = this._events.get(eventName);\n    if (existEvents) {\n      this._events.set(eventName, existEvents.filter((fn) => fn !== callback));\n    }\n  }\n  unbindAll(eventName) {\n    this._events.delete(eventName);\n  }\n}\n\nexport { EventListener as default };\n","import { isNumber } from 'lodash';\nimport { styleDefaultConfig } from '../../constant/defaultConfig.js';\nimport { EToolName } from '../../constant/tool.js';\nimport MathUtils from '../../utils/MathUtils.js';\nimport AxisUtils, { CoordinateUtils } from '../../utils/tool/AxisUtils.js';\nimport CanvasUtils from '../../utils/tool/CanvasUtils.js';\nimport CommonToolUtils from '../../utils/tool/CommonToolUtils.js';\nimport LineToolUtils from '../../utils/tool/LineToolUtils.js';\nimport { EGrowthMode, EDragStatus, ELang } from '../../constant/annotation.js';\nimport EKeyCode from '../../constant/keyCode.js';\nimport { COLORS_ARRAY, BASE_ICON } from '../../constant/style.js';\nimport Locale from '../../locales/index.js';\nimport { EMessage } from '../../locales/constants.js';\nimport ActionsHistory from '../../utils/ActionsHistory.js';\nimport AttributeUtils from '../../utils/tool/AttributeUtils.js';\nimport DblClickEventListener from '../../utils/tool/DblClickEventListener.js';\nimport DrawUtils from '../../utils/tool/DrawUtils.js';\nimport ImgPosUtils from '../../utils/tool/ImgPosUtils.js';\nimport RenderDomUtils from '../../utils/tool/RenderDomUtils.js';\nimport ZoomUtils from '../../utils/tool/ZoomUtils.js';\nimport EventListener from './eventListener.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst zoomInfo = {\n  min: 0.2,\n  max: 1e3,\n  ratio: 0.4\n};\nclass BasicToolOperation extends EventListener {\n  constructor(props) {\n    super();\n    this.isDrag = false;\n    this.isSpaceKey = false;\n    this.innerZoom = 1;\n    this.basicZoom = 0.01;\n    this.isSpaceClick = false;\n    this.isDragStart = false;\n    this.startTime = 0;\n    this.initImgPos = () => __async(this, null, function* () {\n      var _a, _b;\n      if (!this.imgNode) {\n        return;\n      }\n      const zoomRatio = (_a = this._imgAttribute) == null ? void 0 : _a.zoomRatio;\n      const isOriginalSize = (_b = this._imgAttribute) == null ? void 0 : _b.isOriginalSize;\n      const {currentPos, imgInfo, zoom} = ImgPosUtils.getInitImgPos(this.size, {width: this.imgNode.width, height: this.imgNode.height}, this.rotate, zoomRatio, isOriginalSize);\n      this.setCurrentPos(currentPos);\n      this.currentPosStorage = currentPos;\n      this.setImgInfo(imgInfo);\n      this.setZoom(zoom);\n      this.render();\n      this.renderBasicCanvas();\n      this.emit(\"dependRender\");\n      this.emit(\"renderZoom\", zoom, currentPos, imgInfo);\n    });\n    this.getCurrentPos = (coord) => {\n      const {_firstClickCoordinate, currentPosStorage} = this;\n      try {\n        let currentPos;\n        if (_firstClickCoordinate && currentPosStorage) {\n          currentPos = {\n            y: currentPosStorage.y + coord.y - _firstClickCoordinate.y,\n            x: currentPosStorage.x + coord.x - _firstClickCoordinate.x\n          };\n        } else {\n          currentPos = {\n            x: 0,\n            y: 0\n          };\n        }\n        return currentPos;\n      } catch (e) {\n        console.error(e);\n        return {\n          x: 0,\n          y: 0\n        };\n      }\n    };\n    this.wheelChangePos = (coord, operator, newZoom) => {\n      const {currentPos, imgNode} = this;\n      if (!imgNode) {\n        console.error(\"unable to load image\");\n        return;\n      }\n      if (this.zoom === this.basicZoom && operator === -1) {\n        return;\n      }\n      const pos = ZoomUtils.wheelChangePos(imgNode, coord, operator, currentPos, {\n        zoom: newZoom || this.zoom,\n        innerZoom: this.innerZoom,\n        basicZoom: this.basicZoom,\n        zoomMax: zoomInfo.max,\n        rotate: this.rotate\n      });\n      if (!pos) {\n        return;\n      }\n      const {currentPos: newCurrentPos, ratio, zoom, imgInfo} = pos;\n      this.setZoom(zoom);\n      this.setCurrentPos(newCurrentPos);\n      this.currentPosStorage = newCurrentPos;\n      this.setImgInfo(imgInfo);\n      zoomInfo.ratio = ratio;\n      this.emit(\"renderZoom\", zoom, newCurrentPos, imgInfo);\n    };\n    this.zoomChanged = (isZoomIn, growthMode = EGrowthMode.Linear) => {\n      const newZoom = ZoomUtils.zoomChanged(this.zoom, isZoomIn, growthMode);\n      this.wheelChangePos(this.getGetCenterCoordinate(), newZoom > this.zoom ? 1 : -1, newZoom);\n      this.render();\n      this.renderBasicCanvas();\n    };\n    this.zoomChangeOnCenter = (newZoom) => {\n      this.wheelChangePos(this.getGetCenterCoordinate(), 0, newZoom);\n      this.render();\n      this.renderBasicCanvas();\n    };\n    this.drawImg = () => {\n      if (!this.imgNode || this.hiddenImg === true)\n        return;\n      DrawUtils.drawImg(this.basicCanvas, this.imgNode, {\n        zoom: this.zoom,\n        currentPos: this.currentPos,\n        rotate: this.rotate,\n        imgAttribute: this._imgAttribute\n      });\n    };\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    this.container = props.container;\n    this.config = CommonToolUtils.jsonParser(props.config);\n    this.showDefaultCursor = props.showDefaultCursor || false;\n    this.destroyCanvas();\n    this.createCanvas(props.size, props.isAppend);\n    this.imgNode = props.imgNode;\n    this.isImgError = !props.imgNode;\n    this.basicImgInfo = {\n      width: (_b = (_a = props.imgNode) == null ? void 0 : _a.width) != null ? _b : 0,\n      height: (_d = (_c = props.imgNode) == null ? void 0 : _c.height) != null ? _d : 0,\n      valid: true,\n      rotate: 0\n    };\n    this.forbidOperation = (_e = props.forbidOperation) != null ? _e : false;\n    this.forbidBasicResultRender = (_f = props.forbidBasicResultRender) != null ? _f : false;\n    this.size = props.size;\n    this.currentPos = {\n      x: 0,\n      y: 0\n    };\n    this.zoom = 1;\n    this.coord = {\n      x: -1,\n      y: -1\n    };\n    this.currentPosStorage = {\n      x: 0,\n      y: 0\n    };\n    this.isShowCursor = false;\n    this.style = {\n      strokeColor: COLORS_ARRAY[4],\n      fillColor: COLORS_ARRAY[4],\n      strokeWidth: 2,\n      opacity: 1\n    };\n    this.attributeLockList = [];\n    this.history = new ActionsHistory();\n    this.style = (_g = props.style) != null ? _g : {};\n    this._imgAttribute = (_h = props.imgAttribute) != null ? _h : {};\n    this.isHidden = false;\n    this.dragStatus = EDragStatus.Wait;\n    this.defaultAttribute = (_i = props == null ? void 0 : props.defaultAttribute) != null ? _i : \"\";\n    this.forbidCursorLine = !!props.forbidCursorLine;\n    this.lang = ELang.Zh;\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n    this.onLeftDblClick = this.onLeftDblClick.bind(this);\n    this.onRightDblClick = this.onRightDblClick.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.clearImgDrag = this.clearImgDrag.bind(this);\n    this.dblClickListener = new DblClickEventListener(this.container, 200);\n    this.coordUtils = new CoordinateUtils(this);\n    this.coordUtils.setBasicImgInfo(this.basicImgInfo);\n    this.hiddenImg = props.hiddenImg || false;\n  }\n  onContextmenu(e) {\n    e.preventDefault();\n  }\n  get ctx() {\n    var _a;\n    return this._ctx || ((_a = this.canvas) == null ? void 0 : _a.getContext(\"2d\"));\n  }\n  get basicCtx() {\n    var _a;\n    return (_a = this.basicCanvas) == null ? void 0 : _a.getContext(\"2d\");\n  }\n  get rotate() {\n    var _a, _b;\n    return (_b = (_a = this.basicImgInfo) == null ? void 0 : _a.rotate) != null ? _b : 0;\n  }\n  get valid() {\n    var _a, _b;\n    return (_b = (_a = this.basicImgInfo) == null ? void 0 : _a.valid) != null ? _b : true;\n  }\n  get baseIcon() {\n    return BASE_ICON[this.style.color];\n  }\n  get defaultCursor() {\n    return this.showDefaultCursor ? \"default\" : \"none\";\n  }\n  get dataList() {\n    return [];\n  }\n  get innerPosAndZoom() {\n    return {\n      innerZoom: this.innerZoom,\n      currentPosStorage: this.currentPosStorage\n    };\n  }\n  get isShowDefaultCursor() {\n    return this.showDefaultCursor;\n  }\n  get hasMarkerConfig() {\n    return this.config.markerConfigurable === true && this.config.markerList && this.config.markerList.length > 0;\n  }\n  setZoom(zoom) {\n    this.zoom = zoom;\n    this.innerZoom = zoom;\n    this.coordUtils.setZoomAndCurrentPos(this.zoom, this.currentPos);\n  }\n  setCurrentPos(currentPos) {\n    this.currentPos = currentPos;\n    this.coordUtils.setZoomAndCurrentPos(this.zoom, this.currentPos);\n  }\n  setReferenceData(referenceData) {\n    this.referenceData = referenceData;\n  }\n  setImgInfo(size) {\n    this.imgInfo = size;\n  }\n  setCurrentPosStorage(currentPosStorage) {\n    this.currentPosStorage = currentPosStorage;\n  }\n  updatePosition(params) {\n    const {zoom, currentPos} = params;\n    this.setZoom(zoom);\n    this.setCurrentPos(currentPos);\n    this.currentPosStorage = currentPos;\n    this.renderBasicCanvas();\n    this.render();\n  }\n  setLang(lang) {\n    this.lang = lang;\n  }\n  setShowDefaultCursor(showDefaultCursor) {\n    this.showDefaultCursor = showDefaultCursor;\n    this.container.style.cursor = this.defaultCursor;\n  }\n  setCustomCursor(cursor) {\n    this.container.style.cursor = cursor;\n  }\n  get forbidMouseOperation() {\n    return this.forbidOperation || this.valid === false;\n  }\n  get pixelRatio() {\n    var _a;\n    return CanvasUtils.getPixelRatio((_a = this.canvas) == null ? void 0 : _a.getContext(\"2d\"));\n  }\n  init() {\n    this.eventUnbinding();\n    this.initPosition();\n    this.eventBinding();\n    this.render();\n    this.renderBasicCanvas();\n  }\n  destroy() {\n    this.destroyCanvas();\n    this.eventUnbinding();\n  }\n  updateCanvasBasicStyle(canvas, size, zIndex) {\n    const pixel = this.pixelRatio;\n    canvas.style.position = \"absolute\";\n    canvas.width = size.width * pixel;\n    canvas.height = size.height * pixel;\n    canvas.style.width = `${size.width}px`;\n    canvas.style.height = `${size.height}px`;\n    canvas.style.left = \"0\";\n    canvas.style.top = \"0\";\n    canvas.style.zIndex = `${zIndex} `;\n  }\n  createCanvas(size, isAppend = true) {\n    var _a, _b;\n    const pixel = this.pixelRatio;\n    const basicCanvas = document.createElement(\"canvas\");\n    this.updateCanvasBasicStyle(basicCanvas, size, 0);\n    this.basicCanvas = basicCanvas;\n    const canvas = document.createElement(\"canvas\");\n    this.updateCanvasBasicStyle(canvas, size, 10);\n    if (isAppend) {\n      if (this.container.hasChildNodes()) {\n        this.container.insertBefore(canvas, this.container.childNodes[0]);\n        this.container.insertBefore(basicCanvas, this.container.childNodes[0]);\n      } else {\n        this.container.appendChild(basicCanvas);\n        this.container.appendChild(canvas);\n      }\n    }\n    this.canvas = canvas;\n    this.container.style.cursor = this.defaultCursor;\n    (_a = this.ctx) == null ? void 0 : _a.scale(pixel, pixel);\n    (_b = this.basicCtx) == null ? void 0 : _b.scale(pixel, pixel);\n  }\n  destroyCanvas() {\n    if (this.canvas && this.container.contains(this.canvas)) {\n      this.container.removeChild(this.canvas);\n    }\n    if (this.basicCanvas && this.container.contains(this.basicCanvas)) {\n      this.container.removeChild(this.basicCanvas);\n    }\n    this.clearInvalidPage();\n    this.clearImgDrag();\n  }\n  setStyle(toolStyle) {\n    this.style = toolStyle;\n    this.render();\n  }\n  setImgNode(imgNode, basicImgInfo = {}) {\n    this.imgNode = imgNode;\n    this.setBasicImgInfo(__spreadValues({\n      width: imgNode.width,\n      height: imgNode.height,\n      valid: true,\n      rotate: 0\n    }, basicImgInfo));\n    if (this.isImgError === true) {\n      this.isImgError = false;\n      this.emit(\"changeAnnotationShow\");\n    }\n    if (typeof basicImgInfo.valid === \"boolean\") {\n      this.setValid(basicImgInfo.valid);\n    }\n    this.initImgPos();\n    this.render();\n    this.renderBasicCanvas();\n  }\n  setErrorImg() {\n    const originIsImgError = this.isImgError;\n    this.isImgError = true;\n    this.imgNode = void 0;\n    this.setBasicImgInfo({\n      width: 0,\n      height: 0,\n      valid: true,\n      rotate: 0\n    });\n    if (originIsImgError === false) {\n      this.emit(\"changeAnnotationShow\");\n    }\n  }\n  setBasicImgInfo(basicImgInfo) {\n    this.basicImgInfo = basicImgInfo;\n    this.coordUtils.setBasicImgInfo(basicImgInfo);\n  }\n  setForbidOperation(forbidOperation) {\n    this.forbidOperation = forbidOperation;\n    this.setShowDefaultCursor(forbidOperation);\n    this.render();\n  }\n  setForbidCursorLine(forbidCursorLine) {\n    this.forbidCursorLine = forbidCursorLine;\n    this.render();\n  }\n  setIsHidden(isHidden) {\n    this.isHidden = isHidden;\n    this.emit(\"hiddenChange\");\n  }\n  setIsShowOrder(isShowOrder) {\n    this.config.isShowOrder = isShowOrder;\n    this.render();\n  }\n  getCoordinate(e) {\n    const bounding = this.canvas.getBoundingClientRect();\n    return {\n      x: e.clientX - bounding.left,\n      y: e.clientY - bounding.top\n    };\n  }\n  getCoordinateUnderZoom(e) {\n    const bounding = this.canvas.getBoundingClientRect();\n    return {\n      x: e.clientX - bounding.left - this.currentPos.x,\n      y: e.clientY - bounding.top - this.currentPos.y\n    };\n  }\n  getCoordinateUnderZoomByRotate(e) {\n    const {x, y} = this.getCoordinateUnderZoom(e);\n    if (this.basicImgInfo.rotate === 90) {\n      return {\n        x: y,\n        y: this.basicImgInfo.height * this.zoom - x\n      };\n    }\n    if (this.basicImgInfo.rotate === 180) {\n      return {\n        x: this.basicImgInfo.width * this.zoom - x,\n        y: this.basicImgInfo.height * this.zoom - y\n      };\n    }\n    if (this.basicImgInfo.rotate === 270) {\n      return {\n        x: this.basicImgInfo.width * this.zoom - y,\n        y: x\n      };\n    }\n    return {\n      x,\n      y\n    };\n  }\n  getGetCenterCoordinate() {\n    return {\n      x: this.size.width / 2,\n      y: this.size.height / 2\n    };\n  }\n  initPosition() {\n    if (this.basicResult && this.imgInfo) {\n      const {basicResult, size, imgNode, _imgAttribute, imgInfo, dependToolName} = this;\n      if (basicResult && imgNode && dependToolName) {\n        let newBoundry = basicResult;\n        switch (dependToolName) {\n          case EToolName.Polygon:\n          case EToolName.Line: {\n            if (basicResult.pointList) {\n              const basicZone = MathUtils.calcViewportBoundaries(basicResult.pointList);\n              newBoundry = {\n                x: basicZone.left,\n                y: basicZone.top,\n                width: basicZone.right - basicZone.left,\n                height: basicZone.bottom - basicZone.top\n              };\n            }\n            break;\n          }\n        }\n        const pos = ImgPosUtils.getBasicRecPos(imgNode, newBoundry, size, void 0, _imgAttribute == null ? void 0 : _imgAttribute.zoomRatio, _imgAttribute == null ? void 0 : _imgAttribute.isOriginalSize);\n        if (pos) {\n          this.setCurrentPos(pos.currentPos);\n          this.currentPosStorage = this.currentPos;\n          this.setImgInfo(__spreadProps(__spreadValues({}, imgInfo), {\n            width: imgInfo.width / this.innerZoom * pos.innerZoom,\n            height: imgInfo.height / this.innerZoom * pos.innerZoom\n          }));\n          this.setZoom(pos.innerZoom);\n          this.render();\n          this.renderBasicCanvas();\n        }\n      }\n    } else {\n      this.initImgPos();\n    }\n  }\n  undo() {\n    this.history.undo();\n  }\n  redo() {\n    this.history.redo();\n  }\n  clearCanvas() {\n    var _a;\n    (_a = this.ctx) == null ? void 0 : _a.clearRect(0, 0, this.size.width, this.size.height);\n  }\n  clearBasicCanvas() {\n    var _a;\n    (_a = this.basicCtx) == null ? void 0 : _a.clearRect(0, 0, this.size.width, this.size.height);\n  }\n  eventBinding() {\n    this.dblClickListener.addEvent(() => {\n    }, this.onLeftDblClick, this.onRightDblClick);\n    this.container.addEventListener(\"mousedown\", this.onMouseDown);\n    this.container.addEventListener(\"mousemove\", this.onMouseMove);\n    this.container.addEventListener(\"mouseup\", this.onMouseUp);\n    this.container.addEventListener(\"mouseleave\", this.onMouseLeave);\n    this.container.addEventListener(\"click\", this.onClick);\n    this.container.addEventListener(\"wheel\", this.onWheel);\n    document.addEventListener(\"keydown\", this.onKeyDown);\n    document.addEventListener(\"keyup\", this.onKeyUp);\n    window.parent.document.addEventListener(\"contextmenu\", this.onContextmenu, false);\n  }\n  eventUnbinding() {\n    this.container.removeEventListener(\"mousedown\", this.onMouseDown);\n    this.container.removeEventListener(\"mousemove\", this.onMouseMove);\n    this.container.removeEventListener(\"mouseup\", this.onMouseUp);\n    this.container.removeEventListener(\"mouseleave\", this.onMouseLeave);\n    this.container.removeEventListener(\"wheel\", this.onWheel);\n    this.container.removeEventListener(\"click\", this.onClick);\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n    document.removeEventListener(\"keyup\", this.onKeyUp);\n    window.parent.document.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n    this.dblClickListener.removeEvent();\n  }\n  clearImgDrag() {\n    this.isDrag = false;\n    this.isDragStart = false;\n    this.isSpaceClick = false;\n    this.startTime = 0;\n    this.container.style.cursor = this.defaultCursor;\n    this.forbidCursorLine = false;\n  }\n  clearCursorLine() {\n    this.coord = {\n      x: -1,\n      y: -1\n    };\n  }\n  onMouseDown(e) {\n    if (!this.canvas || this.isImgError) {\n      return true;\n    }\n    const coord = this.getCoordinate(e);\n    if (this.isSpaceKey && e.button === 0 || e.button === 2) {\n      e.stopPropagation();\n      this._firstClickCoordinate = coord;\n      this.currentPosStorage = this.currentPos;\n      this.isSpaceClick = true;\n      this.isDragStart = true;\n      this.startTime = new Date().getTime();\n    }\n  }\n  onMouseMove(e) {\n    if (!this.canvas || this.isImgError) {\n      return true;\n    }\n    const coord = this.getCoordinate(e);\n    if (this.isShowCursor) {\n      this.coord = coord;\n    }\n    try {\n      if (!coord || !isNumber(coord == null ? void 0 : coord.x) || !isNumber(coord == null ? void 0 : coord.y)) {\n        throw new Error(\"coord error\");\n      }\n      this.coord = coord;\n      if ((this.isSpaceClick || this.isDragStart) && this._firstClickCoordinate) {\n        const currentPos = this.getCurrentPos(coord);\n        this.setCurrentPos(currentPos);\n        this.isDrag = true;\n        this.container.style.cursor = \"grabbing\";\n        this.forbidCursorLine = true;\n        this.renderBasicCanvas();\n        this.emit(\"dependRender\");\n        this.emit(\"dragMove\", {currentPos, zoom: this.zoom, imgInfo: this.imgInfo});\n      }\n      this.render();\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  onMouseUp(e) {\n    if (!this.canvas || this.isImgError) {\n      return true;\n    }\n    this.container.style.cursor = this.defaultCursor;\n    this.forbidCursorLine = false;\n    this.isDrag = false;\n    this.isDragStart = false;\n    this.isSpaceClick = false;\n    if (this.startTime !== 0 && this._firstClickCoordinate) {\n      const time = new Date().getTime();\n      const currentCoord = this.getCoordinate(e);\n      if (time - this.startTime > 1e3 || this.isSpaceKey === true || LineToolUtils.calcTwoPointDistance(currentCoord, this._firstClickCoordinate) > 10) {\n        e.stopPropagation();\n        this.startTime = 0;\n        this.render();\n        return true;\n      }\n    }\n    this.startTime = 0;\n    this.render();\n  }\n  onMouseLeave() {\n    this.clearImgDrag();\n  }\n  onClick(e) {\n  }\n  onLeftDblClick(e) {\n  }\n  onRightDblClick(e) {\n    this.clearImgDrag();\n  }\n  onKeyDown(e) {\n    if (e.keyCode === EKeyCode.Alt) {\n      e.preventDefault();\n    }\n    switch (e.keyCode) {\n      case EKeyCode.Space:\n        this.isSpaceKey = true;\n        break;\n      case EKeyCode.Z:\n        if (e.ctrlKey) {\n          if (e.shiftKey) {\n            this.redo();\n          } else {\n            this.undo();\n          }\n          return false;\n        }\n        break;\n    }\n    return true;\n  }\n  onKeyUp(e) {\n    switch (e.keyCode) {\n      case EKeyCode.Space:\n        this.isSpaceKey = false;\n        break;\n    }\n  }\n  exportCustomData() {\n    return {};\n  }\n  onWheel(e, isRender = true) {\n    if (!this.imgNode || !this.coord) {\n      return;\n    }\n    e.preventDefault();\n    e.stopPropagation();\n    const coord = this.getCoordinate(e);\n    const delta = e.deltaY || e.wheelDelta;\n    let operator = 0;\n    if (delta > 0 && this.zoom > zoomInfo.min) {\n      operator = -1;\n    }\n    if (delta < 0 && this.zoom < zoomInfo.max) {\n      operator = 1;\n    }\n    this.wheelChangePos(coord, operator);\n    this.emit(\"dependRender\");\n    if (isRender) {\n      this.render();\n    }\n    this.renderBasicCanvas();\n  }\n  renderCursorLine(lineColor = ((_a) => (_a = this.style.lineColor[0]) != null ? _a : \"\")()) {\n    if (!this.ctx || this.forbidCursorLine || this.forbidOperation) {\n      return;\n    }\n    const {x, y} = this.coord;\n    DrawUtils.drawLine(this.canvas, {x: 0, y}, {x: 1e4, y}, {color: lineColor});\n    DrawUtils.drawLine(this.canvas, {x, y: 0}, {x, y: 1e4}, {color: lineColor});\n    DrawUtils.drawCircleWithFill(this.canvas, {x, y}, 1, {color: \"white\"});\n  }\n  setSize(size) {\n    var _a;\n    this.size = size;\n    if (this.container.contains(this.canvas)) {\n      this.destroyCanvas();\n      this.createCanvas(size);\n      this.eventUnbinding();\n      this.init();\n      if (((_a = this.basicImgInfo) == null ? void 0 : _a.valid) === false) {\n        this.renderInvalidPage();\n      }\n    }\n  }\n  setImgAttribute(imgAttribute) {\n    const oldImgAttribute = this._imgAttribute;\n    this._imgAttribute = imgAttribute;\n    if ((oldImgAttribute == null ? void 0 : oldImgAttribute.zoomRatio) !== imgAttribute.zoomRatio || oldImgAttribute.isOriginalSize !== imgAttribute.isOriginalSize) {\n      this.initImgPos();\n      return;\n    }\n    this.renderBasicCanvas();\n    this.render();\n  }\n  clearResult(sendMessage) {\n  }\n  setValid(valid) {\n    this.basicImgInfo.valid = valid;\n    if (valid === false) {\n      this.renderInvalidPage();\n      this.clearResult(false);\n    } else {\n      this.clearInvalidPage();\n    }\n  }\n  setRotate(rotate) {\n    this.basicImgInfo.rotate = rotate;\n  }\n  setBasicResult(basicResult) {\n    this.basicResult = basicResult;\n    this.coordUtils.setBasicResult(basicResult);\n    this.initPosition();\n    this.emit(\"dependRender\");\n  }\n  setDependName(dependToolName, dependToolConfig) {\n    this.dependToolName = dependToolName;\n    this.coordUtils.setDependInfo(dependToolName, dependToolConfig);\n  }\n  setAttributeLockList(attributeLockList) {\n    this.attributeLockList = attributeLockList;\n    this.render();\n  }\n  setConfig(config) {\n    this.config = CommonToolUtils.jsonParser(config);\n  }\n  setDataInjectionAtCreation(dataInjectionAtCreation) {\n    this.dataInjectionAtCreation = dataInjectionAtCreation;\n  }\n  setRenderEnhance(renderEnhance) {\n    this.renderEnhance = renderEnhance;\n  }\n  setCustomRenderStyle(customRenderStyle) {\n    this.customRenderStyle = customRenderStyle;\n  }\n  updateRotate() {\n    if (this.dependToolName) {\n      this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.NoRotateInDependence, this.lang));\n      return false;\n    }\n    if (this.dataList.length > 0) {\n      this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.NoRotateNotice, this.lang));\n      return false;\n    }\n    const rotate = MathUtils.getRotate(this.basicImgInfo.rotate);\n    this.basicImgInfo.rotate = rotate;\n    this.initImgPos();\n    this.emit(\"updateResult\");\n  }\n  getColor(attribute = \"\", config = this.config) {\n    var _a;\n    if ((config == null ? void 0 : config.attributeConfigurable) === true && this.style.attributeColor) {\n      const attributeIndex = AttributeUtils.getAttributeIndex(attribute, (_a = config.attributeList) != null ? _a : []) + 1;\n      return this.style.attributeColor[attributeIndex];\n    }\n    const {color, toolColor} = this.style;\n    if (toolColor) {\n      return toolColor[color];\n    }\n    return styleDefaultConfig.toolColor[\"1\"];\n  }\n  getLineColor(attribute = \"\") {\n    var _a, _b, _c;\n    if (((_a = this.config) == null ? void 0 : _a.attributeConfigurable) === true) {\n      const attributeIndex = AttributeUtils.getAttributeIndex(attribute, (_c = (_b = this.config) == null ? void 0 : _b.attributeList) != null ? _c : []) + 1;\n      return this.style.attributeLineColor ? this.style.attributeLineColor[attributeIndex] : \"\";\n    }\n    const {color, lineColor} = this.style;\n    if (color && lineColor) {\n      return lineColor[color];\n    }\n    return \"\";\n  }\n  clearInvalidPage() {\n    if (this._invalidDOM && this.container && this.container.contains(this._invalidDOM)) {\n      this.container.removeChild(this._invalidDOM);\n      this._invalidDOM = void 0;\n    }\n  }\n  renderInvalidPage() {\n    if (!this.container || this._invalidDOM) {\n      return;\n    }\n    this._invalidDOM = RenderDomUtils.renderInvalidPage(this.container, this.size, this.lang);\n  }\n  renderBasicCanvas() {\n    if (!this.basicCanvas) {\n      return;\n    }\n    this.clearBasicCanvas();\n    this.drawImg();\n    const thickness = 3;\n    if (this.forbidBasicResultRender) {\n      return;\n    }\n    if (this.basicResult && this.dependToolName) {\n      switch (this.dependToolName) {\n        case EToolName.Rect: {\n          DrawUtils.drawRect(this.basicCanvas, AxisUtils.changeRectByZoom(this.basicResult, this.zoom, this.currentPos), {\n            color: \"rgba(204,204,204,1.00)\",\n            thickness\n          });\n          break;\n        }\n        case EToolName.Polygon: {\n          DrawUtils.drawPolygonWithFillAndLine(this.basicCanvas, AxisUtils.changePointListByZoom(this.basicResult.pointList, this.zoom, this.currentPos), {\n            fillColor: \"transparent\",\n            strokeColor: \"rgba(204,204,204,1.00)\",\n            isClose: true,\n            thickness\n          });\n          break;\n        }\n        case EToolName.Line: {\n          DrawUtils.drawLineWithPointList(this.basicCanvas, AxisUtils.changePointListByZoom(this.basicResult.pointList, this.zoom, this.currentPos), {\n            color: \"rgba(204,204,204,1.00)\",\n            thickness\n          });\n          break;\n        }\n      }\n    }\n  }\n  render() {\n    if (!this.canvas || !this.ctx || !this.imgNode) {\n      return;\n    }\n    this.clearCanvas();\n  }\n  changeStyle(newAttribute = this.defaultAttribute) {\n    this.emit(\"changeStyle\", {attribute: newAttribute});\n  }\n}\n\nexport { BasicToolOperation };\n","import EKeyCode from '../../constant/keyCode.js';\nimport { TEXT_ATTRIBUTE_LINE_HEIGHT, TEXT_ATTRIBUTE_MAX_LENGTH } from '../../constant/tool.js';\n\nconst defaultWidth = 30;\nconst DEFAULT_TEXT_WIDTH = 164;\nclass TextAttributeClass {\n  constructor(props) {\n    this.textKeyDown = (e) => {\n      e.stopPropagation();\n      switch (e.keyCode) {\n        case EKeyCode.Enter:\n          this.submitTextarea();\n          this.appendToContainer();\n          break;\n      }\n    };\n    const {container, icon, color, getCurrentSelectedData, updateSelectedTextAttribute} = props;\n    const width = props.width || DEFAULT_TEXT_WIDTH;\n    this.container = container;\n    this.getCurrentSelectedData = getCurrentSelectedData;\n    this.updateSelectedTextAttribute = updateSelectedTextAttribute;\n    this._textAttributeDOM = this.initTextAttributeDOM();\n    this._iconDOM = this.initIconDOM(icon);\n    this._textDOM = this.initTextDOM(width, TEXT_ATTRIBUTE_LINE_HEIGHT);\n    this._textareaDOM = this.initTextareaDOM(width, color);\n    this.appendToContainer();\n  }\n  get isExit() {\n    if (!this._textAttributeDOM) {\n      return false;\n    }\n    return this.container.contains(this._textAttributeDOM);\n  }\n  get isExitTextareaDOM() {\n    if (!this._textareaDOM) {\n      return false;\n    }\n    return this.container.contains(this._textareaDOM);\n  }\n  updateIcon(icon) {\n    if (this._iconDOM) {\n      this._iconDOM.innerHTML = icon;\n    }\n  }\n  appendToContainer() {\n    if (!this._textAttributeDOM || !this._textDOM || !this._iconDOM) {\n      return;\n    }\n    this.container.appendChild(this._textAttributeDOM);\n    this._textAttributeDOM.appendChild(this._textDOM);\n    this._textAttributeDOM.appendChild(this._iconDOM);\n  }\n  initTextAttributeDOM() {\n    const _textAttributeDOM = document.createElement(\"div\");\n    _textAttributeDOM.setAttribute(\"id\", \"textArea\");\n    return _textAttributeDOM;\n  }\n  initTextDOM(width, lineHeight) {\n    const _textDOM = document.createElement(\"span\");\n    _textDOM.setAttribute(\"style\", `\n        width: ${Math.max(width, defaultWidth)}px;\n        line-height: ${lineHeight}px;\n        word-break: break-all;\n        white-space: pre-line;\n        font-style: italic;\n      `);\n    return _textDOM;\n  }\n  initIconDOM(icon) {\n    const _iconDOM = document.createElement(\"div\");\n    _iconDOM.setAttribute(\"id\", \"annotation_text\");\n    _iconDOM.innerHTML = icon;\n    _iconDOM.addEventListener(\"mouseup\", (e) => {\n      e.stopPropagation();\n      this.renderTextarea();\n    });\n    _iconDOM.addEventListener(\"mousedown\", (e) => {\n      e.stopPropagation();\n    });\n    _iconDOM.addEventListener(\"contextmenu\", (e) => {\n      e.stopPropagation();\n    });\n    _iconDOM.setAttribute(\"style\", `\n        position: absolute;\n        left: -20px;\n        top: 4px;\n        cursor: pointer;\n        z-index: 10\n      `);\n    return _iconDOM;\n  }\n  initTextareaDOM(width, color) {\n    const _textareaDOM = document.createElement(\"textarea\");\n    _textareaDOM.addEventListener(\"click\", (e) => {\n      e.stopPropagation();\n    });\n    _textareaDOM.addEventListener(\"mouseup\", (e) => {\n      e.stopPropagation();\n    });\n    _textareaDOM.setAttribute(\"style\", `\n      background-color: transparent;\n      border-radius: 5px;\n      border-color: ${color};\n      outline: none;\n      resize: none;\n      width: ${Math.max(width, 30)}px;\n      `);\n    _textareaDOM.setAttribute(\"maxLength\", `${TEXT_ATTRIBUTE_MAX_LENGTH}`);\n    return _textareaDOM;\n  }\n  removeTextDOM() {\n    if (!this._textAttributeDOM) {\n      return;\n    }\n    if (this._textDOM) {\n      this._textAttributeDOM.removeChild(this._textDOM);\n    }\n  }\n  removeIconDOM() {\n    if (!this._textAttributeDOM) {\n      return;\n    }\n    if (this._iconDOM) {\n      this._textAttributeDOM.removeChild(this._iconDOM);\n    }\n  }\n  removeTextareaDOM() {\n    var _a, _b;\n    if (this._textareaDOM && this._textAttributeDOM && ((_a = this._textAttributeDOM) == null ? void 0 : _a.contains(this._textareaDOM))) {\n      (_b = this._textAttributeDOM) == null ? void 0 : _b.removeChild(this._textareaDOM);\n    }\n  }\n  submitTextarea() {\n    var _a;\n    if (this._textareaDOM) {\n      this.updateSelectedTextAttribute((_a = this._textareaDOM) == null ? void 0 : _a.value);\n      this.removeTextareaDOM();\n      this.clearTextAttribute();\n    }\n  }\n  clearTextAttribute() {\n    if (this._textAttributeDOM && this.container.contains(this._textAttributeDOM)) {\n      this.container.removeChild(this._textAttributeDOM);\n    }\n  }\n  renderTextarea() {\n    if (!this._textAttributeDOM || !this._textareaDOM) {\n      return;\n    }\n    const data = this.getCurrentSelectedData();\n    if (!data) {\n      return;\n    }\n    const {width = DEFAULT_TEXT_WIDTH, textAttribute, color} = data;\n    this._textareaDOM.value = `${textAttribute}`;\n    this._textareaDOM.setAttribute(\"style\", `\n      background-color: rgba(0,0,0,0.4);\n      border-radius: 5px;\n      border-color: ${color};\n      outline: none;\n      resize: none;\n      font-style: italic;\n      font-weight: 900;\n      text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.6);\n      width: ${Math.max(width, defaultWidth)}px;\n      `);\n    this._textareaDOM.setAttribute(\"maxLength\", `${TEXT_ATTRIBUTE_MAX_LENGTH}`);\n    this._textAttributeDOM.appendChild(this._textareaDOM);\n    this.removeIconDOM();\n    this.removeTextDOM();\n    this._textareaDOM.focus();\n    this._textareaDOM.addEventListener(\"keydown\", this.textKeyDown);\n  }\n  update(textAttribute, position) {\n    var _a;\n    const {left, top, color, width = DEFAULT_TEXT_WIDTH} = position;\n    const newWidth = Math.max(width, defaultWidth);\n    (_a = this._textAttributeDOM) == null ? void 0 : _a.setAttribute(\"style\", `\n        position: absolute; \n        width: ${newWidth}px;\n        font-size: 14px; \n        left:${left}px; \n        top: ${top}px; \n        color: ${color};\n      `);\n    if (this._textDOM) {\n      this._textDOM.innerHTML = `${textAttribute}`;\n    }\n    if (this._textareaDOM) {\n      this._textareaDOM.style.width = `${newWidth}px`;\n      this._textareaDOM.style.borderColor = `${color}`;\n    }\n  }\n  changeSelected() {\n    if (this.isExitTextareaDOM) {\n      this.submitTextarea();\n    }\n  }\n}\n\nexport { TextAttributeClass as default };\n","import MathUtils from '../../utils/MathUtils.js';\nimport AxisUtils from '../../utils/tool/AxisUtils.js';\nimport RectUtils from '../../utils/tool/RectUtils.js';\nimport { EDragStatus, ESortDirection, DEFAULT_TEXT_SHADOW } from '../../constant/annotation.js';\nimport EKeyCode from '../../constant/keyCode.js';\nimport { EDragTarget } from '../../constant/tool.js';\nimport Locale from '../../locales/index.js';\nimport { EMessage } from '../../locales/constants.js';\nimport AttributeUtils from '../../utils/tool/AttributeUtils.js';\nimport CanvasUtils from '../../utils/tool/CanvasUtils.js';\nimport CommonToolUtils from '../../utils/tool/CommonToolUtils.js';\nimport DrawUtils from '../../utils/tool/DrawUtils.js';\nimport MarkerUtils from '../../utils/tool/MarkerUtils.js';\nimport { getPolygonPointUnderZoom } from '../../utils/tool/polygonTool.js';\nimport uuid from '../../utils/uuid.js';\nimport { BasicToolOperation } from './basicToolOperation.js';\nimport TextAttributeClass from './textAttributeClass.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst scope = 6;\nclass RectOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.setMarkerIndex = (markerIndex) => {\n      this.markerIndex = markerIndex;\n    };\n    this.setMarkerIndexAndSelect = (markerIndex) => {\n      if (!this.config.markerList) {\n        return;\n      }\n      this.markerIndex = markerIndex;\n      const markerValue = this.config.markerList[markerIndex].value;\n      const currentRect = this.currentPageResult.find((rect) => rect.label === markerValue);\n      if (currentRect) {\n        this.setSelectedID(currentRect.id);\n        if (this.config.attributeConfigurable === true) {\n          this.setDefaultAttribute(currentRect.attribute);\n        }\n      }\n      this.emit(\"markIndexChange\");\n    };\n    this.getHoverRectID = (e) => {\n      const coordinate = this.getCoordinateUnderZoom(e);\n      const newScope = scope;\n      const {currentShowList} = this;\n      if (currentShowList.length > 0) {\n        if (this.selectedRectID) {\n          const {selectedRect} = this;\n          if (selectedRect) {\n            if (RectUtils.isInRect(coordinate, selectedRect, newScope, this.zoom)) {\n              return selectedRect.id;\n            }\n          }\n        }\n        const hoverList = currentShowList.filter((rect) => RectUtils.isInRect(coordinate, rect, newScope, this.zoom));\n        if (hoverList.length === 0) {\n          return \"\";\n        }\n        if (hoverList.length === 1) {\n          return hoverList[0].id;\n        }\n        if (hoverList.length > 1) {\n          const rectSizeList = hoverList.map((rect) => ({size: rect.width * rect.height, id: rect.id})).sort((a, b) => a.size - b.size);\n          return rectSizeList[0].id;\n        }\n      }\n      return \"\";\n    };\n    this.textChange = (v) => {\n      if (this.config.textConfigurable !== true || !this.selectedRectID) {\n        return;\n      }\n      this.setRectList(AttributeUtils.textChange(v, this.selectedRectID, this.rectList), true);\n      this.emit(\"selectedChange\");\n      this.render();\n    };\n    this.drawOutSideTarget = props.drawOutSideTarget || false;\n    this.rectList = [];\n    this.isFlow = true;\n    this.config = CommonToolUtils.jsonParser(props.config);\n    this.hoverRectEdgeIndex = -1;\n    this.hoverRectPointIndex = -1;\n    this.markerIndex = 0;\n    this.setStyle(props.style);\n    this.createNewDrawingRect = this.createNewDrawingRect.bind(this);\n    this.getDrawingRectWithRectList = this.getDrawingRectWithRectList.bind(this);\n    this.setSelectedIdAfterAddingDrawingRect = this.setSelectedIdAfterAddingDrawingRect.bind(this);\n    this.getCurrentSelectedData = this.getCurrentSelectedData.bind(this);\n    this.updateSelectedRectTextAttribute = this.updateSelectedRectTextAttribute.bind(this);\n    this.setSelectedID = this.setSelectedID.bind(this);\n  }\n  setResult(rectList) {\n    this.clearActiveStatus();\n    this.setRectList(rectList);\n    if (this.hasMarkerConfig) {\n      const nextMarkerInfo = CommonToolUtils.getNextMarker(this.getCurrentPageResult(rectList), this.config.markerList);\n      if (nextMarkerInfo) {\n        this.setMarkerIndex(nextMarkerInfo.index);\n      }\n    }\n    this.render();\n  }\n  destroy() {\n    super.destroy();\n    if (this._textAttributInstance) {\n      this._textAttributInstance.clearTextAttribute();\n    }\n  }\n  setConfig(config, isClear = false) {\n    this.config = CommonToolUtils.jsonParser(config);\n    if (isClear === true) {\n      this.clearResult(false);\n    }\n  }\n  setRectList(rectList, isUpload = false) {\n    const oldLen = this.rectList.length;\n    this.rectList = rectList;\n    if (oldLen !== rectList.length) {\n      this.emit(\"updatePageNumber\");\n    }\n    if (isUpload) {\n      this.emit(\"updateResult\");\n    }\n  }\n  get selectedRect() {\n    return this.rectList.find((v) => v.id === this.selectedRectID);\n  }\n  get selectedID() {\n    return this.selectedRectID;\n  }\n  get selectedText() {\n    var _a;\n    return (_a = this.selectedRect) == null ? void 0 : _a.textAttribute;\n  }\n  get dataList() {\n    return this.rectList;\n  }\n  get currentShowList() {\n    let rect = [];\n    const [showingRect, selectedRect] = CommonToolUtils.getRenderResultList(this.rectList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedID);\n    rect = showingRect;\n    if (this.isHidden) {\n      rect = [];\n    }\n    if (selectedRect) {\n      rect.push(selectedRect);\n    }\n    return rect;\n  }\n  get currentPageResult() {\n    const [showingRect] = CommonToolUtils.getRenderResultList(this.rectList, CommonToolUtils.getSourceID(this.basicResult), []);\n    return showingRect;\n  }\n  getCurrentPageResult(rectList) {\n    const [showingRect] = CommonToolUtils.getRenderResultList(rectList, CommonToolUtils.getSourceID(this.basicResult), []);\n    return showingRect;\n  }\n  setSelectedID(newID) {\n    this.setSelectedRectID(newID);\n  }\n  setSelectedRectID(newID) {\n    var _a, _b;\n    const oldID = this.selectedRectID;\n    if (newID !== oldID && oldID) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.changeSelected();\n    }\n    if (!newID) {\n      (_b = this._textAttributInstance) == null ? void 0 : _b.clearTextAttribute();\n    }\n    this.selectedRectID = newID;\n    this.render();\n    this.emit(\"selectedChange\");\n  }\n  setStyle(toolStyle) {\n    var _a;\n    super.setStyle(toolStyle);\n    if (this._textAttributInstance && this.config.attributeConfigurable === false) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.updateIcon(this.getTextIconSvg());\n    }\n  }\n  updateSelectedRectTextAttribute(newTextAttribute) {\n    if (this._textAttributInstance && newTextAttribute) {\n      let textAttribute = newTextAttribute;\n      if (AttributeUtils.textAttributeValidate(this.config.textCheckType, \"\", textAttribute) === false) {\n        this.emit(\"messageError\", AttributeUtils.getErrorNotice(this.config.textCheckType, this.lang));\n        textAttribute = \"\";\n      }\n      this.setRectList(this.rectList.map((v) => {\n        if (v.id === this.selectedRectID) {\n          return __spreadProps(__spreadValues({}, v), {\n            textAttribute\n          });\n        }\n        return v;\n      }), true);\n      this.emit(\"updateTextAttribute\");\n      this.render();\n    }\n  }\n  getHoverRectPointIndex(e) {\n    if (!this.selectedRect) {\n      return -1;\n    }\n    return AxisUtils.returnClosePointIndex(this.getCoordinateUnderZoom(e), RectUtils.getRectPointList(this.selectedRect, this.zoom), scope + 2);\n  }\n  getHoverRectEdgeIndex(e) {\n    if (!this.selectedRect) {\n      return -1;\n    }\n    let edgeIndex = -1;\n    const {selectedRect} = this;\n    const edgeList = RectUtils.getRectEdgeList(selectedRect, this.zoom);\n    const coordinate = this.getCoordinateUnderZoom(e);\n    for (let i = 0; i < edgeList.length; i++) {\n      const edge = edgeList[i];\n      const {length} = MathUtils.getFootOfPerpendicular(coordinate, edge.begin, edge.end);\n      if (length < scope + 10) {\n        edgeIndex = i;\n      }\n    }\n    return edgeIndex;\n  }\n  getTextIconSvg(attribute = \"\") {\n    return AttributeUtils.getTextIconSvg(attribute, this.config.attributeList, this.config.attributeConfigurable, this.baseIcon);\n  }\n  onMouseDown(e) {\n    if (super.onMouseDown(e) || this.forbidMouseOperation || e.ctrlKey === true) {\n      return;\n    }\n    const dragStartCoord = this.getCoordinateUnderZoom(e);\n    const hoverRectID = this.getHoverRectID(e);\n    const firstRect = this.currentShowList.find((v) => v.id === this.selectedRectID);\n    if (!firstRect || e.button === 2 || e.button === 0 && this.isSpaceKey === true) {\n      return;\n    }\n    if (this.selectedRectID) {\n      if (this.getHoverRectPointIndex(e) > -1) {\n        const dragTarget = EDragTarget.Point;\n        this.dragInfo = {\n          dragStartCoord,\n          dragTarget,\n          startTime: +new Date(),\n          firstRect\n        };\n        this.dragStatus = EDragStatus.Start;\n        return;\n      }\n      if (this.getHoverRectEdgeIndex(e) > -1) {\n        const dragTarget = EDragTarget.Line;\n        this.dragInfo = {\n          dragStartCoord,\n          dragTarget,\n          startTime: +new Date(),\n          firstRect\n        };\n        this.dragStatus = EDragStatus.Start;\n        return;\n      }\n    }\n    if (hoverRectID === this.selectedRectID && !this.drawingRect) {\n      const dragTarget = EDragTarget.Plane;\n      this.dragInfo = {\n        dragStartCoord,\n        dragTarget,\n        firstRect,\n        startTime: +new Date()\n      };\n      this.dragStatus = EDragStatus.Start;\n    }\n    return void 0;\n  }\n  onDragMove(coordinate) {\n    var _a, _b, _c, _d, _e, _f;\n    if (!this.dragInfo) {\n      return;\n    }\n    this.dragStatus = EDragStatus.Move;\n    const dragRect = RectUtils.getRectUnderZoom(this.dragInfo.firstRect, this.zoom);\n    const {x, y, width, height} = dragRect;\n    const offset = {\n      x: coordinate.x - this.dragInfo.dragStartCoord.x,\n      y: coordinate.y - this.dragInfo.dragStartCoord.y\n    };\n    let selectedRect = this.rectList.filter((v) => v.id === this.selectedRectID)[0];\n    switch (this.dragInfo.dragTarget) {\n      case EDragTarget.Plane:\n        selectedRect = __spreadProps(__spreadValues({}, selectedRect), {\n          x: x + offset.x,\n          y: y + offset.y,\n          width,\n          height\n        });\n        break;\n      case EDragTarget.Point:\n        {\n          let newX = x;\n          let newY = y;\n          let newWidth = width;\n          let newHeight = height;\n          switch (this.hoverRectPointIndex) {\n            case 0: {\n              newX = width - offset.x < 0 ? x + width : x + offset.x;\n              newY = height - offset.y < 0 ? y + height : y + offset.y;\n              newWidth = Math.abs(offset.x - width);\n              newHeight = Math.abs(offset.y - height);\n              break;\n            }\n            case 1: {\n              newX = width + offset.x > 0 ? x : x + width + offset.x;\n              newY = height - offset.y < 0 ? y + height : y + offset.y;\n              newWidth = Math.abs(width + offset.x);\n              newHeight = Math.abs(height - offset.y);\n              break;\n            }\n            case 2: {\n              newX = width + offset.x > 0 ? x : x + width + offset.x;\n              newY = height + offset.y > 0 ? y : y + height + offset.y;\n              newWidth = Math.abs(width + offset.x);\n              newHeight = height + offset.y > 0 ? height + offset.y : Math.abs(height + offset.y);\n              break;\n            }\n            case 3: {\n              newX = width - offset.x < 0 ? x + width : x + offset.x;\n              newY = height + offset.y > 0 ? y : y + height + offset.y;\n              newWidth = Math.abs(offset.x - width);\n              newHeight = height + offset.y > 0 ? height + offset.y : Math.abs(height + offset.y);\n              break;\n            }\n            default: {\n              return;\n            }\n          }\n          selectedRect = __spreadProps(__spreadValues({}, selectedRect), {\n            x: newX,\n            y: newY,\n            width: newWidth,\n            height: newHeight\n          });\n        }\n        break;\n      case EDragTarget.Line: {\n        let newX = x;\n        let newY = y;\n        let newWidth = width;\n        let newHeight = height;\n        switch (this.hoverRectEdgeIndex) {\n          case 0: {\n            newY = height - offset.y < 0 ? y + height : y + offset.y;\n            newHeight = Math.abs(offset.y - height);\n            break;\n          }\n          case 1: {\n            newX = width + offset.x > 0 ? x : x + width + offset.x;\n            newWidth = Math.abs(width + offset.x);\n            break;\n          }\n          case 2: {\n            newY = height + offset.y > 0 ? y : y + height + offset.y;\n            newHeight = height + offset.y > 0 ? height + offset.y : Math.abs(height + offset.y);\n            break;\n          }\n          case 3: {\n            newX = width - offset.x < 0 ? x + width : x + offset.x;\n            newWidth = Math.abs(offset.x - width);\n            break;\n          }\n          default: {\n            return;\n          }\n        }\n        selectedRect = __spreadProps(__spreadValues({}, selectedRect), {\n          x: newX,\n          y: newY,\n          width: newWidth,\n          height: newHeight\n        });\n        break;\n      }\n      default: {\n        return;\n      }\n    }\n    if (this.config.drawOutsideTarget === false) {\n      if (this.basicResult) {\n        if (((_b = (_a = this.basicResult) == null ? void 0 : _a.pointList) == null ? void 0 : _b.length) > 0) {\n          if (RectUtils.isRectNotInPolygon(selectedRect, getPolygonPointUnderZoom(this.basicResult.pointList, this.zoom))) {\n            return;\n          }\n        }\n        const basicX = this.basicResult.x * this.zoom;\n        const basicY = this.basicResult.y * this.zoom;\n        const basicWidth = this.basicResult.width * this.zoom;\n        const basicHeight = this.basicResult.height * this.zoom;\n        if (this.dragInfo.dragTarget !== EDragTarget.Plane && (selectedRect.x < basicX - 0.01 || selectedRect.y < basicY - 0.01 || selectedRect.width > basicX + basicWidth - selectedRect.x + 0.01 || selectedRect.height > basicY + basicHeight - selectedRect.y + 0.01)) {\n          return;\n        }\n        if (selectedRect.x < basicX) {\n          selectedRect.x = basicX;\n        }\n        if (selectedRect.y < basicY) {\n          selectedRect.y = basicY;\n        }\n        if (selectedRect.width > basicX + basicWidth - selectedRect.x) {\n          switch (this.dragInfo.dragTarget) {\n            case EDragTarget.Plane:\n              selectedRect.x = basicX + basicWidth - width;\n              break;\n            case EDragTarget.Point:\n            case EDragTarget.Line:\n              if (offset.x > 0 && offset.y > 0) {\n                selectedRect.width = basicX + basicWidth - selectedRect.x;\n              }\n              break;\n            default: {\n              return;\n            }\n          }\n        }\n        if (selectedRect.height > basicY + basicHeight - selectedRect.y) {\n          switch (this.dragInfo.dragTarget) {\n            case EDragTarget.Plane:\n              selectedRect.y = basicY + basicHeight - height;\n              break;\n          }\n        }\n      } else {\n        if (selectedRect.x < 0) {\n          selectedRect.x = 0;\n        }\n        if (selectedRect.y < 0) {\n          selectedRect.y = 0;\n        }\n        if (this.imgInfo) {\n          switch (this.dragInfo.dragTarget) {\n            case EDragTarget.Plane:\n              if (selectedRect.x + selectedRect.width > ((_c = this.imgInfo) == null ? void 0 : _c.width)) {\n                selectedRect.x = this.imgInfo.width - width;\n              }\n              if (selectedRect.y + selectedRect.height > ((_d = this.imgInfo) == null ? void 0 : _d.height)) {\n                selectedRect.y = this.imgInfo.height - height;\n              }\n              break;\n            default: {\n              if (selectedRect.x + selectedRect.width > ((_e = this.imgInfo) == null ? void 0 : _e.width) + 0.01 || selectedRect.y + selectedRect.height > ((_f = this.imgInfo) == null ? void 0 : _f.height) + 0.01) {\n                return;\n              }\n            }\n          }\n        }\n      }\n    }\n    this.setRectList(this.rectList.map((v) => {\n      if (v.id === selectedRect.id) {\n        return RectUtils.getRectUnderZoom(selectedRect, 1 / this.zoom);\n      }\n      return v;\n    }));\n    this.render();\n  }\n  onMouseMove(e) {\n    var _a, _b;\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    const coordinateZoom = this.getCoordinateUnderZoom(e);\n    const coordinate = AxisUtils.changeDrawOutsideTarget(coordinateZoom, {x: 0, y: 0}, this.imgInfo, this.config.drawOutsideTarget, this.basicResult, this.zoom);\n    if (this.selectedRectID && this.dragInfo) {\n      this.onDragMove(coordinate);\n      return;\n    }\n    if (this.selectedRectID) {\n      const hoverRectPointIndex = this.getHoverRectPointIndex(e);\n      if (hoverRectPointIndex !== this.hoverRectPointIndex) {\n        this.hoverRectPointIndex = hoverRectPointIndex;\n        this.hoverRectEdgeIndex = -1;\n        this.render();\n        return;\n      }\n      if (this.hoverRectPointIndex === -1) {\n        const hoverRectEdgeIndex = this.getHoverRectEdgeIndex(e);\n        if (hoverRectEdgeIndex !== this.hoverRectEdgeIndex) {\n          this.hoverRectEdgeIndex = hoverRectEdgeIndex;\n          this.render();\n          return;\n        }\n      }\n    }\n    const hoverRectID = this.getHoverRectID(e);\n    const oldHoverRectID = this.hoverRectID;\n    this.hoverRectID = hoverRectID;\n    if (hoverRectID !== oldHoverRectID) {\n      this.render();\n    }\n    if (this.drawingRect && this.firstClickCoord) {\n      let {x, y} = this.firstClickCoord;\n      let {width, height} = this.drawingRect;\n      width = Math.abs(x - coordinate.x);\n      height = Math.abs(y - coordinate.y);\n      if (coordinate.x < x) {\n        x = coordinate.x;\n      }\n      if (coordinate.y < y) {\n        y = coordinate.y;\n      }\n      if (this.config.drawOutsideTarget === false) {\n        if (((_b = (_a = this.basicResult) == null ? void 0 : _a.pointList) == null ? void 0 : _b.length) > 0) {\n          if (RectUtils.isRectNotInPolygon(__spreadProps(__spreadValues({}, this.drawingRect), {\n            x,\n            y,\n            width,\n            height\n          }), getPolygonPointUnderZoom(this.basicResult.pointList, this.zoom))) {\n            return;\n          }\n        }\n        if (coordinate.x < 0) {\n          width = Math.abs(this.firstClickCoord.x);\n          x = 0;\n        }\n        if (coordinate.y < 0) {\n          height = Math.abs(this.firstClickCoord.y);\n          y = 0;\n        }\n        if (this.imgInfo) {\n          if (x + width > this.imgInfo.width) {\n            width = Math.abs(this.imgInfo.width - x);\n          }\n          if (y + height > this.imgInfo.height) {\n            height = Math.abs(this.imgInfo.height - y);\n          }\n        }\n      }\n      this.drawingRect = __spreadProps(__spreadValues({}, this.drawingRect), {\n        x,\n        y,\n        width,\n        height\n      });\n      this.render();\n    }\n    return void 0;\n  }\n  setAttributeLockList(attributeLockList) {\n    this.setSelectedRectID(void 0);\n    super.setAttributeLockList(attributeLockList);\n  }\n  setBasicResult(basicResult) {\n    super.setBasicResult(basicResult);\n    this.clearActiveStatus();\n  }\n  setRectValidAndRender(id) {\n    if (!id) {\n      return;\n    }\n    this.setRectList(this.rectList.map((rect) => {\n      if (rect.id === id) {\n        return __spreadProps(__spreadValues({}, rect), {\n          valid: !rect.valid\n        });\n      }\n      return rect;\n    }), true);\n    this.render();\n    this.emit(\"updateResult\");\n  }\n  createNewDrawingRect(e, basicSourceID) {\n    if (!this.imgInfo) {\n      return;\n    }\n    const coordinateZoom = this.getCoordinateUnderZoom(e);\n    const coordinate = AxisUtils.changeDrawOutsideTarget(coordinateZoom, {x: 0, y: 0}, this.imgInfo, this.config.drawOutsideTarget, this.basicResult, this.zoom);\n    this.setSelectedRectID(\"\");\n    this.hoverRectID = \"\";\n    if (this.drawOutSideTarget) {\n      if (coordinate.x < 0) {\n        coordinate.x = 0;\n      }\n      if (coordinate.y < 0) {\n        coordinate.y = 0;\n      }\n    }\n    this.drawingRect = __spreadProps(__spreadValues({}, coordinate), {\n      width: 0,\n      height: 0,\n      attribute: this.defaultAttribute,\n      valid: !e.ctrlKey,\n      id: uuid(8, 62),\n      sourceID: basicSourceID,\n      textAttribute: \"\"\n    });\n    if (this.hasMarkerConfig) {\n      const nextMarkInfo = CommonToolUtils.getNextMarker(this.currentPageResult, this.config.markerList, this.markerIndex);\n      if (nextMarkInfo) {\n        if (this.drawingRect) {\n          this.drawingRect = __spreadProps(__spreadValues({}, this.drawingRect), {\n            label: nextMarkInfo.label\n          });\n        }\n        this.markerIndex = nextMarkInfo.index;\n        this.emit(\"markIndexChange\");\n      } else {\n        this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.MarkerFinish, this.lang));\n        this.drawingRect = void 0;\n        return;\n      }\n    }\n    if (this.config.textConfigurable) {\n      let textAttribute = \"\";\n      textAttribute = AttributeUtils.getTextAttribute(this.rectList.filter((rect) => CommonToolUtils.isSameSourceID(rect.sourceID, basicSourceID)), this.config.textCheckType);\n      if (this.drawingRect) {\n        this.drawingRect = __spreadProps(__spreadValues({}, this.drawingRect), {\n          textAttribute\n        });\n      }\n    }\n    Object.assign(this.drawingRect, {\n      order: CommonToolUtils.getMaxOrder(this.rectList.filter((v) => CommonToolUtils.isSameSourceID(v.sourceID, basicSourceID))) + 1\n    });\n    this.firstClickCoord = __spreadValues({}, coordinate);\n    this.firstCurrentPos = __spreadValues({}, this.currentPos);\n    if (this.dataInjectionAtCreation) {\n      const data = this.dataInjectionAtCreation(this.drawingRect);\n      if (data) {\n        Object.assign(this.drawingRect, data);\n      }\n    }\n  }\n  addDrawingRectToRectList() {\n    if (!this.drawingRect) {\n      return;\n    }\n    let {width, height} = this.drawingRect;\n    width /= this.zoom;\n    height /= this.zoom;\n    if (Math.round(width) < this.config.minWidth || Math.round(height) < this.config.minHeight) {\n      this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.RectErrorSizeNotice, this.lang));\n      this.drawingRect = void 0;\n      this.firstClickCoord = void 0;\n      this.dragInfo = void 0;\n      this.dragStatus = EDragStatus.Wait;\n      this.render();\n      return;\n    }\n    const newRectList = this.getDrawingRectWithRectList();\n    this.setRectList(newRectList, true);\n    this.history.pushHistory(this.rectList);\n    this.setSelectedIdAfterAddingDrawingRect();\n    this.firstClickCoord = void 0;\n    this.drawingRect = void 0;\n    this.dragInfo = void 0;\n    this.dragStatus = EDragStatus.Wait;\n  }\n  setSelectedIdAfterAddingDrawingRect() {\n    if (!this.drawingRect) {\n      return;\n    }\n    if (this.config.textConfigurable) {\n      this.setSelectedRectID(this.drawingRect.id);\n    } else {\n      this.setSelectedRectID();\n    }\n  }\n  getDrawingRectWithRectList() {\n    if (!this.drawingRect) {\n      return this.rectList;\n    }\n    let {x, y, width, height} = this.drawingRect;\n    x /= this.zoom;\n    y /= this.zoom;\n    width /= this.zoom;\n    height /= this.zoom;\n    return [\n      ...this.rectList,\n      __spreadProps(__spreadValues({}, this.drawingRect), {\n        x,\n        y,\n        width,\n        height\n      })\n    ];\n  }\n  rightMouseUp(e) {\n    const hoverRectID = this.getHoverRectID(e);\n    const hoverRect = this.rectList.find((v) => v.id === hoverRectID);\n    const {selectedRectID} = this;\n    this.setSelectedRectID(void 0);\n    if (hoverRect) {\n      this.setDefaultAttribute(hoverRect.attribute);\n    }\n    if (this.drawingRect) {\n      this.drawingRect = void 0;\n      this.firstClickCoord = void 0;\n    } else {\n      if (selectedRectID !== hoverRectID) {\n        this.dblClickListener.clearRightDblClick();\n      }\n      this.setSelectedRectID(hoverRectID);\n      this.hoverRectID = \"\";\n      if ((hoverRect == null ? void 0 : hoverRect.label) && this.hasMarkerConfig) {\n        const markerIndex = CommonToolUtils.getCurrentMarkerIndex(hoverRect.label, this.config.markerList);\n        if (markerIndex >= 0) {\n          this.setMarkerIndex(markerIndex);\n          this.emit(\"markIndexChange\");\n        }\n      }\n    }\n    this.render();\n  }\n  shiftRightMouseUp(e) {\n    const hoverRectID = this.getHoverRectID(e);\n    this.emit(\"shiftRightMouseUp\", hoverRectID);\n  }\n  onMouseUp(e) {\n    if (super.onMouseUp(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return true;\n    }\n    if (this.dragInfo && this.dragStatus === EDragStatus.Move) {\n      this.dragInfo = void 0;\n      this.dragStatus = EDragStatus.Wait;\n      this.history.pushHistory(this.rectList);\n      this.emit(\"updateResult\");\n      return;\n    }\n    if (e.button === 2 && e.shiftKey === true) {\n      this.shiftRightMouseUp(e);\n      return;\n    }\n    if (e.button === 2) {\n      this.rightMouseUp(e);\n      return;\n    }\n    const basicSourceID = CommonToolUtils.getSourceID(this.basicResult);\n    if (this.drawingRect) {\n      this.addDrawingRectToRectList();\n      return;\n    }\n    if (e.ctrlKey === true && e.button === 0 && this.hoverRectID) {\n      this.setRectValidAndRender(this.hoverRectID);\n      return;\n    }\n    this.createNewDrawingRect(e, basicSourceID);\n    this.render();\n    return void 0;\n  }\n  onRightDblClick(e) {\n    super.onRightDblClick(e);\n    const hoverRectID = this.getHoverRectID(e);\n    if (this.selectedRectID && this.selectedRectID === hoverRectID) {\n      this.deleteRect(hoverRectID);\n    }\n  }\n  onKeyDown(e) {\n    if (!CommonToolUtils.hotkeyFilter(e)) {\n      return;\n    }\n    if (super.onKeyDown(e) === false) {\n      return;\n    }\n    const {keyCode} = e;\n    switch (keyCode) {\n      case EKeyCode.Ctrl:\n        if (this.drawingRect) {\n          this.drawingRect = __spreadProps(__spreadValues({}, this.drawingRect), {\n            valid: !e.ctrlKey\n          });\n          this.render();\n        }\n        break;\n      case EKeyCode.F:\n        if (this.selectedRectID) {\n          this.setRectValidAndRender(this.selectedRectID);\n        }\n        break;\n      case EKeyCode.Z:\n        this.setIsHidden(!this.isHidden);\n        this.render();\n        break;\n      case EKeyCode.Delete:\n        this.deleteRect(this.selectedRectID);\n        break;\n      case EKeyCode.Tab: {\n        e.preventDefault();\n        if (this.drawingRect) {\n          return;\n        }\n        let sort = ESortDirection.ascend;\n        if (e.shiftKey) {\n          sort = ESortDirection.descend;\n        }\n        const [showingRect, selectedRect] = CommonToolUtils.getRenderResultList(this.rectList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedRectID);\n        let rectList = [...showingRect];\n        if (selectedRect) {\n          rectList = [...rectList, selectedRect];\n        }\n        const viewPort = CanvasUtils.getViewPort(this.canvas, this.currentPos, this.zoom);\n        rectList = rectList.filter((rect) => CanvasUtils.inViewPort({x: rect.x, y: rect.y}, viewPort));\n        const nextSelectedRect = CommonToolUtils.getNextSelectedRectID(rectList, sort, this.selectedRectID);\n        if (nextSelectedRect) {\n          this.setSelectedRectID(nextSelectedRect.id);\n          if (this.config.attributeConfigurable === true) {\n            this.setDefaultAttribute(nextSelectedRect.attribute);\n          }\n        }\n        break;\n      }\n      default: {\n        if (this.config.attributeConfigurable) {\n          const keyCode2Attribute = AttributeUtils.getAttributeByKeycode(keyCode, this.config.attributeList);\n          if (keyCode2Attribute !== void 0) {\n            this.setDefaultAttribute(keyCode2Attribute);\n          }\n        }\n        break;\n      }\n    }\n    return true;\n  }\n  onKeyUp(e) {\n    super.onKeyUp(e);\n    switch (e.keyCode) {\n      case EKeyCode.Ctrl:\n        if (this.drawingRect) {\n          this.drawingRect = __spreadProps(__spreadValues({}, this.drawingRect), {\n            valid: true\n          });\n          this.render();\n        }\n        break;\n    }\n  }\n  onWheel(e) {\n    const oldZoom = this.zoom;\n    let newDrawingRect;\n    let newFirsClickCoord;\n    if (this.drawingRect && this.firstClickCoord) {\n      newDrawingRect = RectUtils.getRectUnderZoom(this.drawingRect, 1 / oldZoom);\n      newFirsClickCoord = AxisUtils.changePointByZoom(this.firstClickCoord, 1 / oldZoom);\n    }\n    super.onWheel(e, false);\n    if (newDrawingRect && newFirsClickCoord) {\n      this.drawingRect = RectUtils.getRectUnderZoom(newDrawingRect, this.zoom);\n      this.firstClickCoord = AxisUtils.changePointByZoom(newFirsClickCoord, this.zoom);\n    }\n    this.render();\n  }\n  getCurrentSelectedData() {\n    const {selectedRect} = this;\n    if (!selectedRect) {\n      return;\n    }\n    const toolColor = this.getColor(selectedRect.attribute);\n    const color = selectedRect.valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    return {\n      width: selectedRect.width * this.zoom * 0.6,\n      textAttribute: selectedRect.textAttribute,\n      color\n    };\n  }\n  getRenderStyle(rect) {\n    const customStyle = this.customRenderStyle && this.customRenderStyle(rect);\n    if (customStyle) {\n      return customStyle;\n    }\n    const toolColor = this.getColor(rect.attribute);\n    let strokeColor;\n    let fillColor;\n    if (rect.valid === false) {\n      strokeColor = toolColor == null ? void 0 : toolColor.invalid.stroke;\n      fillColor = toolColor == null ? void 0 : toolColor.invalid.fill;\n    } else {\n      strokeColor = toolColor == null ? void 0 : toolColor.valid.stroke;\n      fillColor = toolColor == null ? void 0 : toolColor.valid.fill;\n    }\n    return {\n      strokeColor,\n      fillColor,\n      textColor: strokeColor,\n      toolColor\n    };\n  }\n  renderTextAttribute() {\n    var _a;\n    const {selectedRect} = this;\n    if (!this.ctx || this.config.textConfigurable !== true || !selectedRect) {\n      return;\n    }\n    const {x, y, width, height, attribute, valid} = selectedRect;\n    const newWidth = width * this.zoom * 0.6;\n    const coordinate = AxisUtils.getOffsetCoordinate({x, y: y + height}, this.currentPos, this.zoom);\n    const toolColor = this.getColor(attribute);\n    const color = valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    const distance = 4;\n    if (!this._textAttributInstance) {\n      this._textAttributInstance = new TextAttributeClass({\n        width: newWidth,\n        container: this.container,\n        icon: this.getTextIconSvg(attribute),\n        color,\n        getCurrentSelectedData: this.getCurrentSelectedData,\n        updateSelectedTextAttribute: this.updateSelectedRectTextAttribute\n      });\n    }\n    if (this._textAttributInstance && !((_a = this._textAttributInstance) == null ? void 0 : _a.isExit)) {\n      this._textAttributInstance.appendToContainer();\n    }\n    this._textAttributInstance.update(`${selectedRect.textAttribute}`, {\n      left: coordinate.x,\n      top: coordinate.y + distance,\n      color,\n      width: newWidth\n    });\n  }\n  renderSelectedRect(rect) {\n    const {selectedRect} = this;\n    if (!this.ctx || !rect || !selectedRect) {\n      return;\n    }\n    const {ctx} = this;\n    let radius = 10;\n    const pointList = RectUtils.getRectPointList(selectedRect);\n    const len = pointList.length;\n    const toolColor = this.getColor(rect.attribute);\n    pointList.forEach((v, i) => {\n      var _a, _b;\n      ctx.save();\n      ctx.moveTo(v.x, v.y);\n      ctx.beginPath();\n      if (this.hoverRectPointIndex === i) {\n        radius = scope + 6;\n      } else {\n        radius = scope;\n      }\n      if (rect.valid === false) {\n        ctx.strokeStyle = toolColor == null ? void 0 : toolColor.invalid.stroke;\n        ctx.fillStyle = toolColor == null ? void 0 : toolColor.invalid.stroke;\n      } else {\n        ctx.strokeStyle = toolColor == null ? void 0 : toolColor.valid.stroke;\n        ctx.fillStyle = toolColor == null ? void 0 : toolColor.valid.stroke;\n      }\n      ctx.arc(v.x * this.zoom + this.currentPos.x, v.y * this.zoom + this.currentPos.y, radius, 0, 2 * Math.PI);\n      ctx.fill();\n      if (this.hoverRectEdgeIndex === i) {\n        ctx.beginPath();\n        ctx.lineWidth = 10;\n        const lineColor = this.getColor(rect.attribute);\n        const strokeStyle = rect.valid === false ? (_a = lineColor == null ? void 0 : lineColor.invalid) == null ? void 0 : _a.stroke : (_b = lineColor == null ? void 0 : lineColor.valid) == null ? void 0 : _b.stroke;\n        ctx.strokeStyle = strokeStyle;\n        ctx.moveTo(pointList[i].x * this.zoom + this.currentPos.x, pointList[i].y * this.zoom + this.currentPos.y);\n        ctx.lineTo(pointList[(i + 1) % len].x * this.zoom + this.currentPos.x, pointList[(i + 1) % len].y * this.zoom + this.currentPos.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    });\n    this.renderTextAttribute();\n  }\n  renderDrawingRect(rect, zoom = this.zoom, isZoom = false) {\n    var _a, _b, _c, _d;\n    if (this.ctx && rect) {\n      const {ctx, style} = this;\n      const {hiddenText = false} = style;\n      ctx.save();\n      const {strokeColor, fillColor, textColor} = this.getRenderStyle(rect);\n      ctx.font = \"lighter 14px Arial\";\n      let showText = \"\";\n      if (((_a = this.config) == null ? void 0 : _a.isShowOrder) && rect.order && (rect == null ? void 0 : rect.order) > 0) {\n        showText = `${rect.order}`;\n      }\n      if (rect.label && this.hasMarkerConfig) {\n        const order = CommonToolUtils.getCurrentMarkerIndex(rect.label, this.config.markerList) + 1;\n        showText = `${order}_${MarkerUtils.getMarkerShowText(rect.label, this.config.markerList)}`;\n      }\n      if (rect.attribute) {\n        showText = `${showText}  ${AttributeUtils.getAttributeShowText(rect.attribute, (_b = this.config) == null ? void 0 : _b.attributeList)}`;\n      }\n      const transformRect = AxisUtils.changeRectByZoom(rect, isZoom ? zoom : this.zoom, this.currentPos);\n      if (!hiddenText) {\n        DrawUtils.drawText(this.canvas, {x: transformRect.x, y: transformRect.y - 6}, showText, __spreadProps(__spreadValues({\n          color: strokeColor,\n          font: \"normal normal 900 14px SourceHanSansCN-Regular\"\n        }, DEFAULT_TEXT_SHADOW), {\n          textMaxWidth: 300\n        }));\n      }\n      const lineWidth = (_d = (_c = this.style) == null ? void 0 : _c.width) != null ? _d : 2;\n      if (rect.id === this.hoverRectID || rect.id === this.selectedRectID) {\n        DrawUtils.drawRectWithFill(this.canvas, transformRect, {color: fillColor});\n      }\n      DrawUtils.drawRect(this.canvas, transformRect, {color: strokeColor, thickness: lineWidth, hiddenText: true});\n      ctx.restore();\n      let rectSize = `${Math.round(rect.width)} * ${Math.round(rect.height)}`;\n      if (isZoom === true) {\n        rectSize = `${Math.round(rect.width / this.zoom)} * ${Math.round(transformRect.height / this.zoom)}`;\n      }\n      const textSizeWidth = rectSize.length * 7;\n      if (!hiddenText) {\n        DrawUtils.drawText(this.canvas, {x: transformRect.x + transformRect.width - textSizeWidth, y: transformRect.y + transformRect.height + 15}, rectSize, __spreadValues({\n          color: textColor,\n          font: \"normal normal 600 14px Arial\"\n        }, DEFAULT_TEXT_SHADOW));\n      }\n      if (!hiddenText && rect.textAttribute && rect.id !== this.selectedRectID) {\n        const marginTop = 0;\n        const textWidth = Math.max(20, transformRect.width - textSizeWidth);\n        DrawUtils.drawText(this.canvas, {x: transformRect.x, y: transformRect.y + transformRect.height + 20 + marginTop}, rect.textAttribute, __spreadValues({\n          color: textColor,\n          font: \"italic normal 900 14px Arial\",\n          textMaxWidth: textWidth\n        }, DEFAULT_TEXT_SHADOW));\n      }\n    }\n  }\n  renderStaticRect() {\n    var _a;\n    if (!(((_a = this.rectList) == null ? void 0 : _a.length) > 0 && JSON.stringify(this.rectList))) {\n      return;\n    }\n    const {renderEnhance = {}} = this;\n    const [showingRect, selectedRect] = CommonToolUtils.getRenderResultList(this.rectList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedRectID);\n    if (!this.isHidden) {\n      showingRect == null ? void 0 : showingRect.forEach((rect) => {\n        this.renderDrawingRect(rect);\n        if (renderEnhance.staticRender) {\n          renderEnhance.staticRender(this.canvas, AxisUtils.changeRectByZoom(rect, this.zoom, this.currentPos), this.getRenderStyle(rect));\n        }\n      });\n    }\n    if (selectedRect) {\n      this.renderDrawingRect(selectedRect);\n      this.renderSelectedRect(selectedRect);\n      if (renderEnhance.selectedRender) {\n        renderEnhance.selectedRender(this.canvas, AxisUtils.changeRectByZoom(selectedRect, this.zoom, this.currentPos), this.getRenderStyle(selectedRect));\n      }\n    }\n  }\n  renderCreatingRect() {\n    if (!this.drawingRect) {\n      return;\n    }\n    const {renderEnhance = {}} = this;\n    this.renderDrawingRect(this.drawingRect, 1, true);\n    if (renderEnhance.creatingRender) {\n      renderEnhance.creatingRender(this.canvas, AxisUtils.changeRectByZoom(this.drawingRect, 1, this.currentPos), this.getRenderStyle(this.drawingRect));\n    }\n  }\n  renderRect() {\n    this.renderStaticRect();\n    this.renderCreatingRect();\n  }\n  render() {\n    if (!this.ctx) {\n      return;\n    }\n    super.render();\n    this.renderRect();\n    this.renderCursorLine(this.getLineColor(this.defaultAttribute));\n  }\n  setDefaultAttribute(defaultAttribute) {\n    const oldDefault = this.defaultAttribute;\n    this.defaultAttribute = defaultAttribute != null ? defaultAttribute : \"\";\n    if (oldDefault !== defaultAttribute) {\n      this.changeStyle(defaultAttribute);\n      this.emit(\"changeAttributeSidebar\");\n      const {selectedRect} = this;\n      if (selectedRect) {\n        this.setRectList(this.rectList.map((v) => {\n          if (v.id === this.selectedID) {\n            return __spreadProps(__spreadValues({}, v), {\n              attribute: this.defaultAttribute\n            });\n          }\n          return v;\n        }), true);\n        this.history.pushHistory(this.rectList);\n        this.render();\n      }\n      if (this.drawingRect) {\n        this.drawingRect = __spreadProps(__spreadValues({}, this.drawingRect), {\n          attribute: this.defaultAttribute\n        });\n        this.render();\n      }\n      if (this._textAttributInstance) {\n        if (this.attributeLockList.length > 0 && !this.attributeLockList.includes(this.defaultAttribute)) {\n          this._textAttributInstance.clearTextAttribute();\n          return;\n        }\n        this._textAttributInstance.updateIcon(this.getTextIconSvg(defaultAttribute));\n      }\n    }\n  }\n  setValid(valid) {\n    super.setValid(valid);\n    this.emit(\"updateResult\");\n  }\n  clearActiveStatus() {\n    this.drawingRect = void 0;\n    this.firstClickCoord = void 0;\n    this.dragInfo = void 0;\n    this.dragStatus = EDragStatus.Wait;\n    this.setSelectedRectID(void 0);\n  }\n  clearResult(sendMessage = true) {\n    const newRectList = this.rectList.filter((rect) => rect.disableDelete === true);\n    if (newRectList.length > 0 && sendMessage) {\n      this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.ClearPartialData, this.lang));\n    }\n    this.setRectList(newRectList, true);\n    this.setSelectedRectID(void 0);\n  }\n  deleteRect(rectID) {\n    var _a;\n    if (!rectID) {\n      return;\n    }\n    const selectedRect = this.rectList.find((v) => v.id === rectID);\n    if ((selectedRect == null ? void 0 : selectedRect.disableDelete) === true) {\n      this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.DisableDelete, this.lang));\n      return;\n    }\n    this.setRectList(this.rectList.filter((v) => v.id !== rectID), true);\n    this.history.pushHistory(this.rectList);\n    this.setSelectedRectID(void 0);\n    (_a = this._textAttributInstance) == null ? void 0 : _a.clearTextAttribute();\n    this.render();\n  }\n  exportData() {\n    const {rectList} = this;\n    return [rectList, this.basicImgInfo];\n  }\n  undo() {\n    const rectList = this.history.undo();\n    if (rectList) {\n      if (rectList.length !== this.rectList.length) {\n        this.setSelectedRectID(\"\");\n      }\n      this.setRectList(rectList, true);\n      this.render();\n    }\n  }\n  redo() {\n    const rectList = this.history.redo();\n    if (rectList) {\n      if (rectList.length !== this.rectList.length) {\n        this.setSelectedRectID(\"\");\n      }\n      this.setRectList(rectList, true);\n      this.render();\n    }\n  }\n}\n\nexport { RectOperation, RectOperation as default };\n","import uuid from '../uuid.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass TagUtil {\n  static getTagKeyName(key, labelInfoSet) {\n    var _a, _b;\n    if (!labelInfoSet) {\n      return;\n    }\n    return (_b = (_a = labelInfoSet.find((v) => v.value === key)) == null ? void 0 : _a.key) != null ? _b : \"\";\n  }\n  static getTagName([key = \"\", value = \"\"], labelInfoSet) {\n    if (!labelInfoSet) {\n      return;\n    }\n    for (const i of labelInfoSet) {\n      if (i.value === key) {\n        if (!i.subSelected) {\n          console.error(\"\\u6807\\u7B7E\\u89E3\\u6790\\u9519\\u8BEF\", key, value);\n          return \"\";\n        }\n        for (const j of i.subSelected) {\n          if (j.value === value) {\n            return j.key;\n          }\n        }\n      }\n    }\n  }\n  static getTagNameList(result, labelInfoSet) {\n    if (Object.keys(result).length <= 0) {\n      return [];\n    }\n    return Object.entries(result).reduce((acc, cur) => {\n      const [key, value] = cur;\n      if (value && value.length > 0) {\n        const valueList = value.split(\";\");\n        const nameList = {\n          keyName: this.getTagKeyName(key, labelInfoSet),\n          value: valueList.map((v) => this.getTagName([key, v], labelInfoSet))\n        };\n        return [...acc, nameList];\n      }\n      return acc;\n    }, []).filter((v) => v);\n  }\n  static getTagnameListWithoutConfig(result) {\n    if (Object.keys(result).length <= 0) {\n      return [];\n    }\n    return Object.entries(result).reduce((acc, cur) => {\n      const [key, value] = cur;\n      const valueList = value.split(\";\");\n      const nameList = {\n        keyName: key,\n        value: valueList\n      };\n      return [...acc, nameList];\n    }, []).filter((v) => v);\n  }\n  static judgeResultIsInInputList(key, value, inputList) {\n    if (!key || !value || !inputList) {\n      return false;\n    }\n    const a = inputList.filter((v) => {\n      if (v.value === key && v.subSelected) {\n        const resultValue = value == null ? void 0 : value.split(\";\");\n        return (v == null ? void 0 : v.subSelected.filter((i) => resultValue.indexOf(i.value) > -1).length) > 0;\n      }\n      return false;\n    });\n    return a.length > 0;\n  }\n  static getDefaultResultByConfig(inputList) {\n    return inputList.reduce((acc, cur) => {\n      if (cur.subSelected) {\n        cur.subSelected.forEach((data) => {\n          var _a;\n          if (data.isDefault) {\n            const originResult = (_a = acc[cur.value]) != null ? _a : \"\";\n            let originResultList = [];\n            if (originResult.length > 0) {\n              originResultList = originResult.split(\";\");\n            }\n            originResultList.push(data.value);\n            acc[cur.value] = originResultList.join(\";\");\n          }\n        });\n      }\n      return acc;\n    }, {});\n  }\n  static getDefaultTagResult(inputList, basicResultList) {\n    const defaultResult = this.getDefaultResultByConfig(inputList);\n    if (basicResultList.length > 0) {\n      return basicResultList.map((v) => ({\n        id: uuid(),\n        sourceID: v.id,\n        result: __spreadValues({}, defaultResult)\n      }));\n    }\n    return [\n      {\n        id: uuid(),\n        sourceID: \"\",\n        result: __spreadValues({}, defaultResult)\n      }\n    ];\n  }\n}\n\nexport { TagUtil as default };\n","import CommonToolUtils from '../../utils/tool/CommonToolUtils.js';\nimport TagUtil from '../../utils/tool/TagUtils.js';\nimport uuid from '../../utils/uuid.js';\nimport { BasicToolOperation } from './basicToolOperation.js';\n\nclass TagOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.getInitResultList = (dataSourceStep, basicResultList) => {\n      if (!(dataSourceStep === 0 || dataSourceStep === void 0) && basicResultList.length === 0) {\n        return [];\n      }\n      return TagUtil.getDefaultTagResult(this.config.inputList, basicResultList);\n    };\n    this.setLabel = (i, j) => {\n      var _a, _b;\n      if (this.isImgError) {\n        return;\n      }\n      if (!this.basicResult && this.dependToolName) {\n        return;\n      }\n      const labelInfoSet = this.config.inputList;\n      if (!labelInfoSet[i]) {\n        return;\n      }\n      const {subSelected} = labelInfoSet[i];\n      if (i < labelInfoSet.length && labelInfoSet[i].subSelected && subSelected && j < subSelected.length) {\n        const key = labelInfoSet[i].value;\n        let value = (_a = subSelected[j]) == null ? void 0 : _a.value;\n        const isMulti = (_b = labelInfoSet[i]) == null ? void 0 : _b.isMulti;\n        const basicTagResult = this.tagResult.filter((v) => {\n          const basicSourceID = `${v.sourceID}`;\n          return CommonToolUtils.isSameSourceID(basicSourceID, this.sourceID);\n        })[0];\n        if (basicTagResult) {\n          let times = 0;\n          const {result} = basicTagResult;\n          if (basicTagResult.sourceID === 0) {\n            basicTagResult.sourceID = \"0\";\n          }\n          for (const oldKey in basicTagResult.result) {\n            if (oldKey === labelInfoSet[i].value) {\n              times++;\n              if (isMulti === true) {\n                const keyList = result[oldKey].split(\";\").filter((v) => v !== \"\");\n                const index = keyList.indexOf(value);\n                if (index === -1) {\n                  keyList.push(value);\n                } else {\n                  keyList.splice(index, 1);\n                }\n                value = keyList.join(\";\");\n              }\n              if (value === \"\") {\n                if (Object.keys(result).length === 1) {\n                  this.tagResult = this.tagResult.filter((v) => {\n                    const basicSourceID = `${v.sourceID}`;\n                    return CommonToolUtils.isDifferSourceID(basicSourceID, this.sourceID);\n                  });\n                } else if (Object.keys(result).length > 1) {\n                  delete result[oldKey];\n                }\n              } else {\n                result[oldKey] = value;\n              }\n            }\n          }\n          if (times === 0) {\n            Object.assign(basicTagResult.result, {[key]: value});\n          }\n        } else {\n          this.tagResult = [\n            {\n              sourceID: this.sourceID,\n              id: uuid(8, 62),\n              result: {\n                [key]: value\n              }\n            }\n          ];\n        }\n        this.render();\n      }\n    };\n    this.clearResult = (sendMessage = true, value) => {\n      if (value) {\n        this.tagResult = this.tagResult.map((v) => {\n          if (v == null ? void 0 : v.result[value]) {\n            delete v.result[value];\n          }\n          return v;\n        });\n      } else {\n        this.tagResult = [];\n      }\n      this.render();\n    };\n    this.config = CommonToolUtils.jsonParser(props.config);\n    this.tagResult = [];\n    this.labelSelectedList = [];\n    this.setShowDefaultCursor(true);\n  }\n  destroy() {\n    this.clearTag();\n    super.destroy();\n  }\n  setResult(tagResult) {\n    this.tagResult = tagResult;\n    this.render();\n  }\n  get currentPageResult() {\n    return [this.currentTagResult];\n  }\n  get currentTagResult() {\n    var _a;\n    return (_a = this.tagResult.filter((v) => {\n      const basicSourceID = `${v.sourceID}`;\n      return CommonToolUtils.isSameSourceID(basicSourceID, this.sourceID);\n    })[0]) != null ? _a : {};\n  }\n  get sourceID() {\n    return CommonToolUtils.getSourceID(this.basicResult);\n  }\n  onKeyDown(e) {\n    if (!CommonToolUtils.hotkeyFilter(e) || super.onKeyDown(e) === false) {\n      return;\n    }\n    let {keyCode} = e;\n    if (keyCode) {\n      if (keyCode <= 57 && keyCode >= 49 || keyCode <= 105 && keyCode >= 97) {\n        if (keyCode > 57) {\n          keyCode -= 97;\n        } else {\n          keyCode -= 49;\n        }\n        if (this.config.inputList.length === 1) {\n          this.labelSelectedList = [0, keyCode];\n          this.setLabel(0, keyCode);\n          setTimeout(() => {\n            this.labelSelectedList = [];\n            this.render();\n          }, 500);\n          return;\n        }\n        if (this.labelSelectedList.length === 1) {\n          this.labelSelectedList = [this.labelSelectedList[0], keyCode];\n          this.setLabel(this.labelSelectedList[0], keyCode);\n          setTimeout(() => {\n            this.labelSelectedList = [];\n            this.render();\n          }, 500);\n        } else {\n          this.labelSelectedList = [keyCode];\n          this.emit(\"expend\");\n        }\n      }\n    }\n  }\n  clearTag() {\n    var _a;\n    const parentNode = (_a = this.canvas) == null ? void 0 : _a.parentNode;\n    const oldDom = window.self.document.getElementById(\"tagToolTag\");\n    if (oldDom && parentNode && parentNode.contains(oldDom)) {\n      parentNode == null ? void 0 : parentNode.removeChild(oldDom);\n    }\n  }\n  renderTag() {\n    var _a, _b, _c, _d, _e, _f;\n    this.clearTag();\n    if (!(((_a = this.tagResult) == null ? void 0 : _a.length) > 0)) {\n      return;\n    }\n    const dom = document.createElement(\"div\");\n    const tagInfoList = TagUtil.getTagNameList((_c = (_b = this.currentTagResult) == null ? void 0 : _b.result) != null ? _c : {}, this.config.inputList);\n    dom.innerHTML = (_d = tagInfoList.reduce((acc, cur) => {\n      return `${acc}${cur.keyName}: ${cur.value.join(` \\u3001 `)}\n`;\n    }, \"\")) != null ? _d : \"\";\n    dom.setAttribute(\"id\", \"tagToolTag\");\n    dom.setAttribute(\"style\", `\n        position: absolute;\n        top: 0;\n        right: 0;\n        z-index: 5;\n      \n        padding: 0 20px;\n      \n        font-size: 15px;\n        color: white;\n        text-align: right;\n        line-height: 32px;\n        white-space: pre;\n      \n        background: rgba(102, 111, 255, 1);\n        opacity: 0.6;\n        clear: both;\n      `);\n    (_f = (_e = this.canvas) == null ? void 0 : _e.parentNode) == null ? void 0 : _f.appendChild(dom);\n  }\n  render() {\n    this.renderTag();\n    super.render();\n    this.emit(\"render\");\n  }\n  exportData() {\n    let {tagResult} = this;\n    if (this.isImgError) {\n      tagResult = [];\n    }\n    return [tagResult, this.basicImgInfo];\n  }\n}\n\nexport { TagOperation as default };\n","class StyleUtils {\n  static getStrokeAndFill(toolStyle, valid = true, options = {}) {\n    const {isSelected = false, isHover = false} = options;\n    if (isSelected) {\n      return {\n        stroke: valid ? toolStyle.validSelected.stroke : toolStyle.invalidSelected.stroke,\n        fill: valid ? toolStyle.validSelected.fill : toolStyle.invalidSelected.fill\n      };\n    }\n    if (isHover) {\n      return {\n        stroke: valid ? toolStyle.validHover.stroke : toolStyle.invalidHover.stroke,\n        fill: valid ? toolStyle.validHover.fill : toolStyle.invalidHover.fill\n      };\n    }\n    return {\n      stroke: valid ? toolStyle.valid.stroke : toolStyle.invalid.stroke,\n      fill: valid ? toolStyle.valid.fill : toolStyle.invalid.fill\n    };\n  }\n  static getStyle2String(style) {\n    if (!style) {\n      return;\n    }\n    return Object.entries(style).reduce((acc, cur) => `${acc} ${cur[0]}: ${cur[1]};`, \"\");\n  }\n}\n\nexport { StyleUtils as default };\n","import { EToolName, ELineTypes, edgeAdsorptionScope } from '../../constant/tool.js';\nimport RectUtils from '../../utils/tool/RectUtils.js';\nimport PolygonUtils from '../../utils/tool/PolygonUtils.js';\nimport MarkerUtils from '../../utils/tool/MarkerUtils.js';\nimport MathUtils from '../../utils/MathUtils.js';\nimport { EDragStatus, ESortDirection, DEFAULT_TEXT_OFFSET } from '../../constant/annotation.js';\nimport EKeyCode from '../../constant/keyCode.js';\nimport Locale from '../../locales/index.js';\nimport { EMessage } from '../../locales/constants.js';\nimport AttributeUtils from '../../utils/tool/AttributeUtils.js';\nimport AxisUtils from '../../utils/tool/AxisUtils.js';\nimport CommonToolUtils from '../../utils/tool/CommonToolUtils.js';\nimport DrawUtils from '../../utils/tool/DrawUtils.js';\nimport StyleUtils from '../../utils/tool/StyleUtils.js';\nimport uuid from '../../utils/uuid.js';\nimport { BasicToolOperation } from './basicToolOperation.js';\nimport TextAttributeClass from './textAttributeClass.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __pow = Math.pow;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst TEXTAREA_WIDTH = 200;\nclass PointOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.setMarkerIndex = (markerIndex) => {\n      this.markerIndex = markerIndex;\n    };\n    this.setMarkerIndexAndSelect = (markerIndex) => {\n      if (!this.config.markerList) {\n        return;\n      }\n      this.markerIndex = markerIndex;\n      const markerValue = this.config.markerList[markerIndex].value;\n      const currentPoint = this.currentPageResult.find((point) => point.label === markerValue);\n      if (currentPoint) {\n        this.setSelectedID(currentPoint.id);\n        if (this.config.attributeConfigurable === true) {\n          this.setDefaultAttribute(currentPoint.attribute);\n        }\n      }\n      this.emit(\"markIndexChange\");\n    };\n    this.textChange = (v) => {\n      if (this.config.textConfigurable !== true || !this.selectedID) {\n        return;\n      }\n      this.setPointList(AttributeUtils.textChange(v, this.selectedID, this.pointList));\n      this.emit(\"selectedChange\");\n      this.render();\n    };\n    this.isMinDistance = (coord) => {\n      const transformCoord = AxisUtils.changePointByZoom(coord, this.zoom);\n      return this.pointList.some((point) => {\n        const transformPoint = AxisUtils.changePointByZoom(point, this.zoom);\n        return MathUtils.getLineLength(transformPoint, transformCoord) < 0.2;\n      });\n    };\n    this.config = CommonToolUtils.jsonParser(props.config);\n    this.pointList = [];\n    this.markerIndex = 0;\n    this.setStyle(props.style);\n    this.createPoint = this.createPoint.bind(this);\n    this.getCurrentSelectedData = this.getCurrentSelectedData.bind(this);\n    this.updateSelectedTextAttribute = this.updateSelectedTextAttribute.bind(this);\n    this.setSelectedID = this.setSelectedID.bind(this);\n  }\n  get dataList() {\n    return this.pointList;\n  }\n  get drawOutsideTarget() {\n    var _a;\n    return (_a = this.config.drawOutsideTarget) != null ? _a : this.config.drawPointOut;\n  }\n  setNextMarker(pointList = this.pointList) {\n    if (this.hasMarkerConfig) {\n      const nextMarkerInfo = CommonToolUtils.getNextMarker(this.getCurrentPageResult(pointList), this.config.markerList);\n      if (nextMarkerInfo) {\n        this.setMarkerIndexAndSelect(nextMarkerInfo.index);\n      }\n    }\n  }\n  setResult(pointList) {\n    this.clearActiveStatus();\n    this.setPointList(pointList);\n    this.setNextMarker(pointList);\n    this.render();\n  }\n  setPointList(pointList, isUpload = false) {\n    const oldLen = this.pointList.length;\n    this.pointList = pointList;\n    if (oldLen !== pointList.length) {\n      this.emit(\"updatePageNumber\");\n    }\n    if (isUpload) {\n      this.emit(\"updateResult\");\n    }\n  }\n  setConfig(config, isClear = false) {\n    this.config = CommonToolUtils.jsonParser(config);\n    if (isClear === true) {\n      this.clearResult();\n    }\n  }\n  clearResult() {\n    this.setPointList([]);\n    this.setSelectedID(void 0);\n    this.history.pushHistory([]);\n    this.hoverID = \"\";\n    this.render();\n  }\n  setDefaultAttribute(defaultAttribute = \"\") {\n    const oldDefault = this.defaultAttribute;\n    this.defaultAttribute = defaultAttribute;\n    if (oldDefault !== defaultAttribute) {\n      this.changeStyle(defaultAttribute);\n      this.emit(\"changeAttributeSidebar\");\n      const {selectedID} = this;\n      if (selectedID) {\n        this.pointList.forEach((point) => {\n          if (point.id === selectedID) {\n            point.attribute = defaultAttribute;\n          }\n        });\n        this.history.pushHistory(this.pointList);\n        this.render();\n      }\n      if (this._textAttributInstance) {\n        if (this.attributeLockList.length > 0 && !this.attributeLockList.includes(defaultAttribute)) {\n          this._textAttributInstance.clearTextAttribute();\n          return;\n        }\n        this._textAttributInstance.updateIcon(this.getTextIconSvg(defaultAttribute));\n      }\n    }\n  }\n  get selectedText() {\n    var _a;\n    return (_a = this.pointList.find((item) => item.id === this.selectedID)) == null ? void 0 : _a.textAttribute;\n  }\n  setStyle(toolStyle) {\n    var _a;\n    super.setStyle(toolStyle);\n    if (this._textAttributInstance && this.config.attributeConfigurable === false) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.updateIcon(this.getTextIconSvg());\n    }\n  }\n  setSelectedID(newID) {\n    var _a, _b;\n    const oldID = this.selectedID;\n    if (newID !== oldID && oldID) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.changeSelected();\n    }\n    if (!newID) {\n      (_b = this._textAttributInstance) == null ? void 0 : _b.clearTextAttribute();\n    }\n    this.selectedID = newID;\n    this.render();\n    this.emit(\"selectedChange\");\n  }\n  getTextIconSvg(attribute = \"\") {\n    return AttributeUtils.getTextIconSvg(attribute, this.config.attributeList, this.config.attributeConfigurable, this.baseIcon);\n  }\n  clearActiveStatus() {\n    this.hoverID = void 0;\n    this.dragStatus = EDragStatus.Wait;\n    this.setSelectedID(void 0);\n  }\n  setBasicResult(basicResult) {\n    super.setBasicResult(basicResult);\n    this.setNextMarker();\n    this.clearActiveStatus();\n  }\n  onMouseDown(e) {\n    if (super.onMouseDown(e) || this.forbidMouseOperation) {\n      return;\n    }\n    if (e.button === 0 && !this.hoverID) {\n      this.createPoint(e);\n      this.render();\n      return;\n    }\n    if (this.hoverID === this.selectedID && e.button === 0) {\n      this.dragStatus = EDragStatus.Start;\n    }\n    this.render();\n    return true;\n  }\n  onMouseMove(e) {\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    this.hoverID = this.getHoverId();\n    if (this.dragStatus === EDragStatus.Start || this.dragStatus === EDragStatus.Move) {\n      this.onDragMove(e);\n    }\n    if (this.hoverID) {\n      this.render();\n    }\n    return void 0;\n  }\n  onMouseUp(e) {\n    if (super.onMouseUp(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return true;\n    }\n    if (e.button === 2) {\n      this.rightMouseUp();\n    }\n    if (this.dragStatus === EDragStatus.Move) {\n      this.history.pushHistory(this.pointList);\n    }\n    this.dragStatus = EDragStatus.Wait;\n    this.render();\n  }\n  onDragMove(e) {\n    var _a, _b;\n    if (!this.imgInfo)\n      return;\n    this.dragStatus = EDragStatus.Move;\n    const coordinateZoom = this.getCoordinateUnderZoom(e);\n    const zoomCoordinate = AxisUtils.changeDrawOutsideTarget(coordinateZoom, {x: 0, y: 0}, this.imgInfo, this.drawOutsideTarget, this.basicResult, this.zoom);\n    const coordinate = this.drawOutsideTarget ? AxisUtils.getOriginCoordinateWithOffsetCoordinate(this.coord, this.zoom, this.currentPos) : AxisUtils.changePointByZoom(zoomCoordinate, 1 / this.zoom);\n    if (this.drawOutsideTarget === false) {\n      if (this.dependToolName === EToolName.Polygon && ((_b = (_a = this.basicResult) == null ? void 0 : _a.pointList) == null ? void 0 : _b.length) > 0 && !PolygonUtils.isInPolygon(coordinate, this.basicResult.pointList)) {\n        return;\n      }\n    }\n    this.pointList.forEach((point) => {\n      if (point.id === this.selectedID) {\n        point.x = coordinate.x;\n        point.y = coordinate.y;\n      }\n    });\n    this.render();\n  }\n  onKeyDown(e) {\n    if (!CommonToolUtils.hotkeyFilter(e)) {\n      return;\n    }\n    if (super.onKeyDown(e) === false) {\n      return;\n    }\n    const {keyCode} = e;\n    switch (keyCode) {\n      case EKeyCode.Delete:\n        this.deletePoint();\n        break;\n      case EKeyCode.Tab: {\n        this.onTabKeyDown(e);\n        break;\n      }\n      case EKeyCode.Z:\n        this.setIsHidden(!this.isHidden);\n        this.render();\n        break;\n      default: {\n        if (this.config.attributeConfigurable) {\n          const keyCode2Attribute = AttributeUtils.getAttributeByKeycode(keyCode, this.config.attributeList);\n          if (keyCode2Attribute !== void 0) {\n            this.setDefaultAttribute(keyCode2Attribute);\n          }\n        }\n        break;\n      }\n    }\n  }\n  createPoint(e) {\n    var _a, _b, _c, _d;\n    if (!this.imgInfo)\n      return;\n    const {upperLimit} = this.config;\n    if (upperLimit && this.currentPageResult.length >= upperLimit) {\n      this.emit(\"messageInfo\", `${Locale.getMessagesByLocale(EMessage.LowerLimitPoint, this.lang)}`);\n      return;\n    }\n    const basicSourceID = CommonToolUtils.getSourceID(this.basicResult);\n    const coordinateZoom = this.getCoordinateUnderZoom(e);\n    let coordinate = AxisUtils.getOriginCoordinateWithOffsetCoordinate(this.coord, this.zoom, this.currentPos);\n    if (this.config.edgeAdsorption && this.referenceData) {\n      const isAllowEdgeAdsoption = [EToolName.Polygon, EToolName.Line].includes((_a = this.referenceData) == null ? void 0 : _a.toolName);\n      if (isAllowEdgeAdsoption) {\n        const isClose = ((_b = this.referenceData) == null ? void 0 : _b.toolName) === EToolName.Polygon;\n        const {dropFoot, hasClosed} = PolygonUtils.getClosestPoint(coordinate, this.referenceData.result, (_d = (_c = this.referenceData.config) == null ? void 0 : _c.lineType) != null ? _d : ELineTypes.Line, edgeAdsorptionScope / this.zoom, {isClose});\n        if (dropFoot) {\n          coordinate = dropFoot;\n        }\n        if (hasClosed) {\n          this.emit(\"messageSuccess\", `${Locale.getMessagesByLocale(EMessage.SuccessfulEdgeAdsorption, this.lang)}`);\n        }\n      }\n    }\n    if (this.drawOutsideTarget === false) {\n      if (this.dependToolName && this.basicCanvas) {\n        let isOutSide = false;\n        switch (this.dependToolName) {\n          case EToolName.Rect: {\n            isOutSide = !RectUtils.isInRect(coordinate, this.basicResult);\n            break;\n          }\n          case EToolName.Polygon: {\n            isOutSide = !PolygonUtils.isInPolygon(coordinate, this.basicResult.pointList);\n            break;\n          }\n        }\n        if (isOutSide) {\n          return;\n        }\n      }\n      if (coordinateZoom.x < 0 || coordinateZoom.y < 0 || coordinateZoom.x > this.imgInfo.width || coordinateZoom.y > this.imgInfo.height) {\n        return;\n      }\n    }\n    if (this.isMinDistance(coordinate)) {\n      return;\n    }\n    let newDrawingPoint = __spreadProps(__spreadValues({}, coordinate), {\n      attribute: this.defaultAttribute,\n      valid: !e.ctrlKey,\n      id: uuid(8, 62),\n      sourceID: basicSourceID,\n      textAttribute: \"\",\n      order: CommonToolUtils.getMaxOrder(this.pointList.filter((v) => CommonToolUtils.isSameSourceID(v.sourceID, basicSourceID))) + 1\n    });\n    if (this.config.textConfigurable) {\n      let textAttribute = \"\";\n      textAttribute = AttributeUtils.getTextAttribute(this.pointList.filter((point) => CommonToolUtils.isSameSourceID(point.sourceID, basicSourceID)), this.config.textCheckType);\n      newDrawingPoint = __spreadProps(__spreadValues({}, newDrawingPoint), {\n        textAttribute\n      });\n    }\n    if (this.hasMarkerConfig) {\n      const nextMarkInfo = CommonToolUtils.getNextMarker(this.currentPageResult, this.config.markerList, this.markerIndex);\n      if (nextMarkInfo) {\n        newDrawingPoint = __spreadProps(__spreadValues({}, newDrawingPoint), {\n          label: nextMarkInfo.label\n        });\n        this.markerIndex = nextMarkInfo.index;\n        this.emit(\"markIndexChange\");\n      } else {\n        this.emit(\"messageInfo\", Locale.getMessagesByLocale(EMessage.MarkerFinish, this.lang));\n        return;\n      }\n    }\n    this.hoverID = newDrawingPoint.id;\n    const newPointList = [...this.pointList, newDrawingPoint];\n    this.setPointList(newPointList);\n    this.history.pushHistory(newPointList);\n    this.setSelectedID(newDrawingPoint.id);\n  }\n  isInPoint(pos, point, zoom = this.zoom) {\n    return (this.style.width + 2) / zoom >= Math.sqrt(__pow(pos.x - point.x, 2) + __pow(pos.y - point.y, 2));\n  }\n  getHoverId() {\n    var _a;\n    const pos = AxisUtils.getOriginCoordinateWithOffsetCoordinate(this.coord, this.zoom, this.currentPos);\n    const selectPoint = (_a = this.pointList) == null ? void 0 : _a.find((print) => this.isInPoint(pos, print));\n    return selectPoint == null ? void 0 : selectPoint.id;\n  }\n  rightMouseUp() {\n    if (this.selectedID === this.hoverID) {\n      const pointList = this.pointList.filter((point) => point.id !== this.selectedID);\n      this.setPointList(pointList);\n      this.history.pushHistory(pointList);\n      this.setSelectedID(\"\");\n      this.hoverID = \"\";\n      return;\n    }\n    const hoverPoint = this.pointList.find((point) => point.id === this.hoverID);\n    this.setSelectedID(this.hoverID);\n    this.setDefaultAttribute(hoverPoint == null ? void 0 : hoverPoint.attribute);\n    if ((hoverPoint == null ? void 0 : hoverPoint.label) && this.hasMarkerConfig) {\n      const markerIndex = CommonToolUtils.getCurrentMarkerIndex(hoverPoint.label, this.config.markerList);\n      if (markerIndex >= 0) {\n        this.setMarkerIndex(markerIndex);\n        this.emit(\"markIndexChange\");\n      }\n    }\n  }\n  onTabKeyDown(e) {\n    e.preventDefault();\n    if (this.dragStatus === EDragStatus.Move || this.dragStatus === EDragStatus.Start) {\n      return;\n    }\n    let sort = ESortDirection.ascend;\n    if (e.shiftKey) {\n      sort = ESortDirection.descend;\n    }\n    const [showingResult, selectedResult] = CommonToolUtils.getRenderResultList(this.pointList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedID);\n    let pointList = [...showingResult];\n    if (selectedResult) {\n      pointList = [...pointList, selectedResult];\n    }\n    const nextSelectedRect = CommonToolUtils.getNextSelectedRectID(pointList, sort, this.selectedID);\n    if (nextSelectedRect) {\n      this.setSelectedID(nextSelectedRect.id);\n    }\n  }\n  get currentPageResult() {\n    const [showingPolygon] = CommonToolUtils.getRenderResultList(this.pointList, CommonToolUtils.getSourceID(this.basicResult), []);\n    return showingPolygon;\n  }\n  getCurrentPageResult(pointList) {\n    const [showingRect] = CommonToolUtils.getRenderResultList(pointList, CommonToolUtils.getSourceID(this.basicResult), []);\n    return showingRect;\n  }\n  exportData() {\n    const {pointList} = this;\n    return [pointList, this.basicImgInfo];\n  }\n  deletePoint() {\n    var _a;\n    if (this.selectedID) {\n      this.setPointList(this.pointList.filter((point) => point.id !== this.selectedID));\n      this.history.pushHistory(this.pointList);\n      (_a = this._textAttributInstance) == null ? void 0 : _a.clearTextAttribute();\n      this.emit(\"selectedChange\");\n      this.render();\n    }\n  }\n  undoAndRedo(name) {\n    var _a, _b;\n    if (this.dragStatus === EDragStatus.Move || this.dragStatus === EDragStatus.Start) {\n      return;\n    }\n    const rectList = (_b = (_a = this.history)[name]) == null ? void 0 : _b.call(_a);\n    if (!(rectList == null ? void 0 : rectList.some((point) => point.id === this.selectedID))) {\n      this.setSelectedID(\"\");\n    }\n    if (rectList) {\n      this.setPointList(rectList, true);\n      this.render();\n    }\n  }\n  undo() {\n    this.undoAndRedo(\"undo\");\n  }\n  redo() {\n    this.undoAndRedo(\"redo\");\n  }\n  getCurrentSelectedData() {\n    var _a;\n    if (!this.selectedID)\n      return;\n    const point = (_a = this.pointList) == null ? void 0 : _a.find((item) => item.id === this.selectedID);\n    const toolColor = this.getColor(point == null ? void 0 : point.attribute);\n    const color = (point == null ? void 0 : point.valid) ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    this.dragStatus = EDragStatus.Wait;\n    return {\n      width: TEXTAREA_WIDTH * this.zoom * 0.6,\n      textAttribute: (point == null ? void 0 : point.textAttribute) || \"\",\n      color\n    };\n  }\n  updateSelectedTextAttribute(newTextAttribute) {\n    if (this._textAttributInstance && newTextAttribute && this.selectedID) {\n      let textAttribute = newTextAttribute;\n      if (AttributeUtils.textAttributeValidate(this.config.textCheckType, \"\", textAttribute) === false) {\n        this.emit(\"messageError\", AttributeUtils.getErrorNotice(this.config.textCheckType, this.lang));\n        textAttribute = \"\";\n      }\n      this.setPointList(AttributeUtils.textChange(textAttribute, this.selectedID, this.pointList));\n      this.emit(\"updateTextAttribute\");\n      this.render();\n    }\n  }\n  renderTextAttribute() {\n    var _a, _b;\n    const point = (_a = this.pointList) == null ? void 0 : _a.find((item) => item.id === this.selectedID);\n    if (!this.ctx || this.config.textConfigurable !== true || !point) {\n      return;\n    }\n    const {x, y, attribute, valid} = point;\n    const newWidth = TEXTAREA_WIDTH * this.zoom * 0.6;\n    const coordinate = AxisUtils.getOffsetCoordinate({x, y}, this.currentPos, this.zoom);\n    const toolColor = this.getColor(attribute);\n    const color = valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    const distance = 4;\n    if (!this._textAttributInstance) {\n      this._textAttributInstance = new TextAttributeClass({\n        width: newWidth,\n        container: this.container,\n        icon: this.getTextIconSvg(attribute),\n        color,\n        getCurrentSelectedData: this.getCurrentSelectedData,\n        updateSelectedTextAttribute: this.updateSelectedTextAttribute\n      });\n    }\n    if (this._textAttributInstance && !((_b = this._textAttributInstance) == null ? void 0 : _b.isExit)) {\n      this._textAttributInstance.appendToContainer();\n    }\n    this._textAttributInstance.update(`${point.textAttribute}`, {\n      left: coordinate.x,\n      top: coordinate.y + distance,\n      color,\n      width: newWidth\n    });\n  }\n  renderPoint(point) {\n    var _a, _b, _c;\n    const {textAttribute = \"\", attribute} = point;\n    const selected = point.id === this.selectedID;\n    const toolColor = this.getColor(attribute);\n    const transformPoint = AxisUtils.changePointByZoom(point, this.zoom, this.currentPos);\n    const {width = 2, hiddenText = false} = this.style;\n    const toolData = StyleUtils.getStrokeAndFill(toolColor, point.valid, {\n      isSelected: selected || point.id === this.hoverID\n    });\n    DrawUtils.drawCircle(this.canvas, transformPoint, width, {\n      startAngleDeg: 0,\n      endAngleDeg: 360,\n      thickness: 1,\n      color: toolData.stroke,\n      fill: toolData.fill\n    });\n    let showText = \"\";\n    const isShowOrder = ((_a = this.config) == null ? void 0 : _a.isShowOrder) || ((_b = this.config) == null ? void 0 : _b.showOrder);\n    if (isShowOrder && point.order && (point == null ? void 0 : point.order) > 0) {\n      showText = `${point.order}`;\n    }\n    if (point.label && this.hasMarkerConfig) {\n      const order = CommonToolUtils.getCurrentMarkerIndex(point.label, this.config.markerList) + 1;\n      showText = `${order}_${MarkerUtils.getMarkerShowText(point.label, this.config.markerList)}`;\n    }\n    if (point.attribute) {\n      showText = `${showText}  ${AttributeUtils.getAttributeShowText(point.attribute, (_c = this.config) == null ? void 0 : _c.attributeList)}`;\n    }\n    if (!hiddenText) {\n      DrawUtils.drawText(this.canvas, {x: transformPoint.x + width / 2, y: transformPoint.y - width - 4}, showText, {\n        textAlign: \"center\",\n        color: toolData.stroke\n      });\n    }\n    if (selected) {\n      this.renderTextAttribute();\n    } else if (!hiddenText) {\n      DrawUtils.drawText(this.canvas, {x: transformPoint.x + width, y: transformPoint.y + width + 24}, textAttribute, __spreadValues({\n        color: toolData.stroke\n      }, DEFAULT_TEXT_OFFSET));\n    }\n  }\n  renderPointList() {\n    const [showingPointList, selectedPoint] = CommonToolUtils.getRenderResultList(this.pointList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedID);\n    if (!this.isHidden) {\n      showingPointList.forEach((point) => {\n        this.renderPoint(point);\n      });\n    }\n    if (selectedPoint) {\n      this.renderPoint(selectedPoint);\n    }\n  }\n  renderTop() {\n    var _a, _b, _c;\n    const color = this.getLineColor(this.defaultAttribute);\n    this.renderCursorLine(color);\n    if (this.config.edgeAdsorption && this.referenceData) {\n      let coordinate = AxisUtils.getOriginCoordinateWithOffsetCoordinate(this.coord, this.zoom, this.currentPos);\n      const isClose = ((_a = this.referenceData) == null ? void 0 : _a.toolName) === EToolName.Polygon;\n      const {dropFoot} = PolygonUtils.getClosestPoint(coordinate, this.referenceData.result, (_c = (_b = this.referenceData.config) == null ? void 0 : _b.lineType) != null ? _c : ELineTypes.Line, edgeAdsorptionScope / this.zoom, {\n        isClose\n      });\n      if (dropFoot && coordinate !== dropFoot) {\n        if (coordinate !== dropFoot) {\n          coordinate = dropFoot;\n          DrawUtils.drawCircle(this.canvas, AxisUtils.changePointByZoom(coordinate, this.zoom, this.currentPos), 5, {\n            color: \"white\",\n            fill: \"white\"\n          });\n          DrawUtils.drawCircle(this.canvas, AxisUtils.changePointByZoom(coordinate, this.zoom, this.currentPos), 3, {\n            fill: color,\n            color\n          });\n        }\n      }\n    }\n  }\n  render() {\n    if (!this.ctx)\n      return;\n    super.render();\n    this.renderPointList();\n    this.renderTop();\n  }\n}\n\nexport { PointOperation as default };\n","const ANNOTATION_TYPE = {\n  0: \"\\u76EE\\u6807\\u68C0\\u6D4B\",\n  1: \"\\u56FE\\u50CF\\u5206\\u7C7B\"\n};\nconst ANNOTATION_STATUS = {\n  0: \"\\u6807\\u6CE8\\u6587\\u4EF6\\u4F20\\u8F93\\u4E2D\",\n  1: \"\\u6807\\u6CE8\\u6587\\u4EF6\\u4F20\\u8F93\\u91CD\\u8BD5\",\n  2: \"\\u6807\\u6CE8\\u6587\\u4EF6\\u4F20\\u8F93\\u5931\\u8D25\",\n  3: \"\\u6807\\u6CE8\\u4E2D\",\n  4: \"\\u4EFB\\u52A1\\u7EC8\\u6B62\",\n  5: \"\\u4EFB\\u52A1\\u5B8C\\u6210\",\n  6: \"\\u6570\\u636E\\u5DF2\\u53D1\\u5E03\"\n};\nvar EAnnotationStatus;\n(function(EAnnotationStatus2) {\n  EAnnotationStatus2[EAnnotationStatus2[\"Upload\"] = 0] = \"Upload\";\n  EAnnotationStatus2[EAnnotationStatus2[\"UploadRetry\"] = 1] = \"UploadRetry\";\n  EAnnotationStatus2[EAnnotationStatus2[\"UploadFail\"] = 2] = \"UploadFail\";\n  EAnnotationStatus2[EAnnotationStatus2[\"Annotation\"] = 3] = \"Annotation\";\n  EAnnotationStatus2[EAnnotationStatus2[\"Terminated\"] = 4] = \"Terminated\";\n  EAnnotationStatus2[EAnnotationStatus2[\"Finish\"] = 5] = \"Finish\";\n  EAnnotationStatus2[EAnnotationStatus2[\"Publish\"] = 6] = \"Publish\";\n})(EAnnotationStatus || (EAnnotationStatus = {}));\n\nexport { ANNOTATION_STATUS, ANNOTATION_TYPE, EAnnotationStatus };\n","import uuid from '../../utils/uuid.js';\nimport EKeyCode from '../../constant/keyCode.js';\nimport CommonToolUtils from '../../utils/tool/CommonToolUtils.js';\nimport { BasicToolOperation } from './basicToolOperation.js';\n\nclass TextToolOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.getSingleResult = (sourceID) => {\n      const initValue = {};\n      if (this.config.configList.length > 0) {\n        this.config.configList.forEach((i) => {\n          var _a;\n          initValue[i.key] = (_a = i.default) != null ? _a : \"\";\n        });\n      }\n      return {value: initValue, id: uuid(), sourceID: sourceID != null ? sourceID : CommonToolUtils.getSourceID()};\n    };\n    this.getInitResultList = (dataSourceStep, basicResultList) => {\n      if (dataSourceStep > 0) {\n        return basicResultList.map((i) => this.getSingleResult(i.id));\n      }\n      return [this.getSingleResult()];\n    };\n    this.textList = [];\n    this.setShowDefaultCursor(true);\n    this.setConfig(props.config);\n    this.initTextDisplayContainer();\n  }\n  get dataList() {\n    return this.textList;\n  }\n  get textValueContainerID() {\n    return \"textValueContainer\";\n  }\n  get textValueContainer() {\n    return document.getElementById(this.textValueContainerID);\n  }\n  get currentPageResult() {\n    return this.textList;\n  }\n  setResult(textResultList) {\n    var _a;\n    this.textList = textResultList;\n    this.toggleTextContainerVisible(true);\n    const values = (_a = this.textList[0]) == null ? void 0 : _a.value;\n    if (values) {\n      Object.keys(values).forEach((k) => {\n        this.renderText(k, values[k]);\n      });\n    }\n    this.emit(\"valueUpdated\");\n    this.toggleTextContainerVisible(!!values);\n  }\n  updateTextValue(k, v) {\n    this.textList[0].value[k] = v;\n    this.renderText(k, v);\n    this.emit(\"valueUpdated\");\n  }\n  renderText(key, value) {\n    const textDom = document.getElementById(`textKey${key}`);\n    if (textDom) {\n      textDom.innerText = value;\n    }\n  }\n  getTextDomID(key) {\n    return `textKey${key}`;\n  }\n  initTextDisplayContainer() {\n    const dom = document.createElement(\"div\");\n    const domStyle = {\n      position: \"absolute\",\n      right: \"0\",\n      top: \"0\",\n      \"z-index\": \"20\",\n      \"max-width\": \"20%\",\n      \"font-family\": \"SourceHanSansCN-Regular\",\n      background: \"rgb(102, 230, 255)\",\n      color: \"white\",\n      \"word-break\": \"break-all\",\n      \"line-height\": \"24px\",\n      \"white-space\": \"pre-wrap\",\n      \"max-height\": \"80%\",\n      \"overflow-y\": \"auto\",\n      opacity: \"0.6\"\n    };\n    dom.setAttribute(\"style\", Object.keys(domStyle).reduce((pre, key) => {\n      pre += `${key}: ${domStyle[key]};`;\n      return pre;\n    }, \"\"));\n    dom.setAttribute(\"id\", this.textValueContainerID);\n    this.config.configList.forEach((i) => {\n      const div = document.createElement(\"div\");\n      const label = document.createElement(\"div\");\n      const value = document.createElement(\"div\");\n      div.setAttribute(\"style\", \"padding: 8px 16px\");\n      label.innerText = `${i.key}:`;\n      value.innerText = \"\";\n      value.setAttribute(\"id\", this.getTextDomID(i.key));\n      div.appendChild(label);\n      div.appendChild(value);\n      dom.appendChild(div);\n    });\n    this.container.appendChild(dom);\n  }\n  exportData() {\n    return [this.textList, this.basicImgInfo];\n  }\n  destroyCanvas() {\n    super.destroyCanvas();\n    if (this.textValueContainer) {\n      this.container.removeChild(this.textValueContainer);\n    }\n  }\n  onKeyDown(e) {\n    super.onKeyDown(e);\n    if (e.keyCode === EKeyCode.Z) {\n      this.toggleTextContainerVisible();\n    }\n  }\n  toggleTextContainerVisible(isVisible) {\n    if (this.textValueContainer) {\n      const display = (isVisible !== void 0 ? !isVisible : this.textValueContainer.style.display === \"block\") ? \"none\" : \"block\";\n      this.textValueContainer.style.display = display;\n    }\n  }\n}\n\nexport { TextToolOperation as default };\n","import { i18n } from '@labelbee/lb-utils';\nimport MathUtils from '../../utils/MathUtils.js';\nimport RectUtils from '../../utils/tool/RectUtils.js';\nimport { ERotateDirection, EDragStatus, ESortDirection, EDragTarget, TEXT_ATTRIBUTE_OFFSET, DEFAULT_TEXT_OFFSET } from '../../constant/annotation.js';\nimport EKeyCode from '../../constant/keyCode.js';\nimport { EPolygonPattern, edgeAdsorptionScope, ELineTypes, EToolName } from '../../constant/tool.js';\nimport Locale from '../../locales/index.js';\nimport { EMessage } from '../../locales/constants.js';\nimport ActionsHistory from '../../utils/ActionsHistory.js';\nimport AttributeUtils from '../../utils/tool/AttributeUtils.js';\nimport AxisUtils from '../../utils/tool/AxisUtils.js';\nimport CanvasUtils from '../../utils/tool/CanvasUtils.js';\nimport CommonToolUtils from '../../utils/tool/CommonToolUtils.js';\nimport DrawUtils from '../../utils/tool/DrawUtils.js';\nimport PolygonUtils from '../../utils/tool/PolygonUtils.js';\nimport StyleUtils from '../../utils/tool/StyleUtils.js';\nimport uuid from '../../utils/uuid.js';\nimport { BasicToolOperation } from './basicToolOperation.js';\nimport TextAttributeClass from './textAttributeClass.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst TEXT_MAX_WIDTH = 164;\nclass PolygonOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.isAllowDouble = (e) => {\n      const {selectedID} = this;\n      const currentSelectedID = this.getHoverID(e);\n      if (selectedID && selectedID === currentSelectedID) {\n        return true;\n      }\n      return false;\n    };\n    this.textChange = (v) => {\n      if (this.config.textConfigurable === false || !this.selectedID) {\n        return;\n      }\n      this.setPolygonList(AttributeUtils.textChange(v, this.selectedID, this.polygonList));\n      this.emit(\"selectedChange\");\n      this.render();\n    };\n    this.config = CommonToolUtils.jsonParser(props.config);\n    this.drawingPointList = [];\n    this.polygonList = [];\n    this.hoverPointIndex = -1;\n    this.hoverEdgeIndex = -1;\n    this.drawingHistory = new ActionsHistory();\n    this.isCtrl = false;\n    this.isAlt = false;\n    this.isCombined = false;\n    this.pattern = EPolygonPattern.Normal;\n    this.getCurrentSelectedData = this.getCurrentSelectedData.bind(this);\n    this.updateSelectedTextAttribute = this.updateSelectedTextAttribute.bind(this);\n  }\n  eventBinding() {\n    super.eventBinding();\n    this.container.removeEventListener(\"mouseup\", this.onMouseUp);\n    this.container.addEventListener(\"mouseup\", this.dragMouseUp);\n    this.dblClickListener.addEvent(this.onMouseUp, this.onLeftDblClick, this.onRightDblClick, this.isAllowDouble);\n  }\n  eventUnbinding() {\n    super.eventUnbinding();\n    this.container.removeEventListener(\"mouseup\", this.dragMouseUp);\n  }\n  destroy() {\n    super.destroy();\n    if (this._textAttributInstance) {\n      this._textAttributInstance.clearTextAttribute();\n    }\n  }\n  get selectedPolygon() {\n    return PolygonUtils.getPolygonByID(this.polygonList, this.selectedID);\n  }\n  get hoverPolygon() {\n    return this.polygonList.find((v) => v.id === this.hoverID && v.id !== this.selectedID);\n  }\n  get polygonListUnderZoom() {\n    return this.polygonList.map((polygon) => __spreadProps(__spreadValues({}, polygon), {\n      pointList: AxisUtils.changePointListByZoom(polygon.pointList, this.zoom)\n    }));\n  }\n  get selectedText() {\n    var _a;\n    return (_a = this.selectedPolygon) == null ? void 0 : _a.textAttribute;\n  }\n  get dataList() {\n    return this.polygonList;\n  }\n  setPattern(pattern, isForce = false) {\n    var _a;\n    if (((_a = this.drawingPointList) == null ? void 0 : _a.length) > 0 && isForce === true) {\n      return;\n    }\n    this.pattern = pattern;\n  }\n  get currentShowList() {\n    let polygon = [];\n    const [showingPolygon, selectdPolygon] = CommonToolUtils.getRenderResultList(this.polygonList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedID);\n    polygon = showingPolygon;\n    if (this.isHidden) {\n      polygon = [];\n    }\n    if (selectdPolygon) {\n      polygon.push(selectdPolygon);\n    }\n    return polygon;\n  }\n  get currentPageResult() {\n    const [showingPolygon] = CommonToolUtils.getRenderResultList(this.polygonList, CommonToolUtils.getSourceID(this.basicResult), []);\n    return showingPolygon;\n  }\n  setResultAndSelectedID(polygonList, selectedID) {\n    this.setPolygonList(polygonList);\n    if (selectedID) {\n      this.selectedID = selectedID;\n    }\n    this.render();\n  }\n  setResult(polygonList) {\n    this.clearActiveStatus();\n    this.setPolygonList(polygonList);\n    this.render();\n  }\n  setPolygonDataByID(newPolygonData, id) {\n    return this.polygonList.map((polygon) => {\n      if (polygon.id === id) {\n        return __spreadValues(__spreadValues({}, polygon), newPolygonData);\n      }\n      return polygon;\n    });\n  }\n  rotatePolygon(angle = 1, direction = ERotateDirection.Clockwise, selectedID = this.selectedID) {\n    if (!selectedID) {\n      return;\n    }\n    const selectedPolygon = PolygonUtils.getPolygonByID(this.polygonList, selectedID);\n    if (!selectedPolygon) {\n      return;\n    }\n    const rotatePointList = PolygonUtils.updatePolygonByRotate(direction, angle, selectedPolygon == null ? void 0 : selectedPolygon.pointList);\n    this.setPolygonList(this.setPolygonDataByID({pointList: rotatePointList}, selectedID));\n    this.render();\n  }\n  addPointInDrawing(e) {\n    if (!this.imgInfo) {\n      return;\n    }\n    if (this.forbidAddNewPolygonFuc && this.forbidAddNewPolygonFuc(e)) {\n      return;\n    }\n    const {upperLimitPointNum, edgeAdsorption} = this.config;\n    if (upperLimitPointNum && this.drawingPointList.length >= upperLimitPointNum) {\n      this.emit(\"messageInfo\", `${Locale.getMessagesByLocale(EMessage.UpperLimitErrorNotice, this.lang)}${upperLimitPointNum}`);\n      return;\n    }\n    this.deleteSelectedID();\n    const coordinateZoom = this.getCoordinateUnderZoom(e);\n    const coordinate = AxisUtils.changeDrawOutsideTarget(coordinateZoom, {x: 0, y: 0}, this.imgInfo, this.config.drawOutsideTarget, this.basicResult, this.zoom);\n    const calculateHoverPointIndex = AxisUtils.returnClosePointIndex(coordinate, AxisUtils.changePointListByZoom(this.drawingPointList, this.zoom));\n    if (calculateHoverPointIndex === 0) {\n      this.addDrawingPointToPolygonList();\n      return;\n    }\n    const {dropFoot} = PolygonUtils.getClosestPoint(coordinate, this.polygonListUnderZoom, this.config.lineType, edgeAdsorptionScope);\n    const coordinateWithOrigin = AxisUtils.changePointByZoom(dropFoot && e.altKey === false && edgeAdsorption ? dropFoot : coordinate, 1 / this.zoom);\n    if (this.pattern === EPolygonPattern.Rect && this.drawingPointList.length === 2) {\n      const rect = MathUtils.getRectangleByRightAngle(coordinateWithOrigin, this.drawingPointList);\n      this.drawingPointList = rect;\n      if (this.config.drawOutsideTarget === false && this.imgInfo) {\n        const isOutSide = this.isPolygonOutSide(this.drawingPointList);\n        if (isOutSide) {\n          this.emit(\"messageInfo\", `${Locale.getMessagesByLocale(EMessage.ForbiddenCreationOutsideBoundary, this.lang)}`);\n          this.drawingPointList = [];\n          return;\n        }\n      }\n      this.addDrawingPointToPolygonList(true);\n      return;\n    }\n    this.drawingPointList.push(coordinateWithOrigin);\n    if (this.drawingPointList.length === 1) {\n      this.drawingHistory.initRecord(this.drawingPointList);\n    } else {\n      this.drawingHistory.pushHistory(this.drawingPointList);\n    }\n  }\n  clearResult() {\n    this.setPolygonList([]);\n    this.deleteSelectedID();\n    this.render();\n  }\n  clearPolygonDrag() {\n    this.drawingPointList = [];\n    this.dragInfo = void 0;\n    this.dragInfo = void 0;\n    this.dragStatus = EDragStatus.Wait;\n    this.hoverEdgeIndex = -1;\n    this.hoverPointIndex = -1;\n    this.hoverID = \"\";\n  }\n  clearActiveStatus() {\n    this.clearPolygonDrag();\n    this.deleteSelectedID();\n  }\n  clearDrawingStatus() {\n    this.drawingPointList = [];\n  }\n  setPolygonList(polygonList) {\n    const oldLen = this.polygonList.length;\n    this.polygonList = polygonList;\n    if (oldLen !== polygonList.length) {\n      this.emit(\"updatePageNumber\");\n    }\n  }\n  setSelectedID(newID) {\n    var _a, _b;\n    const oldID = this.selectedID;\n    if (newID !== oldID && oldID) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.changeSelected();\n    }\n    if (!newID) {\n      (_b = this._textAttributInstance) == null ? void 0 : _b.clearTextAttribute();\n    }\n    this.selectedID = newID;\n    this.render();\n    this.emit(\"selectedChange\");\n  }\n  setDefaultAttribute(defaultAttribute = \"\") {\n    const oldDefault = this.defaultAttribute;\n    this.defaultAttribute = defaultAttribute;\n    if (oldDefault !== defaultAttribute) {\n      this.changeStyle(defaultAttribute);\n      this.emit(\"changeAttributeSidebar\");\n      const {selectedID} = this;\n      if (selectedID) {\n        if (this.selectedPolygon) {\n          this.selectedPolygon.attribute = defaultAttribute;\n        }\n        this.history.pushHistory(this.polygonList);\n        this.render();\n      }\n      if (this._textAttributInstance) {\n        if (this.attributeLockList.length > 0 && !this.attributeLockList.includes(defaultAttribute)) {\n          this._textAttributInstance.clearTextAttribute();\n          return;\n        }\n        this._textAttributInstance.updateIcon(this.getTextIconSvg(defaultAttribute));\n      }\n    }\n  }\n  setStyle(toolStyle) {\n    var _a;\n    super.setStyle(toolStyle);\n    if (this._textAttributInstance && this.config.attributeConfigurable === false) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.updateIcon(this.getTextIconSvg());\n    }\n  }\n  setPolygonValidAndRender(id) {\n    if (!id) {\n      return;\n    }\n    const newPolygonList = this.polygonList.map((polygon) => {\n      var _a;\n      if (polygon.id === id) {\n        const valid = (_a = polygon == null ? void 0 : polygon.valid) != null ? _a : true;\n        return __spreadProps(__spreadValues({}, polygon), {\n          valid: !valid\n        });\n      }\n      return polygon;\n    });\n    this.setPolygonList(newPolygonList);\n    this.history.pushHistory(this.polygonList);\n    this.render();\n    this.emit(\"updateResult\");\n  }\n  addDrawingPointToPolygonList(isRect) {\n    let {lowerLimitPointNum = 3} = this.config;\n    if (lowerLimitPointNum < 3) {\n      lowerLimitPointNum = 3;\n    }\n    let createPolygon;\n    if (this.drawingPointList.length < lowerLimitPointNum) {\n      this.drawingPointList = [];\n      this.editPolygonID = \"\";\n      return;\n    }\n    const basicSourceID = CommonToolUtils.getSourceID(this.basicResult);\n    const polygonList = [...this.polygonList];\n    if (this.editPolygonID) {\n      const samePolygon = polygonList.find((polygon) => polygon.id === this.editPolygonID);\n      if (!samePolygon) {\n        return;\n      }\n      samePolygon.pointList = this.drawingPointList;\n      this.editPolygonID = \"\";\n    } else {\n      const id = uuid(8, 62);\n      let newPolygon = {\n        id,\n        sourceID: basicSourceID,\n        valid: !this.isCtrl,\n        textAttribute: \"\",\n        pointList: this.drawingPointList,\n        attribute: this.defaultAttribute,\n        order: CommonToolUtils.getMaxOrder(polygonList.filter((v) => CommonToolUtils.isSameSourceID(v.sourceID, basicSourceID))) + 1\n      };\n      if (this.config.textConfigurable) {\n        let textAttribute = \"\";\n        textAttribute = AttributeUtils.getTextAttribute(this.polygonList.filter((polygon) => CommonToolUtils.isSameSourceID(polygon.sourceID, basicSourceID)), this.config.textCheckType);\n        newPolygon = __spreadProps(__spreadValues({}, newPolygon), {\n          textAttribute\n        });\n      }\n      if (this.pattern === EPolygonPattern.Rect && isRect === true) {\n        newPolygon = __spreadProps(__spreadValues({}, newPolygon), {\n          isRect: true\n        });\n      }\n      polygonList.push(newPolygon);\n      createPolygon = newPolygon;\n      this.setSelectedIdAfterAddingDrawing(id);\n    }\n    this.setPolygonList(polygonList);\n    this.isCtrl = false;\n    this.drawingPointList = [];\n    this.history.pushHistory(polygonList);\n    if (createPolygon) {\n      this.emit(\"polygonCreated\", createPolygon, this.zoom, this.currentPos);\n    }\n  }\n  setSelectedIdAfterAddingDrawing(newID) {\n    if (this.drawingPointList.length === 0) {\n      return;\n    }\n    if (this.config.textConfigurable) {\n      this.setSelectedID(newID);\n    } else {\n      this.deleteSelectedID();\n    }\n  }\n  getHoverID(e) {\n    var _a;\n    const coordinate = this.getCoordinateUnderZoom(e);\n    const polygonListWithZoom = this.currentShowList.map((polygon) => __spreadProps(__spreadValues({}, polygon), {\n      pointList: AxisUtils.changePointListByZoom(polygon.pointList, this.zoom)\n    }));\n    return PolygonUtils.getHoverPolygonID(coordinate, polygonListWithZoom, 10, (_a = this.config) == null ? void 0 : _a.lineType);\n  }\n  getHoverEdgeIndex(e) {\n    var _a;\n    if (!this.selectedID) {\n      return -1;\n    }\n    const selectPolygon = this.selectedPolygon;\n    if (!selectPolygon) {\n      return -1;\n    }\n    const currentCoord = this.getCoordinateUnderZoom(e);\n    const editPointListUnderZoom = AxisUtils.changePointListByZoom(selectPolygon.pointList, this.zoom);\n    return PolygonUtils.getHoverEdgeIndex(currentCoord, editPointListUnderZoom, (_a = this.config) == null ? void 0 : _a.lineType);\n  }\n  getHoverPointIndex(e) {\n    if (!this.selectedID) {\n      return -1;\n    }\n    const selectPolygon = this.selectedPolygon;\n    if (!selectPolygon) {\n      return -1;\n    }\n    const currentCoord = this.getCoordinateUnderZoom(e);\n    const editPointListUnderZoom = AxisUtils.changePointListByZoom(selectPolygon.pointList, this.zoom);\n    return AxisUtils.returnClosePointIndex(currentCoord, editPointListUnderZoom);\n  }\n  deletePolygon(id) {\n    var _a;\n    if (!id) {\n      return;\n    }\n    const deletedPolygon = this.polygonList.find((p) => p.id === id);\n    this.emit(\"deletedObject\", {deletedObject: deletedPolygon, id});\n    this.setPolygonList(this.polygonList.filter((polygon) => polygon.id !== id));\n    this.history.pushHistory(this.polygonList);\n    (_a = this._textAttributInstance) == null ? void 0 : _a.clearTextAttribute();\n    this.emit(\"selectedChange\");\n    this.render();\n  }\n  deletePolygonPoint(index) {\n    if (!this.selectedID) {\n      return;\n    }\n    const {selectedPolygon} = this;\n    if (!selectedPolygon) {\n      return;\n    }\n    let {lowerLimitPointNum} = this.config;\n    if (lowerLimitPointNum < 3) {\n      lowerLimitPointNum = 3;\n    }\n    if (selectedPolygon.pointList.length <= lowerLimitPointNum) {\n      this.emit(\"messageInfo\", `${Locale.getMessagesByLocale(EMessage.LowerLimitErrorNotice, this.lang)}${lowerLimitPointNum}`);\n      return;\n    }\n    selectedPolygon == null ? void 0 : selectedPolygon.pointList.splice(index, 1);\n    this.history.pushHistory(this.polygonList);\n    this.render();\n  }\n  spaceKeydown() {\n    var _a, _b, _c;\n    if (this.selectedID) {\n      if (((_a = this.selectedPolygon) == null ? void 0 : _a.isRect) === true) {\n        this.emit(\"messageInfo\", `${Locale.getMessagesByLocale(EMessage.UnableToReannotation, this.lang)}`);\n        return;\n      }\n      this.editPolygonID = this.selectedID;\n      this.drawingPointList = (_c = (_b = this.selectedPolygon) == null ? void 0 : _b.pointList) != null ? _c : [];\n      this.drawingHistory.empty();\n      this.drawingHistory.initRecord(this.drawingPointList);\n      this.hoverID = \"\";\n      this.deleteSelectedID();\n      this.render();\n    }\n  }\n  onTabKeyDown(e) {\n    e.preventDefault();\n    let sort = ESortDirection.ascend;\n    if (e.shiftKey) {\n      sort = ESortDirection.descend;\n    }\n    this.switchToNextPolygon(sort);\n  }\n  switchToNextPolygon(sort) {\n    if (this.drawingPointList.length > 0) {\n      return;\n    }\n    const [showingResult, selectedResult] = CommonToolUtils.getRenderResultList(this.polygonList, CommonToolUtils.getSourceID(this.basicResult), this.attributeLockList, this.selectedID);\n    let polygonList = [...showingResult];\n    if (selectedResult) {\n      polygonList = [...polygonList, selectedResult];\n    }\n    const viewPort = CanvasUtils.getViewPort(this.canvas, this.currentPos, this.zoom);\n    const sortList = polygonList.map((v) => {\n      var _a, _b, _c, _d;\n      return __spreadProps(__spreadValues({}, v), {\n        x: (_b = (_a = v.pointList[0]) == null ? void 0 : _a.x) != null ? _b : 0,\n        y: (_d = (_c = v.pointList[0]) == null ? void 0 : _c.y) != null ? _d : 0\n      });\n    }).filter((polygon) => CanvasUtils.inViewPort({x: polygon.x, y: polygon.y}, viewPort));\n    const nextSelectedResult = CommonToolUtils.getNextSelectedRectID(sortList, sort, this.selectedID);\n    if (nextSelectedResult) {\n      this.setSelectedID(nextSelectedResult.id);\n      const {selectedPolygon} = this;\n      if (selectedPolygon) {\n        this.setDefaultAttribute(selectedPolygon.attribute);\n      }\n    }\n    this.render();\n  }\n  onKeyDown(e) {\n    if (!CommonToolUtils.hotkeyFilter(e)) {\n      return;\n    }\n    if (super.onKeyDown(e) === false) {\n      return;\n    }\n    const {keyCode} = e;\n    switch (keyCode) {\n      case EKeyCode.Space:\n        this.spaceKeydown();\n        break;\n      case EKeyCode.Esc:\n        this.drawingPointList = [];\n        this.editPolygonID = \"\";\n        break;\n      case EKeyCode.F:\n        if (this.selectedID) {\n          this.setPolygonValidAndRender(this.selectedID);\n        }\n        break;\n      case EKeyCode.Z:\n        if (e.altKey) {\n          this.onCombinedExecute();\n          return;\n        }\n        this.setIsHidden(!this.isHidden);\n        this.render();\n        break;\n      case EKeyCode.Delete:\n        this.deletePolygon(this.selectedID);\n        this.render();\n        break;\n      case EKeyCode.Ctrl:\n        this.isCtrl = true;\n        break;\n      case EKeyCode.Alt:\n        if (this.isAlt === false) {\n          e.preventDefault();\n          this.isAlt = true;\n          this.render();\n        }\n        break;\n      case EKeyCode.Tab: {\n        this.onTabKeyDown(e);\n        break;\n      }\n      case EKeyCode.X:\n        if (e.altKey) {\n          this.segment();\n        }\n        break;\n      default: {\n        if (this.config.attributeConfigurable) {\n          const keyCode2Attribute = AttributeUtils.getAttributeByKeycode(keyCode, this.config.attributeList);\n          if (keyCode2Attribute !== void 0) {\n            this.setDefaultAttribute(keyCode2Attribute);\n          }\n        }\n        break;\n      }\n    }\n  }\n  onKeyUp(e) {\n    super.onKeyUp(e);\n    switch (e.keyCode) {\n      case EKeyCode.Ctrl:\n        this.isCtrl = false;\n        break;\n      case EKeyCode.Alt: {\n        const oldAlt = this.isAlt;\n        this.isAlt = false;\n        if (oldAlt === true) {\n          this.render();\n        }\n        break;\n      }\n    }\n  }\n  rightMouseUp(e) {\n    if (this.drawingPointList.length > 0) {\n      this.addDrawingPointToPolygonList();\n      return;\n    }\n    this.setSelectedID(this.hoverID);\n    const {selectedPolygon} = this;\n    if (selectedPolygon) {\n      this.setDefaultAttribute(selectedPolygon.attribute);\n    }\n  }\n  onLeftDblClick(e) {\n    if (this.hoverEdgeIndex > -1) {\n      const currentCoord = this.getCoordinateUnderZoom(e);\n      const {selectedPolygon} = this;\n      if (!selectedPolygon) {\n        return;\n      }\n      const {dropFoot} = PolygonUtils.getClosestPoint(currentCoord, this.polygonListUnderZoom, this.config.lineType, edgeAdsorptionScope);\n      if (!dropFoot) {\n        return;\n      }\n      const {upperLimitPointNum} = this.config;\n      if (upperLimitPointNum && selectedPolygon.pointList.length >= upperLimitPointNum) {\n        this.emit(\"messageInfo\", `${Locale.getMessagesByLocale(EMessage.UpperLimitErrorNotice, this.lang)}${upperLimitPointNum}`);\n        this.clearPolygonDrag();\n        return;\n      }\n      selectedPolygon == null ? void 0 : selectedPolygon.pointList.splice(this.hoverEdgeIndex + 1, 0, AxisUtils.changePointByZoom(dropFoot, 1 / this.zoom));\n      this.setPolygonDataByID(selectedPolygon, this.selectedID);\n      this.history.pushHistory(this.polygonList);\n      this.hoverPointIndex = -1;\n      this.hoverEdgeIndex = -1;\n      this.render();\n    }\n    this.dragInfo = void 0;\n  }\n  onRightDblClick(e) {\n    this.dragInfo = void 0;\n    this.clearImgDrag();\n    const hoverID = this.getHoverID(e);\n    const hoverPointIndex = this.getHoverPointIndex(e);\n    if (this.hoverPointIndex > -1 && this.hoverPointIndex === hoverPointIndex) {\n      this.deletePolygonPoint(hoverPointIndex);\n      this.dragInfo = void 0;\n      this.hoverPointIndex = -1;\n      this.render();\n      return;\n    }\n    if (this.hoverID === this.selectedID) {\n      this.deletePolygon(hoverID);\n    }\n    this.render();\n  }\n  onMouseDown(e) {\n    if (super.onMouseDown(e) || this.forbidMouseOperation || e.ctrlKey === true) {\n      return;\n    }\n    const firstPolygon = this.selectedPolygon;\n    if (!firstPolygon || e.button !== 0) {\n      return;\n    }\n    const hoverID = this.getHoverID(e);\n    if (hoverID !== this.selectedID) {\n      return;\n    }\n    const initPointList = firstPolygon.pointList;\n    const dragStartCoord = this.getCoordinateUnderZoom(e);\n    let changePointIndex = [0];\n    let dragTarget = EDragTarget.Plane;\n    this.dragStatus = EDragStatus.Start;\n    const closePointIndex = this.getHoverPointIndex(e);\n    const closeEdgeIndex = this.getHoverEdgeIndex(e);\n    if (closePointIndex > -1) {\n      dragTarget = EDragTarget.Point;\n      changePointIndex = [closePointIndex];\n    } else if (closeEdgeIndex > -1 && this.hoverEdgeIndex > -1) {\n      dragTarget = EDragTarget.Line;\n      changePointIndex = [closeEdgeIndex, (closeEdgeIndex + 1) % initPointList.length];\n    }\n    this.dragInfo = {\n      dragStartCoord,\n      dragTarget,\n      initPointList,\n      changePointIndex,\n      originPolygon: this.selectedPolygon\n    };\n    return true;\n  }\n  segment() {\n    var _a;\n    if (!this.selectedID) {\n      return;\n    }\n    if (((_a = this.config) == null ? void 0 : _a.lineType) !== ELineTypes.Line) {\n      return;\n    }\n    const selectedPointList = PolygonUtils.getPolygonPointList(this.selectedID, this.currentShowList);\n    const backgroundPolygonList = this.currentShowList.filter((v) => v.id !== this.selectedID);\n    if (backgroundPolygonList.length === 0 || selectedPointList.length === 0) {\n      return;\n    }\n    const wrapIndex = PolygonUtils.getWrapPolygonIndex(selectedPointList, backgroundPolygonList);\n    let newPolygonList = [...this.polygonList];\n    if (wrapIndex === -1) {\n      const newPointListArray = PolygonUtils.segmentPolygonByPolygon(selectedPointList, backgroundPolygonList);\n      if (!newPointListArray) {\n        return;\n      }\n      const newPointList = newPointListArray.shift();\n      if (!newPointList) {\n        return;\n      }\n      let defaultAttribute = \"\";\n      let valid = true;\n      const sourceID = CommonToolUtils.getSourceID(this.basicResult);\n      let textAttribute = \"\";\n      newPolygonList = this.polygonList.map((v) => {\n        var _a2, _b;\n        if (v.id === this.selectedID) {\n          defaultAttribute = v.attribute;\n          valid = (_a2 = v == null ? void 0 : v.valid) != null ? _a2 : true;\n          textAttribute = (_b = v == null ? void 0 : v.textAttribute) != null ? _b : \"\";\n          return __spreadProps(__spreadValues({}, v), {\n            pointList: newPointList\n          });\n        }\n        return v;\n      });\n      if (newPointListArray.length > 0) {\n        newPointListArray.forEach((v, i) => {\n          newPolygonList.push({\n            sourceID,\n            id: uuid(8, 62),\n            pointList: v,\n            valid,\n            order: CommonToolUtils.getMaxOrder(this.currentShowList) + 1 + i,\n            attribute: defaultAttribute,\n            textAttribute\n          });\n        });\n      }\n    } else {\n      newPolygonList[wrapIndex].pointList = PolygonUtils.clipPolygonFromWrapPolygon(selectedPointList, newPolygonList[wrapIndex].pointList);\n      newPolygonList = newPolygonList.filter((v) => v.id !== this.selectedID);\n    }\n    this.setPolygonList(newPolygonList);\n    this.history.pushHistory(newPolygonList);\n    this.render();\n  }\n  onCombinedExecute() {\n    if (!this.selectedID) {\n      this.emit(\"messageInfo\", i18n.t(\"PolygonsToBeCombinedNeedToBeSelected\"));\n      return;\n    }\n    this.isCombined = !this.isCombined;\n  }\n  combine(e) {\n    var _a;\n    const hoverID = this.getHoverID(e);\n    if (!hoverID || !this.selectedID || this.selectedID === hoverID) {\n      return;\n    }\n    if (((_a = this.config) == null ? void 0 : _a.lineType) !== ELineTypes.Line) {\n      this.emit(\"messageInfo\", i18n.t(\"CurveModeDoesNotSupportCutting\"));\n      return;\n    }\n    const selectedPolygon = this.polygonList.find((v) => v.id === this.selectedID);\n    const combinedPolygon = this.currentShowList.find((v) => v.id === hoverID);\n    if (!combinedPolygon || !selectedPolygon) {\n      return;\n    }\n    const composeData = PolygonUtils.combinePolygonWithPolygon(selectedPolygon, combinedPolygon);\n    if (!composeData) {\n      return;\n    }\n    const {newPolygon, unionList} = composeData;\n    if (unionList.length === 1 && newPolygon) {\n      const newPolygonList = this.polygonList.filter((v) => !unionList.includes(v.id)).map((v) => {\n        if (v.id === this.selectedID) {\n          return newPolygon;\n        }\n        return v;\n      });\n      this.setPolygonList(newPolygonList);\n      this.history.pushHistory(newPolygonList);\n      this.render();\n      this.emit(\"messageInfo\", i18n.t(\"CombineSuccess\"));\n    } else {\n      this.emit(\"messageInfo\", i18n.t(\"CombiningFailedNotify\"));\n    }\n    this.isCombined = false;\n  }\n  isPolygonOutSide(selectedPointList) {\n    if (this.dependToolName && this.basicCanvas && this.basicResult) {\n      let isOutSide = false;\n      switch (this.dependToolName) {\n        case EToolName.Rect: {\n          isOutSide = selectedPointList.filter((v) => !RectUtils.isInRect(v, this.basicResult)).length > 0;\n          break;\n        }\n        case EToolName.Polygon: {\n          isOutSide = PolygonUtils.isPointListOutSidePolygon(selectedPointList, this.basicResult.pointList, this.config.lineType);\n          break;\n        }\n      }\n      return isOutSide;\n    }\n    if (!this.imgInfo) {\n      return false;\n    }\n    const {left, top, right, bottom} = MathUtils.calcViewportBoundaries(AxisUtils.changePointListByZoom(selectedPointList, this.zoom));\n    const scope = 1e-5;\n    if (left < 0 || top < 0 || right > this.imgInfo.width + scope || bottom > this.imgInfo.height + scope) {\n      return true;\n    }\n    return false;\n  }\n  onDragMove(e) {\n    if (!this.dragInfo || !this.selectedID) {\n      return;\n    }\n    const {selectedPolygon} = this;\n    let selectedPointList = selectedPolygon == null ? void 0 : selectedPolygon.pointList;\n    if (!selectedPointList) {\n      return;\n    }\n    const {initPointList, dragStartCoord, dragTarget, changePointIndex} = this.dragInfo;\n    const coordinate = this.getCoordinateUnderZoom(e);\n    let offset = {\n      x: (coordinate.x - dragStartCoord.x) / this.zoom,\n      y: (coordinate.y - dragStartCoord.y) / this.zoom\n    };\n    if (this.pattern === EPolygonPattern.Rect && (selectedPolygon == null ? void 0 : selectedPolygon.isRect) === true && changePointIndex && [EDragTarget.Line].includes(dragTarget)) {\n      const firstPointIndex = MathUtils.getArrayIndex(changePointIndex[0] - 2, 4);\n      const secondPointIndex = MathUtils.getArrayIndex(changePointIndex[0] - 1, 4);\n      const basicLine = [initPointList[firstPointIndex], initPointList[secondPointIndex]];\n      offset = MathUtils.getRectPerpendicularOffset(dragStartCoord, coordinate, basicLine);\n      offset = {\n        x: offset.x / this.zoom,\n        y: offset.y / this.zoom\n      };\n    }\n    this.dragStatus = EDragStatus.Move;\n    switch (dragTarget) {\n      case EDragTarget.Plane:\n        selectedPointList = selectedPointList.map((v, i) => __spreadProps(__spreadValues({}, v), {\n          x: initPointList[i].x + offset.x,\n          y: initPointList[i].y + offset.y\n        }));\n        break;\n      case EDragTarget.Point:\n      case EDragTarget.Line:\n        selectedPointList = selectedPointList.map((n, i) => {\n          if (changePointIndex && changePointIndex.includes(i)) {\n            return __spreadProps(__spreadValues({}, n), {\n              x: initPointList[i].x + offset.x,\n              y: initPointList[i].y + offset.y\n            });\n          }\n          return n;\n        });\n        break;\n    }\n    if (this.pattern === EPolygonPattern.Rect && (selectedPolygon == null ? void 0 : selectedPolygon.isRect) === true && dragTarget === EDragTarget.Point && changePointIndex) {\n      const newPointList = MathUtils.getPointListFromPointOffset(initPointList, changePointIndex[0], offset);\n      selectedPointList = newPointList;\n    }\n    if (this.config.drawOutsideTarget === false && this.imgInfo) {\n      const isOutSide = this.isPolygonOutSide(selectedPointList);\n      if (isOutSide) {\n        return;\n      }\n    }\n    const newPolygonList = this.polygonList.map((v) => {\n      if (v.id === this.selectedID) {\n        const newData = __spreadProps(__spreadValues({}, v), {\n          pointList: selectedPointList\n        });\n        if (v.isRect === true && this.pattern === EPolygonPattern.Normal) {\n          Object.assign(newData, {isRect: false});\n        }\n        return newData;\n      }\n      return v;\n    });\n    this.setPolygonList(newPolygonList);\n    this.render();\n  }\n  onMouseMove(e) {\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    if (this.selectedID && this.dragInfo) {\n      this.onDragMove(e);\n      return;\n    }\n    let hoverPointIndex = -1;\n    let hoverEdgeIndex = -1;\n    const {selectedID} = this;\n    if (selectedID) {\n      this.hoverEdgeIndex = -1;\n      this.hoverPointIndex = -1;\n      hoverPointIndex = this.getHoverPointIndex(e);\n      if (hoverPointIndex > -1) {\n        this.hoverPointIndex = hoverPointIndex;\n      } else {\n        hoverEdgeIndex = this.getHoverEdgeIndex(e);\n        this.hoverEdgeIndex = hoverEdgeIndex;\n      }\n    }\n    if (this.drawingPointList.length > 0) {\n      return;\n    }\n    const newHoverID = this.getHoverID(e);\n    if (this.hoverID !== newHoverID) {\n      this.hoverID = newHoverID;\n      this.render();\n    }\n  }\n  leftMouseUp(e) {\n    const hoverID = this.getHoverID(e);\n    if (this.drawingPointList.length === 0 && e.ctrlKey === true && hoverID) {\n      this.setPolygonValidAndRender(hoverID);\n      return;\n    }\n    this.addPointInDrawing(e);\n  }\n  onMouseUp(e) {\n    if (this.isCombined) {\n      switch (e.button) {\n        case 0:\n          this.combine(e);\n          break;\n        case 2:\n          this.isCombined = false;\n          break;\n        default:\n          return;\n      }\n      return;\n    }\n    if (super.onMouseUp(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return void 0;\n    }\n    if (this.dragInfo && this.dragStatus === EDragStatus.Move) {\n      const {originPolygon} = this.dragInfo;\n      this.dragInfo = void 0;\n      this.dragStatus = EDragStatus.Wait;\n      this.history.pushHistory(this.polygonList);\n      this.emit(\"updateResult\");\n      this.emit(\"updatePolygonByDrag\", {newPolygon: this.selectedPolygon, originPolygon});\n      return;\n    }\n    switch (e.button) {\n      case 0: {\n        this.leftMouseUp(e);\n        break;\n      }\n      case 2: {\n        this.rightMouseUp(e);\n        break;\n      }\n    }\n    this.render();\n  }\n  dragMouseUp() {\n    if (this.dragStatus === EDragStatus.Start) {\n      this.dragInfo = void 0;\n      this.dragStatus = EDragStatus.Wait;\n    }\n  }\n  exportData() {\n    const {polygonList} = this;\n    return [polygonList, this.basicImgInfo];\n  }\n  getTextIconSvg(attribute = \"\") {\n    return AttributeUtils.getTextIconSvg(attribute, this.config.attributeList, this.config.attributeConfigurable, this.baseIcon);\n  }\n  getCurrentSelectedData() {\n    const {selectedPolygon} = this;\n    if (!selectedPolygon) {\n      return;\n    }\n    const toolColor = this.getColor(selectedPolygon.attribute);\n    const color = selectedPolygon.valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    return {\n      width: TEXT_MAX_WIDTH,\n      textAttribute: selectedPolygon.textAttribute,\n      color\n    };\n  }\n  updateSelectedTextAttribute(newTextAttribute) {\n    if (this._textAttributInstance && newTextAttribute && this.selectedID) {\n      let textAttribute = newTextAttribute;\n      if (AttributeUtils.textAttributeValidate(this.config.textCheckType, \"\", textAttribute) === false) {\n        this.emit(\"messageError\", AttributeUtils.getErrorNotice(this.config.textCheckType, this.lang));\n        textAttribute = \"\";\n      }\n      this.setPolygonList(AttributeUtils.textChange(textAttribute, this.selectedID, this.polygonList));\n      this.emit(\"updateTextAttribute\");\n      this.render();\n    }\n  }\n  renderTextAttribute() {\n    var _a;\n    const {selectedPolygon} = this;\n    if (!this.ctx || this.config.textConfigurable === false || !selectedPolygon) {\n      return;\n    }\n    const {pointList, attribute, valid, textAttribute} = selectedPolygon;\n    const {x, y} = pointList[pointList.length - 1];\n    const newWidth = TEXT_MAX_WIDTH;\n    const coordinate = AxisUtils.getOffsetCoordinate({x, y}, this.currentPos, this.zoom);\n    const toolColor = this.getColor(attribute);\n    const color = valid ? toolColor == null ? void 0 : toolColor.valid.stroke : toolColor == null ? void 0 : toolColor.invalid.stroke;\n    if (!this._textAttributInstance) {\n      this._textAttributInstance = new TextAttributeClass({\n        width: newWidth,\n        container: this.container,\n        icon: this.getTextIconSvg(attribute),\n        color,\n        getCurrentSelectedData: this.getCurrentSelectedData,\n        updateSelectedTextAttribute: this.updateSelectedTextAttribute\n      });\n    }\n    if (this._textAttributInstance && !((_a = this._textAttributInstance) == null ? void 0 : _a.isExit)) {\n      this._textAttributInstance.appendToContainer();\n    }\n    this._textAttributInstance.update(`${textAttribute}`, {\n      left: coordinate.x,\n      top: coordinate.y,\n      color,\n      width: newWidth\n    });\n  }\n  renderStaticPolygon() {\n    var _a;\n    if (this.isHidden === false) {\n      (_a = this.polygonList) == null ? void 0 : _a.forEach((polygon) => {\n        var _a2, _b, _c, _d, _e;\n        if ([this.selectedID, this.editPolygonID].includes(polygon.id)) {\n          return;\n        }\n        const {textAttribute, attribute} = polygon;\n        const toolColor = this.getColor(attribute);\n        const toolData = StyleUtils.getStrokeAndFill(toolColor, polygon.valid);\n        const transformPointList = AxisUtils.changePointListByZoom(polygon.pointList || [], this.zoom, this.currentPos);\n        DrawUtils.drawPolygonWithFillAndLine(this.canvas, transformPointList, {\n          fillColor: toolData.fill,\n          strokeColor: toolData.stroke,\n          pointColor: \"white\",\n          thickness: (_b = (_a2 = this.style) == null ? void 0 : _a2.width) != null ? _b : 2,\n          lineCap: \"round\",\n          isClose: true,\n          lineType: (_c = this.config) == null ? void 0 : _c.lineType\n        });\n        let showText = `${(_d = AttributeUtils.getAttributeShowText(attribute, this.config.attributeList)) != null ? _d : \"\"}`;\n        if (((_e = this.config) == null ? void 0 : _e.isShowOrder) && (polygon == null ? void 0 : polygon.order) > 0) {\n          showText = `${polygon.order} ${showText}`;\n        }\n        DrawUtils.drawText(this.canvas, transformPointList[0], showText, __spreadValues({\n          color: toolData.stroke\n        }, DEFAULT_TEXT_OFFSET));\n        const endPoint = transformPointList[transformPointList.length - 1];\n        DrawUtils.drawText(this.canvas, {x: endPoint.x + TEXT_ATTRIBUTE_OFFSET.x, y: endPoint.y + TEXT_ATTRIBUTE_OFFSET.y}, textAttribute, __spreadValues({\n          color: toolData.stroke\n        }, DEFAULT_TEXT_OFFSET));\n      });\n    }\n  }\n  renderSelectedPolygon() {\n    var _a, _b, _c;\n    if (this.selectedID) {\n      const selectdPolygon = this.selectedPolygon;\n      if (selectdPolygon) {\n        const toolColor = this.getColor(selectdPolygon.attribute);\n        const toolData = StyleUtils.getStrokeAndFill(toolColor, selectdPolygon.valid, {isSelected: true});\n        DrawUtils.drawSelectedPolygonWithFillAndLine(this.canvas, AxisUtils.changePointListByZoom(selectdPolygon.pointList, this.zoom, this.currentPos), {\n          fillColor: toolData.fill,\n          strokeColor: toolData.stroke,\n          pointColor: \"white\",\n          thickness: 2,\n          lineCap: \"round\",\n          isClose: true,\n          lineType: (_a = this.config) == null ? void 0 : _a.lineType\n        });\n        let showText = `${(_b = AttributeUtils.getAttributeShowText(selectdPolygon.attribute, this.config.attributeList)) != null ? _b : \"\"}`;\n        if (((_c = this.config) == null ? void 0 : _c.isShowOrder) && (selectdPolygon == null ? void 0 : selectdPolygon.order) > 0) {\n          showText = `${selectdPolygon.order} ${showText}`;\n        }\n        DrawUtils.drawText(this.canvas, AxisUtils.changePointByZoom(selectdPolygon.pointList[0], this.zoom, this.currentPos), showText, __spreadValues({\n          color: toolData.stroke\n        }, DEFAULT_TEXT_OFFSET));\n        this.renderTextAttribute();\n      }\n    }\n  }\n  renderHoverPolygon() {\n    var _a;\n    if (this.hoverID && this.hoverID !== this.editPolygonID) {\n      const {hoverPolygon} = this;\n      if (hoverPolygon) {\n        let color = \"\";\n        const toolColor = this.getColor(hoverPolygon.attribute);\n        if (hoverPolygon.valid) {\n          color = toolColor.validHover.fill;\n        } else {\n          color = StyleUtils.getStrokeAndFill(toolColor, false, {isHover: true}).fill;\n        }\n        DrawUtils.drawPolygonWithFill(this.canvas, AxisUtils.changePointListByZoom(hoverPolygon.pointList, this.zoom, this.currentPos), {\n          color,\n          lineType: (_a = this.config) == null ? void 0 : _a.lineType\n        });\n      }\n    }\n  }\n  renderPolygon() {\n    var _a, _b, _c, _d;\n    this.renderStaticPolygon();\n    this.renderHoverPolygon();\n    this.renderSelectedPolygon();\n    const defaultColor = this.getColor(this.defaultAttribute);\n    const toolData = StyleUtils.getStrokeAndFill(defaultColor, !this.isCtrl);\n    if (((_a = this.drawingPointList) == null ? void 0 : _a.length) > 0) {\n      let drawingPointList = [...this.drawingPointList];\n      let coordinate = AxisUtils.getOriginCoordinateWithOffsetCoordinate(this.coord, this.zoom, this.currentPos);\n      if (this.pattern === EPolygonPattern.Rect && drawingPointList.length === 2) {\n        drawingPointList = MathUtils.getRectangleByRightAngle(coordinate, drawingPointList);\n      } else {\n        if (((_b = this.config) == null ? void 0 : _b.edgeAdsorption) && this.isAlt === false) {\n          const {dropFoot} = PolygonUtils.getClosestPoint(coordinate, this.polygonList, (_c = this.config) == null ? void 0 : _c.lineType, edgeAdsorptionScope / this.zoom);\n          if (dropFoot) {\n            coordinate = dropFoot;\n          }\n        }\n        drawingPointList.push(coordinate);\n      }\n      DrawUtils.drawSelectedPolygonWithFillAndLine(this.canvas, AxisUtils.changePointListByZoom(drawingPointList, this.zoom, this.currentPos), {\n        fillColor: toolData.fill,\n        strokeColor: toolData.stroke,\n        pointColor: \"white\",\n        thickness: 2,\n        lineCap: \"round\",\n        isClose: false,\n        lineType: this.config.lineType\n      });\n    }\n    if (this.hoverPointIndex > -1 && this.selectedID) {\n      const selectdPolygon = this.selectedPolygon;\n      if (!selectdPolygon) {\n        return;\n      }\n      const hoverColor = StyleUtils.getStrokeAndFill(defaultColor, selectdPolygon.valid, {isSelected: true});\n      const point = selectdPolygon == null ? void 0 : selectdPolygon.pointList[this.hoverPointIndex];\n      if (point) {\n        const {x, y} = AxisUtils.changePointByZoom(point, this.zoom, this.currentPos);\n        DrawUtils.drawCircleWithFill(this.canvas, {x, y}, 5, {\n          color: hoverColor.fill\n        });\n      }\n    }\n    if (this.hoverEdgeIndex > -1 && this.selectedID) {\n      const selectdPolygon = this.selectedPolygon;\n      if (!selectdPolygon) {\n        return;\n      }\n      const selectedColor = StyleUtils.getStrokeAndFill(defaultColor, selectdPolygon.valid, {isSelected: true});\n      DrawUtils.drawLineWithPointList(this.canvas, AxisUtils.changePointListByZoom(selectdPolygon.pointList, this.zoom, this.currentPos), {\n        color: selectedColor.stroke,\n        thickness: 10,\n        hoverEdgeIndex: this.hoverEdgeIndex,\n        lineType: (_d = this.config) == null ? void 0 : _d.lineType\n      });\n    }\n  }\n  render() {\n    if (!this.ctx) {\n      return;\n    }\n    super.render();\n    this.renderPolygon();\n    this.renderCursorLine(this.getLineColor(this.defaultAttribute));\n  }\n  renderCursorLine(lineColor) {\n    super.renderCursorLine(lineColor);\n    if (this.isCombined) {\n      const {x, y} = this.coord;\n      const padding = 10;\n      const rectWidth = 186;\n      const rectHeight = 32;\n      DrawUtils.drawRectWithFill(this.canvas, {\n        x: x + padding,\n        y: y - padding * 4 - 1,\n        width: rectWidth,\n        height: rectHeight\n      }, {color: \"black\"});\n      DrawUtils.drawText(this.canvas, {x, y}, i18n.t(\"ClickAnotherPolygon\"), {\n        textAlign: \"center\",\n        color: \"white\",\n        offsetX: rectWidth / 2 + padding,\n        offsetY: -(rectHeight / 2 + padding / 2)\n      });\n      DrawUtils.drawRect(this.canvas, {\n        x: x - padding,\n        y: y - padding,\n        width: padding * 2,\n        height: padding * 2\n      }, {lineDash: [6], color: \"white\"});\n    }\n  }\n  undo() {\n    if (this.drawingPointList.length > 0) {\n      const drawingPointList = this.drawingHistory.undo();\n      if (!drawingPointList) {\n        return;\n      }\n      this.drawingPointList = drawingPointList;\n      this.render();\n      return;\n    }\n    const polygonList = this.history.undo();\n    if (polygonList) {\n      if (polygonList.length !== this.polygonList.length) {\n        this.deleteSelectedID();\n      }\n      this.setPolygonList(polygonList);\n      this.render();\n    }\n  }\n  redo() {\n    if (this.drawingPointList.length > 0) {\n      const drawingPointList = this.drawingHistory.redo();\n      if (!drawingPointList) {\n        return;\n      }\n      this.drawingPointList = drawingPointList;\n      this.render();\n      return;\n    }\n    const polygonList = this.history.redo();\n    if (polygonList) {\n      if (polygonList.length !== this.polygonList.length) {\n        this.deleteSelectedID();\n      }\n      this.setPolygonList(polygonList);\n      this.render();\n    }\n  }\n  deleteSelectedID() {\n    this.setSelectedID(\"\");\n  }\n}\n\nexport { PolygonOperation as default };\n","import { RectOperation } from './rectOperation.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst config = {\n  textConfigurable: false,\n  attributeConfigurable: true,\n  attributeList: []\n};\nclass MeasureOperation extends RectOperation {\n  constructor(props) {\n    super(__spreadProps(__spreadValues({}, props), {config: JSON.stringify(config)}));\n  }\n  setSelectedIdAfterAddingDrawingRect() {\n    if (!this.drawingRect) {\n      return;\n    }\n    this.setSelectedRectID(this.drawingRect.id);\n  }\n}\n\nexport { MeasureOperation as default };\n","import DrawUtils from './DrawUtils.js';\nimport StyleUtils from './StyleUtils.js';\n\nclass RenderDomClass {\n  constructor(props) {\n    this._domMap = new Map();\n    this._container = props.container;\n    this._height = props.height;\n  }\n  wheelChange(e) {\n    e.stopPropagation();\n  }\n  clearTag(id) {\n    const parentNode = this._container;\n    const oldDom = window.self.document.getElementById(id);\n    if (oldDom && parentNode && parentNode.contains(oldDom)) {\n      oldDom.removeEventListener(\"wheel\", this.wheelChange);\n      parentNode == null ? void 0 : parentNode.removeChild(oldDom);\n    }\n  }\n  render(annotations) {\n    const oldKeys = Array.from(this._domMap.keys());\n    const newKeys = annotations.map((v) => v.id);\n    annotations.forEach((v) => {\n      const {text, textMaxWidth, color = \"white\", background = \"rgba(0, 0, 0, 0.6)\", style} = v;\n      if (this._domMap.has(v.id)) {\n        const dom = this._domMap.get(v.id);\n        if (dom) {\n          dom.innerHTML = text;\n        }\n      } else {\n        const dom = DrawUtils.drawTagByDom(this._container, text, v.id);\n        if (dom) {\n          dom.setAttribute(\"style\", `\n              position: absolute;\n              top: 0;\n              right: 0;\n              z-index: 20;\n              padding: 8px 20px;\n              font-size: 15px;\n              max-width: ${textMaxWidth}px;\n              color: ${color};\n              text-align: left;\n              line-height: 32px;\n              word-break: break-all;\n              white-space: pre-wrap;\n              background: ${background};\n              opacity: 0.9;\n              max-height: ${this._height * 0.8}px;\n              overflow-y: scroll;\n              clear: both;\n              ${StyleUtils.getStyle2String(style)}\n            `);\n          dom.addEventListener(\"wheel\", this.wheelChange);\n          this._domMap.set(v.id, dom);\n        }\n      }\n    });\n    oldKeys.forEach((key) => {\n      if (newKeys.indexOf(key) === -1) {\n        this.clearTag(key);\n        this._domMap.delete(key);\n      }\n    });\n  }\n}\n\nexport { RenderDomClass as default };\n","import _ from 'lodash';\nimport rgba from 'color-rgba';\nimport DrawUtils from '../../utils/tool/DrawUtils.js';\nimport AxisUtils from '../../utils/tool/AxisUtils.js';\nimport RectUtils from '../../utils/tool/RectUtils.js';\nimport PolygonUtils from '../../utils/tool/PolygonUtils.js';\nimport MathUtils from '../../utils/MathUtils.js';\nimport RenderDomClass from '../../utils/tool/RenderDomClass.js';\nimport { DEFAULT_FONT, ELineTypes, SEGMENT_NUMBER } from '../../constant/tool.js';\nimport { DEFAULT_TEXT_OFFSET, TEXT_ATTRIBUTE_OFFSET, DEFAULT_TEXT_SHADOW } from '../../constant/annotation.js';\nimport ImgPosUtils from '../../utils/tool/ImgPosUtils.js';\nimport { BasicToolOperation } from './basicToolOperation.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst newScope = 3;\nconst DEFAULT_RADIUS = 3;\nconst DEFAULT_STROKE_COLOR = \"#6371FF\";\nclass ViewOperation extends BasicToolOperation {\n  constructor(props) {\n    super(__spreadProps(__spreadValues({}, props), {showDefaultCursor: true}));\n    this.style = {};\n    this.annotations = [];\n    this.connectionPoints = [];\n    this.getHoverRectID = (e) => {\n      var _a, _b;\n      const coordinate = this.getCoordinateUnderZoom(e);\n      const originCoordinate = AxisUtils.changePointByZoom(coordinate, 1 / this.zoom);\n      if (((_a = this.annotations) == null ? void 0 : _a.length) <= 0 || !((_b = this.annotations) == null ? void 0 : _b.length)) {\n        return;\n      }\n      let id = \"\";\n      let minArea = Number.MAX_SAFE_INTEGER;\n      for (let i = 0; i < this.annotations.length; i++) {\n        const annotation = this.annotations[i];\n        switch (annotation.type) {\n          case \"rect\": {\n            const rect = annotation.annotation;\n            if (RectUtils.isInRect(coordinate, rect, newScope, this.zoom)) {\n              const area = rect.width * rect.height;\n              if (area < minArea) {\n                id = rect.id;\n                minArea = area;\n              }\n            }\n            break;\n          }\n          case \"polygon\": {\n            const polygon = annotation.annotation;\n            if (PolygonUtils.isInPolygon(originCoordinate, polygon.pointList)) {\n              const area = PolygonUtils.getPolygonArea(polygon.pointList);\n              if (area < minArea) {\n                id = polygon.id;\n                minArea = area;\n              }\n            }\n            break;\n          }\n        }\n      }\n      return id;\n    };\n    var _a;\n    this.style = (_a = props.style) != null ? _a : {stroke: DEFAULT_STROKE_COLOR, thickness: 3};\n    this.annotations = props.annotations;\n    this.loading = false;\n    this.renderDomInstance = new RenderDomClass({\n      container: this.container,\n      height: this.canvas.height\n    });\n  }\n  checkConnectionPoints(newAnnotations = this.annotations) {\n    const {connectionPoints} = MathUtils.getCollectionPointByAnnotationData(newAnnotations);\n    this.connectionPoints = connectionPoints;\n  }\n  setLoading(loading) {\n    this.loading = loading;\n    this.render();\n  }\n  onMouseLeave() {\n    super.onMouseLeave();\n    this.mouseHoverID = void 0;\n    this.emit(\"onChange\", \"hover\", []);\n  }\n  onMouseDown(e) {\n    if (super.onMouseDown(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return true;\n    }\n    const newMouseSelectedID = this.mouseHoverID;\n    if (e.button === 0) {\n      let selectedID = [];\n      if (newMouseSelectedID) {\n        selectedID = [newMouseSelectedID];\n      }\n      this.emit(\"onChange\", \"selected\", selectedID);\n      this.render();\n    }\n  }\n  onMouseMove(e) {\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    const oldMouseHoverID = this.mouseHoverID;\n    const newMouseHoverID = this.getHoverRectID(e);\n    if (oldMouseHoverID !== newMouseHoverID) {\n      this.mouseHoverID = newMouseHoverID;\n      let hoverID = [];\n      if (newMouseHoverID) {\n        hoverID = [newMouseHoverID];\n      }\n      this.emit(\"onChange\", \"hover\", hoverID);\n      this.render();\n    }\n  }\n  updateData(annotations) {\n    this.annotations = annotations;\n    this.render();\n  }\n  getSpecificStyle(obj) {\n    const specificStyle = _.pick(obj, [\"stroke\", \"thickness\", \"fill\", \"radius\"]);\n    const newStyle = __spreadValues(__spreadValues({}, this.style), specificStyle);\n    if (newStyle.stroke) {\n      Object.assign(newStyle, {\n        color: newStyle.stroke\n      });\n    }\n    return newStyle;\n  }\n  getFontStyle(obj, style) {\n    var _a, _b;\n    const fontSize = (_a = obj == null ? void 0 : obj.fontSize) != null ? _a : 14;\n    const fontFamily = (_b = obj == null ? void 0 : obj.fontFamily) != null ? _b : \"Arial\";\n    return __spreadProps(__spreadValues({}, DEFAULT_TEXT_SHADOW), {\n      color: style.stroke,\n      font: `normal normal 600 ${fontSize}px ${fontFamily}`\n    });\n  }\n  appendOffset({x, y}) {\n    return {x: x + DEFAULT_TEXT_OFFSET.offsetX, y: y + DEFAULT_TEXT_OFFSET.offsetY};\n  }\n  getRenderText(result, hiddenText = false) {\n    let headerText = \"\";\n    let bottomText = \"\";\n    if (!result || hiddenText === true) {\n      return {headerText, bottomText};\n    }\n    if (result == null ? void 0 : result.order) {\n      headerText = `${result.order}`;\n    }\n    if (result == null ? void 0 : result.label) {\n      if (headerText) {\n        headerText = `${headerText}_${result.label}`;\n      } else {\n        headerText = `${result.label}`;\n      }\n    }\n    if (result == null ? void 0 : result.attribute) {\n      if (headerText) {\n        headerText = `${headerText}  ${result.attribute}`;\n      } else {\n        headerText = `${result.attribute}`;\n      }\n    }\n    if (result == null ? void 0 : result.textAttribute) {\n      bottomText = result == null ? void 0 : result.textAttribute;\n    }\n    return {headerText, bottomText};\n  }\n  getReferenceOptions(isReference) {\n    return isReference ? {lineCap: \"butt\", lineDash: [20, 20]} : {};\n  }\n  focusPositionByPointList(pointList) {\n    const basicZone = MathUtils.calcViewportBoundaries(pointList);\n    const newBoundary = {\n      x: basicZone.left,\n      y: basicZone.top,\n      width: basicZone.right - basicZone.left,\n      height: basicZone.bottom - basicZone.top\n    };\n    const pos = ImgPosUtils.getBasicRecPos(this.imgNode, newBoundary, this.size, 0.5);\n    if (pos) {\n      this.setCurrentPos(pos.currentPos);\n      this.setCurrentPosStorage(pos.currentPos);\n      const {imgInfo} = this;\n      const {innerZoom} = this.innerPosAndZoom;\n      if (imgInfo) {\n        this.setImgInfo(__spreadProps(__spreadValues({}, imgInfo), {\n          width: imgInfo.width / innerZoom * pos.innerZoom,\n          height: imgInfo.height / innerZoom * pos.innerZoom\n        }));\n      }\n      this.setZoom(pos.innerZoom);\n      this.render();\n      this.renderBasicCanvas();\n    }\n  }\n  renderConnectionPoints() {\n    this.connectionPoints.forEach((point) => {\n      const renderPoint = AxisUtils.changePointByZoom(point, this.zoom, this.currentPos);\n      DrawUtils.drawCircleWithFill(this.canvas, renderPoint, 4, {color: \"#fff\"});\n      DrawUtils.drawCircleWithFill(this.canvas, renderPoint, 2, {color: \"#000\"});\n    });\n  }\n  render() {\n    try {\n      super.render();\n      if (this.loading === true) {\n        return;\n      }\n      this.renderDomInstance.render(this.annotations.filter((v) => v.type === \"text\" && v.annotation.position === \"rt\").map((v) => v.annotation));\n      this.annotations.forEach((annotation) => {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;\n        const style = this.getSpecificStyle(annotation.annotation);\n        const fontStyle = this.getFontStyle(annotation.annotation, style);\n        switch (annotation.type) {\n          case \"rect\": {\n            const rect = annotation.annotation;\n            const {hiddenText = false, isReference, hiddenRectSize = false} = rect;\n            const {zoom} = this;\n            const renderRect = AxisUtils.changeRectByZoom(rect, this.zoom, this.currentPos);\n            const {x, y, width, height} = renderRect;\n            if (rect.id === this.mouseHoverID || style.fill) {\n              const fillArr = rgba((_b = (_a = style == null ? void 0 : style.fill) != null ? _a : style == null ? void 0 : style.stroke) != null ? _b : DEFAULT_STROKE_COLOR);\n              const fill = `rgba(${fillArr[0]}, ${fillArr[1]}, ${fillArr[2]},${fillArr[3] * 0.8})`;\n              DrawUtils.drawRectWithFill(this.canvas, renderRect, {color: fill});\n            }\n            DrawUtils.drawRect(this.canvas, renderRect, __spreadValues(__spreadProps(__spreadValues({}, style), {\n              hiddenText: true\n            }), this.getReferenceOptions(isReference)));\n            const {headerText, bottomText} = this.getRenderText(rect, rect == null ? void 0 : rect.hiddenText);\n            if (headerText) {\n              DrawUtils.drawText(this.canvas, {x, y: y - 6}, headerText, __spreadValues({\n                textMaxWidth: 300\n              }, fontStyle));\n            }\n            const rectSize = `${Math.round(width / zoom)} * ${Math.round(height / zoom)}`;\n            const textSizeWidth = rectSize.length * 7;\n            if (!hiddenText && !hiddenRectSize) {\n              DrawUtils.drawText(this.canvas, {x: x + width - textSizeWidth, y: y + height + 15}, rectSize, fontStyle);\n            }\n            if (bottomText) {\n              const marginTop = 20;\n              const textWidth = Math.max(20, width - textSizeWidth);\n              DrawUtils.drawText(this.canvas, {x, y: y + height + marginTop}, rect.textAttribute, __spreadValues({\n                textMaxWidth: textWidth\n              }, fontStyle));\n            }\n            break;\n          }\n          case \"polygon\": {\n            const polygon = annotation.annotation;\n            if (!(((_c = polygon == null ? void 0 : polygon.pointList) == null ? void 0 : _c.length) >= 3)) {\n              return;\n            }\n            const {lineType = ELineTypes.Line} = polygon;\n            const renderPolygon = AxisUtils.changePointListByZoom((_d = polygon == null ? void 0 : polygon.pointList) != null ? _d : [], this.zoom, this.currentPos);\n            if (polygon.id === this.mouseHoverID || style.fill) {\n              const fillArr = rgba((_f = (_e = style == null ? void 0 : style.fill) != null ? _e : style == null ? void 0 : style.stroke) != null ? _f : DEFAULT_STROKE_COLOR);\n              const fill = `rgba(${fillArr[0]}, ${fillArr[1]}, ${fillArr[2]},${fillArr[3] * 0.8})`;\n              DrawUtils.drawPolygonWithFill(this.canvas, renderPolygon, {color: fill, lineType});\n            }\n            const polygonRenderOptions = __spreadProps(__spreadValues(__spreadProps(__spreadValues({}, style), {\n              isClose: true\n            }), this.getReferenceOptions(polygon == null ? void 0 : polygon.isReference)), {\n              lineType,\n              strokeColor: style.stroke\n            });\n            let newPointList = [];\n            if (polygon.showKeyPoint) {\n              newPointList = DrawUtils.drawPolygonWithKeyPoint(this.canvas, renderPolygon, polygonRenderOptions);\n            } else {\n              newPointList = DrawUtils.drawPolygon(this.canvas, renderPolygon, polygonRenderOptions);\n            }\n            const isShowDirection = (polygon == null ? void 0 : polygon.showDirection) === true && ((_g = polygon == null ? void 0 : polygon.pointList) == null ? void 0 : _g.length) > 2;\n            if (isShowDirection) {\n              let startPoint = renderPolygon[0];\n              let endPoint = MathUtils.getLineCenterPoint([renderPolygon[0], renderPolygon[1]]);\n              if (lineType === ELineTypes.Curve) {\n                const pos = Math.floor(SEGMENT_NUMBER / 2);\n                startPoint = newPointList[pos];\n                endPoint = newPointList[pos + 1];\n              }\n              DrawUtils.drawArrowByCanvas(this.canvas, startPoint, endPoint, {\n                color: style.stroke,\n                thickness: style.thickness\n              });\n              DrawUtils.drawCircle(this.canvas, renderPolygon[0], style.thickness + 6, {\n                color: style.stroke,\n                thickness: style.thickness\n              });\n            }\n            const {headerText, bottomText} = this.getRenderText(polygon, polygon == null ? void 0 : polygon.hiddenText);\n            if (headerText) {\n              DrawUtils.drawText(this.canvas, this.appendOffset(renderPolygon[0]), headerText, fontStyle);\n            }\n            if (bottomText) {\n              const endPoint = renderPolygon[renderPolygon.length - 1];\n              DrawUtils.drawText(this.canvas, this.appendOffset({x: endPoint.x + TEXT_ATTRIBUTE_OFFSET.x, y: endPoint.y + TEXT_ATTRIBUTE_OFFSET.y}), bottomText, fontStyle);\n            }\n            break;\n          }\n          case \"line\": {\n            const line = annotation.annotation;\n            if (!(((_h = line == null ? void 0 : line.pointList) == null ? void 0 : _h.length) >= 2)) {\n              return;\n            }\n            const {lineType = ELineTypes.Line} = line;\n            const renderLine = AxisUtils.changePointListByZoom((_i = line == null ? void 0 : line.pointList) != null ? _i : [], this.zoom, this.currentPos);\n            const newPointList = DrawUtils.drawPolygon(this.canvas, renderLine, __spreadProps(__spreadValues(__spreadValues({}, style), this.getReferenceOptions(line == null ? void 0 : line.isReference)), {\n              lineType\n            }));\n            const isShowDirection = (line == null ? void 0 : line.showDirection) === true && ((_j = line == null ? void 0 : line.pointList) == null ? void 0 : _j.length) > 2;\n            if (isShowDirection) {\n              let startPoint = renderLine[0];\n              let endPoint = MathUtils.getLineCenterPoint([renderLine[0], renderLine[1]]);\n              if (lineType === ELineTypes.Curve) {\n                const pos = Math.floor(SEGMENT_NUMBER / 2);\n                startPoint = newPointList[pos];\n                endPoint = newPointList[pos + 1];\n              }\n              DrawUtils.drawArrowByCanvas(this.canvas, startPoint, endPoint, {\n                color: style.stroke,\n                thickness: style.thickness\n              });\n              DrawUtils.drawCircle(this.canvas, renderLine[0], style.thickness + 6, {\n                color: style.stroke,\n                thickness: style.thickness\n              });\n            }\n            const {headerText, bottomText} = this.getRenderText(line, line == null ? void 0 : line.hiddenText);\n            if (headerText) {\n              DrawUtils.drawText(this.canvas, this.appendOffset(renderLine[0]), headerText, fontStyle);\n            }\n            if (bottomText) {\n              const endPoint = renderLine[renderLine.length - 1];\n              DrawUtils.drawText(this.canvas, this.appendOffset({x: endPoint.x + TEXT_ATTRIBUTE_OFFSET.x, y: endPoint.y + TEXT_ATTRIBUTE_OFFSET.y}), bottomText, fontStyle);\n            }\n            break;\n          }\n          case \"point\": {\n            const point = annotation.annotation;\n            const renderPoint = AxisUtils.changePointByZoom(point, this.zoom, this.currentPos);\n            const radius = (_k = style.radius) != null ? _k : DEFAULT_RADIUS;\n            DrawUtils.drawCircle(this.canvas, renderPoint, radius, style);\n            const {headerText, bottomText} = this.getRenderText(point, point == null ? void 0 : point.hiddenText);\n            if (headerText) {\n              DrawUtils.drawText(this.canvas, {x: renderPoint.x + radius / 2, y: renderPoint.y - radius - 4}, headerText, __spreadValues({\n                textAlign: \"center\"\n              }, fontStyle));\n            }\n            if (bottomText) {\n              DrawUtils.drawText(this.canvas, this.appendOffset({x: renderPoint.x + radius, y: renderPoint.y + radius + 24}), bottomText, fontStyle);\n            }\n            break;\n          }\n          case \"text\": {\n            const textAnnotation = annotation.annotation;\n            const {\n              text,\n              x,\n              y,\n              textMaxWidth,\n              color = \"white\",\n              background = \"rgba(0, 0, 0, 0.6)\",\n              lineHeight = 25,\n              font = DEFAULT_FONT,\n              position\n            } = textAnnotation;\n            const paddingTB = 10;\n            const paddingLR = 10;\n            const renderPoint = AxisUtils.changePointByZoom({x, y}, this.zoom, this.currentPos);\n            const {\n              width,\n              height,\n              fontHeight = 0\n            } = MathUtils.getTextArea(this.canvas, textAnnotation.text, textMaxWidth, font, lineHeight);\n            if (position === \"rt\") {\n              break;\n            }\n            DrawUtils.drawRectWithFill(this.canvas, {\n              x: renderPoint.x,\n              y: renderPoint.y,\n              width: width + paddingLR * 2,\n              height: height + paddingTB * 2,\n              id: \"\",\n              sourceID: \"\",\n              valid: true,\n              textAttribute: \"\",\n              attribute: \"\"\n            }, {\n              color: background\n            });\n            DrawUtils.drawText(this.canvas, {\n              x: renderPoint.x + paddingLR,\n              y: renderPoint.y + fontHeight + paddingTB\n            }, text, {\n              color,\n              lineHeight,\n              font,\n              textMaxWidth\n            });\n            break;\n          }\n          default: {\n          }\n        }\n        (_m = (_l = annotation.annotation) == null ? void 0 : _l.renderEnhance) == null ? void 0 : _m.call(_l, {\n          ctx: this.ctx,\n          canvas: this.canvas,\n          currentPos: this.currentPos,\n          zoom: this.zoom,\n          data: annotation,\n          toolInstance: this\n        });\n      });\n      this.renderConnectionPoints();\n    } catch (e) {\n      console.error(\"ViewOperation Render Error\", e);\n    }\n  }\n}\n\nexport { ViewOperation as default };\n","import { ImgConversionUtils } from '@labelbee/lb-utils';\nimport AxisUtils from '../../utils/tool/AxisUtils.js';\nimport DrawUtils from '../../utils/tool/DrawUtils.js';\nimport { EToolName, EScribblePattern } from '../../constant/tool.js';\nimport CommonToolUtils from '../../utils/tool/CommonToolUtils.js';\nimport AttributeUtils from '../../utils/tool/AttributeUtils.js';\nimport { BasicToolOperation } from './basicToolOperation.js';\n\nconst DEFAULT_PEN_SIZE = 20;\nconst DEFAULT_COLOR = \"white\";\nclass ScribbleTool extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.toolName = EToolName.ScribbleTool;\n    this.action = EScribblePattern.Scribble;\n    this.getOriginCoordinate = (e) => {\n      return AxisUtils.changePointByZoom(this.getCoordinateUnderZoomByRotate(e), 1 / this.zoom);\n    };\n    this.onMouseDown = (e) => {\n      if (super.onMouseDown(e) || this.forbidMouseOperation || !this.imgInfo) {\n        return void 0;\n      }\n      this.initCacheCanvas(this.imgNode);\n      this.mouseEvents(\"onMouseDown\").call(this, e);\n    };\n    this.onMouseMove = (e) => {\n      if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n        return void 0;\n      }\n      this.mouseEvents(\"onMouseMove\").call(this, e);\n    };\n    this.onMouseUp = (e) => {\n      if (super.onMouseUp(e) || this.forbidMouseOperation || !this.imgInfo) {\n        return void 0;\n      }\n      this.mouseEvents(\"onMouseUp\").call(this, e);\n    };\n    this.mouseEvents = (eventType) => {\n      const events = {\n        [EScribblePattern.Scribble]: {\n          onMouseMove: this.onScribbleMove,\n          onMouseUp: this.onScribbleEnd,\n          onMouseDown: this.onScribbleStart\n        },\n        [EScribblePattern.Erase]: {\n          onMouseMove: this.onEraseMove,\n          onMouseUp: this.onEraseEnd,\n          onMouseDown: this.onEraseStart\n        }\n      };\n      return events[this.action][eventType];\n    };\n    this.setPattern = (pattern) => {\n      this.action = pattern;\n      switch (pattern) {\n        case EScribblePattern.Erase: {\n          this.setCustomCursor(this.cursorErase);\n          break;\n        }\n        default: {\n          this.setCustomCursor(\"none\");\n          break;\n        }\n      }\n    };\n    var _a;\n    this.penSize = DEFAULT_PEN_SIZE;\n    if (((_a = this.config.attributeList) == null ? void 0 : _a.length) > 0) {\n      const firstAttributeInfo = this.config.attributeList[0];\n      this.setDefaultAttribute(firstAttributeInfo.value);\n    }\n  }\n  get cursorErase() {\n    const svgIcon = `<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"24\" heighst=\"24\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#icon-65e7e1747c11bad3)\"><path d=\"M44.7818 24.1702L31.918 7.09935L14.1348 20.5L27.5 37L30.8556 34.6643L44.7818 24.1702Z\" fill=\"#141414\" stroke=\"#000000\" stroke-width=\"4\" stroke-linejoin=\"miter\"/><path d=\"M27.4998 37L23.6613 40.0748L13.0978 40.074L10.4973 36.6231L4.06543 28.0876L14.4998 20.2248\" stroke=\"#000000\" stroke-width=\"4\" stroke-linejoin=\"miter\"/><path d=\"M13.2056 40.072L44.5653 40.072\" stroke=\"#000000\" stroke-width=\"4\" stroke-linecap=\"round\"/></g><defs><clipPath id=\"icon-65e7e1747c11bad3\"><rect width=\"48\" height=\"48\" fill=\"#df4c4c\"/></clipPath></defs></svg>`;\n    const iconUrl = `data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(svgIcon)))}`;\n    return `url(${iconUrl}) 0 0, auto`;\n  }\n  get defaultCursor() {\n    if (this.action === EScribblePattern.Erase) {\n      return this.cursorErase;\n    }\n    return this.isShowDefaultCursor ? \"default\" : \"none\";\n  }\n  get color() {\n    var _a, _b;\n    return (_b = (_a = this == null ? void 0 : this.defaultAttributeInfo) == null ? void 0 : _a.color) != null ? _b : DEFAULT_COLOR;\n  }\n  get penSizeWithZoom() {\n    return this.penSize / this.zoom;\n  }\n  get cacheCanvasToDataUrl() {\n    var _a;\n    return (_a = this.cacheCanvas) == null ? void 0 : _a.toDataURL(\"image/png\", 0);\n  }\n  setPenSize(size) {\n    this.penSize = size;\n  }\n  initCacheCanvas(imgNode) {\n    if (this.cacheCanvas || !imgNode) {\n      return;\n    }\n    const {canvas, ctx} = ImgConversionUtils.createCanvas(imgNode);\n    this.cacheCanvas = canvas;\n    this.cacheContext = ctx;\n  }\n  updateCacheCanvasSize(imgNode) {\n    if (this.cacheCanvas) {\n      this.cacheCanvas.width = imgNode.width;\n      this.cacheCanvas.height = imgNode.height;\n    }\n  }\n  updateUrl2CacheContext(url) {\n    ImgConversionUtils.createImgDom(url).then((img) => {\n      if (!this.cacheContext) {\n        this.initCacheCanvas(img);\n      }\n      if (this.cacheContext) {\n        this.cacheContext.save();\n        this.clearCacheCanvas();\n        this.cacheContext.drawImage(img, 0, 0, img.width, img.height);\n        this.cacheContext.restore();\n        this.render();\n      }\n    });\n  }\n  setImgNode(imgNode, basicImgInfo) {\n    super.setImgNode(imgNode, basicImgInfo);\n    if (this.cacheCanvas) {\n      this.updateCacheCanvasSize(imgNode);\n    } else {\n      this.initCacheCanvas(imgNode);\n    }\n  }\n  setResult(data) {\n    var _a, _b;\n    let {url} = (_a = data == null ? void 0 : data[0]) != null ? _a : {};\n    this.clearCacheCanvas();\n    if (!url) {\n      url = (_b = this.cacheCanvasToDataUrl) != null ? _b : \"\";\n    }\n    this.history.initRecord([url], true);\n    if (!url) {\n      this.render();\n      return;\n    }\n    this.updateUrl2CacheContext(url);\n  }\n  onKeyDown(e) {\n    if (!CommonToolUtils.hotkeyFilter(e) || super.onKeyDown(e) === false) {\n      return;\n    }\n    const {keyCode} = e;\n    const keyCode2Attribute = AttributeUtils.getAttributeByKeycode(keyCode, this.config.attributeList);\n    if (keyCode2Attribute !== void 0) {\n      this.setDefaultAttribute(keyCode2Attribute);\n    }\n  }\n  eventBinding() {\n    super.eventBinding();\n  }\n  setDefaultAttribute(attributeValue) {\n    const attributeInfo = this.config.attributeList.find((v) => v.value === attributeValue);\n    if (attributeInfo) {\n      this.defaultAttribute = attributeInfo.value;\n      this.defaultAttributeInfo = attributeInfo;\n      this.emit(\"changeAttributeSidebar\");\n      this.render();\n    }\n  }\n  clearStatusAfterLeave() {\n    this.onScribbleEnd();\n    this.startPoint = void 0;\n  }\n  onMouseLeave() {\n    super.onMouseLeave();\n    this.clearStatusAfterLeave();\n  }\n  onScribbleStart(e) {\n    if (!this.cacheContext) {\n      return;\n    }\n    this.cacheContext.save();\n    this.cacheContext.beginPath();\n    this.cacheContext.strokeStyle = this.color;\n    this.cacheContext.lineWidth = this.penSizeWithZoom;\n    this.cacheContext.lineCap = \"round\";\n    this.cacheContext.lineJoin = \"round\";\n    const originCoordinate = this.getOriginCoordinate(e);\n    this.cacheContext.moveTo(originCoordinate.x, originCoordinate.y);\n    this.startPoint = originCoordinate;\n  }\n  onScribbleMove(e) {\n    if (e.buttons === 1 && this.cacheContext && this.startPoint) {\n      const originCoordinate = this.getOriginCoordinate(e);\n      this.cacheContext.lineTo(originCoordinate.x, originCoordinate.y);\n      this.cacheContext.stroke();\n    }\n  }\n  onScribbleEnd() {\n    var _a, _b;\n    if (this.startPoint) {\n      (_a = this.cacheContext) == null ? void 0 : _a.closePath();\n      (_b = this.cacheContext) == null ? void 0 : _b.restore();\n      this.startPoint = void 0;\n      this.history.pushHistory(this.cacheCanvasToDataUrl);\n    }\n  }\n  eraseArc(e) {\n    var _a;\n    if (this.cacheContext) {\n      const originCoordinate = this.getOriginCoordinate(e);\n      this.cacheContext.save();\n      this.cacheContext.beginPath();\n      this.cacheContext.arc(originCoordinate.x, originCoordinate.y, this.penSizeWithZoom / 2, 0, Math.PI * 2, false);\n      this.cacheContext.clip();\n      this.cacheContext.clearRect(0, 0, this.cacheContext.canvas.width, this.cacheContext.canvas.height);\n      (_a = this.cacheContext) == null ? void 0 : _a.restore();\n    }\n  }\n  onEraseStart(e) {\n    if (!this.cacheContext || e.buttons !== 1) {\n      return;\n    }\n    this.eraseArc(e);\n  }\n  onEraseMove(e) {\n    if (!this.cacheContext || e.buttons !== 1) {\n      return;\n    }\n    this.eraseArc(e);\n  }\n  onEraseEnd() {\n  }\n  exportData() {\n    const imgBase64 = this.cacheCanvasToDataUrl;\n    return [[], this.basicImgInfo, {imgBase64}];\n  }\n  clearCacheCanvas() {\n    var _a;\n    (_a = this.cacheContext) == null ? void 0 : _a.clearRect(0, 0, this.cacheContext.canvas.width, this.cacheContext.canvas.height);\n    this.render();\n  }\n  clearResult() {\n    this.clearCacheCanvas();\n    this.history.pushHistory(this.cacheCanvasToDataUrl);\n  }\n  renderPoint(radius) {\n    DrawUtils.drawCircleWithFill(this.canvas, this.coord, radius, {color: this.color});\n  }\n  renderBorderPoint(radius) {\n    DrawUtils.drawCircle(this.canvas, this.coord, radius, {color: \"black\"});\n  }\n  render() {\n    super.render();\n    if (!this.ctx || !this.cacheCanvas) {\n      return;\n    }\n    this.ctx.save();\n    this.ctx.globalAlpha = 0.5;\n    DrawUtils.drawImg(this.canvas, this.cacheCanvas, {\n      zoom: this.zoom,\n      currentPos: this.currentPos,\n      rotate: this.rotate\n    });\n    this.ctx.restore();\n    if (this.forbidOperation || this.forbidCursorLine) {\n      return;\n    }\n    const radius = this.penSize / 2;\n    if (this.action === EScribblePattern.Erase) {\n      this.renderBorderPoint(radius);\n    } else {\n      this.renderPoint(radius);\n    }\n  }\n  undo() {\n    const url = this.history.undo();\n    if (url && this.cacheCanvas) {\n      this.updateUrl2CacheContext(url);\n    }\n  }\n  redo() {\n    const url = this.history.redo();\n    if (url && this.cacheCanvas) {\n      this.updateUrl2CacheContext(url);\n    }\n  }\n}\n\nexport { ScribbleTool as default };\n","import { ESortDirection } from '../../constant/annotation.js';\nimport { EPolygonPattern } from '../../constant/tool.js';\nimport AxisUtils from '../../utils/tool/AxisUtils.js';\nimport CommonToolUtils from '../../utils/tool/CommonToolUtils.js';\nimport DrawUtils from '../../utils/tool/DrawUtils.js';\nimport PolygonUtils from '../../utils/tool/PolygonUtils.js';\nimport StyleUtils from '../../utils/tool/StyleUtils.js';\nimport PolygonOperation from './polygonOperation.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nclass PointCloud2dOperation extends PolygonOperation {\n  constructor(props) {\n    super(props);\n    this.selectedIDs = [];\n    this.rightMouseUp = (e) => {\n      if (this.drawingPointList.length > 0) {\n        this.addDrawingPointToPolygonList();\n        return;\n      }\n      if (e.ctrlKey && this.hoverID) {\n        this.emit(\"addSelectedIDs\", this.hoverID);\n      } else {\n        this.emit(\"setSelectedIDs\", this.hoverID);\n      }\n    };\n    this.onKeyDown = () => {\n    };\n    this.onKeyUp = () => {\n    };\n    this.renderSingleSelectedPolygon = (selectedPolygon) => {\n      var _a;\n      if (this.selectedPolygons) {\n        const toolColor = this.getColor(selectedPolygon.attribute);\n        const toolData = StyleUtils.getStrokeAndFill(toolColor, selectedPolygon.valid, {isSelected: true});\n        const polygon = AxisUtils.changePointListByZoom(selectedPolygon.pointList, this.zoom, this.currentPos);\n        DrawUtils.drawSelectedPolygonWithFillAndLine(this.canvas, polygon, {\n          fillColor: \"transparent\",\n          strokeColor: toolData.stroke,\n          pointColor: \"white\",\n          thickness: 2,\n          lineCap: \"round\",\n          isClose: true,\n          lineType: (_a = this.config) == null ? void 0 : _a.lineType\n        });\n        if (selectedPolygon.isRect === true && this.showDirectionLine === true) {\n          this.renderRectPolygonDirection(polygon);\n        }\n      }\n    };\n    var _a, _b;\n    this.showDirectionLine = (_a = props.showDirectionLine) != null ? _a : true;\n    this.forbidAddNew = (_b = props.forbidAddNew) != null ? _b : false;\n  }\n  get getSelectedIDs() {\n    return this.selectedIDs;\n  }\n  setSelectedIDs(selectedIDs) {\n    this.selectedIDs = selectedIDs;\n    this.setSelectedID(this.selectedIDs.length === 1 ? this.selectedIDs[0] : \"\");\n    this.render();\n  }\n  deleteSelectedID() {\n    super.deleteSelectedID();\n    this.selectedIDs = [];\n    this.emit(\"deleteSelectedIDs\");\n  }\n  get selectedPolygons() {\n    return PolygonUtils.getPolygonByIDs(this.polygonList, this.selectedIDs);\n  }\n  getLineColor() {\n    return \"rgba(0, 255, 255, 0.5)\";\n  }\n  renderStaticPolygon() {\n    var _a;\n    if (this.isHidden === false) {\n      (_a = this.polygonList) == null ? void 0 : _a.forEach((polygon) => {\n        var _a2, _b, _c;\n        if ([...this.selectedIDs, this.editPolygonID].includes(polygon.id)) {\n          return;\n        }\n        const {attribute} = polygon;\n        const toolColor = this.getColor(attribute);\n        const toolData = StyleUtils.getStrokeAndFill(toolColor, polygon.valid);\n        const transformPointList = AxisUtils.changePointListByZoom(polygon.pointList || [], this.zoom, this.currentPos);\n        DrawUtils.drawPolygonWithFillAndLine(this.canvas, transformPointList, {\n          fillColor: \"transparent\",\n          strokeColor: toolData.stroke,\n          pointColor: \"white\",\n          thickness: (_b = (_a2 = this.style) == null ? void 0 : _a2.width) != null ? _b : 2,\n          lineCap: \"round\",\n          isClose: true,\n          lineType: (_c = this.config) == null ? void 0 : _c.lineType\n        });\n        if (polygon.isRect === true && this.showDirectionLine === true) {\n          this.renderRectPolygonDirection(transformPointList);\n        }\n      });\n    }\n  }\n  renderSelectedPolygon() {\n    var _a;\n    (_a = this.selectedPolygons) == null ? void 0 : _a.forEach((polygon) => {\n      this.renderSingleSelectedPolygon(polygon);\n    });\n  }\n  renderRectPolygonDirection(polygon) {\n    if (polygon.length < 2) {\n      return;\n    }\n    DrawUtils.drawLine(this.canvas, polygon[0], polygon[1], {\n      color: \"red\",\n      thickness: 3\n    });\n  }\n  get currentPolygonListByPattern() {\n    return this.polygonList.filter((v) => {\n      if (this.pattern === EPolygonPattern.Rect) {\n        return v.isRect === true;\n      }\n      if (this.pattern === EPolygonPattern.Normal) {\n        return v.isRect !== true;\n      }\n      return true;\n    });\n  }\n  getHoverID(e) {\n    var _a;\n    const coordinate = this.getCoordinateUnderZoom(e);\n    const currentPolygonList = this.currentPolygonListByPattern;\n    const polygonListWithZoom = currentPolygonList.map((polygon) => __spreadProps(__spreadValues({}, polygon), {\n      pointList: AxisUtils.changePointListByZoom(polygon.pointList, this.zoom)\n    }));\n    return PolygonUtils.getHoverPolygonID(coordinate, polygonListWithZoom, 10, (_a = this.config) == null ? void 0 : _a.lineType);\n  }\n  switchToNextPolygon(sort = ESortDirection.ascend) {\n    if (this.drawingPointList.length > 0) {\n      return;\n    }\n    const sortList = this.currentPolygonListByPattern.map((v) => {\n      var _a, _b, _c, _d;\n      return __spreadProps(__spreadValues({}, v), {\n        x: (_b = (_a = v.pointList[0]) == null ? void 0 : _a.x) != null ? _b : 0,\n        y: (_d = (_c = v.pointList[0]) == null ? void 0 : _c.y) != null ? _d : 0\n      });\n    });\n    const nextSelectedResult = CommonToolUtils.getNextSelectedRectID(sortList, sort, this.selectedID);\n    if (nextSelectedResult) {\n      this.setSelectedIDs([nextSelectedResult.id]);\n      this.render();\n      return [nextSelectedResult.id];\n    }\n  }\n  setSelectedIdAfterAddingDrawing(newID) {\n    if (this.drawingPointList.length === 0) {\n      return;\n    }\n    this.setSelectedID(newID);\n  }\n  setSelectedID(newID) {\n    var _a, _b;\n    const oldID = this.selectedID;\n    if (newID !== oldID && oldID) {\n      (_a = this._textAttributInstance) == null ? void 0 : _a.changeSelected();\n    }\n    if (!newID) {\n      (_b = this._textAttributInstance) == null ? void 0 : _b.clearTextAttribute();\n    }\n    this.selectedID = newID;\n    this.render();\n  }\n  addPointInDrawing(e) {\n    if (this.forbidAddNew) {\n      return;\n    }\n    super.addPointInDrawing(e);\n  }\n  setCanvasSize(size) {\n    var _a, _b;\n    const pixel = this.pixelRatio;\n    this.size = size;\n    this.setImgInfo(size);\n    this.updateCanvasBasicStyle(this.basicCanvas, size, 0);\n    this.updateCanvasBasicStyle(this.canvas, size, 10);\n    (_a = this.ctx) == null ? void 0 : _a.scale(pixel, pixel);\n    (_b = this.basicCtx) == null ? void 0 : _b.scale(pixel, pixel);\n    this.initImgPos();\n    this.renderBasicCanvas();\n    this.render();\n  }\n  setPolygonValidAndRender(id, isUpdate = false) {\n    if (isUpdate) {\n      super.setPolygonValidAndRender(id);\n      return;\n    }\n    this.emit(\"validUpdate\", id);\n  }\n}\n\nexport { PointCloud2dOperation as default };\n","import { cloneDeep } from 'lodash';\nimport CommonToolUtils from '../../utils/tool/CommonToolUtils.js';\nimport RectUtils from '../../utils/tool/RectUtils.js';\nimport TagUtil from '../../utils/tool/TagUtils.js';\nimport { DEFAULT_TEXT_OFFSET } from '../../constant/annotation.js';\nimport { EToolName } from '../../constant/tool.js';\nimport AttributeUtils from '../../utils/tool/AttributeUtils.js';\nimport AxisUtils from '../../utils/tool/AxisUtils.js';\nimport DrawUtils from '../../utils/tool/DrawUtils.js';\nimport StyleUtils from '../../utils/tool/StyleUtils.js';\nimport { BasicToolOperation } from './basicToolOperation.js';\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nconst TEXT_ATTRIBUTE_OFFSET = {\n  x: 8,\n  y: 26\n};\nconst newScope = 2;\nclass CheckOperation extends BasicToolOperation {\n  constructor(props) {\n    super(props);\n    this.getHoverRectID = (e) => {\n      var _a, _b;\n      const coordinate = this.getCoordinateUnderZoom(e);\n      const currentShowList = (_b = (_a = this.resultList.find((v) => v.toolName === EToolName.Rect)) == null ? void 0 : _a.result) != null ? _b : [];\n      if (currentShowList.length > 0) {\n        const hoverList = currentShowList.filter((rect) => RectUtils.isInRect(coordinate, rect, newScope, this.zoom));\n        if (hoverList.length === 0) {\n          return \"\";\n        }\n        if (hoverList.length === 1) {\n          return hoverList[0].id;\n        }\n        if (hoverList.length > 1) {\n          const rectSizeList = hoverList.map((rect) => ({size: rect.width * rect.height, id: rect.id})).sort((a, b) => a.size - b.size);\n          return rectSizeList[0].id;\n        }\n      }\n      return \"\";\n    };\n    this.resultList = [];\n    this.hoverID = [];\n    this.fillID = [];\n    this.render = this.render.bind(this);\n    this.drawPolygon = this.drawPolygon.bind(this);\n    this.drawRect = this.drawRect.bind(this);\n    this.drawTag = this.drawTag.bind(this);\n    this.setShowDefaultCursor(true);\n    this.forbidOperation = true;\n  }\n  onMouseDown(e) {\n    var _a, _b;\n    if (super.onMouseDown(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return true;\n    }\n    const newMouseSelectedID = this.mouseHoverID;\n    const currentShowList = (_b = (_a = this.resultList.find((v) => v.toolName === EToolName.Rect)) == null ? void 0 : _a.result) != null ? _b : [];\n    if (e.button === 0) {\n      let selectedID = [newMouseSelectedID];\n      let isShow = true;\n      if (newMouseSelectedID && currentShowList.find((rect) => rect.id === newMouseSelectedID && (rect == null ? void 0 : rect.isSelected))) {\n        isShow = false;\n      }\n      if (!newMouseSelectedID) {\n        selectedID = currentShowList.map((rect) => rect.id);\n        isShow = false;\n      }\n      this.emit(\"setSelectedID\", selectedID, isShow);\n      this.render();\n    }\n  }\n  updateRotate() {\n  }\n  onMouseMove(e) {\n    if (super.onMouseMove(e) || this.forbidMouseOperation || !this.imgInfo) {\n      return;\n    }\n    const oldMouseHoverID = this.mouseHoverID;\n    const newMouseHoverID = this.getHoverRectID(e);\n    if (oldMouseHoverID !== newMouseHoverID) {\n      this.mouseHoverID = newMouseHoverID;\n      let hoverID = [newMouseHoverID];\n      if (!newMouseHoverID) {\n        hoverID = [];\n      }\n      this.emit(\"setHoverID\", hoverID);\n      this.render();\n    }\n  }\n  setResult(result) {\n    this.resultList = cloneDeep(result);\n    this.render();\n  }\n  drawPolygon(polygonList, config) {\n    polygonList == null ? void 0 : polygonList.forEach((polygon) => {\n      var _a, _b, _c, _d, _e;\n      const toolColor = this.getColor(polygon.attribute, config);\n      const toolData = StyleUtils.getStrokeAndFill(toolColor, polygon.valid);\n      let thickness = (_b = (_a = this.style) == null ? void 0 : _a.width) != null ? _b : 2;\n      if (this.hoverID.includes(polygon.id)) {\n        thickness = 4;\n        DrawUtils.drawPolygonWithFillAndLine(this.canvas, AxisUtils.changePointListByZoom(polygon.pointList, this.zoom, this.currentPos), {\n          fillColor: toolData.fill,\n          strokeColor: toolData.stroke,\n          pointColor: \"white\",\n          thickness,\n          lineCap: \"round\",\n          isClose: true,\n          lineType: config == null ? void 0 : config.lineType\n        });\n      } else {\n        DrawUtils.drawPolygon(this.canvas, AxisUtils.changePointListByZoom(polygon.pointList, this.zoom, this.currentPos), {\n          color: toolData.fill,\n          lineType: (_c = this.config) == null ? void 0 : _c.lineType,\n          thickness,\n          isClose: true\n        });\n      }\n      let showText = `${(_e = AttributeUtils.getAttributeShowText(polygon.attribute, (_d = config == null ? void 0 : config.attributeList) != null ? _d : [])) != null ? _e : \"\"}`;\n      if ((config == null ? void 0 : config.isShowOrder) && (polygon == null ? void 0 : polygon.order) > 0) {\n        showText = `${polygon.order} ${showText}`;\n      }\n      DrawUtils.drawText(this.canvas, AxisUtils.changePointByZoom(polygon.pointList[0], this.zoom, this.currentPos), showText, __spreadValues({\n        color: toolData.stroke\n      }, DEFAULT_TEXT_OFFSET));\n      const transformPointList = AxisUtils.changePointListByZoom(polygon.pointList || [], this.zoom, this.currentPos);\n      const endPoint = transformPointList[transformPointList.length - 1];\n      DrawUtils.drawText(this.canvas, {x: endPoint.x + TEXT_ATTRIBUTE_OFFSET.x, y: endPoint.y + TEXT_ATTRIBUTE_OFFSET.y}, polygon == null ? void 0 : polygon.textAttribute, __spreadValues({\n        color: toolData.stroke\n      }, DEFAULT_TEXT_OFFSET));\n    });\n  }\n  drawRect(rectList, config) {\n    rectList == null ? void 0 : rectList.forEach((rect) => {\n      let thickness = 1;\n      if (this.hoverID.includes(rect.id)) {\n        thickness = 3;\n      }\n      const toolColor = this.getColor(rect.attribute, config);\n      const renderRect = AxisUtils.changeRectByZoom(rect, this.zoom, this.currentPos);\n      DrawUtils.drawRect(this.canvas, renderRect, {\n        color: (rect == null ? void 0 : rect.valid) ? toolColor.valid.stroke : toolColor.invalid.stroke,\n        thickness\n      });\n      if (this.fillID.includes(rect.id)) {\n        DrawUtils.drawRectWithFill(this.canvas, renderRect, {\n          color: (rect == null ? void 0 : rect.valid) ? toolColor.valid.fill : toolColor.invalid.fill\n        });\n      }\n    });\n  }\n  drawTag(tagList, config) {\n    const tagInfoList = tagList.reduce((acc, cur) => {\n      return [\n        ...acc,\n        ...(config == null ? void 0 : config.inputList) ? TagUtil.getTagNameList(cur.result, config.inputList) : TagUtil.getTagnameListWithoutConfig(cur.result)\n      ];\n    }, []);\n    DrawUtils.drawTag(this.canvas, tagInfoList);\n  }\n  setHoverID(hoverID) {\n    this.hoverID = hoverID;\n    this.render();\n  }\n  setFillID(fillID) {\n    this.fillID = fillID;\n    this.render();\n  }\n  render() {\n    var _a;\n    super.render();\n    (_a = this.resultList) == null ? void 0 : _a.forEach((item) => {\n      switch (item == null ? void 0 : item.toolName) {\n        case EToolName.Rect:\n          this.drawRect(item.result, CommonToolUtils.jsonParser(item.config));\n          break;\n        case EToolName.Polygon:\n          this.drawPolygon(item.result, CommonToolUtils.jsonParser(item.config));\n          break;\n        case EToolName.Tag:\n          this.drawTag(item.result, CommonToolUtils.jsonParser(item.config));\n          break;\n      }\n    });\n  }\n  exportData() {\n    return [[], {}];\n  }\n}\n\nexport { CheckOperation as default };\n","import { i18n } from '@labelbee/lb-utils';\nimport AxisUtils from '../../utils/tool/AxisUtils.js';\nimport { RectOperation } from './rectOperation.js';\nimport EKeyCode from '../../constant/keyCode.js';\n\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nclass SegmentByRect extends RectOperation {\n  constructor(props) {\n    super(props);\n    this.onKeydown = (e) => {\n      switch (e.keyCode) {\n        case EKeyCode.Esc:\n          e.preventDefault();\n          e.stopPropagation();\n          this.clearPredictionInfo();\n          break;\n        case EKeyCode.Z:\n          if (e.ctrlKey) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.rectList = [];\n            this.render();\n          }\n          break;\n      }\n    };\n    this.segmentPrediction = (e) => __async(this, null, function* () {\n      const coord = this.getCoordinateUnderZoom(e);\n      this.isRunSegment = true;\n      this.render();\n      if (!this.runPrediction) {\n        this.emit(\"messageError\", \"You needs to set runPrediction function\");\n        this.clearPredictionInfo();\n        return;\n      }\n      yield this.runPrediction({\n        point: coord,\n        rect: {\n          x: this.rectList[0].x,\n          y: this.rectList[0].y,\n          w: this.rectList[0].width,\n          h: this.rectList[0].height\n        }\n      });\n      this.clearPredictionInfo();\n    });\n    this.isRunSegment = false;\n    this.runPrediction = props.runPrediction;\n  }\n  setRunPrediction(runPrediction) {\n    this.runPrediction = runPrediction;\n  }\n  eventBinding() {\n    document.addEventListener(\"keydown\", (e) => this.onKeydown(e));\n    super.eventBinding();\n  }\n  clearPredictionInfo() {\n    this.rectList = [];\n    this.isShowCursor = false;\n    this.coord = {x: -1, y: -1};\n    this.drawingRect = void 0;\n    this.isRunSegment = false;\n    this.clearCanvas();\n    this.render();\n  }\n  onMouseUp(e) {\n    if (this.isRunSegment) {\n      return;\n    }\n    if (e.button === 0 && this.rectList.length === 1 && !this.isRunSegment) {\n      e.stopPropagation();\n      this.segmentPrediction(e);\n      this.clearActiveStatus();\n      return;\n    }\n    super.onMouseUp(e);\n    return void 0;\n  }\n  onMouseDown(e) {\n    if (this.isRunSegment) {\n      return;\n    }\n    super.onMouseDown(e);\n    return void 0;\n  }\n  renderCursorLine() {\n    var _a;\n    if (!this.ctx) {\n      return;\n    }\n    const {ctx} = this;\n    const padding = 10;\n    const lineWidth = 1;\n    const {x, y} = this.coord;\n    ctx.save();\n    ctx.strokeStyle = \"white\";\n    ctx.setLineDash([6]);\n    ctx.lineWidth = lineWidth;\n    ctx.strokeRect(x - padding, y - padding, padding * 2, padding * 2);\n    ctx.restore();\n    let text = `\\u2460 ${i18n.t(\"FramingOfObjectToBeDivided\")}`;\n    const isEn = i18n.language === \"en\";\n    let rectWidth = isEn ? 326 : 186;\n    if (((_a = this.rectList) == null ? void 0 : _a.length) === 1) {\n      text = `\\u2461 ${i18n.t(\"ClickOnTarget\")}`;\n      rectWidth = isEn ? 232 : 142;\n      const radius = 2;\n      ctx.save();\n      ctx.strokeStyle = \"white\";\n      const margin = lineWidth + padding;\n      ctx.beginPath();\n      ctx.moveTo(x + margin + radius * 2, y + margin + radius);\n      ctx.arc(x + margin + radius, y + margin + radius, radius, 0, Math.PI * 2, true);\n      ctx.stroke();\n      ctx.restore();\n    }\n    if (this.isRunSegment) {\n      rectWidth = isEn ? 316 : 136;\n      text = i18n.t(\"SplittingAlgorithmPrediction\");\n    }\n    ctx.save();\n    ctx.fillStyle = this.style.strokeColor;\n    ctx.fillRect(x + padding, y - padding * 4 - 1, rectWidth, 32);\n    ctx.restore();\n    ctx.save();\n    ctx.font = \"14px Source Han Sans CN\";\n    ctx.fillStyle = \"white\";\n    ctx.fillText(text, x + padding + 14, y - padding * 2);\n    ctx.restore();\n    super.renderCursorLine();\n  }\n  renderDrawingRect(rect, zoom, isZoom = false) {\n    if (this.ctx && rect) {\n      const transformRect = AxisUtils.changeRectByZoom(rect, isZoom ? zoom : this.zoom, this.currentPos);\n      const {x, y, width, height} = transformRect;\n      this.ctx.save();\n      this.ctx.lineCap = \"butt\";\n      this.ctx.lineWidth = this.style.strokeWidth;\n      this.ctx.strokeStyle = \"white\";\n      this.ctx.strokeRect(x, y, width, height);\n      this.ctx.strokeStyle = this.style.strokeColor;\n      this.ctx.setLineDash([6]);\n      this.ctx.strokeRect(x, y, width, height);\n      this.ctx.restore();\n    }\n  }\n  renderTextAttribute() {\n  }\n  renderSelectedRect() {\n  }\n}\n\nexport { SegmentByRect as default };\n","import { EToolName, ECheckModel } from '../../constant/tool.js';\nimport ScribbleTool from '../../core/toolOperation/ScribbleTool.js';\nimport CheckOperation from '../../core/toolOperation/checkOperation.js';\nimport PolygonOperation from '../../core/toolOperation/polygonOperation.js';\nimport { RectOperation } from '../../core/toolOperation/rectOperation.js';\nimport TagOperation from '../../core/toolOperation/tagOperation.js';\nimport LineToolOperation from '../../core/toolOperation/LineToolOperation.js';\nimport PointOperation from '../../core/toolOperation/pointOperation.js';\nimport TextToolOperation from '../../core/toolOperation/TextToolOperation.js';\nimport SegmentByRect from '../../core/toolOperation/segmentByRect.js';\nimport CommonToolUtils from './CommonToolUtils.js';\n\nconst getCurrentOperation = (toolName) => {\n  switch (toolName) {\n    case EToolName.Rect:\n    case EToolName.RectTrack:\n      return RectOperation;\n    case EToolName.SegmentByRect:\n      return SegmentByRect;\n    case EToolName.Tag:\n      return TagOperation;\n    case EToolName.Polygon:\n      return PolygonOperation;\n    case ECheckModel.Check:\n      return CheckOperation;\n    case EToolName.Line:\n      return LineToolOperation;\n    case EToolName.Point:\n      return PointOperation;\n    case EToolName.Text:\n      return TextToolOperation;\n    case EToolName.ScribbleTool:\n      return ScribbleTool;\n    default:\n      throw new Error(\"not match tool\");\n  }\n};\nclass EnhanceCommonToolUtils extends CommonToolUtils {\n}\nEnhanceCommonToolUtils.getCurrentOperation = getCurrentOperation;\n\nexport { EnhanceCommonToolUtils as default, getCurrentOperation };\n","class ImgUtils {\n  static load(src) {\n    return new Promise((resolve, reject) => {\n      const imgNode = new Image();\n      if (src.startsWith(\"file\")) {\n        imgNode.src = encodeURI(src);\n      } else {\n        imgNode.src = src;\n      }\n      imgNode.onload = () => {\n        resolve(imgNode);\n      };\n      imgNode.onerror = () => {\n        reject(imgNode);\n      };\n    });\n  }\n}\n\nexport { ImgUtils as default };\n","import { getConfig, styleDefaultConfig } from '../constant/defaultConfig.js';\nimport { getCurrentOperation } from '../utils/tool/EnhanceCommonToolUtils.js';\nimport { BasicToolOperation } from './toolOperation/basicToolOperation.js';\n\nconst createEmptyImage = (size) => {\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = size.width;\n  canvas.height = size.height;\n  const ctx = canvas.getContext(\"2d\");\n  if (ctx) {\n    ctx.fillStyle = \"transparent\";\n    ctx.fillRect(0, 0, size.width, size.height);\n    return canvas.toDataURL();\n  }\n  return \"\";\n};\nconst arraySwap = (array, index1, index2) => {\n  const a = array[index1];\n  array[index1] = array[index2];\n  array[index2] = a;\n  return array;\n};\nconst _HybridToolUtils = class {\n  static isSingleTool(toolName) {\n    return !this.isHybridTool(toolName);\n  }\n  static isHybridTool(toolName) {\n    return Array.isArray(toolName);\n  }\n};\nlet HybridToolUtils = _HybridToolUtils;\nHybridToolUtils.getTopToolName = (toolName) => {\n  return _HybridToolUtils.isHybridTool(toolName) ? toolName[toolName.length - 1] : toolName;\n};\nclass ToolScheduler {\n  constructor(props) {\n    this.toolOperationList = [];\n    this.toolOperationDom = [];\n    var _a, _b;\n    this.init();\n    this.container = props.container;\n    this.size = props.size;\n    this.imgNode = props.imgNode;\n    this.config = (_a = props.config) != null ? _a : JSON.stringify(getConfig(HybridToolUtils.getTopToolName(props.toolName)));\n    this.style = (_b = props.style) != null ? _b : styleDefaultConfig;\n  }\n  setImgNode(imgNode, basicImgInfo) {\n    this.toolOperationList.forEach((toolInstance) => {\n      toolInstance.setImgNode(imgNode, basicImgInfo);\n    });\n  }\n  setSize(size) {\n    this.toolOperationList.forEach((toolInstance) => {\n      toolInstance.setSize(size);\n    });\n  }\n  syncPosition(currentPos, zoom, imgInfo, currentToolInstance) {\n    this.toolOperationList.forEach((toolInstance) => {\n      if (currentToolInstance === toolInstance) {\n        return;\n      }\n      toolInstance.setCurrentPos(currentPos);\n      toolInstance.setZoom(zoom);\n      toolInstance.setImgInfo(imgInfo);\n      toolInstance.renderBasicCanvas();\n      toolInstance.render();\n    });\n  }\n  get defaultSize() {\n    var _a, _b;\n    return {\n      width: ((_a = this.imgNode) == null ? void 0 : _a.width) || this.size.width,\n      height: ((_b = this.imgNode) == null ? void 0 : _b.height) || this.size.height\n    };\n  }\n  createDom() {\n    const {width, height} = this.defaultSize;\n    const dom = window.document.createElement(\"div\");\n    dom.style.position = \"absolute\";\n    dom.style.left = \"0\";\n    dom.style.top = \"0\";\n    dom.style.width = `${width}px`;\n    dom.style.height = `${height}px`;\n    const zIndex = this.toolOperationList.length + 1;\n    dom.style.zIndex = `${zIndex}`;\n    return dom;\n  }\n  getEmptyImage(width, height) {\n    const imgSrc = createEmptyImage({width, height});\n    const emptyImgNode = new Image();\n    emptyImgNode.src = imgSrc;\n    return emptyImgNode;\n  }\n  createOperation(tool, imgNode, config) {\n    var _a;\n    const {width, height} = this.defaultSize;\n    const dom = this.createDom();\n    const emptyImgNode = this.getEmptyImage(width, height);\n    const defaultData = {\n      container: dom,\n      size: this.size,\n      config: (_a = this == null ? void 0 : this.config) != null ? _a : \"{}\",\n      drawOutSideTarget: false,\n      style: this.style,\n      imgNode: imgNode || emptyImgNode,\n      hiddenImg: !!tool\n    };\n    if (config) {\n      Object.assign(defaultData, config);\n    }\n    let toolInstance;\n    if (!tool) {\n      toolInstance = new BasicToolOperation(defaultData);\n      dom.style.zIndex = \"0\";\n      toolInstance.init();\n    } else {\n      const ToolOperation = getCurrentOperation(tool);\n      if (!ToolOperation) {\n        return;\n      }\n      toolInstance = new ToolOperation(defaultData);\n    }\n    toolInstance == null ? void 0 : toolInstance.init();\n    toolInstance.canvas.id = tool != null ? tool : \"basicCanvas\";\n    toolInstance.on(\"dragMove\", ({currentPos, zoom, imgInfo}) => {\n      this.syncPosition(currentPos, zoom, imgInfo, toolInstance);\n    });\n    toolInstance.on(\"renderZoom\", (zoom, currentPos, imgInfo) => {\n      if (zoom && currentPos) {\n        this.syncPosition(currentPos, zoom, imgInfo, toolInstance);\n      }\n    });\n    if (!tool) {\n      this.container.insertBefore(dom, this.container.childNodes[0]);\n      this.toolOperationList.unshift(toolInstance);\n      this.toolOperationDom.unshift(dom);\n      return toolInstance;\n    }\n    this.container.appendChild(dom);\n    this.toolOperationList.push(toolInstance);\n    this.toolOperationDom.push(dom);\n    return toolInstance;\n  }\n  switchLastTwoCanvas() {\n    if (this.toolOperationDom.length < 3) {\n      console.error(\"switchLastTwoCanvas is just used the layer which has 3 canvas\");\n      return;\n    }\n    const len = this.toolOperationDom.length;\n    const lastOneIndex = len - 1;\n    const last2SecondIndex = len - 2;\n    const lastOneDom = this.toolOperationDom[lastOneIndex];\n    const last2SecondDom = this.toolOperationDom[last2SecondIndex];\n    if (!last2SecondDom || !lastOneDom) {\n      return;\n    }\n    lastOneDom.style.zIndex = `${lastOneIndex - 1}`;\n    last2SecondDom.style.zIndex = `${lastOneIndex}`;\n    this.toolOperationList[lastOneIndex].clearActiveStatus();\n    this.toolOperationList[lastOneIndex].clearCursorLine();\n    this.toolOperationList[lastOneIndex].render();\n    this.toolOperationList = arraySwap(this.toolOperationList, lastOneIndex, last2SecondIndex);\n    this.toolOperationDom = arraySwap(this.toolOperationDom, lastOneIndex, last2SecondIndex);\n    return this.toolOperationList[lastOneIndex];\n  }\n  getFirstToolOperation() {\n    if (this.toolOperationList.length > 1) {\n      return this.toolOperationList[1];\n    }\n    return this.toolOperationList[0];\n  }\n  destroyAllLayer() {\n    this.toolOperationList.forEach((toolInstance) => {\n      toolInstance.destroyCanvas();\n      this.init();\n    });\n  }\n  init() {\n    this.toolOperationList = [];\n    this.toolOperationDom = [];\n  }\n}\n\nexport { HybridToolUtils, ToolScheduler };\n","import { ELang } from '../constant/annotation.js';\nimport { getConfig, styleDefaultConfig } from '../constant/defaultConfig.js';\nimport { HybridToolUtils, ToolScheduler } from './scheduler.js';\n\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst loadImage = (imgSrc) => {\n  return new Promise((resolve, reject) => {\n    const img = document.createElement(\"img\");\n    img.crossOrigin = \"Anonymous\";\n    img.onerror = (e) => {\n      console.error(e);\n      reject(img);\n    };\n    img.src = imgSrc;\n    img.onload = () => {\n      resolve(img);\n    };\n  });\n};\nclass AnnotationEngine {\n  constructor(props) {\n    this.setImgSrc = (imgSrc) => __async(this, null, function* () {\n      const imgNode = yield loadImage(imgSrc);\n      if (!imgNode) {\n        return;\n      }\n      this.setImgNode(imgNode);\n    });\n    var _a, _b;\n    this.container = props.container;\n    this.size = props.size;\n    this.toolName = props.toolName;\n    this.imgNode = props.imgNode;\n    this.config = (_a = props.config) != null ? _a : JSON.stringify(getConfig(HybridToolUtils.getTopToolName(props.toolName)));\n    this.style = (_b = props.style) != null ? _b : styleDefaultConfig;\n    this.toolScheduler = new ToolScheduler(props);\n    this.i18nLanguage = \"cn\";\n    this._initToolOperation();\n  }\n  setToolName(toolName, config) {\n    this.toolName = toolName;\n    const defaultConfig = config || JSON.stringify(getConfig(HybridToolUtils.getTopToolName(toolName)));\n    this.config = defaultConfig;\n    this._initToolOperation();\n  }\n  setImgNode(imgNode, basicImgInfo) {\n    this.toolScheduler.setImgNode(imgNode, basicImgInfo);\n    this.imgNode = imgNode;\n  }\n  setSize(size) {\n    this.size = size;\n    this.toolScheduler.setSize(size);\n  }\n  setStyle(style) {\n    this.style = style;\n  }\n  _initToolOperation() {\n    this.toolScheduler.destroyAllLayer();\n    let toolList = [];\n    const config = {hiddenImg: true};\n    if (HybridToolUtils.isSingleTool(this.toolName)) {\n      toolList = [this.toolName];\n      Object.assign(config, {hiddenImg: false});\n    } else {\n      toolList = this.toolName;\n    }\n    if (toolList.length > 1) {\n      this.toolScheduler.createOperation(void 0, this.imgNode);\n    }\n    toolList.forEach((toolName, i) => {\n      const toolInstance = this.toolScheduler.createOperation(toolName, void 0, config);\n      if (i === toolList.length - 1) {\n        this.toolInstance = toolInstance;\n      }\n    });\n    this.setLang(this.i18nLanguage);\n  }\n  setBasicInfo(dependToolName, basicResult) {\n    this.dependToolName = dependToolName;\n    this.basicResult = basicResult;\n    this.toolInstance.setDependName(dependToolName);\n    this.toolInstance.setBasicResult(basicResult);\n    this.toolInstance.renderBasicCanvas();\n  }\n  clearBasicResult() {\n    this.setBasicInfo();\n  }\n  forbidOperation() {\n    this.toolInstance.setForbidOperation(true);\n  }\n  launchOperation() {\n    this.toolInstance.setForbidOperation(false);\n  }\n  setLang(i18nLanguage) {\n    this.i18nLanguage = i18nLanguage;\n    switch (i18nLanguage) {\n      case \"cn\":\n        this.toolInstance.setLang(ELang.Zh);\n        break;\n      case \"en\":\n        this.toolInstance.setLang(ELang.US);\n        break;\n    }\n  }\n  setDataInjectionAtCreation(dataInjectionAtCreation) {\n    this.toolInstance.setDataInjectionAtCreation(dataInjectionAtCreation);\n  }\n  setRenderEnhance(renderEnhance) {\n    this.toolInstance.setRenderEnhance(renderEnhance);\n  }\n  switchLastTwoCanvas() {\n    const newInstance = this.toolScheduler.switchLastTwoCanvas();\n    if (newInstance) {\n      this.toolInstance = newInstance;\n      return newInstance;\n    }\n  }\n  get firstToolInstance() {\n    return this.toolScheduler.getFirstToolOperation();\n  }\n  setCustomRenderStyle(customRenderStyle) {\n    this.toolInstance.setCustomRenderStyle(customRenderStyle);\n  }\n}\n\nexport { AnnotationEngine as default };\n","function decodeBase64(base64, enableUnicode) {\n    var binaryString = atob(base64);\n    if (enableUnicode) {\n        var binaryView = new Uint8Array(binaryString.length);\n        for (var i = 0, n = binaryString.length; i < n; ++i) {\n            binaryView[i] = binaryString.charCodeAt(i);\n        }\n        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));\n    }\n    return binaryString;\n}\n\nfunction createURL(base64, sourcemapArg, enableUnicodeArg) {\n    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;\n    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;\n    var source = decodeBase64(base64, enableUnicode);\n    var start = source.indexOf('\\n', 10) + 1;\n    var body = source.substring(start) + (sourcemap ? '\\/\\/# sourceMappingURL=' + sourcemap : '');\n    var blob = new Blob([body], { type: 'application/javascript' });\n    return URL.createObjectURL(blob);\n}\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    var url;\n    return function WorkerFactory(options) {\n        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);\n        return new Worker(url, options);\n    };\n}\n\nexport { createBase64WorkerFactory };\n","import { createBase64WorkerFactory as createBase64WorkerFactory$1 } from './_rollup-plugin-web-worker-loader__helper__node__createBase64WorkerFactory.js';\nimport { createBase64WorkerFactory as createBase64WorkerFactory$2 } from './_rollup-plugin-web-worker-loader__helper__browser__createBase64WorkerFactory.js';\nimport { isNodeJS } from './_rollup-plugin-web-worker-loader__helper__auto__isNodeJS.js';\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    if (isNodeJS()) {\n        return createBase64WorkerFactory$1(base64, sourcemapArg, enableUnicodeArg);\n    }\n    return createBase64WorkerFactory$2(base64, sourcemapArg, enableUnicodeArg);\n}\n\nexport { createBase64WorkerFactory };\n","import { createBase64WorkerFactory } from './_rollup-plugin-web-worker-loader__helper__auto__createBase64WorkerFactory.js';\n\nvar WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAndXNlIHN0cmljdCc7CgogIGNsYXNzIFBvaW50Q2xvdWRVdGlscyB7CiAgICBzdGF0aWMgZ2VuQ29sb3JCeUNvb3JkKHgsIHksIHopIHsKICAgICAgaWYgKHogPD0gMCkgewogICAgICAgIHJldHVybiBbMTI4LCAxMjgsIDEyOF07CiAgICAgIH0KICAgICAgaWYgKHogPCA1KSB7CiAgICAgICAgcmV0dXJuIFsyNTUsIDAsIDBdOwogICAgICB9CiAgICAgIGlmICh6IDwgMTApIHsKICAgICAgICByZXR1cm4gWzAsIDI1NSwgMF07CiAgICAgIH0KICAgICAgcmV0dXJuIFswLCAwLCAyNTVdOwogICAgfQogICAgc3RhdGljIGdldFN0YW5kYXJkQ29sb3JCeUNvb3JkKHgsIHksIHopIHsKICAgICAgY29uc3QgcGRDb2xvciA9IHRoaXMuZ2VuQ29sb3JCeUNvb3JkKHgsIHksIHopOwogICAgICByZXR1cm4gcGRDb2xvci5tYXAoKGhleCkgPT4gaGV4IC8gMjU1KTsKICAgIH0KICB9CiAgZnVuY3Rpb24gaXNJblBvbHlnb24oY2hlY2tQb2ludCwgcG9seWdvblBvaW50cywgbGluZVR5cGUgPSAwKSB7CiAgICBsZXQgY291bnRlciA9IDA7CiAgICBsZXQgaTsKICAgIGxldCB4aW50ZXJzOwogICAgbGV0IHAxOwogICAgbGV0IHAyOwogICAgcG9seWdvblBvaW50cyA9IFsuLi5wb2x5Z29uUG9pbnRzXTsKICAgIGlmIChsaW5lVHlwZSA9PT0gMSkgewogICAgICBwb2x5Z29uUG9pbnRzID0gY3JlYXRlU21vb3RoQ3VydmVQb2ludHMocG9seWdvblBvaW50cy5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7CiAgICAgICAgcmV0dXJuIFsuLi5hY2MsIGN1ci54LCBjdXIueV07CiAgICAgIH0sIFtdKSwgMC41LCB0cnVlLCBTRUdNRU5UX05VTUJFUik7CiAgICB9CiAgICBbcDFdID0gcG9seWdvblBvaW50czsKICAgIGNvbnN0IHBvaW50Q291bnQgPSBwb2x5Z29uUG9pbnRzLmxlbmd0aDsKICAgIGZvciAoaSA9IDE7IGkgPD0gcG9pbnRDb3VudDsgaSsrKSB7CiAgICAgIHAyID0gcG9seWdvblBvaW50c1tpICUgcG9pbnRDb3VudF07CiAgICAgIGlmIChjaGVja1BvaW50LnggPiBNYXRoLm1pbihwMS54LCBwMi54KSAmJiBjaGVja1BvaW50LnggPD0gTWF0aC5tYXgocDEueCwgcDIueCkpIHsKICAgICAgICBpZiAoY2hlY2tQb2ludC55IDw9IE1hdGgubWF4KHAxLnksIHAyLnkpKSB7CiAgICAgICAgICBpZiAocDEueCAhPT0gcDIueCkgewogICAgICAgICAgICB4aW50ZXJzID0gKGNoZWNrUG9pbnQueCAtIHAxLngpICogKHAyLnkgLSBwMS55KSAvIChwMi54IC0gcDEueCkgKyBwMS55OwogICAgICAgICAgICBpZiAocDEueSA9PT0gcDIueSB8fCBjaGVja1BvaW50LnkgPD0geGludGVycykgewogICAgICAgICAgICAgIGNvdW50ZXIrKzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBwMSA9IHAyOwogICAgfQogICAgaWYgKGNvdW50ZXIgJSAyID09PSAwKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KICBvbm1lc3NhZ2UgPSBmdW5jdGlvbiBvbm1lc3NhZ2UyKGUpIHsKICAgIGNvbnN0IHt6TWluLCB6TWF4LCBwb2x5Z29uUG9pbnRMaXN0LCBwb3NpdGlvbjogcG9pbnRzLCBjb2xvcn0gPSBlLmRhdGE7CiAgICBsZXQgbnVtID0gMDsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAzKSB7CiAgICAgIGNvbnN0IHggPSBwb2ludHNbaV07CiAgICAgIGNvbnN0IHkgPSBwb2ludHNbaSArIDFdOwogICAgICBjb25zdCB6ID0gcG9pbnRzW2kgKyAyXTsKICAgICAgY29uc3QgaW5Qb2x5Z29uID0gaXNJblBvbHlnb24oe3gsIHl9LCBwb2x5Z29uUG9pbnRMaXN0KTsKICAgICAgaWYgKGluUG9seWdvbiAmJiB6ID49IHpNaW4gJiYgeiA8PSB6TWF4KSB7CiAgICAgICAgbnVtKys7CiAgICAgICAgY29sb3JbaV0gPSAwOwogICAgICAgIGNvbG9yW2kgKyAxXSA9IDE7CiAgICAgICAgY29sb3JbaSArIDJdID0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBbciwgZywgYl0gPSBQb2ludENsb3VkVXRpbHMuZ2V0U3RhbmRhcmRDb2xvckJ5Q29vcmQoeCwgeSwgeik7CiAgICAgICAgY29sb3JbaV0gPSByOwogICAgICAgIGNvbG9yW2kgKyAxXSA9IGc7CiAgICAgICAgY29sb3JbaSArIDJdID0gYjsKICAgICAgfQogICAgfQogICAgcG9zdE1lc3NhZ2Uoe3BvaW50cywgY29sb3IsIG51bX0pOwogIH07CgogIGV4cG9ydHMuaXNJblBvbHlnb24gPSBpc0luUG9seWdvbjsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTsKCiAgcmV0dXJuIGV4cG9ydHM7Cgp9KSh7fSk7Cgo=', null, false);\n/* eslint-enable */\n\nexport { WorkerFactory as default };\n","import { createBase64WorkerFactory } from './_rollup-plugin-web-worker-loader__helper__auto__createBase64WorkerFactory.js';\n\nvar WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAndXNlIHN0cmljdCc7CgogIGZ1bmN0aW9uIGlzSW5Qb2x5Z29uKGNoZWNrUG9pbnQsIHBvbHlnb25Qb2ludHMsIGxpbmVUeXBlID0gMCkgewogICAgbGV0IGNvdW50ZXIgPSAwOwogICAgbGV0IGk7CiAgICBsZXQgeGludGVyczsKICAgIGxldCBwMTsKICAgIGxldCBwMjsKICAgIHBvbHlnb25Qb2ludHMgPSBbLi4ucG9seWdvblBvaW50c107CiAgICBpZiAobGluZVR5cGUgPT09IDEpIHsKICAgICAgcG9seWdvblBvaW50cyA9IGNyZWF0ZVNtb290aEN1cnZlUG9pbnRzKHBvbHlnb25Qb2ludHMucmVkdWNlKChhY2MsIGN1cikgPT4gewogICAgICAgIHJldHVybiBbLi4uYWNjLCBjdXIueCwgY3VyLnldOwogICAgICB9LCBbXSksIDAuNSwgdHJ1ZSwgU0VHTUVOVF9OVU1CRVIpOwogICAgfQogICAgW3AxXSA9IHBvbHlnb25Qb2ludHM7CiAgICBjb25zdCBwb2ludENvdW50ID0gcG9seWdvblBvaW50cy5sZW5ndGg7CiAgICBmb3IgKGkgPSAxOyBpIDw9IHBvaW50Q291bnQ7IGkrKykgewogICAgICBwMiA9IHBvbHlnb25Qb2ludHNbaSAlIHBvaW50Q291bnRdOwogICAgICBpZiAoY2hlY2tQb2ludC54ID4gTWF0aC5taW4ocDEueCwgcDIueCkgJiYgY2hlY2tQb2ludC54IDw9IE1hdGgubWF4KHAxLngsIHAyLngpKSB7CiAgICAgICAgaWYgKGNoZWNrUG9pbnQueSA8PSBNYXRoLm1heChwMS55LCBwMi55KSkgewogICAgICAgICAgaWYgKHAxLnggIT09IHAyLngpIHsKICAgICAgICAgICAgeGludGVycyA9IChjaGVja1BvaW50LnggLSBwMS54KSAqIChwMi55IC0gcDEueSkgLyAocDIueCAtIHAxLngpICsgcDEueTsKICAgICAgICAgICAgaWYgKHAxLnkgPT09IHAyLnkgfHwgY2hlY2tQb2ludC55IDw9IHhpbnRlcnMpIHsKICAgICAgICAgICAgICBjb3VudGVyKys7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcDEgPSBwMjsKICAgIH0KICAgIGlmIChjb3VudGVyICUgMiA9PT0gMCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgb25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlMihlKSB7CiAgICBjb25zdCB7ek1pbiwgek1heCwgcG9seWdvblBvaW50TGlzdCwgcG9zaXRpb246IHBvaW50cywgY29sb3J9ID0gZS5kYXRhOwogICAgY29uc3QgbmV3UG9zaXRpb24gPSBbXTsKICAgIGNvbnN0IG5ld0NvbG9yID0gW107CiAgICBsZXQgbnVtID0gMDsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAzKSB7CiAgICAgIGNvbnN0IHggPSBwb2ludHNbaV07CiAgICAgIGNvbnN0IHkgPSBwb2ludHNbaSArIDFdOwogICAgICBjb25zdCB6ID0gcG9pbnRzW2kgKyAyXTsKICAgICAgY29uc3QgaW5Qb2x5Z29uID0gaXNJblBvbHlnb24oe3gsIHl9LCBwb2x5Z29uUG9pbnRMaXN0KTsKICAgICAgaWYgKGluUG9seWdvbiAmJiB6ID49IHpNaW4gJiYgeiA8PSB6TWF4KSB7CiAgICAgICAgbmV3UG9zaXRpb24ucHVzaCh4KTsKICAgICAgICBuZXdQb3NpdGlvbi5wdXNoKHkpOwogICAgICAgIG5ld1Bvc2l0aW9uLnB1c2goeik7CiAgICAgICAgbmV3Q29sb3IucHVzaChjb2xvcltpXSk7CiAgICAgICAgbmV3Q29sb3IucHVzaChjb2xvcltpICsgMV0pOwogICAgICAgIG5ld0NvbG9yLnB1c2goY29sb3JbaSArIDJdKTsKICAgICAgICBudW0rKzsKICAgICAgfQogICAgfQogICAgdGhpcy5wb3N0TWVzc2FnZSh7cG9zaXRpb246IG5ld1Bvc2l0aW9uLCBjb2xvcjogbmV3Q29sb3IsIG51bX0pOwogIH07CgogIGV4cG9ydHMuaXNJblBvbHlnb24gPSBpc0luUG9seWdvbjsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTsKCiAgcmV0dXJuIGV4cG9ydHM7Cgp9KSh7fSk7Cgo=', null, false);\n/* eslint-enable */\n\nexport { WorkerFactory as default };\n","import { Loader, FileLoader, LoaderUtils, BufferGeometry, Float32BufferAttribute, PointsMaterial, Points } from 'three';\n\nclass PCDLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.littleEndian = true;\n  }\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    const loader = new FileLoader(scope.manager);\n    loader.setPath(scope.path);\n    loader.setResponseType(\"arraybuffer\");\n    loader.setRequestHeader(scope.requestHeader);\n    loader.setWithCredentials(scope.withCredentials);\n    loader.load(url, function(data) {\n      try {\n        onLoad(scope.parse(data));\n      } catch (e) {\n        if (onError) {\n          onError(e);\n        } else {\n          console.error(e);\n        }\n        scope.manager.itemError(url);\n      }\n    }, onProgress, onError);\n  }\n  parse(data) {\n    function decompressLZF(inData, outLength) {\n      const inLength = inData.length;\n      const outData = new Uint8Array(outLength);\n      let inPtr = 0;\n      let outPtr = 0;\n      let ctrl;\n      let len;\n      let ref;\n      do {\n        ctrl = inData[inPtr++];\n        if (ctrl < 1 << 5) {\n          ctrl++;\n          if (outPtr + ctrl > outLength)\n            throw new Error(\"Output buffer is not large enough\");\n          if (inPtr + ctrl > inLength)\n            throw new Error(\"Invalid compressed data\");\n          do {\n            outData[outPtr++] = inData[inPtr++];\n          } while (--ctrl);\n        } else {\n          len = ctrl >> 5;\n          ref = outPtr - ((ctrl & 31) << 8) - 1;\n          if (inPtr >= inLength)\n            throw new Error(\"Invalid compressed data\");\n          if (len === 7) {\n            len += inData[inPtr++];\n            if (inPtr >= inLength)\n              throw new Error(\"Invalid compressed data\");\n          }\n          ref -= inData[inPtr++];\n          if (outPtr + len + 2 > outLength)\n            throw new Error(\"Output buffer is not large enough\");\n          if (ref < 0)\n            throw new Error(\"Invalid compressed data\");\n          if (ref >= outPtr)\n            throw new Error(\"Invalid compressed data\");\n          do {\n            outData[outPtr++] = outData[ref++];\n          } while (--len + 2);\n        }\n      } while (inPtr < inLength);\n      return outData;\n    }\n    function parseHeader(data2) {\n      const PCDheader2 = {};\n      const result1 = data2.search(/[\\n\\r]data\\s(\\S*)\\s/i);\n      const result2 = /[\\n\\r]data\\s(\\S*)\\s/i.exec(data2.slice(result1 - 1));\n      PCDheader2.data = result2[1];\n      PCDheader2.headerLen = result2[0].length + result1;\n      PCDheader2.str = data2.slice(0, PCDheader2.headerLen);\n      PCDheader2.str = PCDheader2.str.replace(/#.*/gi, \"\");\n      PCDheader2.version = /version (.*)/i.exec(PCDheader2.str);\n      PCDheader2.fields = /fields (.*)/i.exec(PCDheader2.str);\n      PCDheader2.size = /size (.*)/i.exec(PCDheader2.str);\n      PCDheader2.type = /type (.*)/i.exec(PCDheader2.str);\n      PCDheader2.count = /count (.*)/i.exec(PCDheader2.str);\n      PCDheader2.width = /width (.*)/i.exec(PCDheader2.str);\n      PCDheader2.height = /height (.*)/i.exec(PCDheader2.str);\n      PCDheader2.viewpoint = /viewpoint (.*)/i.exec(PCDheader2.str);\n      PCDheader2.points = /points (.*)/i.exec(PCDheader2.str);\n      if (PCDheader2.version !== null)\n        PCDheader2.version = parseFloat(PCDheader2.version[1]);\n      PCDheader2.fields = PCDheader2.fields !== null ? PCDheader2.fields[1].split(\" \") : [];\n      if (PCDheader2.type !== null)\n        PCDheader2.type = PCDheader2.type[1].split(\" \");\n      if (PCDheader2.width !== null)\n        PCDheader2.width = parseInt(PCDheader2.width[1]);\n      if (PCDheader2.height !== null)\n        PCDheader2.height = parseInt(PCDheader2.height[1]);\n      if (PCDheader2.viewpoint !== null)\n        PCDheader2.viewpoint = PCDheader2.viewpoint[1];\n      if (PCDheader2.points !== null)\n        PCDheader2.points = parseInt(PCDheader2.points[1], 10);\n      if (PCDheader2.points === null)\n        PCDheader2.points = PCDheader2.width * PCDheader2.height;\n      if (PCDheader2.size !== null) {\n        PCDheader2.size = PCDheader2.size[1].split(\" \").map(function(x) {\n          return parseInt(x, 10);\n        });\n      }\n      if (PCDheader2.count !== null) {\n        PCDheader2.count = PCDheader2.count[1].split(\" \").map(function(x) {\n          return parseInt(x, 10);\n        });\n      } else {\n        PCDheader2.count = [];\n        for (let i = 0, l = PCDheader2.fields.length; i < l; i++) {\n          PCDheader2.count.push(1);\n        }\n      }\n      PCDheader2.offset = {};\n      let sizeSum = 0;\n      for (let i = 0, l = PCDheader2.fields.length; i < l; i++) {\n        if (PCDheader2.data === \"ascii\") {\n          PCDheader2.offset[PCDheader2.fields[i]] = i;\n        } else {\n          PCDheader2.offset[PCDheader2.fields[i]] = sizeSum;\n          sizeSum += PCDheader2.size[i] * PCDheader2.count[i];\n        }\n      }\n      PCDheader2.rowSize = sizeSum;\n      return PCDheader2;\n    }\n    const textData = LoaderUtils.decodeText(new Uint8Array(data));\n    const PCDheader = parseHeader(textData);\n    const position = [];\n    const normal = [];\n    const color = [];\n    if (PCDheader.data === \"ascii\") {\n      const {offset} = PCDheader;\n      const pcdData = textData.slice(PCDheader.headerLen);\n      const lines = pcdData.split(\"\\n\");\n      for (let i = 0, l = lines.length; i < l; i++) {\n        if (lines[i] === \"\")\n          continue;\n        const line = lines[i].split(\" \");\n        if (offset.x !== void 0) {\n          position.push(parseFloat(line[offset.x]));\n          position.push(parseFloat(line[offset.y]));\n          position.push(parseFloat(line[offset.z]));\n        }\n        if (this.genColorByCoord) {\n          const pdColor = this.genColorByCoord(parseFloat(line[offset.x]), parseFloat(line[offset.y]), parseFloat(line[offset.z]));\n          const pdColorUnit8 = pdColor.map((hex) => hex / 255);\n          color.push(...pdColorUnit8);\n        }\n        if (offset.normal_x !== void 0) {\n          normal.push(parseFloat(line[offset.normal_x]));\n          normal.push(parseFloat(line[offset.normal_y]));\n          normal.push(parseFloat(line[offset.normal_z]));\n        }\n      }\n    }\n    if (PCDheader.data === \"binary_compressed\") {\n      const sizes = new Uint32Array(data.slice(PCDheader.headerLen, PCDheader.headerLen + 8));\n      const compressedSize = sizes[0];\n      const decompressedSize = sizes[1];\n      const decompressed = decompressLZF(new Uint8Array(data, PCDheader.headerLen + 8, compressedSize), decompressedSize);\n      const dataview = new DataView(decompressed.buffer);\n      const {offset} = PCDheader;\n      for (let i = 0; i < PCDheader.points; i++) {\n        if (offset.x !== void 0) {\n          position.push(dataview.getFloat32(PCDheader.points * offset.x + PCDheader.size[0] * i, this.littleEndian));\n          position.push(dataview.getFloat32(PCDheader.points * offset.y + PCDheader.size[1] * i, this.littleEndian));\n          position.push(dataview.getFloat32(PCDheader.points * offset.z + PCDheader.size[2] * i, this.littleEndian));\n        }\n        if (offset.normal_x !== void 0) {\n          normal.push(dataview.getFloat32(PCDheader.points * offset.normal_x + PCDheader.size[4] * i, this.littleEndian));\n          normal.push(dataview.getFloat32(PCDheader.points * offset.normal_y + PCDheader.size[5] * i, this.littleEndian));\n          normal.push(dataview.getFloat32(PCDheader.points * offset.normal_z + PCDheader.size[6] * i, this.littleEndian));\n        }\n        if (this.genColorByCoord) {\n          const pdColor = this.genColorByCoord(dataview.getFloat32(PCDheader.points * offset.x + PCDheader.size[0] * i, this.littleEndian), dataview.getFloat32(PCDheader.points * offset.y + PCDheader.size[0] * i, this.littleEndian), dataview.getFloat32(PCDheader.points * offset.z + PCDheader.size[0] * i, this.littleEndian));\n          const pdColorUnit8 = pdColor.map((hex) => hex / 255);\n          color.push(...pdColorUnit8);\n        }\n      }\n    }\n    if (PCDheader.data === \"binary\") {\n      const dataview = new DataView(data, PCDheader.headerLen);\n      const {offset} = PCDheader;\n      for (let i = 0, row = 0; i < PCDheader.points; i++, row += PCDheader.rowSize) {\n        if (offset.x !== void 0) {\n          position.push(dataview.getFloat32(row + offset.x, this.littleEndian));\n          position.push(dataview.getFloat32(row + offset.y, this.littleEndian));\n          position.push(dataview.getFloat32(row + offset.z, this.littleEndian));\n        }\n        if (offset.normal_x !== void 0) {\n          normal.push(dataview.getFloat32(row + offset.normal_x, this.littleEndian));\n          normal.push(dataview.getFloat32(row + offset.normal_y, this.littleEndian));\n          normal.push(dataview.getFloat32(row + offset.normal_z, this.littleEndian));\n        }\n        if (this.genColorByCoord) {\n          const pdColor = this.genColorByCoord(dataview.getFloat32(row + offset.x, this.littleEndian), dataview.getFloat32(row + offset.y, this.littleEndian), dataview.getFloat32(row + offset.z, this.littleEndian));\n          const pdColorUnit8 = pdColor.map((hex) => hex / 255);\n          color.push(...pdColorUnit8);\n        }\n      }\n    }\n    const geometry = new BufferGeometry();\n    if (position.length > 0)\n      geometry.setAttribute(\"position\", new Float32BufferAttribute(position, 3));\n    if (normal.length > 0)\n      geometry.setAttribute(\"normal\", new Float32BufferAttribute(normal, 3));\n    if (color.length > 0)\n      geometry.setAttribute(\"color\", new Float32BufferAttribute(color, 3));\n    geometry.computeBoundingSphere();\n    const material = new PointsMaterial({size: 0.01});\n    if (color.length > 0) {\n      material.vertexColors = true;\n    } else {\n      material.color.setHex(16777215);\n    }\n    return new Points(geometry, material);\n  }\n  genColorByCoord(x, y, z) {\n    if (z <= 0) {\n      return [128, 128, 128];\n    }\n    if (z < 5) {\n      return [255, 0, 0];\n    }\n    if (z < 10) {\n      return [0, 255, 0];\n    }\n    return [0, 0, 255];\n  }\n}\n\nexport { PCDLoader };\n","import { EventDispatcher, Vector3, MOUSE, TOUCH, Quaternion, Spherical, Vector2 } from 'three';\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst _changeEvent = {type: \"change\"};\nconst _startEvent = {type: \"start\"};\nconst _endEvent = {type: \"end\"};\nclass OrbitControls extends EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"listenToKeyEvents\", (domElement) => {\n      domElement.addEventListener(\"keydown\", onKeyDown);\n      this._domElementKeyEvents = domElement;\n    });\n    if (domElement === void 0)\n      console.warn('THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.');\n    if (domElement === document)\n      console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n    this.object = object;\n    this.domElement = domElement;\n    this.domElement.style.touchAction = \"none\";\n    this.enabled = true;\n    this.target = new Vector3();\n    this.minDistance = 0;\n    this.maxDistance = Infinity;\n    this.minZoom = 0;\n    this.maxZoom = Infinity;\n    this.minPolarAngle = 0;\n    this.maxPolarAngle = Math.PI;\n    this.minAzimuthAngle = -Infinity;\n    this.maxAzimuthAngle = Infinity;\n    this.enableDamping = false;\n    this.dampingFactor = 0.05;\n    this.enableZoom = true;\n    this.zoomSpeed = 1;\n    this.enableRotate = true;\n    this.rotateSpeed = 1;\n    this.enablePan = true;\n    this.panSpeed = 1;\n    this.screenSpacePanning = true;\n    this.keyPanSpeed = 7;\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2;\n    this.keys = {LEFT: \"ArrowLeft\", UP: \"ArrowUp\", RIGHT: \"ArrowRight\", BOTTOM: \"ArrowDown\"};\n    this.mouseButtons = {LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN};\n    this.touches = {ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN};\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom;\n    this._domElementKeyEvents = null;\n    this.getPolarAngle = function() {\n      return spherical.phi;\n    };\n    this.getAzimuthalAngle = function() {\n      return spherical.theta;\n    };\n    this.getDistance = function() {\n      return this.object.position.distanceTo(this.target);\n    };\n    this.saveState = function() {\n      scope.target0.copy(scope.target);\n      scope.position0.copy(scope.object.position);\n      scope.zoom0 = scope.object.zoom;\n    };\n    this.reset = function() {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n      scope.object.zoom = scope.zoom0;\n      scope.object.updateProjectionMatrix();\n      scope.dispatchEvent(_changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    };\n    this.update = function() {\n      const offset = new Vector3();\n      const quat = new Quaternion().setFromUnitVectors(object.up, new Vector3(0, 1, 0));\n      const quatInverse = quat.clone().invert();\n      const lastPosition = new Vector3();\n      const lastQuaternion = new Quaternion();\n      const twoPI = 2 * Math.PI;\n      return function update() {\n        const {position} = scope.object;\n        offset.copy(position).sub(scope.target);\n        offset.applyQuaternion(quat);\n        spherical.setFromVector3(offset);\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n        if (scope.enableDamping) {\n          spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n          spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n        } else {\n          spherical.theta += sphericalDelta.theta;\n          spherical.phi += sphericalDelta.phi;\n        }\n        let min = scope.minAzimuthAngle;\n        let max = scope.maxAzimuthAngle;\n        if (isFinite(min) && isFinite(max)) {\n          if (min < -Math.PI)\n            min += twoPI;\n          else if (min > Math.PI)\n            min -= twoPI;\n          if (max < -Math.PI)\n            max += twoPI;\n          else if (max > Math.PI)\n            max -= twoPI;\n          if (min <= max) {\n            spherical.theta = Math.max(min, Math.min(max, spherical.theta));\n          } else {\n            spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);\n          }\n        }\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        spherical.radius *= scale;\n        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n        if (scope.enableDamping === true) {\n          scope.target.addScaledVector(panOffset, scope.dampingFactor);\n        } else {\n          scope.target.add(panOffset);\n        }\n        offset.setFromSpherical(spherical);\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        scope.object.lookAt(scope.target);\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n          panOffset.multiplyScalar(1 - scope.dampingFactor);\n        } else {\n          sphericalDelta.set(0, 0, 0);\n          panOffset.set(0, 0, 0);\n        }\n        scale = 1;\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(_changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n        return false;\n      };\n    }();\n    this.dispose = function() {\n      scope.domElement.removeEventListener(\"contextmenu\", onContextMenu);\n      scope.domElement.removeEventListener(\"pointerdown\", onPointerDown);\n      scope.domElement.removeEventListener(\"pointercancel\", onPointerCancel);\n      scope.domElement.removeEventListener(\"wheel\", onMouseWheel);\n      scope.domElement.removeEventListener(\"pointermove\", onPointerMove);\n      scope.domElement.removeEventListener(\"pointerup\", onPointerUp);\n      if (scope._domElementKeyEvents !== null) {\n        scope._domElementKeyEvents.removeEventListener(\"keydown\", onKeyDown2);\n      }\n    };\n    const scope = this;\n    const STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_PAN: 4,\n      TOUCH_DOLLY_PAN: 5,\n      TOUCH_DOLLY_ROTATE: 6\n    };\n    let state = STATE.NONE;\n    const EPS = 1e-6;\n    const spherical = new Spherical();\n    const sphericalDelta = new Spherical();\n    let scale = 1;\n    const panOffset = new Vector3();\n    let zoomChanged = false;\n    const rotateStart = new Vector2();\n    const rotateEnd = new Vector2();\n    const rotateDelta = new Vector2();\n    const panStart = new Vector2();\n    const panEnd = new Vector2();\n    const panDelta = new Vector2();\n    const dollyStart = new Vector2();\n    const dollyEnd = new Vector2();\n    const dollyDelta = new Vector2();\n    const pointers = [];\n    const pointerPositions = {};\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n    function rotateLeft(angle) {\n      sphericalDelta.theta -= angle;\n    }\n    function rotateUp(angle) {\n      sphericalDelta.phi -= angle;\n    }\n    const panLeft = function() {\n      const v = new Vector3();\n      return function panLeft2(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0);\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    }();\n    const panUp = function() {\n      const v = new Vector3();\n      return function panUp2(distance, objectMatrix) {\n        if (scope.screenSpacePanning === true) {\n          v.setFromMatrixColumn(objectMatrix, 1);\n        } else {\n          v.setFromMatrixColumn(objectMatrix, 0);\n          v.crossVectors(scope.object.up, v);\n        }\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    }();\n    const pan = function() {\n      const offset = new Vector3();\n      return function pan2(deltaX, deltaY) {\n        const element = scope.domElement;\n        if (scope.object.isPerspectiveCamera) {\n          const {position} = scope.object;\n          offset.copy(position).sub(scope.target);\n          let targetDistance = offset.length();\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180);\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (scope.object.isOrthographicCamera) {\n          panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n          panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n        } else {\n          console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\");\n          scope.enablePan = false;\n        }\n      };\n    }();\n    function dollyOut(dollyScale) {\n      if (scope.object.isPerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        scope.enableZoom = false;\n      }\n    }\n    function dollyIn(dollyScale) {\n      if (scope.object.isPerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        scope.enableZoom = false;\n      }\n    }\n    function handleMouseDownRotate(event) {\n      rotateStart.set(event.clientX, event.clientY);\n    }\n    function handleMouseDownDolly(event) {\n      dollyStart.set(event.clientX, event.clientY);\n    }\n    function handleMouseDownPan(event) {\n      panStart.set(event.clientX, event.clientY);\n    }\n    function handleMouseMoveRotate(event) {\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight);\n      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n    function handleMouseMoveDolly(event) {\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n    function handleMouseMovePan(event) {\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n    function handleMouseWheel(event) {\n      if (event.deltaY < 0) {\n        dollyIn(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyOut(getZoomScale());\n      }\n      scope.update();\n    }\n    function handleKeyDown(event) {\n      let needsUpdate = false;\n      switch (event.code) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n      if (needsUpdate) {\n        event.preventDefault();\n        scope.update();\n      }\n    }\n    function handleTouchStartRotate() {\n      if (pointers.length === 1) {\n        rotateStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        rotateStart.set(x, y);\n      }\n    }\n    function handleTouchStartPan() {\n      if (pointers.length === 1) {\n        panStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        panStart.set(x, y);\n      }\n    }\n    function handleTouchStartDolly() {\n      const dx = pointers[0].pageX - pointers[1].pageX;\n      const dy = pointers[0].pageY - pointers[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n    function handleTouchStartDollyPan() {\n      if (scope.enableZoom)\n        handleTouchStartDolly();\n      if (scope.enablePan)\n        handleTouchStartPan();\n    }\n    function handleTouchStartDollyRotate() {\n      if (scope.enableZoom)\n        handleTouchStartDolly();\n      if (scope.enableRotate)\n        handleTouchStartRotate();\n    }\n    function handleTouchMoveRotate(event) {\n      if (pointers.length == 1) {\n        rotateEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        rotateEnd.set(x, y);\n      }\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight);\n      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      rotateStart.copy(rotateEnd);\n    }\n    function handleTouchMovePan(event) {\n      if (pointers.length === 1) {\n        panEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        panEnd.set(x, y);\n      }\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n    }\n    function handleTouchMoveDolly(event) {\n      const position = getSecondPointerPosition(event);\n      const dx = event.pageX - position.x;\n      const dy = event.pageY - position.y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n      dollyOut(dollyDelta.y);\n      dollyStart.copy(dollyEnd);\n    }\n    function handleTouchMoveDollyPan(event) {\n      if (scope.enableZoom)\n        handleTouchMoveDolly(event);\n      if (scope.enablePan)\n        handleTouchMovePan(event);\n    }\n    function handleTouchMoveDollyRotate(event) {\n      if (scope.enableZoom)\n        handleTouchMoveDolly(event);\n      if (scope.enableRotate)\n        handleTouchMoveRotate(event);\n    }\n    function onPointerDown(event) {\n      if (scope.enabled === false)\n        return;\n      if (pointers.length === 0) {\n        scope.domElement.setPointerCapture(event.pointerId);\n        scope.domElement.addEventListener(\"pointermove\", onPointerMove);\n        scope.domElement.addEventListener(\"pointerup\", onPointerUp);\n      }\n      addPointer(event);\n      if (event.pointerType === \"touch\") {\n        onTouchStart(event);\n      } else {\n        onMouseDown(event);\n      }\n    }\n    function onPointerMove(event) {\n      if (scope.enabled === false)\n        return;\n      if (event.pointerType === \"touch\") {\n        onTouchMove(event);\n      } else {\n        onMouseMove(event);\n      }\n    }\n    function onPointerUp(event) {\n      removePointer(event);\n      if (pointers.length === 0) {\n        scope.domElement.releasePointerCapture(event.pointerId);\n        scope.domElement.removeEventListener(\"pointermove\", onPointerMove);\n        scope.domElement.removeEventListener(\"pointerup\", onPointerUp);\n      }\n      scope.dispatchEvent(_endEvent);\n      state = STATE.NONE;\n    }\n    function onPointerCancel(event) {\n      removePointer(event);\n    }\n    function onMouseDown(event) {\n      let mouseAction;\n      switch (event.button) {\n        case 0:\n          mouseAction = scope.mouseButtons.LEFT;\n          break;\n        case 1:\n          mouseAction = scope.mouseButtons.MIDDLE;\n          break;\n        case 2:\n          mouseAction = scope.mouseButtons.RIGHT;\n          break;\n        default:\n          mouseAction = -1;\n      }\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (scope.enableZoom === false)\n            return;\n          handleMouseDownDolly(event);\n          state = STATE.DOLLY;\n          break;\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enablePan === false)\n              return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          } else {\n            if (scope.enableRotate === false)\n              return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          }\n          break;\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enableRotate === false)\n              return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          } else {\n            if (scope.enablePan === false)\n              return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          }\n          break;\n        default:\n          state = STATE.NONE;\n      }\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(_startEvent);\n      }\n    }\n    function onMouseMove(event) {\n      if (scope.enabled === false)\n        return;\n      switch (state) {\n        case STATE.ROTATE:\n          if (scope.enableRotate === false)\n            return;\n          handleMouseMoveRotate(event);\n          break;\n        case STATE.DOLLY:\n          if (scope.enableZoom === false)\n            return;\n          handleMouseMoveDolly(event);\n          break;\n        case STATE.PAN:\n          if (scope.enablePan === false)\n            return;\n          handleMouseMovePan(event);\n          break;\n      }\n    }\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE)\n        return;\n      event.preventDefault();\n      scope.dispatchEvent(_startEvent);\n      handleMouseWheel(event);\n      scope.dispatchEvent(_endEvent);\n    }\n    function onKeyDown2(event) {\n      if (scope.enabled === false || scope.enablePan === false)\n        return;\n      handleKeyDown(event);\n    }\n    function onTouchStart(event) {\n      trackPointer(event);\n      switch (pointers.length) {\n        case 1:\n          switch (scope.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (scope.enableRotate === false)\n                return;\n              handleTouchStartRotate();\n              state = STATE.TOUCH_ROTATE;\n              break;\n            case TOUCH.PAN:\n              if (scope.enablePan === false)\n                return;\n              handleTouchStartPan();\n              state = STATE.TOUCH_PAN;\n              break;\n            default:\n              state = STATE.NONE;\n          }\n          break;\n        case 2:\n          switch (scope.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (scope.enableZoom === false && scope.enablePan === false)\n                return;\n              handleTouchStartDollyPan();\n              state = STATE.TOUCH_DOLLY_PAN;\n              break;\n            case TOUCH.DOLLY_ROTATE:\n              if (scope.enableZoom === false && scope.enableRotate === false)\n                return;\n              handleTouchStartDollyRotate();\n              state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n            default:\n              state = STATE.NONE;\n          }\n          break;\n        default:\n          state = STATE.NONE;\n      }\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(_startEvent);\n      }\n    }\n    function onTouchMove(event) {\n      trackPointer(event);\n      switch (state) {\n        case STATE.TOUCH_ROTATE:\n          if (scope.enableRotate === false)\n            return;\n          handleTouchMoveRotate(event);\n          scope.update();\n          break;\n        case STATE.TOUCH_PAN:\n          if (scope.enablePan === false)\n            return;\n          handleTouchMovePan(event);\n          scope.update();\n          break;\n        case STATE.TOUCH_DOLLY_PAN:\n          if (scope.enableZoom === false && scope.enablePan === false)\n            return;\n          handleTouchMoveDollyPan(event);\n          scope.update();\n          break;\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (scope.enableZoom === false && scope.enableRotate === false)\n            return;\n          handleTouchMoveDollyRotate(event);\n          scope.update();\n          break;\n        default:\n          state = STATE.NONE;\n      }\n    }\n    function onContextMenu(event) {\n      if (scope.enabled === false)\n        return;\n      event.preventDefault();\n    }\n    function addPointer(event) {\n      pointers.push(event);\n    }\n    function removePointer(event) {\n      delete pointerPositions[event.pointerId];\n      for (let i = 0; i < pointers.length; i++) {\n        if (pointers[i].pointerId == event.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    }\n    function trackPointer(event) {\n      let position = pointerPositions[event.pointerId];\n      if (position === void 0) {\n        position = new Vector2();\n        pointerPositions[event.pointerId] = position;\n      }\n      position.set(event.pageX, event.pageY);\n    }\n    function getSecondPointerPosition(event) {\n      const pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0];\n      return pointerPositions[pointer.pointerId];\n    }\n    scope.domElement.addEventListener(\"contextmenu\", onContextMenu);\n    scope.domElement.addEventListener(\"pointerdown\", onPointerDown);\n    scope.domElement.addEventListener(\"pointercancel\", onPointerCancel);\n    scope.domElement.addEventListener(\"wheel\", onMouseWheel, {passive: false});\n    this.update();\n  }\n}\n\nexport { OrbitControls };\n","import { PCDLoader } from './PCDLoader.js';\n\nclass PointCloudCache {\n  constructor() {\n    this.MAX_SIZE = 50;\n    this.cacheList = [];\n    this.loadPCDFile = (src) => {\n      return new Promise((resolve, reject) => {\n        var _a;\n        const clonePoints = (_a = this.pointsMap.get(src)) == null ? void 0 : _a.clone();\n        if (clonePoints) {\n          resolve(clonePoints);\n          return;\n        }\n        if (this.cacheList.length > this.MAX_SIZE) {\n          const firstCacheInfo = this.cacheList.shift();\n          if (firstCacheInfo) {\n            this.pointsMap.delete(firstCacheInfo.src);\n          }\n        }\n        this.cacheList.push({src});\n        this.pcdLoader.load(src, (points) => {\n          this.pointsMap.set(src, points.clone());\n          resolve(points);\n        }, () => {\n        }, (err) => {\n          reject(err);\n        });\n      });\n    };\n    this.pcdLoader = new PCDLoader();\n    this.pointsMap = new Map();\n  }\n  static getInstance() {\n    if (this.instance == null) {\n      this.instance = new PointCloudCache();\n    }\n    return this.instance;\n  }\n}\n\nexport { PointCloudCache };\n","import * as THREE from 'three';\nimport { MatrixUtils, PointCloudUtils, PerspectiveShiftUtils, EPerspectiveView } from '@labelbee/lb-utils';\nimport WorkerFactory from '../../_virtual/highlightWorker.js';\nimport WorkerFactory$1 from '../../_virtual/filterBoxWorker.js';\nimport { isInPolygon } from '../../utils/tool/polygonTool.js';\nimport uuid from '../../utils/uuid.js';\nimport { PCDLoader } from './PCDLoader.js';\nimport { OrbitControls } from './OrbitControls.js';\nimport { PointCloudCache } from './cache.js';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst DEFAULT_DISTANCE = 30;\nnew WorkerFactory();\nclass PointCloud {\n  constructor({container, noAppend, isOrthographicCamera, orthographicParams, backgroundColor = \"black\"}) {\n    this.zAxisLimit = 10;\n    this.initCameraPosition = this.DEFAULT_INIT_CAMERA_POSITION;\n    this.isOrthographicCamera = false;\n    this.pointsUuid = \"\";\n    this.pointCloudObjectName = \"pointCloud\";\n    this.rangeObjectName = \"range\";\n    this.showDirection = true;\n    this.AddBoxToSense = (boxParams, color = 16777215) => {\n      var _a;\n      const id = (_a = boxParams.id) != null ? _a : uuid();\n      this.removeObjectByName(id);\n      const {center, width, height, depth, rotation} = boxParams;\n      const group = new THREE.Group();\n      const geometry = new THREE.BoxGeometry(width, height, depth);\n      const material = new THREE.MeshBasicMaterial({color: \"blue\"});\n      const cube = new THREE.Mesh(geometry, material);\n      const box = new THREE.BoxHelper(cube, color);\n      const arrow = this.generateBoxArrow(boxParams);\n      group.add(box);\n      group.add(arrow);\n      group.position.set(center.x, center.y, center.z);\n      group.rotation.set(0, 0, rotation);\n      group.name = id;\n      this.scene.add(group);\n    };\n    this.overridePointShader = (shader) => {\n      shader.vertexShader = `\n    attribute float sizes;\n    attribute float visibility;\n    varying float vVisible;\n  ${shader.vertexShader}`.replace(`gl_PointSize = size;`, `gl_PointSize = size;\n      vVisible = visibility;\n    `);\n      shader.fragmentShader = `\n    varying float vVisible;\n  ${shader.fragmentShader}`.replace(`#include <clipping_planes_fragment>`, `\n      if (vVisible < 0.5) discard;\n    #include <clipping_planes_fragment>`);\n    };\n    this.loadPCDFile = (src, radius) => __async(this, null, function* () {\n      this.clearPointCloud();\n      const points = yield this.cacheInstance.loadPCDFile(src);\n      points.name = this.pointCloudObjectName;\n      this.renderPointCloud(points, radius);\n    });\n    this.loadPCDFileByBox = (src, boxParams, scope) => __async(this, null, function* () {\n      const cb = (points2) => __async(this, null, function* () {\n        const {width = 0, height = 0, depth = 0} = scope != null ? scope : {};\n        const filterData = yield this.filterPointsByBox(__spreadProps(__spreadValues({}, boxParams), {\n          width: boxParams.width + width,\n          height: boxParams.height + height,\n          depth: boxParams.depth + depth\n        }), points2);\n        if (!filterData) {\n          console.error(\"filter Error\");\n          return;\n        }\n        this.clearPointCloud();\n        const newPoints = new THREE.Points(filterData.geometry, points2.material);\n        newPoints.name = this.pointCloudObjectName;\n        this.scene.add(newPoints);\n        this.render();\n      });\n      const points = yield this.cacheInstance.loadPCDFile(src);\n      cb(points);\n    });\n    this.generateBoxArrow = ({width}) => {\n      const dir = new THREE.Vector3(1, 0, 0);\n      const origin = new THREE.Vector3(width / 2, 0, 0);\n      const arrowLen = 2;\n      const hex = 16776960;\n      const arrowHelper = new THREE.ArrowHelper(dir, origin, arrowLen, hex);\n      arrowHelper.visible = this.showDirection;\n      return arrowHelper;\n    };\n    this.generateBoxTrackID = (boxParams) => {\n      if (!boxParams.trackID) {\n        return;\n      }\n      const texture = new THREE.Texture(this.getTextCanvas(boxParams.trackID.toString()));\n      texture.needsUpdate = true;\n      const sprite = new THREE.SpriteMaterial({map: texture, depthWrite: false});\n      const boxID = new THREE.Sprite(sprite);\n      boxID.scale.set(5, 5, 5);\n      boxID.position.set(-boxParams.width / 2, 0, boxParams.depth / 2 + 0.5);\n      return boxID;\n    };\n    this.applyZAxisPoints = (zAxisLimit) => {\n      this.zAxisLimit = zAxisLimit;\n      this.filterZAxisPoints();\n      this.render();\n    };\n    this.updatePointSize = (zoomIn) => {\n      const points = this.scene.getObjectByName(this.pointCloudObjectName);\n      if (!points) {\n        return;\n      }\n      const preSize = points.material.size;\n      if (zoomIn) {\n        points.material.size = Math.min(preSize * 1.2, 10);\n      } else {\n        points.material.size = Math.max(preSize / 1.2, 1);\n      }\n      this.render();\n    };\n    this.container = container;\n    this.renderer = new THREE.WebGLRenderer({antialias: true});\n    this.backgroundColor = backgroundColor;\n    if (isOrthographicCamera && orthographicParams) {\n      this.isOrthographicCamera = true;\n      this.camera = new THREE.OrthographicCamera(orthographicParams.left, orthographicParams.right, orthographicParams.top, orthographicParams.bottom, orthographicParams.near, orthographicParams.far);\n    } else {\n      this.camera = new THREE.PerspectiveCamera(30, this.containerWidth / this.containerHeight, 1, 1e3);\n    }\n    this.initCamera();\n    this.scene = new THREE.Scene();\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n    this.pcdLoader = new PCDLoader();\n    this.axesHelper = new THREE.AxesHelper(1e3);\n    this.scene.add(this.camera);\n    if (!noAppend) {\n      container.appendChild(this.renderer.domElement);\n    }\n    this.init();\n    this.cacheInstance = PointCloudCache.getInstance();\n  }\n  get DEFAULT_INIT_CAMERA_POSITION() {\n    return new THREE.Vector3(-1, 0, 10);\n  }\n  get containerWidth() {\n    return this.container.clientWidth;\n  }\n  get containerHeight() {\n    return this.container.clientHeight;\n  }\n  setInitCameraPosition(vector) {\n    this.initCameraPosition = vector;\n  }\n  initOrthographicCamera(orthographicParams) {\n    if (this.camera.type !== \"OrthographicCamera\") {\n      return;\n    }\n    const {left, right, top, bottom, near, far} = orthographicParams;\n    this.camera.left = left;\n    this.camera.right = right;\n    this.camera.top = top;\n    this.camera.bottom = bottom;\n    this.camera.near = near;\n    this.camera.far = far;\n    this.camera.updateProjectionMatrix();\n  }\n  initPerspectiveCamera() {\n    if (this.camera.type !== \"PerspectiveCamera\") {\n      return;\n    }\n    this.camera.fov = 30;\n    this.camera.aspect = this.containerWidth / this.containerHeight;\n    this.camera.near = 1;\n    this.camera.far = 1e3;\n    this.camera.updateProjectionMatrix();\n  }\n  initCamera() {\n    const {camera} = this;\n    if (this.isOrthographicCamera) {\n      const {x, y, z} = this.initCameraPosition;\n      camera.position.set(x, y, z);\n    } else {\n      camera.position.set(-1, 0, 500);\n    }\n    camera.up.set(0, 0, 1);\n  }\n  initControls() {\n    const {controls} = this;\n    controls.addEventListener(\"change\", () => {\n      this.render();\n    });\n    this.setDefaultControls();\n  }\n  setDefaultControls() {\n    const {controls} = this;\n    const centerPoint = [0, 0, 0];\n    controls.target = new THREE.Vector3(...centerPoint);\n    controls.addEventListener(\"change\", () => {\n      this.render();\n    });\n    controls.maxPolarAngle = Math.PI / 2;\n    controls.update();\n  }\n  initRenderer() {\n    const {renderer} = this;\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(this.containerWidth, this.containerHeight);\n  }\n  init() {\n    const {scene} = this;\n    scene.background = new THREE.Color(this.backgroundColor);\n    this.initControls();\n    this.initRenderer();\n  }\n  removeObjectByName(name) {\n    const oldBox = this.scene.getObjectByName(name);\n    if (oldBox) {\n      oldBox.removeFromParent();\n    }\n  }\n  transferKitti2Matrix(P, R, T) {\n    const PMA = MatrixUtils.transferMatrix34FromKitti2Three(P);\n    const RMA = MatrixUtils.transferMatrix33FromKitti2Three(R);\n    const TMA = MatrixUtils.transferMatrix34FromKitti2Three(T);\n    const PM = this.createThreeMatrix4(PMA);\n    const RM = this.createThreeMatrix4(RMA);\n    const TM = this.createThreeMatrix4(TMA);\n    return {\n      composeMatrix4: TM.clone().premultiply(RM).premultiply(PM),\n      PM,\n      RM,\n      TM\n    };\n  }\n  pointCloudLidar2image(boxParams, cameraMatrix) {\n    const allViewData = PointCloudUtils.getAllViewData(boxParams);\n    const {P, R, T} = cameraMatrix;\n    const {composeMatrix4} = this.transferKitti2Matrix(P, R, T);\n    const transferViewData = allViewData.map((viewData) => ({\n      type: viewData.type,\n      pointList: viewData.pointList.map((point) => this.rotatePoint(point, boxParams.center, boxParams.rotation)).map((point) => this.lidar2image(point, composeMatrix4)).filter((v) => v !== void 0)\n    })).filter((v) => v.pointList.length !== 0);\n    return transferViewData;\n  }\n  lidar2image(point, composeMatrix4) {\n    const vector = new THREE.Vector4(point.x, point.y, point.z);\n    const newV = vector.applyMatrix4(composeMatrix4);\n    if (newV.z < 0) {\n      return void 0;\n    }\n    const z = 1 / newV.z;\n    const fixMatrix4 = new THREE.Matrix4().set(z, 0, 0, 0, 0, z, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);\n    return newV.applyMatrix4(fixMatrix4);\n  }\n  generateBox(boxParams, color = 16777215) {\n    this.AddBoxToSense(boxParams, color);\n    this.render();\n  }\n  generateBoxes(boxes) {\n    boxes.forEach((box) => {\n      this.generateBox(box);\n    });\n    this.render();\n  }\n  getOrthographicCamera(boxParams) {\n    const {center, width, height} = boxParams;\n    const offset = 10;\n    const left = center.x - width / 2 - offset;\n    const right = center.x - width / 2 + offset;\n    const top = center.y + height / 2 + offset;\n    const bottom = center.y - height / 2 - offset;\n    const near = 100;\n    const far = -100;\n    const zoom = 500 / near;\n    return {\n      left,\n      right,\n      top,\n      bottom,\n      near,\n      far,\n      zoom\n    };\n  }\n  updateCameraByBox(boxParams, perspectiveView) {\n    const {center, width, height, depth, rotation} = boxParams;\n    const cameraPositionVector = this.getCameraVector(center, rotation, {width, height, depth}, perspectiveView);\n    this.updateCamera(cameraPositionVector, center);\n    return cameraPositionVector;\n  }\n  updateOrthoCamera(boxParams, perspectiveView) {\n    const cameraPositionVector = this.updateCameraByBox(boxParams, perspectiveView);\n    this.camera.zoom = 1;\n    this.camera.updateProjectionMatrix();\n    return {\n      cameraPositionVector\n    };\n  }\n  updateTopCamera() {\n    this.setInitCameraPosition(this.DEFAULT_INIT_CAMERA_POSITION);\n    this.camera.zoom = 1;\n    this.initCamera();\n    this.setDefaultControls();\n    this.camera.updateProjectionMatrix();\n    this.render();\n  }\n  updateCamera(position, target) {\n    this.camera.position.set(position.x, position.y, position.z);\n    this.controls.target = new THREE.Vector3(target.x, target.y, target.z);\n    this.controls.update();\n  }\n  resetCamera() {\n    this.updateCamera({x: -1, y: 0, z: 500}, {x: 0, y: 0, z: 0});\n  }\n  createThreeMatrix4(matrix4) {\n    return new THREE.Matrix4().set(...matrix4);\n  }\n  rotatePoint(points, centerPoint, rotationZ) {\n    var _a;\n    const pointVector = new THREE.Vector3(points.x, points.y, (_a = points == null ? void 0 : points.z) != null ? _a : 1);\n    const Rz = new THREE.Matrix4().makeRotationZ(rotationZ);\n    const TFrom = new THREE.Matrix4().makeTranslation(centerPoint.x, centerPoint.y, centerPoint.z);\n    const TBack = new THREE.Matrix4().makeTranslation(-centerPoint.x, -centerPoint.y, -centerPoint.z);\n    return pointVector.clone().applyMatrix4(TBack).applyMatrix4(Rz).applyMatrix4(TFrom);\n  }\n  getCuboidFromPointCloudBox(boxParams) {\n    const {center, width, height, depth, rotation} = boxParams;\n    const polygonPointList = [\n      {\n        x: center.x + width / 2,\n        y: center.y - height / 2\n      },\n      {\n        x: center.x + width / 2,\n        y: center.y + height / 2\n      },\n      {\n        x: center.x - width / 2,\n        y: center.y + height / 2\n      },\n      {\n        x: center.x - width / 2,\n        y: center.y - height / 2\n      }\n    ].map((v) => {\n      const vector = this.rotatePoint(v, center, rotation);\n      return {\n        x: vector.x,\n        y: vector.y\n      };\n    });\n    const zMax = center.z + depth / 2;\n    const zMin = center.z - depth / 2;\n    return {\n      polygonPointList,\n      zMax,\n      zMin\n    };\n  }\n  filterPointsByBox(boxParams, points) {\n    if (!points) {\n      const originPoints = this.scene.getObjectByName(this.pointCloudObjectName);\n      if (!originPoints) {\n        console.error(\"There is no corresponding point cloud object\");\n        return Promise.resolve(void 0);\n      }\n      points = originPoints;\n    }\n    if (window.Worker) {\n      const {zMin, zMax, polygonPointList} = this.getCuboidFromPointCloudBox(boxParams);\n      const position = points.geometry.attributes.position.array;\n      const color = points.geometry.attributes.color.array;\n      const params = {\n        boxParams,\n        zMin,\n        zMax,\n        polygonPointList,\n        color,\n        position\n      };\n      return new Promise((resolve) => {\n        const filterBoxWorker = new WorkerFactory$1();\n        filterBoxWorker.postMessage(params);\n        filterBoxWorker.onmessage = (e) => {\n          const {color: newColor, position: newPosition, num} = e.data;\n          const geometry = new THREE.BufferGeometry();\n          geometry.setAttribute(\"position\", new THREE.Float32BufferAttribute(newPosition, 3));\n          geometry.setAttribute(\"color\", new THREE.Float32BufferAttribute(newColor, 3));\n          geometry.computeBoundingSphere();\n          filterBoxWorker.terminate();\n          resolve({geometry, num});\n        };\n      });\n    }\n    return Promise.resolve(void 0);\n  }\n  getCameraVector(centerPoint, rotationZ, volume, perspectiveView = EPerspectiveView.Front, defaultDistance = DEFAULT_DISTANCE) {\n    let TcMatrix4 = PerspectiveShiftUtils.frontViewMatrix4(defaultDistance);\n    switch (perspectiveView) {\n      case EPerspectiveView.Front:\n        break;\n      case EPerspectiveView.Back:\n        TcMatrix4 = PerspectiveShiftUtils.backViewMatrix4(defaultDistance);\n        break;\n      case EPerspectiveView.Left:\n        TcMatrix4 = PerspectiveShiftUtils.leftViewMatrix4(defaultDistance);\n        break;\n      case EPerspectiveView.Right:\n        TcMatrix4 = PerspectiveShiftUtils.rightViewMatrix4(defaultDistance);\n        break;\n      case EPerspectiveView.Top:\n        TcMatrix4 = PerspectiveShiftUtils.topViewMatrix4(defaultDistance);\n        break;\n      case EPerspectiveView.LFT:\n        TcMatrix4 = PerspectiveShiftUtils.leftFrontTopViewMatrix4(defaultDistance, volume);\n        break;\n      case EPerspectiveView.RBT:\n        TcMatrix4 = PerspectiveShiftUtils.rightBackTopViewMatrix4(defaultDistance, volume);\n        break;\n    }\n    const Tc = this.createThreeMatrix4(TcMatrix4);\n    const TFrom = new THREE.Matrix4().makeTranslation(-centerPoint.x, -centerPoint.y, -centerPoint.z);\n    const TBack = new THREE.Matrix4().makeTranslation(centerPoint.x, centerPoint.y, centerPoint.z);\n    const Rz = new THREE.Matrix4().makeRotationZ(rotationZ);\n    const centerVector = new THREE.Vector3(centerPoint.x, centerPoint.y, centerPoint.z);\n    const cameraVector = centerVector.clone().applyMatrix4(Tc).applyMatrix4(TFrom).applyMatrix4(Rz).applyMatrix4(TBack);\n    return cameraVector;\n  }\n  createRange(radius) {\n    this.removeObjectByName(this.rangeObjectName);\n    const curve = new THREE.EllipseCurve(0, 0, radius, radius, 0, 2 * Math.PI, false, 0);\n    const points = curve.getPoints(50);\n    const geometry = new THREE.BufferGeometry().setFromPoints(points);\n    const material = new THREE.LineBasicMaterial({color: 16711680});\n    const ellipse = new THREE.Line(geometry, material);\n    ellipse.name = this.rangeObjectName;\n    return ellipse;\n  }\n  renderPointCloud(points, radius) {\n    points.material.size = 1;\n    points.name = this.pointCloudObjectName;\n    const pointsMaterial = new THREE.PointsMaterial({\n      vertexColors: true\n    });\n    pointsMaterial.onBeforeCompile = this.overridePointShader;\n    if (radius) {\n      const circle = this.createRange(radius);\n      this.scene.add(circle);\n    }\n    this.pointsUuid = points.uuid;\n    points.material = pointsMaterial;\n    this.filterZAxisPoints(points);\n    this.scene.add(points);\n    this.render();\n  }\n  clearPointCloud() {\n    this.removeObjectByName(this.pointCloudObjectName);\n  }\n  clearPointCloudAndRender() {\n    this.clearPointCloud();\n    this.render();\n  }\n  highlightOriginPointCloud(boxParams) {\n  }\n  setShowDirection(showDirection) {\n    this.showDirection = showDirection;\n    this.scene.children.forEach((v) => {\n      if (v.type === \"Group\") {\n        v.children.forEach((object) => {\n          if (object.type === \"ArrowHelper\") {\n            object.visible = showDirection;\n          }\n        });\n      }\n    });\n    this.render();\n  }\n  getTextCanvas(text) {\n    const canvas = document.createElement(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    if (ctx) {\n      ctx.font = `${50}px \" bold`;\n      ctx.fillStyle = \"white\";\n      ctx.textAlign = \"center\";\n      ctx.textBaseline = \"middle\";\n      ctx.fillText(text, canvas.width / 2, canvas.height / 2);\n    }\n    return canvas;\n  }\n  getSensesPointZAxisInPolygon(polygon, zScope) {\n    const points = this.scene.children.find((i) => i.uuid === this.pointsUuid);\n    let minZ = 0;\n    let maxZ = 0;\n    let count = 0;\n    let zCount = 0;\n    if (points && (points == null ? void 0 : points.geometry)) {\n      const pointPosArray = points == null ? void 0 : points.geometry.attributes.position.array;\n      for (let idx = 0; idx < pointPosArray.length; idx += 3) {\n        const x = pointPosArray[idx];\n        const y = pointPosArray[idx + 1];\n        const z = pointPosArray[idx + 2];\n        const inPolygon = isInPolygon({x, y}, polygon);\n        if (inPolygon && z) {\n          maxZ = Math.max(z, maxZ);\n          minZ = Math.min(z, minZ);\n          zCount++;\n          if (zScope) {\n            if (z >= zScope[0] && z <= zScope[1]) {\n              count++;\n            }\n          }\n        }\n      }\n    }\n    return {maxZ, minZ, count, zCount};\n  }\n  getBasicCoordinate2Canvas(vector) {\n    const w = this.containerWidth / 2;\n    const h = this.containerHeight / 2;\n    return {\n      x: vector.x * w + w,\n      y: vector.y * h + h,\n      z: vector.z\n    };\n  }\n  get basicCoordinate2CanvasMatrix4() {\n    const w = this.containerWidth / 2;\n    const h = this.containerHeight / 2;\n    return new THREE.Matrix4().set(w, 0, 0, w, 0, h, 0, h, 0, 0, 1, 0, 0, 0, 0, 1);\n  }\n  getCanvas2BasicCoordinate(vector) {\n    const w = this.containerWidth / 2;\n    const h = this.containerHeight / 2;\n    return new THREE.Vector3(vector.x / w - w / 2, -(vector.y / h - h / 2), 1);\n  }\n  getPolygonSidePoints(boxParams) {\n    const {\n      center: {x, y, z},\n      height,\n      width,\n      depth\n    } = boxParams;\n    const lfb = {\n      x: x + width / 2,\n      y: y + height / 2,\n      z: z - depth / 2\n    };\n    const lft = {\n      x: x + width / 2,\n      y: y + height / 2,\n      z: z + depth / 2\n    };\n    const lbt = {\n      x: x - width / 2,\n      y: y + height / 2,\n      z: z + depth / 2\n    };\n    const lbb = {\n      x: x - width / 2,\n      y: y + height / 2,\n      z: z - depth / 2\n    };\n    const vectorList = [lfb, lft, lbt, lbb];\n    return vectorList;\n  }\n  getPolygonBackPoints(boxParams) {\n    const {\n      center: {x, y, z},\n      height,\n      width,\n      depth\n    } = boxParams;\n    const lbt = {\n      x: x - width / 2,\n      y: y + height / 2,\n      z: z + depth / 2\n    };\n    const lbb = {\n      x: x - width / 2,\n      y: y + height / 2,\n      z: z - depth / 2\n    };\n    const rbb = {\n      x: x - width / 2,\n      y: y - height / 2,\n      z: z - depth / 2\n    };\n    const rbt = {\n      x: x - width / 2,\n      y: y - height / 2,\n      z: z + depth / 2\n    };\n    const vectorList = [lbt, lbb, rbb, rbt];\n    return vectorList;\n  }\n  getPolygonTopPoints(boxParams) {\n    const {\n      center: {x, y, z},\n      height,\n      width,\n      depth\n    } = boxParams;\n    const lft = {\n      x: x + width / 2,\n      y: y + height / 2,\n      z: z + depth / 2\n    };\n    const rft = {\n      x: x + width / 2,\n      y: y - height / 2,\n      z: z + depth / 2\n    };\n    const rbt = {\n      x: x - width / 2,\n      y: y - height / 2,\n      z: z + depth / 2\n    };\n    const lbt = {\n      x: x - width / 2,\n      y: y + height / 2,\n      z: z + depth / 2\n    };\n    const vectorList = [lft, rft, rbt, lbt];\n    return vectorList;\n  }\n  getModelTransformationMatrix(boxParams) {\n    const {\n      center: {x, y, z},\n      rotation\n    } = boxParams;\n    const TFrom = new THREE.Matrix4().makeTranslation(-x, -y, -z);\n    const TBack = new THREE.Matrix4().makeTranslation(x, y, z);\n    const Rz = new THREE.Matrix4().makeRotationZ(rotation);\n    return new THREE.Matrix4().multiply(TBack).multiply(Rz).multiply(TFrom);\n  }\n  getBoxSidePolygon2DCoordinate(boxParams) {\n    return this.getBoxPolygon2DCoordinate(boxParams, EPerspectiveView.Left);\n  }\n  getBoxBackPolygon2DCoordinate(boxParams) {\n    return this.getBoxPolygon2DCoordinate(boxParams, EPerspectiveView.Back);\n  }\n  boxParams2ViewPolygon(boxParams, perspectiveView) {\n    switch (perspectiveView) {\n      case EPerspectiveView.Left:\n        return this.getPolygonSidePoints(boxParams);\n      case EPerspectiveView.Back:\n        return this.getPolygonBackPoints(boxParams);\n      default: {\n        return this.getPolygonTopPoints(boxParams);\n      }\n    }\n  }\n  getBoxPolygon2DCoordinate(boxParams, perspectiveView) {\n    const vectorList = this.boxParams2ViewPolygon(boxParams, perspectiveView);\n    const {width, height} = boxParams;\n    const projectMatrix = new THREE.Matrix4().premultiply(this.camera.matrixWorldInverse).premultiply(this.camera.projectionMatrix);\n    const boxSideMatrix = new THREE.Matrix4().premultiply(this.getModelTransformationMatrix(boxParams)).premultiply(projectMatrix).premultiply(this.basicCoordinate2CanvasMatrix4);\n    this.sideMatrix = boxSideMatrix;\n    const polygon2d = vectorList.map((vector) => new THREE.Vector3(vector.x, vector.y, vector.z)).map((vector) => vector.applyMatrix4(this.sideMatrix));\n    const wZoom = this.containerWidth / width;\n    const hZoom = this.containerHeight / height;\n    return {\n      polygon2d,\n      zoom: Math.min(wZoom, hZoom) / 2\n    };\n  }\n  getBoxTopPolygon2DCoordinate(boxParams) {\n    const {width, height} = boxParams;\n    const vectorList = this.getPolygonTopPoints(boxParams);\n    const polygon2d = vectorList.map((vector) => new THREE.Vector3(vector.x, vector.y, vector.z)).map((vector) => vector.applyMatrix4(this.getModelTransformationMatrix(boxParams))).map((vector) => {\n      return {\n        x: vector.y,\n        y: vector.x\n      };\n    }).map((vector) => {\n      return {\n        x: -(vector.x - this.containerWidth / 2),\n        y: -(vector.y - this.containerHeight / 2)\n      };\n    });\n    const wZoom = this.containerWidth / width;\n    const hZoom = this.containerHeight / height;\n    return {\n      polygon2d,\n      zoom: Math.min(wZoom, hZoom) / 2\n    };\n  }\n  getNewBoxBySideUpdate(offsetCenterPoint, offsetWidth, offsetDepth, selectedPointCloudBox) {\n    const Rz = new THREE.Matrix4().makeRotationZ(selectedPointCloudBox.rotation);\n    const offsetVector = new THREE.Vector3(-offsetCenterPoint.x, 0, 0).applyMatrix4(Rz);\n    let newBoxParams = selectedPointCloudBox;\n    newBoxParams.center = {\n      x: newBoxParams.center.x + offsetVector.x,\n      y: newBoxParams.center.y + offsetVector.y,\n      z: newBoxParams.center.z - offsetCenterPoint.z\n    };\n    newBoxParams = __spreadProps(__spreadValues({}, newBoxParams), {\n      width: newBoxParams.width + offsetWidth,\n      height: newBoxParams.height,\n      depth: newBoxParams.depth + offsetDepth\n    });\n    return {newBoxParams};\n  }\n  getNewBoxByBackUpdate(offsetCenterPoint, offsetWidth, offsetDepth, selectedPointCloudBox) {\n    const Rz = new THREE.Matrix4().makeRotationZ(selectedPointCloudBox.rotation);\n    const offsetVector = new THREE.Vector3(0, -offsetCenterPoint.x, 0).applyMatrix4(Rz);\n    let newBoxParams = selectedPointCloudBox;\n    newBoxParams.center = {\n      x: newBoxParams.center.x + offsetVector.x,\n      y: newBoxParams.center.y + offsetVector.y,\n      z: newBoxParams.center.z - offsetCenterPoint.z\n    };\n    newBoxParams = __spreadProps(__spreadValues({}, newBoxParams), {\n      width: newBoxParams.width,\n      height: newBoxParams.height + offsetWidth,\n      depth: newBoxParams.depth + offsetDepth\n    });\n    return {newBoxParams};\n  }\n  getNewBoxBySideUpdateByPoints(pointList, offsetHeight, offsetZ, selectedPointCloudBox) {\n    var _a;\n    const invertMatrix = (_a = this.sideMatrix) == null ? void 0 : _a.invert();\n    if (!this.sideMatrix || !invertMatrix) {\n      console.error(\"No sideMatrix\");\n      return;\n    }\n    this.camera.zoom = 1;\n    this.camera.updateProjectionMatrix();\n    const polygonWorld = pointList.map((vector) => new THREE.Vector3(vector.x, vector.y, vector.z)).map((vector) => vector.applyMatrix4(invertMatrix));\n    const [p1v, p2v, p3v, p4v] = polygonWorld;\n    const width = Math.max(Math.abs(p1v.x - p3v.x), Math.abs(p1v.x - p2v.x));\n    const centerVector = p2v.add(p4v).applyMatrix3(new THREE.Matrix3().set(1 / 2, 0, 0, 0, 1 / 2, 0, 0, 0, 1 / 2));\n    const offsetVector = centerVector.clone().applyMatrix3(new THREE.Matrix3().set(-1, 0, 0, 0, -1, 0, 0, 0, -1)).add(new THREE.Vector3(selectedPointCloudBox.center.x, selectedPointCloudBox.center.y, selectedPointCloudBox.center.z));\n    const newBoxParams = __spreadProps(__spreadValues({}, selectedPointCloudBox), {\n      center: {\n        x: selectedPointCloudBox.center.x - offsetVector.x,\n        y: selectedPointCloudBox.center.y - offsetVector.y,\n        z: selectedPointCloudBox.center.z - offsetZ\n      },\n      width,\n      height: selectedPointCloudBox.height,\n      depth: selectedPointCloudBox.depth + offsetHeight,\n      rotation: selectedPointCloudBox.rotation\n    });\n    return {newBoxParams};\n  }\n  filterZAxisPoints(pcdPoints) {\n    const points = pcdPoints || this.scene.children.find((i) => i.uuid === this.pointsUuid);\n    if (points) {\n      const {attributes} = points.geometry;\n      const {position} = attributes;\n      const visibility = [];\n      const {count} = position;\n      for (let i = 0; i < count; i++) {\n        const z = position.getZ(i);\n        visibility.push(z > this.zAxisLimit ? 0 : 1);\n      }\n      points.geometry.setAttribute(\"visibility\", new THREE.Float32BufferAttribute(visibility, 1));\n      points.geometry.attributes.visibility.needsUpdate = true;\n    }\n  }\n  render() {\n    this.renderer.render(this.scene, this.camera);\n  }\n}\n\nexport { PointCloud };\n","class CanvasScheduler {\n  constructor(props) {\n    this.container = props.container;\n  }\n  createCanvas(id, options) {\n    if (typeof id !== \"string\") {\n      this.container.appendChild(id);\n      id.style.position = \"absolute\";\n      id.style.left = \"0\";\n      id.style.top = \"0\";\n      return id;\n    }\n    const canvas = document.createElement(\"canvas\");\n    canvas.id = id;\n    if (options && options.size) {\n      canvas.width = options.size.width;\n      canvas.height = options.size.height;\n    }\n    this.container.appendChild(canvas);\n    return canvas;\n  }\n  destroyCanvas(id) {\n    const dom = document.getElementById(id);\n    if (dom) {\n      this.container.removeChild(dom);\n    }\n    return dom;\n  }\n}\n\nexport { CanvasScheduler };\n","import { PointCloudUtils } from '@labelbee/lb-utils';\nimport { EPolygonPattern } from '../../constant/tool.js';\nimport { CanvasScheduler } from '../../newCore/CanvasScheduler.js';\nimport { PointCloud } from './index.js';\nimport PointCloud2dOperation from '../toolOperation/pointCloud2dOperation.js';\n\nconst createEmptyImage = (size) => {\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = size.width;\n  canvas.height = size.height;\n  const ctx = canvas.getContext(\"2d\");\n  if (ctx) {\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(0, 0, size.width, size.height);\n    return canvas.toDataURL();\n  }\n  return \"\";\n};\nclass PointCloudAnnotation {\n  constructor({size, container, pcdPath, polygonOperationProps}) {\n    this.updatePolygonList = (pointCloudDataList, extraList) => {\n      let polygonList = pointCloudDataList.map((v) => {\n        var _a;\n        const {polygon2d: pointList} = this.pointCloudInstance.getBoxTopPolygon2DCoordinate(v);\n        return {\n          id: v.id,\n          sourceID: \"\",\n          pointList,\n          isRect: true,\n          valid: (_a = v.valid) != null ? _a : true\n        };\n      });\n      if (extraList) {\n        polygonList = polygonList.concat(extraList);\n      }\n      this.pointCloud2dOperation.setResult(polygonList);\n    };\n    const defaultOrthographic = this.getDefaultOrthographic(size);\n    const imgSrc = createEmptyImage(size);\n    const image = new Image();\n    image.src = imgSrc;\n    const canvasScheduler = new CanvasScheduler({container});\n    const pointCloud = new PointCloud({\n      container,\n      noAppend: true,\n      isOrthographicCamera: true,\n      orthographicParams: defaultOrthographic\n    });\n    if (pcdPath) {\n      pointCloud.loadPCDFile(pcdPath);\n    }\n    canvasScheduler.createCanvas(pointCloud.renderer.domElement);\n    const defaultPolygonProps = {\n      container,\n      size,\n      config: '{ \"textConfigurable\": false }',\n      imgNode: image,\n      isAppend: false\n    };\n    if (polygonOperationProps) {\n      Object.assign(defaultPolygonProps, polygonOperationProps);\n    }\n    const polygonOperation = new PointCloud2dOperation(defaultPolygonProps);\n    polygonOperation.eventBinding();\n    polygonOperation.setPattern(EPolygonPattern.Rect);\n    canvasScheduler.createCanvas(polygonOperation.canvas, {size});\n    this.pointCloud2dOperation = polygonOperation;\n    this.pointCloudInstance = pointCloud;\n    this.canvasScheduler = canvasScheduler;\n  }\n  getDefaultOrthographic(size) {\n    return {\n      left: -size.width / 2,\n      right: size.width / 2,\n      top: size.height / 2,\n      bottom: -size.height / 2,\n      near: 100,\n      far: -100\n    };\n  }\n  initSize(size) {\n    this.pointCloudInstance.updateTopCamera();\n    this.pointCloudInstance.setDefaultControls();\n    this.pointCloudInstance.initRenderer();\n    this.pointCloudInstance.initOrthographicCamera(this.getDefaultOrthographic(size));\n    this.pointCloudInstance.render();\n    const imgSrc = createEmptyImage(size);\n    const image = new Image();\n    image.src = imgSrc;\n    image.onload = () => {\n      this.pointCloud2dOperation.setImgNode(image);\n      this.pointCloud2dOperation.setCanvasSize(size);\n      this.pointCloud2dOperation.initImgPos();\n    };\n  }\n  addPolygonListOnTopView(result) {\n    const pointCloudDataList = PointCloudUtils.getBoxParamsFromResultList(result);\n    const polygonList = PointCloudUtils.getPolygonListFromResultList(result);\n    this.updatePolygonList(pointCloudDataList, polygonList);\n  }\n  updateData(pcdPath, result, config) {\n    if (!this.pointCloud2dOperation || !this.pointCloudInstance) {\n      return;\n    }\n    this.pointCloudInstance.loadPCDFile(pcdPath, config == null ? void 0 : config.radius);\n    this.addPolygonListOnTopView(result);\n  }\n  initAllPosition() {\n    this.pointCloudInstance.updateTopCamera();\n    this.pointCloud2dOperation.initPosition();\n  }\n  clearAllData() {\n    this.pointCloudInstance.clearPointCloudAndRender();\n    this.pointCloud2dOperation.clearResult();\n  }\n}\n\nexport { PointCloudAnnotation };\n","export { RectOperation } from './core/toolOperation/rectOperation.js';\nexport { default as TagOperation } from './core/toolOperation/tagOperation.js';\nexport { default as PointOperation } from './core/toolOperation/pointOperation.js';\nexport { default as LineToolOperation } from './core/toolOperation/LineToolOperation.js';\nexport { default as TextToolOperation } from './core/toolOperation/TextToolOperation.js';\nexport { default as PolygonOperation } from './core/toolOperation/polygonOperation.js';\nexport { default as MeasureOperation } from './core/toolOperation/measureOperation.js';\nexport { BasicToolOperation } from './core/toolOperation/basicToolOperation.js';\nexport { default as ViewOperation } from './core/toolOperation/ViewOperation.js';\nexport { default as ScribbleTool } from './core/toolOperation/ScribbleTool.js';\nexport { default as PointCloud2dOperation } from './core/toolOperation/pointCloud2dOperation.js';\nimport * as annotation from './constant/annotation.js';\nexport { annotation as cAnnotation };\nimport * as annotationTask from './constant/annotationTask.js';\nexport { annotationTask as cAnnotationTask };\nimport * as keyCode from './constant/keyCode.js';\nexport { keyCode as cKeyCode };\nimport * as style from './constant/style.js';\nexport { style as cStyle };\nimport * as tool from './constant/tool.js';\nexport { tool as cTool };\nexport { default as TagUtils } from './utils/tool/TagUtils.js';\nexport { default as uuid } from './utils/uuid.js';\nimport EnhanceCommonToolUtils from './utils/tool/EnhanceCommonToolUtils.js';\nexport { default as MarkerUtils } from './utils/tool/MarkerUtils.js';\nexport { default as RectUtils } from './utils/tool/RectUtils.js';\nexport { default as AxisUtils } from './utils/tool/AxisUtils.js';\nexport { default as DrawUtils } from './utils/tool/DrawUtils.js';\nexport { default as ImgUtils } from './utils/ImgUtils.js';\nexport { default as MathUtils } from './utils/MathUtils.js';\nexport { default as DblClickEventListener } from './utils/tool/DblClickEventListener.js';\nexport { default as AnnotationEngine } from './core/index.js';\nexport { PointCloud } from './core/pointCloud/index.js';\nexport { PointCloudAnnotation } from './core/pointCloud/annotation.js';\nexport { default as UnitUtils } from './utils/tool/UnitUtils.js';\nexport { CanvasScheduler } from './newCore/CanvasScheduler.js';\n\nconst CommonToolUtils = EnhanceCommonToolUtils;\nconst toolUtils = EnhanceCommonToolUtils;\n\nexport { CommonToolUtils, toolUtils };\n","import _ from 'lodash';\n\nexport const jsonParser = (content: any, defaultValue: any = {}) => {\n  try {\n    if (typeof content === 'string') {\n      return JSON.parse(content);\n    }\n    return _.isObject(content) ? content : defaultValue;\n  } catch (e) {\n    return defaultValue;\n  }\n};\n\nexport const getNewNode = <T>(newNode: T, oldNode: T): T => {\n  return newNode || _.isNull(newNode) ? newNode : oldNode;\n};\n\nexport const classnames = (className: { [key: string]: boolean } | (string | undefined)[]) => {\n  if (Array.isArray(className)) {\n    return className.filter((i) => i).join(' ');\n  }\n\n  if (_.isObject(className)) {\n    const classArray: string[] = [];\n    Object.keys(className).forEach((key) => {\n      if (className[key]) {\n        classArray.push(key);\n      }\n    });\n\n    return classArray.join(' ');\n  }\n\n  return '';\n};\n","import { IPointCloudBox, IPointCloudBoxList, IPolygonData } from '@labelbee/lb-utils';\nimport { PointCloud, PointCloudAnnotation } from '@labelbee/lb-annotation';\nimport React, { useMemo, useState } from 'react';\n\ninterface IPointCloudContextInstances {\n  topViewInstance?: PointCloudAnnotation;\n  sideViewInstance?: PointCloudAnnotation;\n  backViewInstance?: PointCloudAnnotation;\n  mainViewInstance?: PointCloud;\n  setTopViewInstance: (instance: PointCloudAnnotation) => void;\n  setSideViewInstance: (instance: PointCloudAnnotation) => void;\n  setBackViewInstance: (instance: PointCloudAnnotation) => void;\n  setMainViewInstance: (instance: PointCloud) => void;\n}\n\nexport interface IPointCloudContext extends IPointCloudContextInstances {\n  pointCloudBoxList: IPointCloudBoxList;\n  selectedIDs: string[];\n  setSelectedIDs: (ids?: string[] | string) => void;\n  valid: boolean;\n  setPointCloudResult: (resultList: IPointCloudBoxList) => void;\n  selectedPointCloudBox?: IPointCloudBox;\n  setPointCloudValid: (valid?: boolean) => void;\n  addSelectedID: (selectedID: string) => void;\n  selectedAllBoxes: () => void;\n  selectedID: string;\n  addPointCloudBox: (boxParams: IPointCloudBox) => void;\n\n  polygonList: IPolygonData[];\n  setPolygonList: (polygonList: IPolygonData[]) => void;\n\n  zoom: number;\n  setZoom: (zoom: number) => void;\n}\n\nexport const PointCloudContext = React.createContext<IPointCloudContext>({\n  pointCloudBoxList: [],\n  polygonList: [],\n  selectedID: '',\n  selectedIDs: [],\n  valid: true,\n  setSelectedIDs: () => {},\n  setPointCloudResult: () => {},\n  setPointCloudValid: () => {},\n  setTopViewInstance: () => {},\n  setSideViewInstance: () => {},\n  setBackViewInstance: () => {},\n  setMainViewInstance: () => {},\n  addSelectedID: () => {},\n  selectedAllBoxes: () => {},\n  addPointCloudBox: () => {},\n  setPolygonList: () => {},\n\n  zoom: 1,\n  setZoom: () => {},\n});\n\nexport const PointCloudProvider: React.FC<{}> = ({ children }) => {\n  const [pointCloudBoxList, setPointCloudResult] = useState<IPointCloudBoxList>([]);\n  const [polygonList, setPolygonList] = useState<IPolygonData[]>([]);\n  const [selectedIDs, setSelectedIDsState] = useState<string[]>([]);\n  const [valid, setValid] = useState<boolean>(true);\n  const [zoom, setZoom] = useState<number>(1);\n  const [topViewInstance, setTopViewInstance] = useState<PointCloudAnnotation>();\n  const [sideViewInstance, setSideViewInstance] = useState<PointCloudAnnotation>();\n  const [backViewInstance, setBackViewInstance] = useState<PointCloudAnnotation>();\n  const [mainViewInstance, setMainViewInstance] = useState<PointCloud>();\n\n  const selectedID = useMemo(() => {\n    return selectedIDs.length === 1 ? selectedIDs[0] : '';\n  }, [selectedIDs]);\n\n  const ptCtx = useMemo(() => {\n    const selectedPointCloudBox = pointCloudBoxList.find((v) => v.id === selectedID);\n\n    const addPointCloudBox = (box: IPointCloudBox) => {\n      setPointCloudResult(pointCloudBoxList.concat(box));\n    };\n\n    const setPointCloudValid = (valid?: boolean) => {\n      setValid(valid === false ? false : true);\n    };\n\n    const setSelectedIDs = (selectedIDs?: string[] | string) => {\n      if (selectedIDs === undefined) {\n        setSelectedIDsState([]);\n      }\n\n      if (typeof selectedIDs === 'string') {\n        setSelectedIDsState([selectedIDs]);\n      }\n\n      if (Array.isArray(selectedIDs)) {\n        setSelectedIDsState(Array.from(new Set(selectedIDs)));\n      }\n    };\n\n    /**\n     * If selectedID existed, remove selectedID from selectedIDs\n     * If selectedID not existed, add selectedID to selectedIDs\n     * @param selectedID\n     */\n    const addSelectedID = (selectedID: string) => {\n      if (selectedIDs.includes(selectedID)) {\n        setSelectedIDs(selectedIDs.filter((i) => i !== selectedID));\n      } else {\n        setSelectedIDs([...selectedIDs, selectedID]);\n      }\n    };\n\n    const selectedAllBoxes = () => {\n      setSelectedIDs(pointCloudBoxList.map((i) => i.id));\n    };\n\n    return {\n      selectedID,\n      pointCloudBoxList,\n      selectedIDs,\n      setPointCloudResult,\n      setSelectedIDs,\n      addPointCloudBox,\n      valid,\n      selectedPointCloudBox,\n      setPointCloudValid,\n      addSelectedID,\n      selectedAllBoxes,\n      topViewInstance,\n      setTopViewInstance,\n      sideViewInstance,\n      setSideViewInstance,\n      backViewInstance,\n      setBackViewInstance,\n      mainViewInstance,\n      setMainViewInstance,\n      polygonList,\n      setPolygonList,\n      zoom,\n      setZoom,\n    };\n  }, [\n    valid,\n    selectedIDs,\n    pointCloudBoxList,\n    polygonList,\n    topViewInstance,\n    sideViewInstance,\n    backViewInstance,\n    mainViewInstance,\n    zoom,\n  ]);\n\n  return <PointCloudContext.Provider value={ptCtx}>{children}</PointCloudContext.Provider>;\n};\n","export enum EStepType {\n  Check = 0, // 查看模式\n  ANNOTATION = 1, // 正常标注\n  QUALITY_INSPECTION, // 标注质检\n  PRE_ANNOTATION, // 预标注\n  MANUAL_CORRECTION, // 人工修正\n}\n\nexport enum ESubmitType {\n  Backward = 1, // 向前翻页\n  Forward = 2, // 向后翻页\n  Jump = 3, // 分页器的跳页翻页\n  Quit = 4, // 左上角后退触发\n  Export = 5, // 数据导出时\n  StepChanged = 6, // 切换步骤\n  Save = 7, // 点击保存\n}\n// css 命名前缀\nexport const prefix = 'bee';\nexport const componentCls = `${prefix}-component`;\n","import { MutableRefObject } from 'react';\nimport { prefix } from '@/constant';\n\nexport type BasicTarget<T = HTMLElement> =\n  | (() => T | null)\n  | T\n  | null\n  | MutableRefObject<T | null | undefined>;\n\ntype TargetElement = HTMLElement | Element | Document | Window;\n\nexport function getTargetElement(\n  target?: BasicTarget<TargetElement>,\n  defaultElement?: TargetElement,\n): TargetElement | undefined | null {\n  if (!target) {\n    return defaultElement;\n  }\n\n  let targetElement: TargetElement | undefined | null;\n\n  if (typeof target === 'function') {\n    // TODO. Maybe the new version of typescript is not allowed.\n    // @ts-ignore\n    targetElement = target();\n  } else if ('current' in target) {\n    targetElement = target.current;\n  } else {\n    targetElement = target;\n  }\n\n  return targetElement;\n}\n\n/**\n * Get class like BEM\n * @param elm\n * @param modify\n */\nexport const getClassName = (block: string, elm?: string, modify?: string) =>\n  `${prefix}-${block}${elm ? '__' + elm : ''}${modify ? '__' + modify : ''}`;\n","import { EStepType } from '@/constant';\nimport { IStepInfo } from '@/types/step';\nimport ToolUtils from './ToolUtils';\n\nexport default class StepUtils {\n  /**\n   * 获取当前步骤的步骤配置信息，用于当前标注配置的获取\n   * @export\n   * @param {number} currentStep\n   * @param {IStepInfo[]} stepList\n   * @returns {*}\n   */\n  public static getCurrentStepInfo(currentStep: number, stepList: IStepInfo[]) {\n    const currentStepInfo = this.getStepInfo(currentStep, stepList);\n\n    const useDataSourceStep = [EStepType.QUALITY_INSPECTION, EStepType.MANUAL_CORRECTION].includes(\n      currentStepInfo?.type,\n    );\n\n    /** 人工修正、质检获取 dataSourceStep 作为步骤配置 */\n    if (useDataSourceStep) {\n      return this.getStepInfo(currentStepInfo.dataSourceStep, stepList);\n    }\n\n    return currentStepInfo;\n  }\n\n  /**\n   * 找到指定步骤的数据\n   * @param step 获取的步骤\n   * @param stepList 步骤列表\n   * @returns 步骤配置\n   */\n  public static getStepInfo(step: number, stepList: IStepInfo[]) {\n    return stepList?.filter((info) => info.step === step)[0];\n  }\n\n  /**\n   * 根据toolName判断当前步骤是否为视频工具\n   * @param step 步骤\n   * @param stepList 步骤列表\n   * @returns {Number} 是否为视频工具\n   */\n  public static currentToolIsVideo(step: number, stepList: IStepInfo[]) {\n    const currentStepInfo = StepUtils.getCurrentStepInfo(step, stepList);\n    return ToolUtils.isVideoTool(currentStepInfo?.tool);\n  }\n\n\n  /**\n   * Check for PointCloud\n   * @param step \n   * @param stepList \n   * @returns \n   */\n  public static currentToolIsPointCloud(step: number, stepList: IStepInfo[]) {\n    const currentStepInfo = StepUtils.getCurrentStepInfo(step, stepList);\n    return ToolUtils.isPointCloudTool(currentStepInfo?.tool);\n  }\n}\n","import { ANNOTATION_ACTIONS } from '@/store/Actions';\nimport { IStepInfo } from '@/types/step';\nimport {\n  GetFileData,\n  LoadFileList,\n  IFileItem,\n  OnPageChange,\n  OnSave,\n  OnStepChange,\n  OnSubmit,\n} from '@/types/data';\nimport { AnnotationActionTypes, ToolInstance } from './types';\nimport { LoadFileAndFileData, getStepConfig } from './reducer';\nimport { ESubmitType } from '@/constant';\nimport { EPageTurningOperation } from '@/data/enums/AnnotationSize';\nimport PageOperator from '@/utils/PageOperator';\nimport { jsonParser } from '@/utils';\n\nconst dispatchTasks = (dispatch: any, tasks: any[]) => tasks.map((task) => dispatch(task));\n\n/**\n * @param {pageTurningOperation} pageTurningOperation 翻页操作\n * @returns {ESubmitType} 提数据交类型\n */\nconst getSubmitByPageOperation = (pageTurningOperation: EPageTurningOperation) => {\n  if (pageTurningOperation === EPageTurningOperation.Forward) {\n    return ESubmitType.Forward;\n  }\n\n  if (pageTurningOperation === EPageTurningOperation.Backward) {\n    return ESubmitType.Backward;\n  }\n\n  if (pageTurningOperation === EPageTurningOperation.Jump) {\n    return ESubmitType.Jump;\n  }\n\n  return ESubmitType.Forward;\n};\n\nconst getBasicIndex = (annotationStore: any, basicIndex: number) => {\n  const { imgList, imgIndex } = annotationStore;\n  const { dataSourceStep } = getStepConfig(annotationStore.stepList, annotationStore.step);\n  let backwardResult = jsonParser(imgList[imgIndex - 1].result);\n  const index = backwardResult[`step_${dataSourceStep}`]?.result?.length - 1;\n  return index || basicIndex;\n};\n\nexport function UpdateToolInstance(toolInstance: ToolInstance): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_TOOL_INSTANCE,\n    payload: {\n      toolInstance,\n    },\n  };\n}\n\nexport function UpdateImgList(imgList: IFileItem[]): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_IMG_LIST,\n    payload: {\n      imgList,\n    },\n  };\n}\n\nexport function UpdateAnnotationConfig(config: string): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ANNOTATION_CONFIG,\n    payload: {\n      config,\n    },\n  };\n}\n\nexport function SetTaskStepList({ stepList }: { stepList: IStepInfo[] }): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.SET_TASK_STEP_LIST,\n    payload: {\n      stepList,\n    },\n  };\n}\n\nexport function SetTaskConfig({\n  stepList,\n  step,\n}: {\n  stepList: IStepInfo[];\n  step: number;\n}): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.SET_TASK_CONFIG,\n    payload: {\n      stepList,\n      step,\n    },\n  };\n}\n\nexport function UpdateOnSubmit(onSubmit: OnSubmit): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ON_SUBMIT,\n    payload: {\n      onSubmit,\n    },\n  };\n}\n\nexport function UpdateOnSave(onSave: OnSave): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ON_SAVE,\n    payload: {\n      onSave,\n    },\n  };\n}\n\nexport function UpdateOnPageChange(onPageChange: OnPageChange): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ON_PAGE_CHANGE,\n    payload: {\n      onPageChange,\n    },\n  };\n}\n\nexport function UpdateOnStepChange(onStepChange: OnStepChange): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ON_STEP_CHANGE,\n    payload: {\n      onStepChange,\n    },\n  };\n}\n\nexport function UpdateGetFileData(getFileData: GetFileData): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_GET_FILE_DATA,\n    payload: {\n      getFileData,\n    },\n  };\n}\n\nexport function UpdatePageSize(pageSize: number): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_PAGE_SIZE,\n    payload: {\n      pageSize,\n    },\n  };\n}\n\nexport function UpdateGetFileList(loadFileList: LoadFileList): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_LOAD_FILE_LIST,\n    payload: {\n      loadFileList,\n    },\n  };\n}\n\nexport function UpdateRotate(): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ROTATE,\n  };\n}\n\nexport function UpdateValid(): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_ANNOTATION_VALID,\n  };\n}\n\nexport function UpdateSkipBeforePageTurning(skipBeforePageTurning: (pageTurning: Function) => {}): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.SKIP_BEFORE_PAGE_TURNING,\n    payload: {\n      skipBeforePageTurning,\n    },\n  };\n}\n\nexport function UpdateBeforeRotate(beforeRotate: () => {}): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.UPDATE_BEFORE_ROTATE,\n    payload: {\n      beforeRotate,\n    },\n  };\n}\n\nexport function CopyBackWordResult(): AnnotationActionTypes {\n  return {\n    type: ANNOTATION_ACTIONS.COPY_BACKWARD_RESULT,\n  };\n}\n\n/**\n * 初始化任务数据\n * @param param0\n */\nexport function InitTaskData({\n  onSubmit,\n  onSave,\n  onPageChange,\n  onStepChange,\n  getFileData,\n  pageSize,\n  loadFileList,\n  step,\n  stepList,\n  skipBeforePageTurning,\n  beforeRotate\n}: any): any {\n  const tasks: any[] = [];\n\n  if (onSubmit) {\n    tasks.push(UpdateOnSubmit(onSubmit));\n  }\n  if (onSave) {\n    tasks.push(UpdateOnSave(onSave));\n  }\n  if (onPageChange) {\n    tasks.push(UpdateOnPageChange(onPageChange));\n  }\n\n  if (onStepChange) {\n    tasks.push(UpdateOnStepChange(onStepChange));\n  }\n\n  if (getFileData) {\n    tasks.push(UpdateGetFileData(getFileData));\n  }\n\n  if (loadFileList) {\n    tasks.push(UpdateGetFileList(loadFileList));\n  }\n\n  if (pageSize) {\n    tasks.push(UpdatePageSize(pageSize));\n  }\n\n  if (skipBeforePageTurning) {\n    tasks.push(UpdateSkipBeforePageTurning(skipBeforePageTurning));\n  }\n\n  if (beforeRotate) {\n    tasks.push(UpdateBeforeRotate(beforeRotate));\n  }\n\n  tasks.push(SetTaskConfig({ stepList, step }));\n\n  tasks.push({\n    type: ANNOTATION_ACTIONS.CALC_STEP_PROGRESS,\n  });\n\n  tasks.push({\n    type: ANNOTATION_ACTIONS.INIT_TOOL,\n  });\n\n  return (dispatch: any) => dispatchTasks(dispatch, tasks);\n}\n\n/**\n * 初始化任务数据\n * @param param0\n */\nexport function UpdateInjectFunc({\n  onSubmit,\n  onSave,\n  onPageChange,\n  onStepChange,\n  getFileData,\n  pageSize,\n  loadFileList,\n  stepList,\n  beforeRotate\n}: any): any {\n  const tasks: any[] = [];\n\n  if (onSubmit) {\n    tasks.push(UpdateOnSubmit(onSubmit));\n  }\n  if (onSave) {\n    tasks.push(UpdateOnSave(onSave));\n  }\n  if (onPageChange) {\n    tasks.push(UpdateOnPageChange(onPageChange));\n  }\n\n  if (onStepChange) {\n    tasks.push(UpdateOnStepChange(onStepChange));\n  }\n\n  if (getFileData) {\n    tasks.push(UpdateGetFileData(getFileData));\n  }\n\n  if (loadFileList) {\n    tasks.push(UpdateGetFileList(loadFileList));\n  }\n\n  if (pageSize) {\n    tasks.push(UpdatePageSize(pageSize));\n  }\n\n  if (beforeRotate) {\n    tasks.push(UpdateBeforeRotate(beforeRotate));\n  }\n\n  tasks.push(SetTaskStepList({ stepList }));\n\n  return (dispatch: any) => dispatchTasks(dispatch, tasks);\n}\n\n/** 获取下一步的step */\nconst getNextStep = (step: number, stepList: any) => {\n  const currentStepIndex = stepList?.findIndex((element: any) => element?.step === step);\n  return stepList[currentStepIndex + 1]?.step;\n};\n\n/** 切换到下一步 */\nexport const ToNextStep = (pageNumber?: number) => (dispatch: any, getState: any) => {\n  const { annotation } = getState();\n  const { step, stepList } = annotation;\n  const nextStep = getNextStep(step, stepList);\n  return [dispatch(UpdateProcessingStep(nextStep, pageNumber))];\n};\n\n/**\n * 更新当前操作的步骤\n * @param {number} toStep\n */\nexport const UpdateProcessingStep =\n  (toStep: number, index?: number) => (dispatch: any, getState: any) => {\n    const { annotation } = getState();\n    annotation?.onStepChange?.(toStep);\n    const imgIndex = annotation?.imgIndex ?? 0;\n    return [\n      dispatch({ type: ANNOTATION_ACTIONS.SUBMIT_RESULT }),\n      dispatch({\n        type: ANNOTATION_ACTIONS.SUBMIT_FILE_DATA,\n        payload: { submitType: ESubmitType.StepChanged },\n      }),\n      // ToSubmitFileData(ESubmitType.StepChanged),\n      dispatch({ type: ANNOTATION_ACTIONS.SET_STEP, payload: { toStep } }),\n      dispatch({ type: ANNOTATION_ACTIONS.CALC_STEP_PROGRESS }),\n      // 切换步骤保持图片位置\n      dispatch(LoadFileAndFileData(index ?? imgIndex, 0)),\n    ];\n  };\n\n/**\n * 提交当前的文件数据\n * @param submitType\n */\nexport const ToSubmitFileData = (submitType: ESubmitType) => (dispatch: any) =>\n  [\n    dispatch({ type: ANNOTATION_ACTIONS.SUBMIT_RESULT }),\n    dispatch({ type: ANNOTATION_ACTIONS.SUBMIT_FILE_DATA, payload: { submitType } }),\n  ];\n\n/**\n * 提交数据并且切换标注文件\n * @param dispatch\n * @param nextIndex\n * @param submitType\n * @param nextBasicIndex\n */\nconst SubmitAndChangeFileIndex = (\n  dispatch: any,\n  nextIndex: number,\n  submitType: ESubmitType,\n  nextBasicIndex?: number,\n) => [\n  dispatch(ToSubmitFileData(submitType)),\n  dispatch(LoadFileAndFileData(nextIndex, nextBasicIndex)),\n];\n\nconst ChangeBasicIndex = (dispatch: any, nextBasicIndex: number) => [\n  dispatch({ type: ANNOTATION_ACTIONS.SUBMIT_RESULT }),\n  dispatch({ type: ANNOTATION_ACTIONS.SET_BASIC_INDEX, payload: { basicIndex: nextBasicIndex } }),\n];\n\nconst ChangeTriggerEventAfterIndexChanged = (\n  dispatch: any,\n  triggerEventAfterIndexChanged: boolean,\n) => {\n  dispatch({\n    type: ANNOTATION_ACTIONS.SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED,\n    payload: {\n      triggerEventAfterIndexChanged,\n    },\n  });\n};\n\n/** 向前翻页 */\nexport const PageBackward =\n  (triggerEventAfterIndexChanged = false) =>\n  (dispatch: any, getState: any) => {\n    return DispatcherTurning(\n      dispatch,\n      getState,\n      EPageTurningOperation.Backward,\n      triggerEventAfterIndexChanged,\n    );\n  };\n\n/** 向后翻页 */\nexport const PageForward =\n  (triggerEventAfterIndexChanged = false) =>\n  (dispatch: any, getState: any) => {\n    return DispatcherTurning(\n      dispatch,\n      getState,\n      EPageTurningOperation.Forward,\n      triggerEventAfterIndexChanged,\n    );\n  };\n\n/**\n * 跳到指定文件索引\n * @param toIndex\n */\nexport const PageJump =\n  (toIndex: number, triggerEventAfterIndexChanged = false) =>\n  (dispatch: any, getState: any) => {\n    if (toIndex === getState().imgIndex) {\n      return;\n    }\n\n    return DispatcherTurning(\n      dispatch,\n      getState,\n      EPageTurningOperation.Jump,\n      triggerEventAfterIndexChanged,\n      toIndex,\n    );\n  };\n\n/**\n * 加载文件列表\n * @param dispatch\n * @param getState\n * @param nextIndex 需要加载的图片index\n * @param isInitial // 是否为初始化加载\n */\nexport const loadImgList = async (\n  dispatch: any,\n  getState: any,\n  nextIndex: number,\n  isInitial?: boolean,\n) => {\n  const { loadFileList, imgList, pageSize } = getState().annotation;\n  const page = Math.floor(nextIndex / pageSize);\n  SetAnnotationLoading(dispatch, true);\n  try {\n    const res: any = await loadFileList(page, pageSize);\n    SetAnnotationLoading(dispatch, false);\n    if (!res?.fileList?.length || !res?.total) {\n      throw new Error('fileList and total are required');\n    }\n    const newImgList = isInitial ? new Array(res.total) : [...imgList];\n    newImgList.splice(page * pageSize, pageSize, ...res.fileList);\n    dispatch({\n      type: ANNOTATION_ACTIONS.UPDATE_IMG_LIST,\n      payload: {\n        imgList: newImgList,\n      },\n    });\n    return true;\n  } catch (err) {\n    SetAnnotationLoading(dispatch, false);\n    console.error(err);\n  }\n};\n\n/**\n * 判断翻页还是切换依赖数据\n * @param dispatch\n * @param getState\n * @param pageTurningOperation\n * @param toIndex\n */\nexport const DispatcherTurning = async (\n  dispatch: any,\n  getState: any,\n  pageTurningOperation: EPageTurningOperation,\n  triggerEventAfterIndexChanged = false,\n  toIndex?: number,\n) => {\n  const annotationStore = getState().annotation;\n  const { fileIndexChanged, fileIndex, basicIndexChanged, basicIndex } =\n    PageOperator.getNextPageInfo(pageTurningOperation, annotationStore, toIndex);\n\n  const submitType: ESubmitType = getSubmitByPageOperation(pageTurningOperation);\n\n  ChangeTriggerEventAfterIndexChanged(dispatch, triggerEventAfterIndexChanged);\n\n  // 翻页\n  if (fileIndexChanged) {\n    if (annotationStore.loading) {\n      return;\n    }\n    // 加载图片列表\n    if (!annotationStore.imgList[fileIndex]) {\n      const isSuccess = await loadImgList(dispatch, getState, fileIndex);\n      if (!isSuccess) {\n        // 加载失败不往下执行\n        return;\n      }\n    }\n    \n    annotationStore.onPageChange?.(fileIndex);\n    const index =\n      submitType === ESubmitType.Backward\n        ? getBasicIndex(getState().annotation, basicIndex)\n        : basicIndex;\n    return SubmitAndChangeFileIndex(dispatch, fileIndex, submitType, index);\n  }\n\n  if (basicIndexChanged) {\n    return ChangeBasicIndex(dispatch, basicIndex);\n  }\n\n  return dispatch(ToSubmitFileData(submitType));\n};\n\n/**\n * 保存当前页数据\n * */\nexport const ChangeSave = (dispatch: Function) => {\n  dispatch(ToSubmitFileData(ESubmitType.Save));\n  dispatch({ type: ANNOTATION_ACTIONS.SAVE_RESULT });\n};\n\nexport const SetAnnotationLoading = (dispatch: Function, loading: boolean) => {\n  dispatch({\n    type: ANNOTATION_ACTIONS.SET_LOADING,\n    payload: {\n      loading,\n    },\n  });\n};\n\n\nexport const SetPointCloudLoading = (dispatch: Function, loading: boolean) => {\n  dispatch({\n    type: ANNOTATION_ACTIONS.SET_LOADING,\n    payload: {\n      loading,\n    },\n  });\n};\n","import { AppProps } from '@/App';\nimport AnnotationView from '@/components/AnnotationView';\nimport PointCloudAnnotationView from '@/components/AnnotationView/pointCloudAnnotationView';\nimport { i18n } from '@labelbee/lb-utils';\nimport React, { useImperativeHandle, useState } from 'react';\nimport { I18nextProvider } from 'react-i18next';\nimport { Provider } from 'react-redux';\nimport { AnyAction } from 'redux';\nimport App from './App';\nimport configureStore from './configureStore';\nimport { PageBackward, PageForward, PageJump } from './store/annotation/actionCreators';\nimport { ToolInstance } from './store/annotation/types';\nimport { VideoTagTool } from '@/components/videoPlayer/TagToolInstanceAdaptorI18nProvider';\nimport './index.scss';\nimport { PointCloudProvider } from './components/pointCloudView/PointCloudContext';\nimport { AppState } from './store';\nimport { LabelBeeContext } from '@/store/ctx';\n\nexport const store = configureStore();\n\nconst OutputApp = (props: AppProps, ref: any) => {\n  const [toolInstance, setToolInstance] = useState<ToolInstance>();\n  // 暴露给 ref 的一些方法\n  useImperativeHandle(\n    ref,\n    () => {\n      return {\n        toolInstance,\n        annotationEngine: (store.getState() as AppState).annotation.annotationEngine,\n        pageBackwardActions: () => store.dispatch(PageBackward() as unknown as AnyAction),\n        pageForwardActions: () => store.dispatch(PageForward() as unknown as AnyAction),\n        pageJump: (page: string) => {\n          const imgIndex = ~~page - 1;\n          store.dispatch(PageJump(imgIndex) as unknown as AnyAction);\n        },\n        hello: () => alert(`hello labelBee!!!`),\n      };\n    },\n    [toolInstance],\n  );\n\n  return (\n    <Provider store={store} context={LabelBeeContext}>\n      <I18nextProvider i18n={i18n}>\n        <PointCloudProvider>\n          <App {...props} setToolInstance={setToolInstance} />\n        </PointCloudProvider>\n      </I18nextProvider>\n    </Provider>\n  );\n};\n\nexport default React.forwardRef(OutputApp);\n\nexport { AnnotationView, PointCloudAnnotationView, i18n, VideoTagTool };\n","export const ANNOTATION_ACTIONS = {\n  UPDATE_TOOL_INSTANCE: '@@UPDATE_TOOL_INSTANCE',\n  UPDATE_IMG_LIST: '@@UPDATE_IMG_LIST',\n  UPDATE_ANNOTATION_CONFIG: '@@UPDATE_ANNOTATION_CONFIG',\n  LOAD_FILE_DATA: '@@LOAD_FILE_DATA',\n  SUBMIT_FILE_DATA: '@@SUBMIT_FILE_DATA',\n  SET_TASK_CONFIG: '@@SET_TASK_CONFIG',\n  INIT_TOOL: '@@INIT_TOOL',\n  SET_TOOL: '@@SET_TOOL',\n  UPDATE_ON_SUBMIT: '@@UPDATE_ON_SUBMIT',\n  UPDATE_ON_SAVE: '@@UPDATE_ON_SAVE',\n  UPDATE_ON_PAGE_CHANGE: '@@UPDATE_ON_PAGE_CHANGE',\n  UPDATE_ON_STEP_CHANGE: '@@UPDATE_ON_STEP_CHANGE',\n  UPDATE_ROTATE: '@@UPDATE_ROTATE',\n  UPDATE_GET_FILE_DATA: '@@UPDATE_GET_FILE_DATA',\n  UPDATE_PAGE_SIZE: '@@UPDATE_PAGE_SIZE',\n  UPDATE_LOAD_FILE_LIST: '@@UPDATE_LOAD_FILE_LIST',\n  GET_FILE_DATA: '@@GET_FILE_DATA',\n  SET_FILE_DATA: '@@SET_FILE_DATA',\n  COPY_BACKWARD_RESULT: '@@COPY_BACKWARD_RESULT',\n  SET_STEP: '@@SET_STEP',\n  SUBMIT_RESULT: '@@SUBMIT_RESULT',\n  SAVE_RESULT: '@@SAVE_RESULT',\n  SET_BASIC_INDEX: '@@SET_BASIC_INDEX',\n  CALC_STEP_PROGRESS: '@@CALC_STEP_PROGRESS',\n  SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED: '@@SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED',\n  SKIP_BEFORE_PAGE_TURNING: '@@SKIP_BEFORE_PAGE_TURNING',\n  UPDATE_BEFORE_ROTATE: '@@UPDATE_BEFORE_ROTATE',\n  SET_LOADING: '@@SET_LOADING',\n  SET_POINT_CLOUD_LOADING: '@@SET_POINT_CLOUD_LOADING',\n\n  SET_TASK_STEP_LIST: '@@SET_TASK_STEP_LIST',\n \n  UPDATE_ANNOTATION_VALID: '@@UPDATE_ANNOTATION_VALID',\n};\n\nexport const IMAGE_ATTRIBUTE_ACTIONS = {\n  UPDATE_IMG_ATTRIBUTE: '@@UPDATE_IMG_ATTRIBUTE',\n  INIT_IMG_ATTRIBUTE: '@@INIT_IMG_ATTRIBUTE',\n};\n\nexport const TOOL_STYLE_ACTIONS = {\n  INIT_TOOL_STYLE_CONFIG: '@@INIT_TOOL_STYLE_CONFIG',\n  UPDATE_TOOL_STYLE_CONFIG: '@@UPDATE_TOOL_STYLE_CONFIG',\n};\n","import { IPointCloudBox } from '@labelbee/lb-utils';\nimport { useCallback, useContext, useMemo } from 'react';\nimport _ from 'lodash';\nimport { PointCloudContext } from '../PointCloudContext';\nimport { cAnnotation } from '@labelbee/lb-annotation';\n\nconst { ESortDirection } = cAnnotation;\n\n/** Actions for single selected box */\nexport const useSingleBox = () => {\n  const {\n    pointCloudBoxList,\n    setPointCloudResult,\n    topViewInstance,\n    backViewInstance,\n    sideViewInstance,\n    selectedIDs,\n    selectedID,\n    mainViewInstance,\n    setSelectedIDs,\n  } = useContext(PointCloudContext);\n\n  /** Returns { info: selected box, index: selected box index } */\n  const selectedBox = useMemo(() => {\n    const boxIndex = pointCloudBoxList.findIndex((i: { id: string }) => i.id === selectedID);\n    if (boxIndex > -1) {\n      return { info: pointCloudBoxList[boxIndex], index: boxIndex };\n    }\n  }, [selectedID, pointCloudBoxList]);\n\n  /** Use Partial<IPointCloudBox> to update selected box  */\n  const updateSelectedBox = useCallback(\n    (params: Partial<IPointCloudBox>) => {\n      if (selectedBox?.info) {\n        pointCloudBoxList.splice(selectedBox.index, 1, _.merge(selectedBox.info, params));\n        setPointCloudResult(_.cloneDeep(pointCloudBoxList));\n      }\n    },\n    [selectedID, pointCloudBoxList],\n  );\n\n  /** Use Partial<IPointCloudBox> to update box by ID  */\n  const updateBoxByID = useCallback(\n    (params: Partial<IPointCloudBox>, id: string) => {\n      const boxIndex = pointCloudBoxList.findIndex((v) => v.id === id);\n\n      if (boxIndex > -1) {\n        pointCloudBoxList.splice(boxIndex, 1, _.merge(pointCloudBoxList[boxIndex], params));\n        setPointCloudResult(_.cloneDeep(pointCloudBoxList));\n      }\n    },\n    [pointCloudBoxList],\n  );\n\n  /**\n   * Change all polygonView Valid.\n   */\n  const changePolygonViewValid = useCallback(\n    (id: string) => {\n      topViewInstance?.pointCloud2dOperation.setPolygonValidAndRender(id, true);\n      sideViewInstance?.pointCloud2dOperation.setPolygonValidAndRender(id, true);\n      backViewInstance?.pointCloud2dOperation.setPolygonValidAndRender(id, true);\n    },\n    [topViewInstance, sideViewInstance, backViewInstance],\n  );\n\n  /** Toggle selected box‘s validity  */\n  const changeSelectedBoxValid = useCallback(() => {\n    if (selectedBox?.info) {\n      const { id, valid = true } = selectedBox.info;\n\n      // PointCloud\n      updateSelectedBox({ valid: !valid });\n\n      changePolygonViewValid(id);\n    }\n  }, [changePolygonViewValid, selectedBox]);\n\n  const changeBoxValidByID = useCallback(\n    (id: string) => {\n      const boxInfo = pointCloudBoxList.find((v) => v.id === id);\n\n      if (boxInfo) {\n        const { id, valid = true } = boxInfo;\n\n        // PointCloud\n        updateBoxByID({ valid: !valid }, id);\n\n        changePolygonViewValid(id);\n      }\n    },\n    [changePolygonViewValid, pointCloudBoxList],\n  );\n\n  /** PointCloud select next/prev one */\n  const switchToNextBox = useCallback(\n    (sort = ESortDirection.ascend) => {\n      if (!topViewInstance || selectedIDs.length > 1) {\n        return;\n      }\n\n      const { pointCloud2dOperation } = topViewInstance;\n\n      const newSelectedIDs = pointCloud2dOperation.switchToNextPolygon(sort);\n      if (newSelectedIDs) {\n        setSelectedIDs(newSelectedIDs);\n      }\n    },\n    [topViewInstance],\n  );\n\n  const selectPrevBox = () => {\n    switchToNextBox(ESortDirection.descend);\n  };\n\n  const deletePointCloudBox = (id: string) => {\n    setPointCloudResult(pointCloudBoxList.filter((v) => v.id !== id));\n    mainViewInstance?.removeObjectByName(id);\n    mainViewInstance?.render();\n    // TODO Clear Highlight.\n  };\n\n  return {\n    selectedBox,\n    updateSelectedBox,\n    changeSelectedBoxValid,\n    changeBoxValidByID,\n    selectNextBox: switchToNextBox,\n    selectPrevBox,\n    deletePointCloudBox,\n  };\n};\n","// TODO, Temporarily Copy\nexport enum EScribblePattern {\n  Scribble = 1, // 涂抹操作\n  Erase = 2, // 橡皮刷\n}\n\nexport enum EToolName {\n  /** 拉框工具 */\n  Rect = 'rectTool',\n  /** 标签工具 */\n  Tag = 'tagTool',\n  /** 标点工具 */\n  Point = 'pointTool',\n  /** 列表标点工具 */\n  PointMarker = 'pointMarkerTool',\n  /** 前景分割工具 */\n  Segmentation = 'segmentationTool',\n  /** 筛选工具 */\n  Filter = 'filterTool',\n  /** 文本工具 */\n  Text = 'textTool',\n  /** 多边形工具 */\n  Polygon = 'polygonTool',\n  /** 线条 */\n  Line = 'lineTool',\n  /** 列表线条工具 */\n  LineMarker = 'lineMarkerTool',\n  /** 空工具，表示当前没有选择的工具，没有实际的业务逻辑 */\n  Empty = 'emptyTool',\n  /** 文件夹标签工具 */\n  FolderTag = 'folderTagTool',\n  /** 拉框跟踪工具 */\n  RectTrack = 'rectTrackTool',\n  /** 涂抹工具 */\n  ScribbleTool = 'scribbleTool',\n  /** 人脸106工具 */\n  Face = 'faceTool',\n  /** 客户端属性工具 */\n  ClientAttribute = 'clientAttributeTool',\n  /** OCR关联关系工具 */\n  OCRRelation = 'OCRRelationTool',\n  /** 算法分割辅助工具 */\n  SegmentByRect = 'segmentByRectTool',\n}\n\n\n// 文本标注类型\nexport enum ETextType {\n  AnyString, // 任意字符\n  Order, // 序号\n  EnglishOnly, // 仅英文\n  NumberOnly, // 仅数字\n  CustomFormat, // 自定义文本格式\n}\n\n/** 文本标注字数上限 */\nexport const TEXT_ATTRIBUTE_MAX_LENGTH = 1000;\n","import RevokeSvg from '@/assets/annotation/toolHotKeyIcon/icon_cencel_kj.svg';\nimport RestoreSvg from '@/assets/annotation/toolHotKeyIcon/icon_reform_kj.svg';\nimport ScaleSvg from '@/assets/annotation/toolHotKeyIcon/icon_loupe_kj.svg';\nimport ScaleShortCutSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_middle_kj.svg';\nimport FullScreenSvg from '@/assets/annotation/toolHotKeyIcon/icon_fullView_kj.svg';\nimport RotateSvg from '@/assets/annotation/toolHotKeyIcon/icon_reload_kj.svg';\nimport SetValidSvg from '@/assets/annotation/toolHotKeyIcon/setValid.svg';\nimport BackwardSvg from '@/assets/annotation/toolHotKeyIcon/icon_last_kj.svg';\nimport ForwardSvg from '@/assets/annotation/toolHotKeyIcon/icon_next_kj.svg';\nimport DragWithRightClickSvg from '@/assets/annotation/toolHotKeyIcon/icon_move_kj.svg';\nimport DragWithRightClickShortCutSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\nimport DragWithLeftClickSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg';\nimport CopyBackwardResultSvg from '@/assets/annotation/toolHotKeyIcon/icon_copyBackwardResult.svg';\nimport TabChangeSelectedSvg from '@/assets/annotation/toolHotKeyIcon/icon_tab_kj.svg';\nimport TabReverseChangeSelectedSVG from '@/assets/annotation/toolHotKeyIcon/icon_alttab_kj.svg';\nimport IconSaveKj from '@/assets/annotation/toolHotKeyIcon/icon_save_kj.svg';\nimport IconLineSpecialKj from '@/assets/annotation/toolHotKeyIcon/icon_lineSpecial_kj.svg';\nimport IconNoDisplay from '@/assets/annotation/toolHotKeyIcon/icon_noDisplay.svg';\nimport IconEyeLockKj from '@/assets/annotation/toolHotKeyIcon/icon_eyeLock_kj.svg';\nimport IconPlayPause from '@/assets/annotation/toolHotKeyIcon/icon_playPause.svg';\nimport IconFastForward from '@/assets/annotation/toolHotKeyIcon/icon_forward_kj.svg';\nimport IconRewind from '@/assets/annotation/toolHotKeyIcon/icon_back_kj.svg';\nimport IconSpeed from '@/assets/annotation/toolHotKeyIcon/icon_speed_kj.svg';\n\nexport const revoke = {\n  name: 'Undo',\n  icon: RevokeSvg,\n  shortCut: ['Ctrl', 'Z'],\n};\n\nexport const restore = {\n  name: 'Redo',\n  icon: RestoreSvg,\n  shortCut: ['Ctrl', 'Shift', 'Z'],\n};\n\nexport const scale = {\n  name: 'Scale',\n  icon: ScaleSvg,\n  shortCut: [ScaleShortCutSvg],\n};\n\nexport const fullScreen = {\n  name: 'Fullscreen',\n  icon: FullScreenSvg,\n  shortCut: ['F11'],\n};\n\nexport const rotate = {\n  name: 'Rotate',\n  icon: RotateSvg,\n  shortCut: ['R'],\n  noticeInfo: 'ToOriginalStep',\n};\n\nexport const setValid = {\n  name: 'ToggleEffectiveness',\n  icon: SetValidSvg,\n  shortCut: ['Y'],\n};\n\nexport const backward = {\n  name: 'PreviousImage',\n  icon: BackwardSvg,\n  shortCut: ['A'],\n};\n\nexport const forward = {\n  name: 'NextImage',\n  icon: ForwardSvg,\n  shortCut: ['D'],\n};\n\nexport const backwardPage = {\n  name: 'PreviousFolder',\n  icon: BackwardSvg,\n  shortCut: ['Shift', 'A'],\n};\n\nexport const forwardPage = {\n  name: 'NextFolder',\n  icon: ForwardSvg,\n  shortCut: ['Shift', 'D'],\n};\n\nexport const dargWithRightClick = {\n  name: 'Drag',\n  icon: DragWithRightClickSvg,\n  shortCut: [DragWithRightClickShortCutSvg],\n  noticeInfo: 'Press',\n};\n\nexport const dargWithLeftClick = {\n  name: 'Drag',\n  icon: DragWithRightClickSvg,\n  shortCut: ['Space', DragWithLeftClickSvg],\n};\n\nexport const forwardWithEnter = {\n  name: 'Next',\n  icon: ForwardSvg,\n  shortCut: ['Ctrl', 'Enter'],\n};\n\nexport const copyBackwardResult = {\n  name: 'CopyThePrevious',\n  icon: CopyBackwardResultSvg,\n  shortCut: ['ALT', 'C'],\n};\n\nexport const attributeLock = {\n  name: 'SpecifiedAttributesOnly',\n  icon: IconEyeLockKj,\n  shortCut: ['Shift', 'Number'],\n};\n\nexport const attributeClickLock = {\n  name: 'SpecifiedAttributesOnly',\n  icon: IconEyeLockKj,\n  shortCut: ['Shift', DragWithLeftClickSvg],\n};\n\nexport const tabChangeSelected = {\n  name: 'ToggleSelected',\n  icon: TabChangeSelectedSvg,\n  shortCut: ['Tab'],\n};\n\nexport const tabReverseChangeSelected = {\n  name: 'ToggleSelectedReverse',\n  icon: TabReverseChangeSelectedSVG,\n  shortCut: ['Shift', 'Tab'],\n};\n\nexport const hidden = {\n  name: 'HideGraphics',\n  icon: IconNoDisplay,\n  noticeInfo: '',\n  shortCut: ['Z'],\n};\n\nexport const changeSpecialLine = {\n  name: 'ToggleLineParticularity',\n  icon: IconLineSpecialKj,\n  noticeInfo: 'ToSide',\n  shortCut: ['Shift', DragWithLeftClickSvg],\n};\n\nexport const saveResult = {\n  name: 'Save',\n  icon: IconSaveKj,\n  shortCut: ['Ctrl', 'S'],\n};\n\nexport const speed = {\n  name: 'Speed',\n  icon: IconSpeed,\n  shortCut: ['&#8593;', '&#8595;'],\n  shortCutUseHtml: true,\n};\n\nexport const playPause = {\n  name: 'PlayPause',\n  icon: IconPlayPause,\n  shortCut: ['Space'],\n};\n\nexport const forwardForward = {\n  name: 'FastForward',\n  icon: IconFastForward,\n  shortCut: ['&#8594;'],\n  shortCutUseHtml: true,\n};\n\nexport const rewind = {\n  name: 'Rewind',\n  icon: IconRewind,\n  shortCut: ['&#8592;'],\n  shortCutUseHtml: true,\n};\n","import { useLayoutEffect } from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport type { BasicTarget } from '../utils/dom';\nimport { getTargetElement } from '../utils/dom';\nimport useRafState from './useRafState';\n\ninterface Size {\n  width: number;\n  height: number;\n}\n\nfunction useSize(target: BasicTarget): Size {\n  const [state, setState] = useRafState<Size>(() => {\n    const el = getTargetElement(target);\n    return {\n      width: ((el || {}) as HTMLElement).clientWidth ?? 0,\n      height: ((el || {}) as HTMLElement).clientHeight ?? 0,\n    };\n  });\n\n  useLayoutEffect(() => {\n    const el = getTargetElement(target);\n    if (!el) {\n      return () => {};\n    }\n\n    const resizeObserver = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n      entries.forEach((entry: ResizeObserverEntry) => {\n        setState({\n          width: entry.target.clientWidth ?? 0,\n          height: entry.target.clientHeight ?? 0,\n        });\n      });\n    });\n\n    resizeObserver.observe(el as HTMLElement);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [target]);\n\n  return state;\n}\n\nexport default useSize;\n","/**\n * @file Point cloud interface for crud\n * @author Glenfiddish <edwinlee0927@hotmail.com>\n * @createdate 2022-08-17\n */\nimport { PointCloudAnnotation, PointCloud, MathUtils } from '@labelbee/lb-annotation';\nimport {\n  IPointCloudBox,\n  EPerspectiveView,\n  PointCloudUtils,\n  IPolygonPoint,\n} from '@labelbee/lb-utils';\nimport { useContext } from 'react';\nimport { PointCloudContext } from '../PointCloudContext';\nimport { useSingleBox } from './useSingleBox';\nimport { ISize } from '@/types/main';\nimport _ from 'lodash';\nimport { useDispatch, useSelector } from '@/store/ctx';\nimport { AppState } from '@/store';\nimport StepUtils from '@/utils/StepUtils';\nimport { jsonParser } from '@/utils';\nimport { SetPointCloudLoading } from '@/store/annotation/actionCreators';\nimport { message } from 'antd';\nimport { useTranslation } from 'react-i18next';\n\nconst DEFAULT_SCOPE = 5;\nconst DEFAULT_RADIUS = 90;\n\nconst PointCloudView = {\n  '3D': '3D',\n  Top: 'Top',\n  Side: 'Side',\n  Back: 'Back',\n};\n\n/**\n * Get the coordinate from canvas2d-coordinate to world coordinate\n */\nexport const transferCanvas2World = (\n  currentPos: { x: number; y: number },\n  size: { width: number; height: number },\n) => {\n  const { width: w, height: h } = size;\n  const { x, y } = currentPos;\n\n  // x-Axis is the Positive Direction, so the x-coordinates need to be swapped with the y-coordinates\n  return {\n    x: -y + h / 2,\n    y: -(x - w / 2),\n  };\n};\n\nexport const topViewPolygon2PointCloud = (\n  newPolygon: any,\n  size: ISize,\n  pointCloud?: PointCloud,\n  selectedPointCloudBox?: IPointCloudBox,\n  defaultValue?: { [v: string]: any },\n) => {\n  const [point1, point2, point3, point4] = newPolygon.pointList.map((v: any) =>\n    transferCanvas2World(v, size),\n  );\n\n  const centerPoint = MathUtils.getLineCenterPoint([point1, point3]);\n  const height = MathUtils.getLineLength(point1, point2);\n  const width = MathUtils.getLineLength(point2, point3);\n  const rotation = MathUtils.getRadiusFromQuadrangle(newPolygon.pointList);\n  let z = 0;\n  let depth = 1;\n  let extraData = {};\n\n  // Init PointCloud Data\n  if (pointCloud) {\n    const zInfo = pointCloud.getSensesPointZAxisInPolygon([point1, point2, point3, point4]);\n    z = (zInfo.maxZ + zInfo.minZ) / 2;\n    depth = zInfo.maxZ - zInfo.minZ;\n    extraData = {\n      count: zInfo.zCount,\n    };\n  }\n\n  if (selectedPointCloudBox) {\n    z = selectedPointCloudBox.center.z;\n    depth = selectedPointCloudBox.depth;\n  }\n\n  const newPosition = {\n    center: {\n      x: centerPoint.x,\n      y: centerPoint.y,\n      z,\n    },\n    width,\n    height,\n    depth,\n    rotation,\n    id: newPolygon.id,\n  };\n\n  /** TrackID will append before it pushed */\n  const boxParams: Omit<IPointCloudBox, 'trackID'> = selectedPointCloudBox\n    ? {\n        ...selectedPointCloudBox,\n        ...newPosition,\n        ...extraData,\n      }\n    : {\n        // Init Data\n        ...newPosition,\n        attribute: '',\n        valid: true,\n        ...extraData,\n      };\n\n  if (defaultValue) {\n    Object.assign(boxParams, defaultValue);\n  }\n\n  return boxParams;\n};\n\nconst sideViewPolygon2PointCloud = (\n  newPolygon: any,\n  originPolygon: any,\n  selectedPointCloudBox: IPointCloudBox,\n  pointCloudInstance: PointCloud,\n) => {\n  const [point1, point2, point3] = newPolygon.pointList;\n  const [op1, op2, op3] = originPolygon.pointList;\n\n  // 2D centerPoint => 3D x & z\n  const newCenterPoint = MathUtils.getLineCenterPoint([point1, point3]);\n  const oldCenterPoint = MathUtils.getLineCenterPoint([op1, op3]);\n\n  const offset = {\n    x: newCenterPoint.x - oldCenterPoint.x,\n    y: newCenterPoint.y - oldCenterPoint.y,\n  };\n\n  /**\n   * The key of sideView change is x & z, y isn't used.\n   */\n  const offsetCenterPoint = {\n    x: offset.x,\n    y: 0,\n    z: newCenterPoint.y - oldCenterPoint.y,\n  };\n\n  // 2D height => 3D depth\n  const height = MathUtils.getLineLength(point1, point2);\n  const oldHeight = MathUtils.getLineLength(op1, op2);\n  const offsetHeight = height - oldHeight; // 3D depth\n\n  // 2D width => 3D width\n  const width = MathUtils.getLineLength(point2, point3);\n  const oldWidth = MathUtils.getLineLength(op2, op3);\n  const offsetWidth = width - oldWidth; // 3D width\n\n  const { newBoxParams } = pointCloudInstance.getNewBoxBySideUpdate(\n    offsetCenterPoint,\n    offsetWidth,\n    offsetHeight,\n    selectedPointCloudBox,\n  );\n\n  return newBoxParams;\n};\n\n/**\n * NewBox synchronize sideView\n * @param boxParams\n * @param newPolygon TODO！ Need to add type\n */\nexport const synchronizeSideView = (\n  boxParams: IPointCloudBox,\n  newPolygon: any,\n  sideViewInstance: PointCloudAnnotation | undefined,\n  url: string,\n) => {\n  if (!sideViewInstance) {\n    return;\n  }\n\n  const { pointCloud2dOperation, pointCloudInstance } = sideViewInstance;\n\n  // Create PointCloud\n  pointCloudInstance.loadPCDFileByBox(url, boxParams, {\n    width: DEFAULT_SCOPE,\n    depth: DEFAULT_SCOPE,\n  });\n  const { cameraPositionVector } = pointCloudInstance.updateOrthoCamera(\n    boxParams,\n    EPerspectiveView.Left,\n  );\n\n  pointCloudInstance.setInitCameraPosition(cameraPositionVector);\n\n  // Create Draw Polygon\n  const { polygon2d, zoom } = pointCloudInstance.getBoxSidePolygon2DCoordinate(boxParams);\n\n  // Synchronize SidePointCloud zoom with PointCloud2dOperation\n  pointCloudInstance.camera.zoom = zoom;\n  pointCloudInstance.camera.updateProjectionMatrix();\n  pointCloudInstance.render();\n\n  // Update PolygonView to default zoom and currentPos.\n  pointCloud2dOperation.initPosition();\n  pointCloud2dOperation.zoomChangeOnCenter(zoom);\n  pointCloud2dOperation.setResultAndSelectedID(\n    [\n      {\n        id: newPolygon.id,\n        valid: boxParams.valid,\n        pointList: polygon2d,\n        textAttribute: '',\n        isRect: true,\n      },\n    ],\n    newPolygon.id,\n  );\n};\n\n/**\n * NewBox synchronize backView\n * @param boxParams\n * @param newPolygon TODO！ Need to add type\n */\nexport const synchronizeBackView = (\n  boxParams: IPointCloudBox,\n  newPolygon: any,\n  BackViewInstance: PointCloudAnnotation,\n  url: string,\n) => {\n  if (!BackViewInstance) {\n    return;\n  }\n\n  const {\n    pointCloud2dOperation: backPointCloudPolygonOperation,\n    pointCloudInstance: backPointCloud,\n  } = BackViewInstance;\n\n  // Create PointCloud\n  backPointCloud.loadPCDFileByBox(url, boxParams, { height: DEFAULT_SCOPE, depth: DEFAULT_SCOPE });\n  const { cameraPositionVector } = backPointCloud.updateOrthoCamera(\n    boxParams,\n    EPerspectiveView.Back,\n  );\n\n  backPointCloud.setInitCameraPosition(cameraPositionVector);\n\n  // Create Draw Polygon\n  const { polygon2d, zoom } = backPointCloud.getBoxBackPolygon2DCoordinate(boxParams);\n\n  // Synchronize SidePointCloud zoom with PointCloud2dOperation\n  backPointCloud.camera.zoom = zoom;\n  backPointCloud.camera.updateProjectionMatrix();\n  backPointCloud.render();\n\n  // Update PolygonView to default zoom and currentPos.\n  backPointCloudPolygonOperation.initPosition();\n  backPointCloudPolygonOperation.zoomChangeOnCenter(zoom);\n  backPointCloudPolygonOperation.setResultAndSelectedID(\n    [\n      {\n        id: newPolygon.id,\n        valid: boxParams.valid,\n        pointList: polygon2d,\n        textAttribute: '',\n        isRect: true,\n      },\n    ],\n    newPolygon.id,\n  );\n};\n\n/**\n * NewBox synchronize TopView\n * @param boxParams\n * @param newPolygon TODO！ Need to add type\n */\nexport const synchronizeTopView = (\n  newBoxParams: IPointCloudBox,\n  newPolygon: any,\n  topViewInstance?: PointCloudAnnotation,\n  mainViewInstance?: PointCloud,\n) => {\n  if (!topViewInstance || !mainViewInstance) {\n    return;\n  }\n\n  // Control the 3D view data to create box\n  mainViewInstance.generateBox(newBoxParams, newPolygon.id);\n  mainViewInstance.updateCameraByBox(newBoxParams, EPerspectiveView.Top);\n  mainViewInstance.render();\n\n  const { pointCloud2dOperation, pointCloudInstance } = topViewInstance;\n\n  const { polygon2d } = pointCloudInstance.getBoxTopPolygon2DCoordinate(newBoxParams);\n\n  const newPolygonList = [...pointCloud2dOperation.polygonList];\n  const oldPolygon = newPolygonList.find((v) => v.id === newPolygon.id);\n  if (oldPolygon) {\n    oldPolygon.pointList = polygon2d;\n  } else {\n    newPolygonList.push({\n      id: newPolygon.id,\n      pointList: polygon2d,\n      textAttribute: '',\n      isRect: true,\n      valid: newBoxParams.valid ?? true,\n    });\n  }\n\n  pointCloud2dOperation.setResultAndSelectedID(newPolygonList, newPolygon.id);\n};\n\nexport const usePointCloudViews = () => {\n  const ptCtx = useContext(PointCloudContext);\n  const {\n    topViewInstance,\n    sideViewInstance,\n    backViewInstance,\n    mainViewInstance,\n    addPointCloudBox,\n    setSelectedIDs,\n    selectedIDs,\n    pointCloudBoxList,\n    setPointCloudResult,\n  } = ptCtx;\n  const { updateSelectedBox } = useSingleBox();\n  const { currentData, config } = useSelector((state: AppState) => {\n    const { stepList, step, imgList, imgIndex } = state.annotation;\n\n    return {\n      currentData: imgList[imgIndex],\n      config: jsonParser(StepUtils.getCurrentStepInfo(step, stepList).config),\n    };\n  });\n  const dispatch = useDispatch();\n  const { selectedBox } = useSingleBox();\n  const { t } = useTranslation();\n\n  const selectedPointCloudBox = selectedBox?.info;\n\n  if (!topViewInstance || !sideViewInstance) {\n    return {\n      topViewAddBox: () => {},\n      topViewSelectedChanged: () => {},\n      sideViewUpdateBox: () => {},\n    };\n  }\n\n  const { pointCloudInstance: topViewPointCloud } = topViewInstance;\n\n  // Temporarily hide\n  // const getNextTrackID = () => {\n  //   if (pointCloudBoxList.length > 0) {\n  //     const sortedPcList = pointCloudBoxList.sort((a, b) => a.trackID - b.trackID);\n  //     return sortedPcList.slice(-1)[0]?.trackID + 1;\n  //   }\n\n  //   return 1;\n  // };\n\n  const mainViewGenBox = (boxParams: IPointCloudBox) => {\n    mainViewInstance?.generateBox(boxParams);\n    mainViewInstance?.controls.update();\n    mainViewInstance?.render();\n  };\n\n  /** Top-view create box from 2D */\n  const topViewAddBox = (newPolygon: any, size: ISize) => {\n    const newParams = topViewPolygon2PointCloud(newPolygon, size, topViewPointCloud, undefined, {\n      attribute: config?.attributeList?.[0]?.value ?? '',\n    });\n    const polygonOperation = topViewInstance?.pointCloud2dOperation;\n\n    // Temporarily hide\n    // const boxParams: IPointCloudBox = Object.assign(newParams, {\n    //   trackID: getNextTrackID(),\n    // });\n    const boxParams: IPointCloudBox = newParams;\n\n    // If the count is less than lowerLimitPointsNumInBox, needs to delete it\n    if (\n      config?.lowerLimitPointsNumInBox &&\n      typeof newParams.count === 'number' &&\n      newParams.count < config.lowerLimitPointsNumInBox\n    ) {\n      message.info(t('LowerLimitPointsNumInBox', { num: config.lowerLimitPointsNumInBox }));\n      polygonOperation.deletePolygon(newParams.id);\n      return;\n    }\n\n    polygonOperation.setSelectedIDs([newPolygon.id]);\n    setSelectedIDs(boxParams.id);\n    syncPointCloudViews(PointCloudView.Top, newPolygon, boxParams);\n    addPointCloudBox(boxParams);\n  };\n\n  /** Top-view selected changed and render to other view */\n  const topViewSelectedChanged = () => {\n    const boxParams = selectedBox?.info;\n    const polygonOperation = topViewInstance?.pointCloud2dOperation;\n\n    polygonOperation.setSelectedIDs(selectedIDs);\n    if (!boxParams || !polygonOperation) {\n      return;\n    }\n\n    const polygon = polygonOperation.selectedPolygon;\n    syncPointCloudViews(PointCloudView.Top, polygon, boxParams);\n  };\n\n  /**\n   * Update box from view\n   * @param newPolygon\n   * @param originPolygon\n   * @param fromView Back or Side\n   */\n  const viewUpdateBox = (newPolygon: any, originPolygon: any, fromView: string) => {\n    if (selectedPointCloudBox) {\n      let newBoxParams = sideViewPolygon2PointCloud(\n        newPolygon,\n        originPolygon,\n        selectedPointCloudBox,\n        sideViewInstance.pointCloudInstance,\n      );\n      // Update count\n      if (mainViewInstance) {\n        const { count } = mainViewInstance.getSensesPointZAxisInPolygon(\n          mainViewInstance.getCuboidFromPointCloudBox(newBoxParams)\n            .polygonPointList as IPolygonPoint[],\n          [\n            newBoxParams.center.z - newBoxParams.depth / 2,\n            newBoxParams.center.z + newBoxParams.depth / 2,\n          ],\n        );\n\n        newBoxParams = {\n          ...newBoxParams,\n          count,\n        };\n      }\n\n      updateSelectedBox(newBoxParams);\n      syncPointCloudViews(fromView, newPolygon, newBoxParams);\n    }\n  };\n\n  const sideViewUpdateBox = (newPolygon: any, originPolygon: any) => {\n    viewUpdateBox(newPolygon, originPolygon, PointCloudView.Side);\n  };\n\n  const backViewUpdateBox = (newPolygon: any, originPolygon: any) => {\n    viewUpdateBox(newPolygon, originPolygon, PointCloudView.Back);\n  };\n\n  /**\n   * Top view box updated and sync views\n   * @param polygon\n   * @param size\n   */\n  const topViewUpdateBox = (polygon: any, size: ISize) => {\n    if (selectedPointCloudBox) {\n      const newBoxParams = topViewPolygon2PointCloud(\n        polygon,\n        size,\n        topViewInstance.pointCloudInstance,\n        selectedPointCloudBox,\n      );\n\n      Object.assign(\n        selectedPointCloudBox,\n        _.pickBy(newBoxParams, (v, k) => ['width', 'height', 'x', 'y']),\n      );\n\n      updateSelectedBox(newBoxParams);\n      syncPointCloudViews(PointCloudView.Top, polygon, selectedPointCloudBox);\n    }\n  };\n\n  /**\n   * Sync views' data from omit view, regenerate and highlight box on 3D-view\n   * @param omitView\n   * @param polygon\n   * @param boxParams\n   */\n  const syncPointCloudViews = (omitView: string, polygon: any, boxParams: IPointCloudBox) => {\n    const dataUrl = currentData?.url;\n\n    const viewToBeUpdated = {\n      [PointCloudView.Side]: () => {\n        synchronizeSideView(boxParams, polygon, sideViewInstance, dataUrl);\n      },\n      [PointCloudView.Back]: () => {\n        if (backViewInstance) {\n          synchronizeBackView(boxParams, polygon, backViewInstance, dataUrl);\n        }\n      },\n      [PointCloudView.Top]: () => {\n        synchronizeTopView(boxParams, polygon, topViewInstance, mainViewInstance);\n      },\n    };\n\n    Object.keys(viewToBeUpdated).forEach((key) => {\n      if (key !== omitView) {\n        viewToBeUpdated[key]();\n      }\n    });\n    mainViewGenBox(boxParams);\n    mainViewInstance?.highlightOriginPointCloud(boxParams);\n  };\n\n  const pointCloudBoxListUpdated = (newBoxes: IPointCloudBox[]) => {\n    topViewInstance.updatePolygonList(newBoxes);\n    mainViewInstance?.generateBoxes(newBoxes);\n  };\n\n  const clearAllResult = () => {\n    // Clear All PointView Data\n    pointCloudBoxList.forEach((v) => {\n      mainViewInstance?.removeObjectByName(v.id);\n    });\n    mainViewInstance?.render();\n\n    setPointCloudResult([]);\n    topViewInstance.pointCloud2dOperation.clearActiveStatus();\n    topViewInstance.pointCloud2dOperation.clearResult();\n  };\n\n  const initPointCloud3d = () => {\n    if (!mainViewInstance) {\n      return;\n    }\n\n    mainViewInstance.initPerspectiveCamera();\n    mainViewInstance.initRenderer();\n    mainViewInstance.render();\n  };\n\n  /**\n   * Update the data of pointCloudView when the page change.\n   * @returns\n   */\n  const updatePointCloudData = async () => {\n    if (!currentData?.url || !mainViewInstance) {\n      return;\n    }\n\n    SetPointCloudLoading(dispatch, true);\n    await mainViewInstance.loadPCDFile(currentData.url, config?.radius ?? DEFAULT_RADIUS);\n\n    // Clear All Data\n    pointCloudBoxList.forEach((v) => {\n      mainViewInstance?.removeObjectByName(v.id);\n    });\n\n    if (currentData.result) {\n      const boxParamsList = PointCloudUtils.getBoxParamsFromResultList(currentData.result);\n      const polygonList = PointCloudUtils.getPolygonListFromResultList(currentData.result);\n\n      // Add Init Box\n      boxParamsList.forEach((v: IPointCloudBox) => {\n        mainViewInstance?.generateBox(v);\n      });\n\n      ptCtx.setPointCloudResult(boxParamsList);\n      ptCtx.setPolygonList(polygonList);\n    } else {\n      ptCtx.setPointCloudResult([]);\n      ptCtx.setPolygonList([]);\n    }\n\n    mainViewInstance.updateTopCamera();\n\n    const valid = jsonParser(currentData.result)?.valid ?? true;\n    ptCtx.setPointCloudValid(valid);\n\n    // Clear other view data during initialization\n    ptCtx.sideViewInstance?.clearAllData();\n    ptCtx.backViewInstance?.clearAllData();\n\n    // TopView Data Update\n    /**\n     * Listen to flip\n     * 1. Init\n     * 2. Reload PointCloud\n     * 3. Clear Polygon\n     */\n    topViewInstance.updateData(currentData.url, currentData.result, {\n      radius: config?.radius ?? DEFAULT_RADIUS,\n    });\n    SetPointCloudLoading(dispatch, false);\n  };\n\n  return {\n    topViewAddBox,\n    topViewSelectedChanged,\n    topViewUpdateBox,\n    sideViewUpdateBox,\n    backViewUpdateBox,\n    pointCloudBoxListUpdated,\n    clearAllResult,\n    initPointCloud3d,\n    updatePointCloudData,\n  };\n};\n","var img = \"data:image/svg+xml,%3csvg id='icon_mouse_left_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23ff5770%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e9%bc%a0%e6%a0%87%e6%bb%9a%e8%bd%ae'%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.982v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.97-9.7H5.865V0a5.7%2c5.7%2c0%2c0%2c1%2c3.53%2c1.267A3.812%2c3.812%2c0%2c0%2c1%2c10.85%2c4.19V5.98Zm-5.866%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.456%2c1.267%2c5.693%2c5.693%2c0%2c0%2c1%2c4.984%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(-0.698 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_mouse_right_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23ff5770%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e9%bc%a0%e6%a0%87%e6%bb%9a%e8%bd%ae'%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.982v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.97-9.7H5.865V0a5.7%2c5.7%2c0%2c0%2c1%2c3.53%2c1.267A3.812%2c3.812%2c0%2c0%2c1%2c10.85%2c4.19V5.98Zm-5.866%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.456%2c1.267%2c5.693%2c5.693%2c0%2c0%2c1%2c4.984%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(5.302 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import { getFormatSize } from '@/components/customResizeHook';\nimport styleString from '@/constant/styleString';\nimport { ANNOTATION_ACTIONS } from '@/store/Actions';\nimport { jsonParser } from '@/utils';\nimport AnnotationDataUtils from '@/utils/AnnotationDataUtils';\nimport { ConfigUtils } from '@/utils/ConfigUtils';\nimport { composeResult, composeResultWithBasicImgInfo } from '@/utils/data';\nimport StepUtils from '@/utils/StepUtils';\nimport ToolUtils from '@/utils/ToolUtils';\nimport { AnnotationEngine, CommonToolUtils, ImgUtils } from '@labelbee/lb-annotation';\nimport { i18n } from '@labelbee/lb-utils';\nimport { Modal } from 'antd';\nimport { message } from 'antd/es';\nimport _ from 'lodash';\nimport { SetAnnotationLoading } from './actionCreators';\nimport { AnnotationActionTypes, AnnotationState } from './types';\n\nexport const getStepConfig = (stepList: any[], step: number) =>\n  stepList.find((i) => i.step === step);\n\nconst initialState: AnnotationState = {\n  annotationEngine: null,\n  toolInstance: null,\n  imgList: [],\n  config: '{}',\n  imgIndex: -1,\n  basicIndex: 0,\n  imgPageSize: 1,\n  step: 1,\n  stepList: [],\n  imgNode: new Image(),\n  basicResultList: [],\n  resultList: [],\n  stepProgress: 0,\n  loading: false,\n  triggerEventAfterIndexChanged: false,\n\n  pointCloudLoading: false,\n};\n\n/**\n * 获取当前文件列表的总页数\n * @param state\n */\nexport const getTotalPage = (state: AnnotationState) => {\n  const { imgList, imgPageSize } = state;\n  return Math.ceil(imgList.length / imgPageSize);\n};\n\nconst calcStepProgress = (fileList: any[], step: number) =>\n  fileList.reduce((pre, i) => {\n    if (i) {\n      const resultStr = i.result;\n      const resultObject = jsonParser(resultStr);\n      if (resultObject[`step_${step}`]) {\n        return pre + 1;\n      }\n    }\n    return pre;\n  }, 0) / fileList.length;\n\nconst updateToolInstance = (annotation: AnnotationState, imgNode: HTMLImageElement) => {\n  const { step, stepList } = annotation;\n  const stepConfig = StepUtils.getCurrentStepInfo(step, stepList);\n  const config = ConfigUtils.jsonParser(stepConfig.config);\n\n  // 视频工具不支持实例化\n  if (ToolUtils.isVideoTool(stepConfig?.tool)) {\n    return;\n  }\n\n  // TODO: 点云实例化对接\n  if (ToolUtils.isPointCloudTool(stepConfig?.tool)) {\n    return;\n  }\n\n  const container = document.getElementById('toolContainer');\n\n  if (!container) {\n    throw `Not exist dom named id-toolContainer`;\n  }\n\n  const canvasSize = getFormatSize({ width: window.innerWidth, height: window.innerHeight });\n  const annotationEngine = new AnnotationEngine({\n    container,\n    toolName: stepConfig.tool,\n    size: canvasSize,\n    imgNode,\n    config,\n    style: JSON.parse(styleString),\n  });\n\n  return { toolInstance: annotationEngine?.toolInstance, annotationEngine };\n};\n\n/**\n * 初始化imgNode并加载数据\n * @param nextIndex\n * @param nextBasicIndex\n */\nexport const LoadFileAndFileData =\n  (nextIndex: number, nextBasicIndex?: number): any =>\n  async (dispatch: any, getState: any) => {\n    const { stepList, step } = getState().annotation;\n    const currentIsVideo = StepUtils.currentToolIsVideo(step, stepList);\n    const currentIsPointCloud = StepUtils.currentToolIsPointCloud(step, stepList);\n\n    SetAnnotationLoading(dispatch, true);\n\n    await dispatch(TryGetFileDataByAPI(nextIndex));\n\n    if (currentIsVideo || currentIsPointCloud) {\n      dispatch(AfterVideoLoaded(nextIndex));\n      return;\n    }\n\n    dispatch(AfterImageLoaded(nextIndex, nextBasicIndex));\n  };\n\n/**\n * 支持并优先外部传入的获取文件接口\n * @param nextIndex\n */\nconst TryGetFileDataByAPI = (nextIndex: number) => async (dispatch: any, getState: any) => {\n  const { getFileData, imgList } = getState().annotation;\n  if (getFileData) {\n    const fileData = await getFileData(imgList[nextIndex], nextIndex);\n    dispatch({\n      type: ANNOTATION_ACTIONS.SET_FILE_DATA,\n      payload: {\n        fileData,\n        index: nextIndex,\n      },\n    });\n  }\n};\n\nconst AfterVideoLoaded = (nextIndex: number) => (dispatch: any) => {\n  SetAnnotationLoading(dispatch, false);\n\n  dispatch({\n    type: ANNOTATION_ACTIONS.LOAD_FILE_DATA,\n    payload: {\n      nextIndex,\n    },\n  });\n};\n\nconst AfterImageLoaded =\n  (nextIndex: number, nextBasicIndex?: number) => (dispatch: any, getState: any) => {\n    const { toolInstance, imgList } = getState().annotation;\n    const url = imgList?.[nextIndex]?.url;\n    ImgUtils.load(url)\n      .then((imgNode: HTMLImageElement) => {\n        SetAnnotationLoading(dispatch, false);\n\n        dispatch({\n          type: ANNOTATION_ACTIONS.LOAD_FILE_DATA,\n          payload: {\n            imgNode,\n            nextIndex,\n            nextBasicIndex,\n          },\n        });\n      })\n      .catch(() => {\n        SetAnnotationLoading(dispatch, false);\n        toolInstance?.setErrorImg();\n        dispatch({\n          type: ANNOTATION_ACTIONS.LOAD_FILE_DATA,\n          payload: {\n            nextIndex,\n            nextBasicIndex,\n          },\n        });\n      });\n  };\n\nexport const annotationReducer = (\n  state = initialState,\n  action: AnnotationActionTypes,\n): AnnotationState => {\n  switch (action.type) {\n    case ANNOTATION_ACTIONS.UPDATE_TOOL_INSTANCE: {\n      return {\n        ...state,\n        toolInstance: action.payload.toolInstance,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_IMG_LIST: {\n      return {\n        ...state,\n        imgList: action.payload.imgList,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.CALC_STEP_PROGRESS: {\n      const { imgList, step } = state;\n\n      const stepProgress = calcStepProgress(imgList, step);\n\n      return {\n        ...state,\n        stepProgress,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SUBMIT_FILE_DATA: {\n      const { imgList, imgIndex, step, stepList, toolInstance, onSubmit, resultList } = state;\n      if (!toolInstance || !imgList[imgIndex]) {\n        return state;\n      }\n\n      const oldResultString = imgList[imgIndex]?.result || '';\n      const [, basicImgInfo, extraData] = toolInstance?.exportData() ?? [];\n      const customObject = toolInstance?.exportCustomData?.() ?? {};\n\n      const resultWithBasicInfo = composeResultWithBasicImgInfo(oldResultString, basicImgInfo);\n      const newResultString = composeResult(\n        resultWithBasicInfo,\n        { step, stepList },\n        { rect: resultList },\n        customObject,\n      );\n\n      imgList[imgIndex].result = AnnotationDataUtils.dataCorrection(\n        newResultString,\n        oldResultString,\n        step,\n        stepList,\n      );\n\n      if (extraData) {\n        imgList[imgIndex] = {\n          ...imgList[imgIndex],\n          ...extraData,\n        };\n      }\n\n      if (onSubmit) {\n        onSubmit([imgList[imgIndex]], action.payload?.submitType, imgIndex);\n      }\n\n      const stepProgress = calcStepProgress(imgList, step);\n      return {\n        ...state,\n        stepProgress,\n        imgList,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SAVE_RESULT: {\n      const { imgList, imgIndex, onSave } = state;\n      onSave?.(imgList[imgIndex], imgIndex, imgList);\n      return {\n        ...state,\n      };\n    }\n\n    /**\n     * For data storage in dependent states\n     *\n     * Features:\n     * 1. Get Data from ToolInstance (If it use toolInstance)\n     * 2. Filter Data By BasicResultList\n     */\n    case ANNOTATION_ACTIONS.SUBMIT_RESULT: {\n      const { imgList, basicIndex, resultList, toolInstance, basicResultList } = state;\n      if (!toolInstance) {\n        return state;\n      }\n\n      const [exportResult] = toolInstance?.exportData() ?? [];\n\n      let previousResultList = exportResult;\n\n      if (basicResultList?.length > 0) {\n        const sourceID = basicResultList[basicIndex]?.id;\n        const newResultData = exportResult.map((i: any) => ({ ...i, sourceID }));\n        previousResultList = _.cloneDeep(resultList).filter((i: any) => i.sourceID !== sourceID);\n        previousResultList.push(...newResultData);\n      }\n\n      return {\n        ...state,\n        resultList: previousResultList,\n        imgList,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_BASIC_INDEX: {\n      const {\n        toolInstance,\n        step,\n        imgList,\n        imgIndex,\n        stepList,\n        annotationEngine,\n        resultList,\n        basicResultList,\n      } = state;\n\n      if (!toolInstance || !annotationEngine) {\n        return state;\n      }\n\n      const nextBasicIndex = action.payload.basicIndex;\n      const sourceID = basicResultList[nextBasicIndex]?.id;\n\n      const fileResult = jsonParser(imgList[imgIndex]?.result);\n      const result = (resultList || []).filter((i) => i.sourceID === sourceID);\n\n      const stepConfig = getStepConfig(stepList, step);\n\n      const { dataSourceStep, tool } = stepConfig;\n      const dependStepConfig = getStepConfig(stepList, dataSourceStep);\n      let stepBasicResultList = [];\n\n      if (dataSourceStep && tool) {\n        stepBasicResultList = fileResult[`step_${dataSourceStep}`]?.result;\n\n        if (stepBasicResultList?.length > 0) {\n          annotationEngine?.setBasicInfo(\n            dependStepConfig.tool,\n            stepBasicResultList[nextBasicIndex],\n          );\n          annotationEngine?.launchOperation();\n        } else {\n          annotationEngine?.setBasicInfo(dependStepConfig.tool);\n          annotationEngine?.forbidOperation();\n          message.info(i18n.t('NoDependency'));\n        }\n      }\n\n      toolInstance?.setResult(result);\n      toolInstance?.history.initRecord(result, true);\n\n      return {\n        ...state,\n        basicIndex: nextBasicIndex,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED: {\n      const { triggerEventAfterIndexChanged } = action.payload;\n      return {\n        ...state,\n        triggerEventAfterIndexChanged: !!triggerEventAfterIndexChanged,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.LOAD_FILE_DATA: {\n      const { imgList, step, toolInstance, annotationEngine, stepList } = state;\n\n      /**\n       * TODO\n       * Before: !toolInstance || !annotationEngine\n       *\n       * The roles of toolInstance and annotationEngine need to be clearly distinguished\n       */\n      if (!toolInstance) {\n        return { ...state, imgIndex: action.payload.nextIndex };\n      }\n\n      const currentStepInfo = StepUtils.getCurrentStepInfo(step, stepList);\n\n      const { nextIndex, imgNode, nextBasicIndex, imgError } = action.payload;\n      const basicIndex = nextBasicIndex ?? 0;\n\n      const fileResult = jsonParser(imgList[nextIndex]?.result);\n\n      const stepResult = fileResult[`step_${currentStepInfo.step}`];\n\n      const isInitData = !stepResult; // 是否为初始化数据\n\n      const basicImgInfo = {\n        rotate: fileResult.rotate ?? 0,\n        valid: fileResult.valid ?? true,\n      };\n\n      if (imgNode && imgError !== true) {\n        annotationEngine?.setImgNode(imgNode, basicImgInfo);\n      } else {\n        // Non-graphical tools to initialize base data\n\n        toolInstance?.setValid(basicImgInfo.valid);\n      }\n\n      const stepConfig = getStepConfig(stepList, currentStepInfo.step);\n\n      const { dataSourceStep, tool } = stepConfig;\n      const dependStepConfig = getStepConfig(stepList, dataSourceStep);\n      const hasDataSourceStep = dataSourceStep && tool;\n      const stepBasicResultList = fileResult[`step_${dataSourceStep}`]?.result ?? [];\n\n      const result = AnnotationDataUtils.getInitialResultList(\n        stepResult?.result,\n        toolInstance,\n        stepConfig,\n        stepBasicResultList,\n        isInitData,\n      );\n\n      annotationEngine?.launchOperation();\n\n      if (hasDataSourceStep) {\n        if (stepBasicResultList?.length > 0) {\n          annotationEngine?.setBasicInfo(dependStepConfig.tool, stepBasicResultList[basicIndex]);\n        } else {\n          // TODO: 禁用绘制交互，有无依赖之间的操作切换\n          annotationEngine?.setBasicInfo(dependStepConfig.tool);\n          annotationEngine?.forbidOperation();\n          message.info(i18n.t('NoDependency'));\n        }\n      }\n\n      // TODO，非查看模式才允许添加数据\n      if (currentStepInfo.tool !== 'check') {\n        const sourceID = stepBasicResultList[basicIndex]?.id ?? '';\n        const resultForBasicIndex = hasDataSourceStep\n          ? result.filter((i: { sourceID: string | number }) =>\n              CommonToolUtils.isSameSourceID(i.sourceID, sourceID),\n            )\n          : result;\n        toolInstance?.history.initRecord(result, true);\n        toolInstance?.setResult(resultForBasicIndex);\n      }\n\n      return {\n        ...state,\n        imgIndex: nextIndex,\n        basicIndex,\n        basicResultList: stepBasicResultList,\n        resultList: result,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ANNOTATION_CONFIG: {\n      return {\n        ...state,\n        config: action.payload.config ?? '{}',\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_TASK_STEP_LIST: {\n      const { stepList } = action.payload;\n      return {\n        ...state,\n        stepList,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_TASK_CONFIG: {\n      const { stepList, step } = action.payload;\n      return {\n        ...state,\n        stepList,\n        step,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.INIT_TOOL: {\n      const { imgNode } = state;\n      const instance = updateToolInstance(state, imgNode);\n\n      if (instance) {\n        const { toolInstance, annotationEngine } = instance;\n        return {\n          ...state,\n          toolInstance,\n          annotationEngine,\n        };\n      }\n\n      return {\n        ...state,\n      };\n    }\n\n    // react hook tool Proprietary operations\n    case ANNOTATION_ACTIONS.SET_TOOL: {\n      const instance = action.payload?.instance;\n      if (instance) {\n        return {\n          ...state,\n          toolInstance: instance,\n          // TODO It needs to optimize\n          // annotationEngine: {\n          //   toolInstance: instance,\n          // } as any,\n        };\n      }\n\n      return {\n        ...state,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ON_SUBMIT: {\n      return {\n        ...state,\n        onSubmit: action.payload.onSubmit,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ON_SAVE: {\n      return {\n        ...state,\n        onSave: action.payload.onSave,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ON_PAGE_CHANGE: {\n      return {\n        ...state,\n        onPageChange: action.payload.onPageChange,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ON_STEP_CHANGE: {\n      return {\n        ...state,\n        onStepChange: action.payload.onStepChange,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_GET_FILE_DATA: {\n      return {\n        ...state,\n        getFileData: action.payload.getFileData,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_PAGE_SIZE: {\n      return {\n        ...state,\n        pageSize: action.payload.pageSize,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_LOAD_FILE_LIST: {\n      return {\n        ...state,\n        loadFileList: action.payload.loadFileList,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_BEFORE_ROTATE: {\n      return {\n        ...state,\n        beforeRotate: action.payload.beforeRotate,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SKIP_BEFORE_PAGE_TURNING: {\n      return {\n        ...state,\n        skipBeforePageTurning: action.payload.skipBeforePageTurning,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_FILE_DATA: {\n      const { fileData, index } = action.payload;\n      const { imgList } = state;\n      const newImgList = [...imgList];\n      newImgList[index] = { ...newImgList[index], ...fileData };\n\n      return {\n        ...state,\n        imgList: newImgList,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ROTATE: {\n      const { toolInstance, beforeRotate } = state;\n\n      // DataCheck before rotate.\n      if (beforeRotate) {\n        if (beforeRotate() === false) {\n          return state;\n        }\n      }\n\n      toolInstance?.updateRotate();\n      return state;\n    }\n\n    case ANNOTATION_ACTIONS.UPDATE_ANNOTATION_VALID: {\n      const { toolInstance } = state;\n      const valid = toolInstance?.valid ?? true;\n\n      Modal.destroyAll();\n      Modal.confirm({\n        content: i18n.t(valid ? 'updateValidFromValidToInValid' : 'updateValidFromInValidToValid'),\n        onOk: () => {\n          toolInstance?.setValid(!valid);\n        },\n        okText: i18n.t(\"Confirm\"),\n        cancelText: i18n.t(\"Cancel\")\n      });\n\n      return state;\n    }\n\n    case ANNOTATION_ACTIONS.COPY_BACKWARD_RESULT: {\n      const { toolInstance, imgIndex, imgList, step } = state;\n      if (!toolInstance) {\n        return state;\n      }\n\n      if (imgIndex === 0 || imgIndex >= imgList.length) {\n        console.error('无法复制边界外的内容');\n        return state;\n      }\n      const backwardResult = imgList[imgIndex - 1].result;\n      if (!backwardResult) {\n        return state;\n      }\n\n      const newResult = AnnotationDataUtils.copyResultChange(\n        backwardResult,\n        step,\n        imgList[imgIndex].result ?? '',\n      );\n      imgList[imgIndex] = {\n        ...imgList[imgIndex],\n        result: newResult,\n      };\n\n      // 更新当前的结果\n      const fileResult = jsonParser(newResult);\n      const stepResult = fileResult[`step_${step}`];\n      const result = stepResult?.result || [];\n\n      toolInstance?.setResult(result);\n      toolInstance?.history.pushHistory(result);\n\n      return {\n        ...state,\n        imgList: [...imgList],\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_STEP: {\n      const { stepList, annotationEngine } = state;\n      const { toStep } = action.payload;\n\n      if (!annotationEngine) {\n        return state;\n      }\n\n      const stepConfig = getStepConfig(stepList, toStep);\n      annotationEngine?.setToolName(stepConfig.tool, stepConfig.config);\n\n      return {\n        ...state,\n        step: toStep,\n        toolInstance: annotationEngine?.toolInstance,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_LOADING: {\n      const { loading } = action.payload;\n\n      return {\n        ...state,\n        loading: !!loading,\n      };\n    }\n\n    case ANNOTATION_ACTIONS.SET_POINT_CLOUD_LOADING: {\n      const { pointCloudLoading } = action.payload;\n\n      return {\n        ...state,\n        pointCloudLoading: !!pointCloudLoading,\n      };\n    }\n\n    // eslint-disable-next-line no-fallthrough\n    default:\n      return state;\n  }\n};\n","import { getClassName } from '@/utils/dom';\nimport classNames from 'classnames';\nimport React from 'react';\n\nexport const PointCloudContainer: React.FC<{\n  title: string;\n  toolbar?: React.ReactElement;\n  className?: string;\n  style?: React.CSSProperties;\n}> = ({ title, toolbar, children, className, style }) => {\n  return (\n    <div className={classNames([className, getClassName('point-cloud-container')])} style={style}>\n      <div className={getClassName('point-cloud-container', 'header')}>\n        <span className={getClassName('point-cloud-container', 'header-title')}>{title}</span>\n\n        {toolbar && (\n          <div className={getClassName('point-cloud-container', 'header-toolbar')}>{toolbar}</div>\n        )}\n      </div>\n\n      {children}\n    </div>\n  );\n};\n","/**\n * @file MapStateToProps set\n * @createdate 2022-07-19\n * @author Ron <ron.f.luo@gmail.com>\n */\nimport { AppState } from '../index';\nimport { IFileItem } from '@/types/data';\n\nexport const aMapStateToProps = (state: AppState) => {\n  const {\n    annotation: { imgList, imgIndex },\n  } = state;\n  const currentData = imgList[imgIndex] ?? {};\n\n  return {\n    currentData,\n  };\n};\n\nexport interface IAnnotationStateProps {\n  currentData: IFileItem;\n}\n","import { prefix } from '@/constant';\nimport { AppState } from '@/store';\nimport { PageBackward, PageForward, PageJump } from '@/store/annotation/actionCreators';\nimport { getTotalPage } from '@/store/annotation/reducer';\nimport { RenderFooter } from '@/types/main';\nimport { IStepInfo } from '@/types/step';\nimport { Divider } from 'antd/es';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { useDispatch, LabelBeeContext } from '@/store/ctx';\nimport FooterTips from './FooterTips';\nimport HiddenTips from './HiddenTips';\nimport PageNumber from './PageNumber';\nimport ZoomController from './ZoomController';\nimport { Pagination } from './Pagination';\nimport { cTool } from '@labelbee/lb-annotation';\n\nconst { EPointCloudName } = cTool;\n\nexport type FooterTheme = 'light' | 'dark';\ninterface IProps {\n  totalPage: number;\n  imgIndex: number;\n  style?: { [key: string]: any };\n  stepList: IStepInfo[];\n  step: number;\n  basicResultList: any[];\n  basicIndex: number;\n  mode?: FooterTheme; // 后面通过 context 的形式进行编写\n  footer?: RenderFooter;\n\n  skipBeforePageTurning?: (pageTurning: Function) => void;\n}\n\nexport const footerCls = `${prefix}-footer`;\n\nexport const FooterDivider = () => (\n  <Divider type='vertical' style={{ background: 'rgba(153, 153, 153, 1)', height: '16px' }} />\n);\n\n/**\n * default footer renderer\n * @param param0\n * @returns\n */\nconst renderFooter: RenderFooter = ({\n  footerTips,\n  hiddenTips,\n  pageNumber,\n  pagination,\n  zoomController,\n  curItems,\n  footerDivider,\n}) => {\n  return (\n    <>\n      {footerTips}\n      <div style={{ flex: 1 }} />\n      {hiddenTips}\n      {pageNumber}\n      {pagination}\n      {curItems}\n      {footerDivider}\n      {zoomController}\n    </>\n  );\n};\n\nconst ToolFooter: React.FC<IProps> = (props: IProps) => {\n  const {\n    stepList,\n    step,\n    basicResultList,\n    basicIndex,\n    mode = 'light',\n    footer = renderFooter,\n    skipBeforePageTurning,\n  } = props;\n\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const stepInfo = stepList[step - 1] ?? {};\n  const hasSourceStep = !!stepInfo.dataSourceStep;\n\n  const pageBackward = () => {\n    if (skipBeforePageTurning) {\n      skipBeforePageTurning(() => dispatch(PageBackward()));\n      return;\n    }\n\n    dispatch(PageBackward());\n  };\n\n  const pageForward = () => {\n    if (skipBeforePageTurning) {\n      skipBeforePageTurning(() => dispatch(PageForward()));\n      return;\n    }\n    dispatch(PageForward());\n  };\n\n  const toPageNumber = (page: string) => {\n    const imgIndex = ~~page - 1;\n    if (skipBeforePageTurning) {\n      skipBeforePageTurning(() => dispatch(PageJump(imgIndex)));\n      return;\n    }\n    dispatch(PageJump(imgIndex));\n  };\n\n  const pagination = (\n    <Pagination\n      imgIndex={props.imgIndex}\n      totalPage={props.totalPage}\n      pageJump={toPageNumber}\n      pageBackward={pageBackward}\n      pageForward={pageForward}\n      footerCls={footerCls}\n    />\n  );\n\n  const curItems =\n    hasSourceStep && basicResultList.length > 0 ? (\n      <span>{t('curItems', { current: basicIndex + 1, total: basicResultList.length })}</span>\n    ) : null;\n\n  if (typeof footer === 'function') {\n    if (footer === renderFooter && stepInfo.tool === EPointCloudName.PointCloud) {\n      return (\n        <div className={`${footerCls}`} style={props.style}>\n          <FooterTips />\n          <div style={{ flex: 1 }} />\n          {pagination}\n        </div>\n      );\n    }\n\n    return (\n      <div className={`${footerCls}`} style={props.style}>\n        {footer({\n          footerTips: <FooterTips />,\n          hiddenTips: <HiddenTips />,\n          pageNumber: <PageNumber />,\n          pagination,\n          zoomController: <ZoomController mode={mode} />,\n          curItems,\n          footerDivider: <FooterDivider />,\n        })}\n      </div>\n    );\n  }\n\n  return footer;\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  totalPage: getTotalPage(state.annotation),\n  imgIndex: state.annotation.imgIndex,\n  stepList: state.annotation.stepList,\n  step: state.annotation.step,\n  basicIndex: state.annotation.basicIndex,\n  basicResultList: state.annotation.basicResultList,\n  skipBeforePageTurning: state.annotation.skipBeforePageTurning,\n});\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(ToolFooter);\n","import type { ITagLabelsArray } from './types';\n\n/**\n * Find key and value to display label through inputList\n * @param key\n * @param value\n * @param inputList\n */\nexport const findTagLabel = (key: string, value: string, inputList: any[]) => {\n  const primaryTagConfig = inputList.find((i) => i.value === key);\n  const secondaryTagConfig = primaryTagConfig.subSelected.find(\n    (i: { value: string }) => i.value === value,\n  );\n  return { keyLabel: primaryTagConfig.key, valueLabel: secondaryTagConfig.key };\n};\n\n/**\n * Sort tags through inputList\n * @param tagsKeys\n * @param inputList\n */\nexport const tagsSortThruInputList = (tagsKeys: string[], inputList: any[]) => {\n  return tagsKeys.sort((key1, key2) => {\n    const key1Idx = inputList.findIndex((input) => key1 === input.value);\n    const key2Idx = inputList.findIndex((input) => key2 === input.value);\n    return key1Idx - key2Idx;\n  });\n};\n\n/**\n * Convent result's array to array of showing the labels\n * @param result\n * @param inputList\n * @returns {ITagLabelsArray}\n */\nexport const result2LabelKey = (result: any[], inputList: any[]) => {\n  try {\n    return (\n      result?.reduce((exitsTags: ITagLabelsArray, res: { result: { [key: string]: string } }) => {\n        tagsSortThruInputList(Object.keys(res.result), inputList).forEach((key) => {\n          const valuesArray = res.result[key]?.split(';');\n          findLabelFromValuesArray(valuesArray, key, inputList, exitsTags);\n        });\n        return exitsTags;\n      }, []) ?? []\n    );\n  } catch (error) {\n    return [];\n  }\n};\n\n/**\n * find label from valuesArray and push to exitsTags\n * @param valuesArray\n * @param key\n * @param inputList\n * @param exitsTags\n */\nconst findLabelFromValuesArray = (\n  valuesArray: string[],\n  key: string,\n  inputList: any[],\n  exitsTags: ITagLabelsArray,\n) => {\n  valuesArray.forEach((value) => {\n    const { keyLabel, valueLabel } = findTagLabel(key, value, inputList);\n    const tagHasAssign = exitsTags.find((i) => i.keyLabel === keyLabel);\n    if (tagHasAssign) {\n      tagHasAssign.valuesLabelArray.push(valueLabel);\n    } else {\n      exitsTags.push({ keyLabel, valuesLabelArray: [valueLabel] });\n    }\n  });\n};\n\n/**\n * Get key number through keyCode, Such as 49(keycode) => 1(number)\n * @param {Number} keyCode\n * @returns {Number} keyCode in scope if it greater than 0\n */\nexport const getKeyCodeNumber = (keyCode: number) => {\n  if (keyCode <= 57 && keyCode >= 49) {\n    return keyCode - 48;\n  }\n\n  if (keyCode <= 105 && keyCode >= 97) {\n    return keyCode - 96;\n  }\n\n  return 0;\n};\n\n/**\n * Preserve decimals for number\n * @param num\n * @param places\n * @returns {Number}\n */\nexport const decimalReserved = (num: number, places = 2) =>\n  typeof num === 'number' ? parseFloat(num.toFixed(places)) : num;\n","export const headerHeight = 61;\nexport const tipsHeight = 40;\nexport const footerHeight = 40;\nexport const sidebarWidth = 240;\n// 编辑步骤的侧边栏宽度\nexport const editStepWidth = 320;\n\n/** 标注步骤的类型 */\nexport enum EStepType {\n  ANNOTATION = 1, // 正常标注\n  QUALITY_INSPECTION, // 标注质检\n  PRE_ANNOTATION, // 预标注\n  MANUAL_CORRECTION, // 人工修正\n}\n\n/** 标注工具中最大获取的图片数 */\nexport const ANNOTATION_MAX_SIZE = 100;\n\n/** 翻页操作 */\nexport enum EPageTurningOperation {\n  Backward,\n  Forward,\n  Jump,\n}\n\n/** 拖拽状态 */\nexport enum EDragStatus {\n  Start,\n  Stop,\n  Wait,\n}\n\n/** 拖拽的内容 */\nexport enum EDragTarget {\n  Point,\n  Line,\n  Plane,\n}\n","/**\n * @author Glenfiddish <edwinlee0927@hotmail.com>\n * @file Tool utils\n * @date 2022-06-20\n */\n\nimport { cTool } from '@labelbee/lb-annotation';\nconst { EVideoToolName, EPointCloudName } = cTool;\n\nclass ToolUtils {\n  public static isVideoTool(tool?: string) {\n    return tool ? (Object.values(EVideoToolName) as string[]).includes(tool) : false;\n  }\n\n  public static isPointCloudTool(tool?: string) {\n    return tool ? (Object.values(EPointCloudName) as string[]).includes(tool) : false;\n  }\n}\n\nexport default ToolUtils;\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12.004' height='11.999' viewBox='0 0 12.004 11.999'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='icon_clearSmall_a' class='cls-1' d='M17526.469-1204.464l-.678-.678%2c1.752-1.751a.489.489%2c0%2c0%2c0-.006-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-1.039-1.043%2c1.752-1.751a.484.484%2c0%2c0%2c0%2c0-.691.489.489%2c0%2c0%2c0-.7%2c0l-1.752%2c1.751-1.037-1.038%2c1.75-1.756a.484.484%2c0%2c0%2c0%2c0-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-.682-.678a1%2c1%2c0%2c0%2c1%2c0-1.417l3.1-3.1a.972.972%2c0%2c0%2c1%2c0-1.384.981.981%2c0%2c0%2c1%2c1.387%2c0l2.422%2c2.422%2c1.736-1.732a1.47%2c1.47%2c0%2c0%2c1%2c2.076%2c0%2c1.476%2c1.476%2c0%2c0%2c1%2c0%2c2.081l-1.73%2c1.731%2c2.426%2c2.427a.98.98%2c0%2c0%2c1%2c0%2c1.386.985.985%2c0%2c0%2c1-1.391%2c0l-3.1%2c3.1a.989.989%2c0%2c0%2c1-.707.294A.987.987%2c0%2c0%2c1%2c17526.469-1204.464Z' transform='translate(-17520.656 1216.17)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12.004' height='11.999' viewBox='0 0 12.004 11.999'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23999%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='icon_clearSmall' class='cls-1' d='M17526.469-1204.464l-.678-.678%2c1.752-1.751a.489.489%2c0%2c0%2c0-.006-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-1.039-1.043%2c1.752-1.751a.484.484%2c0%2c0%2c0%2c0-.691.489.489%2c0%2c0%2c0-.7%2c0l-1.752%2c1.751-1.037-1.038%2c1.75-1.756a.484.484%2c0%2c0%2c0%2c0-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-.682-.678a1%2c1%2c0%2c0%2c1%2c0-1.417l3.1-3.1a.972.972%2c0%2c0%2c1%2c0-1.384.981.981%2c0%2c0%2c1%2c1.387%2c0l2.422%2c2.422%2c1.736-1.732a1.47%2c1.47%2c0%2c0%2c1%2c2.076%2c0%2c1.476%2c1.476%2c0%2c0%2c1%2c0%2c2.081l-1.73%2c1.731%2c2.426%2c2.427a.98.98%2c0%2c0%2c1%2c0%2c1.386.985.985%2c0%2c0%2c1-1.391%2c0l-3.1%2c3.1a.989.989%2c0%2c0%2c1-.707.294A.987.987%2c0%2c0%2c1%2c17526.469-1204.464Z' transform='translate(-17520.656 1216.17)'/%3e%3c/svg%3e\";\n  export default img;","export const COLORS_ARRAY = [\n  'rgba(128, 12, 249, 1)', // 6\n  'rgba(0, 255, 48, 1)', // 3\n  'rgba(255, 136, 247, 1)', // 7\n  'rgba(255, 226, 50, 1)', // 2\n  'rgba(153, 66, 23, 1)', // 8\n  'rgba(2, 130, 250, 1)', // 5\n  'rgba(255, 35, 35, 1)', // 1\n  'rgba(0, 255, 234, 1)', // 4\n];\n\nexport const NULL_COLOR = 'rgba(204, 204, 204, 1)';\n\nexport const DEFAULT_COLOR = {\n  valid: {\n    stroke: 'rgba(102, 111, 255, 0.6)',\n    fill: 'rgba(102, 111, 255, 0.3)',\n  },\n  invalid: {\n    stroke: 'rgba(255, 153, 102,1)',\n    fill: 'rgba(255, 153, 102, 0.5)',\n  },\n  validSelected: {\n    stroke: 'rgba(0, 15, 255, 0.8)',\n    fill: 'rgba(0, 15, 255, 0.4)',\n  },\n  invalidSelected: {\n    stroke: 'rgba(255,153,102,0.8)',\n    fill: 'rgba(255,153,102,0.3)',\n  },\n  validHover: {\n    stroke: 'rgba(0, 15, 255, 1)',\n    fill: 'rgba(0, 15, 255, 0.5)',\n  },\n\n  invalidHover: {\n    stroke: 'rgba(255,153,102,1)',\n    fill: 'rgba(255,153,102,0.5)',\n  },\n};\n\nexport const CHANGE_COLOR: { [a: number]: any } = {\n  1: {\n    valid: 'rgba(0, 0, 255, 0.5)',\n    select: {\n      stroke: 'rgba(0, 15, 255, 1)',\n      fill: 'rgba(0,15,255, 1)',\n    },\n    hover: 'rgba(0, 15, 255, 0.8)',\n    line: 'rgba(102, 111, 255, 1 )',\n  },\n  3: {\n    valid: 'rgba(0, 255, 255, 0.5)',\n    select: {\n      stroke: 'rgba(0, 212, 255,  1)',\n      fill: 'rgba(0,212,255, 1)',\n    },\n    hover: 'rgba(0, 212, 255, 0.8)',\n    line: 'rgba(102, 230, 255, 1)',\n  },\n  5: {\n    valid: 'rgba(0, 255, 0, 0.5)',\n    select: {\n      stroke: 'rgba(149, 255, 1)',\n      fill: 'rgba(149,255,0, 1)',\n    },\n    hover: 'rgba(149, 255, 0, 0.8)',\n    line: 'rgba(191, 255, 102, 1)',\n  },\n  7: {\n    valid: 'rgba(255, 255, 0, 0.5)',\n    select: {\n      stroke: 'rgba(255, 230, 102, 1)',\n      fill: 'rgba(255,213,0, 1)',\n    },\n    hover: 'rgba(255, 230, 102, 0.8)',\n    line: 'rgba(255, 230, 102, 1)',\n  },\n  9: {\n    valid: 'rgba(255, 0, 255, 0.5)',\n    select: {\n      stroke: 'rgba(230, 102, 255, 1)',\n      fill: 'rgba(213,0,255, 1)',\n    },\n    hover: 'rgba(230, 102, 255, 0.8)',\n    line: 'rgba(230, 102, 255, 1)',\n  },\n};\n\nexport const BORDER_OPACITY_LEVEL: { [a: number]: number } = {\n  1: 0.2,\n  3: 0.4,\n  5: 0.6,\n  7: 0.8,\n  9: 1.0,\n};\n\nexport const FILL_OPACITY_LEVEL: { [a: number]: number } = {\n  1: 0,\n  3: 0.2,\n  5: 0.4,\n  7: 0.6,\n  9: 0.8,\n};\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_279' data-name='%e8%b7%af%e5%be%84 279' class='cls-1' d='M11.345-10.437H8.754c0-.488-.379-1.077-.848-1.077H4.94c-.468%2c0-.848.589-.848%2c1.077H1.5c-.572%2c0-1.2.085-1.2.658v.886H12.248v-.886C12.248-10.352%2c11.917-10.437%2c11.345-10.437ZM1.357-7.857V.582a2.019%2c2.019%2c0%2c0%2c0%2c1.7%2c1.9H9.79c.859%2c0%2c1.421-1.046%2c1.421-1.9V-7.857ZM4.186.758H3.15V-6.709H4.186Zm2.6%2c0H5.747V-6.709H6.783Zm2.6%2c0H8.344V-6.709H9.38Z' transform='translate(-0.3 11.514)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_del_kj' transform='translate(0.7 10.514)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_95' data-name='%e7%9f%a9%e5%bd%a2 95' class='cls-1' width='16' height='16' transform='translate(-0.7 -10.514)'/%3e %3cg id='%e7%bb%84_481' data-name='%e7%bb%84 481' class='cls-2' transform='translate(1.3 -9.514)'%3e %3cpath id='%e8%b7%af%e5%be%84_278' data-name='%e8%b7%af%e5%be%84 278' class='cls-3' d='M-4.7-16.514H19.956V10.194H-4.7Z' transform='translate(-1.654 10.16)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","/**\n * @author Glenfiddish <edwinlee0927@hotmail.com>\n * @file Display selected box's infos\n * @createdate 2022-07-13\n */\n\nimport { EPerspectiveView, PointCloudUtils } from '@labelbee/lb-utils';\nimport React, { useEffect, useState } from 'react';\nimport { PointCloudContext } from './PointCloudContext';\nimport { UnitUtils } from '@labelbee/lb-annotation';\nimport { useSingleBox } from './hooks/useSingleBox';\nimport { useTranslation } from 'react-i18next';\n\nconst DECIMAL_PLACES = 2;\n\n/**\n * Display size info for views\n * @param param0\n * @returns\n */\nexport const SizeInfoForView = ({ perspectiveView }: { perspectiveView: EPerspectiveView }) => {\n  const { pointCloudBoxList, selectedID } = React.useContext(PointCloudContext);\n  const box = pointCloudBoxList.find((i) => i.id === selectedID);\n  const trans = useTranslation();\n  const { t } = trans;\n\n  if (selectedID && box) {\n    const { length, width, height } = PointCloudUtils.transferBox2Kitti(box);\n    const infos =\n      perspectiveView === EPerspectiveView.Back\n        ? [\n            {\n              label: t('Width'),\n              value: width,\n            },\n            {\n              label: t('Height'),\n              value: height,\n            },\n          ]\n        : [\n            {\n              label: t('Length'),\n              value: length,\n            },\n            {\n              label: t('Height'),\n              value: height,\n            },\n          ];\n\n    return (\n      <>\n        {infos.map((info, index) => (\n          <span key={index} style={{ marginRight: index === 0 ? 16 : 0, fontSize: 12 }}>{`${\n            info.label\n          }: ${info.value.toFixed(DECIMAL_PLACES)}`}</span>\n        ))}\n      </>\n    );\n  }\n  return null;\n};\n\n/**\n * Display selected box's infos\n */\nexport const BoxInfos = () => {\n  const ptCtx = React.useContext(PointCloudContext);\n  const { selectedBox } = useSingleBox();\n  const [infos, setInfos] = useState<Array<{ label: string; value: string }>>([]);\n  const trans = useTranslation();\n  const { t, i18n } = trans;\n\n  useEffect(() => {\n    if (!selectedBox) {\n      return;\n    }\n\n    const { length, width, height, rotation_y } = PointCloudUtils.transferBox2Kitti(\n      selectedBox.info,\n    );\n\n    let infos = [\n      {\n        label: t('Length'),\n        value: length.toFixed(DECIMAL_PLACES),\n      },\n      {\n        label: t('Width'),\n        value: width.toFixed(DECIMAL_PLACES),\n      },\n      {\n        label: t('Height'),\n        value: height.toFixed(DECIMAL_PLACES),\n      },\n      {\n        label: t('Rotation_y'),\n        value: UnitUtils.rad2deg(rotation_y).toFixed(DECIMAL_PLACES),\n      },\n    ];\n\n    // Get Point Count.\n    ptCtx.mainViewInstance?.filterPointsByBox(selectedBox.info).then((data) => {\n      if (!data) {\n        setInfos(infos);\n        return;\n      }\n\n      infos.push({\n        label: t('PointCount'),\n        value: `${data.num}`,\n      });\n      setInfos(infos);\n    });\n  }, [selectedBox, i18n.language]);\n\n  if (selectedBox) {\n    return (\n      <div\n        style={{\n          position: 'absolute',\n          color: 'white',\n          backgroundColor: 'rgba(153, 153, 153, 0.3)',\n          right: 8,\n          top: 8,\n          fontSize: 12,\n          padding: 8,\n          zIndex: 20,\n        }}\n      >\n        {infos.map((i) => (\n          <div key={i.label}>{`${i.label}: ${i.value}`}</div>\n        ))}\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport const PointCloudValidity = () => {\n  const ptCtx = React.useContext(PointCloudContext);\n  const { t } = useTranslation();\n\n  if (ptCtx.valid === false) {\n    return (\n      <div\n        style={{\n          position: 'absolute',\n          backgroundColor: 'rgb(242, 101, 73)',\n          color: 'white',\n          left: 0,\n          top: 0,\n          fontSize: 20,\n          padding: '8px 16px',\n          zIndex: 20,\n        }}\n      >\n        {t('Invalid')}\n      </div>\n    );\n  }\n  return null;\n};\n","/**\n * 用于标注查看模式\n * @author laoluo\n */\n\nimport React, { useEffect, useRef, useImperativeHandle, useState } from 'react';\nimport { ViewOperation, ImgUtils } from '@labelbee/lb-annotation';\nimport { Spin } from 'antd/es';\nimport useRefCache from '@/hooks/useRefCache';\n\ntype TAfterImgOnLoad = (img: HTMLImageElement) => void;\n\ninterface IProps {\n  src: string; // 图片路径\n  size?: {\n    width?: number;\n    height?: number;\n  };\n  style?: {\n    color?: string;\n    fill?: string;\n    thickness?: number;\n  };\n  annotations: any[]; // TODO\n  zoomChange?: (zoom: number) => void;\n  backgroundStyle?: React.CSSProperties;\n  onChange?: (type: 'hover' | 'selected', ids: string[]) => void;\n\n  showLoading?: boolean;\n  globalStyle?: React.CSSProperties; // Custom global style.\n\n  afterImgOnLoad?: TAfterImgOnLoad;\n}\n\nconst DEFAULT_SIZE = {\n  width: 500,\n  height: 100, // Most Important, If the outer size is smaller than this will not take effect by default\n};\n\nconst sizeInitialized = (size?: { width?: number; height?: number }) => {\n  if (!size) {\n    return DEFAULT_SIZE;\n  }\n  if (size.width && size.height) {\n    return size;\n  }\n\n  const newSize = {\n    ...size,\n  };\n\n  if (!newSize.width) {\n    newSize.width = DEFAULT_SIZE.width;\n  }\n\n  if (!newSize.height) {\n    newSize.height = DEFAULT_SIZE.height;\n  }\n\n  return newSize;\n};\n\nconst AnnotationView = (props: IProps, ref: any) => {\n  const {\n    src,\n    annotations = [],\n    style = {\n      stroke: 'blue',\n      thickness: 3,\n    },\n    zoomChange,\n    backgroundStyle = {},\n    onChange,\n    showLoading = false,\n    globalStyle,\n    afterImgOnLoad,\n  } = props;\n  const size = sizeInitialized(props.size);\n  const [loading, setLoading] = useState(false);\n  const annotationRef = useRef<HTMLDivElement>(null);\n  const viewOperation = useRef<ViewOperation>();\n  const afterImgOnLoadRef = useRefCache<TAfterImgOnLoad | undefined>(afterImgOnLoad);\n\n  useImperativeHandle(\n    ref,\n    () => {\n      const toolInstance = viewOperation.current;\n      if (!toolInstance) {\n        return {};\n      }\n\n      return {\n        zoomIn: () => toolInstance.zoomChanged(true), // 放大\n        zoomOut: () => toolInstance.zoomChanged(false), // 缩小\n        initImgPos: () => toolInstance.initImgPos(),\n        toolInstance,\n      };\n    },\n    [viewOperation.current],\n  );\n\n  useEffect(() => {\n    if (annotationRef.current) {\n      viewOperation.current = new ViewOperation({\n        container: annotationRef.current,\n        size,\n        style,\n        annotations,\n        config: '{}', // TODO，暂时不需要\n      });\n\n      viewOperation.current.init();\n    }\n\n    return () => {\n      viewOperation.current?.destroy();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (viewOperation.current) {\n      setLoading(true);\n      viewOperation.current?.setLoading(true);\n      ImgUtils.load(src)\n        .then((imgNode: HTMLImageElement) => {\n          viewOperation.current?.setLoading(false);\n          setLoading(false);\n\n          viewOperation.current?.setImgNode(imgNode);\n\n          if (afterImgOnLoadRef.current) {\n            afterImgOnLoadRef.current(imgNode);\n          }\n        })\n        .catch(() => {\n          viewOperation.current?.setLoading(false);\n          setLoading(false);\n        });\n    }\n  }, [src]);\n\n  /**\n   * 基础数据绘制监听\n   */\n  useEffect(() => {\n    if (viewOperation.current) {\n      viewOperation.current.updateData(annotations);\n    }\n  }, [annotations]);\n\n  /** 窗口大小监听 */\n  useEffect(() => {\n    const toolInstance = viewOperation.current;\n\n    if (toolInstance?.setSize) {\n      toolInstance.setSize(size);\n      toolInstance.initPosition();\n    }\n  }, [props.size?.width, props.size?.height]);\n\n  useEffect(() => {\n    if (viewOperation.current) {\n      viewOperation.current?.on('onChange', (...args: any) => {\n        onChange?.apply(null, args);\n      });\n\n      viewOperation.current?.on('renderZoom', (zoom: number) => {\n        if (zoomChange) {\n          zoomChange(zoom);\n        }\n      });\n    }\n    return () => {\n      viewOperation.current?.unbindAll('onChange');\n      viewOperation.current?.unbindAll('renderZoom');\n    };\n  }, [zoomChange, onChange]);\n\n  const mainRender = (\n    <div ref={annotationRef} style={{ position: 'relative', ...size, ...backgroundStyle }} />\n  );\n\n  return (\n    <Spin spinning={showLoading || loading} delay={300} style={globalStyle}>\n      {mainRender}\n    </Spin>\n  );\n\n  // return mainRender;\n};\n\nexport default React.forwardRef(AnnotationView);\n","import {\n  editStepWidth,\n  footerHeight,\n  headerHeight,\n  sidebarWidth,\n} from '@/data/enums/AnnotationSize';\nimport { cKeyCode, toolUtils } from '@labelbee/lb-annotation';\n\nimport React, { useContext, useEffect, useMemo, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { AppState } from '@/store';\nimport {\n  UpdateRotate,\n  PageBackward,\n  PageForward,\n  UpdateToolInstance,\n  CopyBackWordResult,\n  // UpdateValid,\n} from '@/store/annotation/actionCreators';\nimport { ISize } from '@/types/main';\nimport { message } from 'antd';\nimport { LabelBeeContext } from '@/store/ctx';\n\nconst EKeyCode = cKeyCode.default;\n\nexport const viewportContext = React.createContext<{\n  width: number;\n  height: number;\n}>({\n  width: window.innerWidth,\n  height: window.innerHeight,\n});\n\nexport const ViewportProviderComponent = (props: any) => {\n  const {\n    children,\n    dispatch,\n    annotation: { skipBeforePageTurning },\n  } = props;\n  const [width] = useState(window.innerWidth);\n  const [height] = useState(window.innerHeight);\n\n  const keydown = (e: KeyboardEvent) => {\n    if (!toolUtils.hotkeyFilter(e)) {\n      return;\n    }\n\n    if (!e.shiftKey && !e.ctrlKey) {\n      if (e.keyCode === EKeyCode.A) {\n        if (skipBeforePageTurning) {\n          skipBeforePageTurning(() => dispatch(PageBackward()));\n          return;\n        }\n\n        dispatch(PageBackward());\n      }\n\n      if (e.keyCode === EKeyCode.D) {\n        if (skipBeforePageTurning) {\n          skipBeforePageTurning(() => dispatch(PageForward()));\n          return;\n        }\n        dispatch(PageForward());\n      }\n      if (e.keyCode === EKeyCode.R) {\n        dispatch(UpdateRotate());\n      }\n\n      if (e.keyCode === EKeyCode.C && e.altKey === true) {\n        dispatch(CopyBackWordResult());\n      }\n\n      // Temporarily hide. Because there is something wrong with i18n.\n      // if (e.keyCode === EKeyCode.Y) {\n      //   dispatch(UpdateValid());\n      // }\n    }\n\n    /**\n     * Hidden Feature\n     *\n     * User: Software Engineer\n     */\n    if (\n      e.shiftKey === true &&\n      e.ctrlKey === true &&\n      e.altKey === true &&\n      e.keyCode === EKeyCode.C\n    ) {\n      message.success('DEVELOPMENT TESTING - Switch Last Two Canvas');\n      const newInstance = props.annotation?.annotationEngine.switchLastTwoCanvas();\n      if (!newInstance) {\n        return;\n      }\n      dispatch(UpdateToolInstance(newInstance));\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', keydown);\n\n    return () => {\n      window.removeEventListener('keydown', keydown);\n    };\n  }, [props.annotation.annotationEngine, props.annotation.skipBeforePageTurning]);\n\n  const size = useMemo(() => ({ width, height }), [width, height]);\n\n  return <viewportContext.Provider value={size}>{children}</viewportContext.Provider>;\n};\nexport const ViewportProvider = connect(\n  (state: AppState) => ({\n    annotation: state.annotation,\n  }),\n  null,\n  null,\n  { context: LabelBeeContext },\n)(ViewportProviderComponent);\n\nexport const useViewport = () => {\n  const { width, height } = useContext(viewportContext);\n  return { width, height };\n};\n\n/**\n * 获取当前 canvas 的大小\n * @param isEdit 是否为编辑模式\n * @param isTips 是否有 tips\n */\nexport const useCanvasViewPort = (isEdit = false, isTips = false) => {\n  const { width, height } = useContext(viewportContext);\n  const otherHeight = headerHeight + footerHeight;\n  const placeholderHeight = isTips ? 40 + otherHeight + 40 : otherHeight;\n  const placeholderWidth = isEdit ? editStepWidth + sidebarWidth : sidebarWidth;\n\n  return {\n    width: width - placeholderWidth,\n    height: height - placeholderHeight,\n  };\n};\n\n/**\n * 解析当前 windowSize 下的 canvasSize\n * @param size\n * @param isEdit\n * @param isTips\n */\nexport const getFormatSize = (windowSize: ISize, isEdit = false, isTips = false) => {\n  const { width, height } = windowSize;\n  const otherHeight = headerHeight + footerHeight;\n  const placeholderHeight = isTips ? 40 + otherHeight + 40 : otherHeight;\n  const placeholderWidth = isEdit ? editStepWidth + sidebarWidth : sidebarWidth;\n\n  return {\n    width: width - placeholderWidth,\n    height: height - placeholderHeight,\n  };\n};\n","import { isObject } from 'lodash';\n\nexport class ConfigUtils {\n  public static jsonParser(content: any, defaultValue: any = {}) {\n    try {\n      if (typeof content === 'string') {\n        return JSON.parse(content);\n      }\n      return isObject(content) ? content : defaultValue;\n    } catch (e) {\n      return defaultValue;\n    }\n  }\n\n  /**\n   * 获取对应的步骤配置\n   * @param stepList \n   * @param step \n   */\n  public static getStepConfig = (stepList: any[], step: number) =>\n    stepList.find((i) => i.step === step);\n}\n","import { ReloadOutlined } from '@ant-design/icons';\nimport { Button } from 'antd/es';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport interface IFileErrorProps {\n  width?: number;\n  height?: number;\n  reloadImage: () => void;\n  hideSetInvalidTips?: boolean;\n  /** 忽略顶部的偏移，如: 多边形的容器已经计算好高度（容器不包含顶部标注提示语部分） */\n  ignoreOffsetY?: boolean;\n  layerStyle?: React.CSSProperties;\n  backgroundColor: string;\n  fileType?: string;\n  isError?: boolean;\n}\n\nconst FileError = (props: IFileErrorProps) => {\n  const {\n    width,\n    height,\n    reloadImage,\n    hideSetInvalidTips,\n    ignoreOffsetY,\n    backgroundColor,\n    fileType = 'image',\n  } = props;\n\n  const { t } = useTranslation();\n\n  const top = !ignoreOffsetY ? 40 : 0;\n\n  const layerStyle: React.CSSProperties = props.layerStyle || {\n    position: 'absolute',\n    left: 0,\n    top,\n    cursor: 'initial',\n    zIndex: 20,\n    fontSize: 12,\n  };\n  if (width && height) {\n    Object.assign(layerStyle, { width, height });\n  } else {\n    Object.assign(layerStyle, { bottom: 0, right: 0 });\n  }\n\n  if (backgroundColor) {\n    Object.assign(layerStyle, { backgroundColor });\n  }\n\n  const buttonStyle: React.CSSProperties = {\n    position: 'absolute',\n    top: '30%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  };\n\n  return (\n    <div style={layerStyle}>\n      <div style={buttonStyle}>\n        <div style={{ textAlign: 'center', marginBottom: 10 }}>\n          <Button type='primary' shape='circle' icon={<ReloadOutlined />} onClick={reloadImage} />\n        </div>\n        <div>\n          {`${t(`${fileType}ErrorAndReload`)}${hideSetInvalidTips ? '' : t('orMaskAsInvalid')}`}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FileError;\n","import { TOOL_STYLE_ACTIONS } from '@/store/Actions';\nimport { ToolStyleActionTypes, ToolStyleState } from './types';\n\nexport function InitToolStyleConfig(): ToolStyleActionTypes {\n  return {\n    type: TOOL_STYLE_ACTIONS.INIT_TOOL_STYLE_CONFIG,\n    payload: undefined\n  };\n}\n\nexport function UpdateToolStyleConfig(toolStyle: Partial<ToolStyleState>): ToolStyleActionTypes {\n  return {\n    type: TOOL_STYLE_ACTIONS.UPDATE_TOOL_STYLE_CONFIG,\n    payload: toolStyle,\n  };\n}\n\nexport default {\n  InitToolStyleConfig,\n  UpdateToolStyleConfig,\n};\n","import { prefix } from '@/constant';\nimport { EToolName } from '@/data/enums/ToolType';\nimport { AppState } from '@/store';\nimport { Sider } from '@/types/main';\nimport StepUtils from '@/utils/StepUtils';\nimport { Collapse } from 'antd/es';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport AnnotationText from './AnnotationText';\nimport ClearIcon from './ClearIcon';\nimport GeneralOperation, { PointCloudOperation } from './GeneralOperation';\nimport ImgAttributeInfo from './ImgAttributeInfo';\nimport SwitchAttributeList from './SwitchAttributeList';\nimport TagSidebar, { expandIconFuc } from './TagSidebar';\nimport TextToolSidebar from './TextToolSidebar';\nimport PointCloudToolSidebar from './PointCloudToolSidebar';\nimport ToolStyle from './ToolStyle';\nimport { cTool } from '@labelbee/lb-annotation';\nimport ScribbleSidebar from './ScribbleSidebar';\nimport { ToolIcons } from './ToolIcons';\nimport { useSelector } from '@/store/ctx';\n\nconst { EVideoToolName, EPointCloudName } = cTool;\n\nconst { Panel } = Collapse;\n\ninterface IProps {\n  toolName?: EToolName;\n  sider?: Sider;\n}\n\nexport const sidebarCls = `${prefix}-sidebar`;\nconst Sidebar: React.FC<IProps> = ({ sider }) => {\n  const stepInfo = useSelector((state: AppState) =>\n    StepUtils.getCurrentStepInfo(state.annotation.step, state.annotation.stepList),\n  );\n  const toolName = stepInfo?.tool;\n  const { t } = useTranslation();\n\n  if (!toolName) {\n    return null;\n  }\n\n  /**\n   * 样式面板, 包含透明度、线框、颜色\n   * @param key 虚拟dom的key\n   */\n  const renderStylePanel = (key: string) => {\n    const ToolStyleComponent = <ToolStyle />;\n    return (\n      <Panel header={t('Style')} className='panel' key={key}>\n        {ToolStyleComponent}\n      </Panel>\n    );\n  };\n\n  // onChange is empty by default.\n  const toolIcon = <ToolIcons toolName={toolName} onChange={() => {}} />;\n  const attributeList = <SwitchAttributeList />;\n\n  const annotationText = <AnnotationText />;\n\n  const toolStyle = (\n    <Collapse\n      defaultActiveKey={['1', 'imgAttribute']}\n      bordered={false}\n      expandIconPosition='right'\n      className={`${sidebarCls}__content`}\n      expandIcon={expandIconFuc}\n    >\n      {renderStylePanel('1')}\n    </Collapse>\n  );\n\n  const imageAttributeInfo = (\n    <Collapse\n      defaultActiveKey={['1', 'imgAttribute']}\n      bordered={false}\n      expandIconPosition='right'\n      className={`${sidebarCls}__content`}\n      expandIcon={expandIconFuc}\n    >\n      <Panel\n        header={\n          <div>\n            {t('Adjust')}\n\n            <ClearIcon />\n          </div>\n        }\n        className='panel'\n        key='imgAttribute'\n      >\n        <ImgAttributeInfo />\n      </Panel>\n    </Collapse>\n  );\n\n  const operation = <GeneralOperation />;\n\n  const tagToolSideBar = <TagSidebar />;\n\n  const textToolSideBar = <TextToolSidebar />;\n\n  const scribbleSidebar = (\n    <ScribbleSidebar\n      onChange={(t, i) => {\n        // 接收\n      }}\n    />\n  );\n\n  const horizontal = <div className={`${sidebarCls}__horizontal`} />;\n\n  const pointCloudToolSidebar = <PointCloudToolSidebar />;\n\n  const pointCloudOperation = <PointCloudOperation />;\n\n  if (sider) {\n    if (typeof sider === 'function') {\n      return (\n        <div className={`${sidebarCls}`}>\n          {sider({\n            toolIcon,\n            attributeList,\n            annotationText,\n            toolStyle,\n            imageAttributeInfo,\n            operation,\n            tagToolSideBar,\n            textToolSideBar,\n            horizontal,\n\n            pointCloudToolSidebar,\n            pointCloudOperation,\n            scribbleSidebar,\n          })}\n        </div>\n      );\n    } else {\n      return sider;\n    }\n  }\n\n  if (\n    (\n      [\n        EToolName.Rect,\n        EToolName.Point,\n        EToolName.Line,\n        EToolName.Rect,\n        EToolName.Polygon,\n      ] as string[]\n    ).includes(toolName)\n  ) {\n    return (\n      <div className={`${sidebarCls}`}>\n        {toolIcon}\n        {horizontal}\n        {attributeList}\n        {annotationText}\n        {horizontal}\n        <div className={`${sidebarCls}__content`}>\n          {toolStyle}\n          {imageAttributeInfo}\n        </div>\n        {operation}\n      </div>\n    );\n  }\n\n  if (toolName === EToolName.Tag) {\n    return (\n      <div className={`${sidebarCls}`}>\n        <TagSidebar />\n      </div>\n    );\n  }\n\n  if (toolName === EVideoToolName.VideoTagTool) {\n    return (\n      <div className={`${sidebarCls}`}>\n        <div className={`${sidebarCls}__content`}>\n          <TagSidebar />\n        </div>\n        {operation}\n      </div>\n    );\n  }\n\n  if (toolName === EToolName.Text) {\n    return (\n      <div className={`${sidebarCls}`}>\n        <TextToolSidebar />\n      </div>\n    );\n  }\n\n  if (toolName === EPointCloudName.PointCloud) {\n    return (\n      <div className={`${sidebarCls}`}>\n        <div className={`${sidebarCls}__content`}>\n          <PointCloudToolSidebar />\n        </div>\n        <PointCloudOperation />\n      </div>\n    );\n  }\n\n  if (toolName === EToolName.ScribbleTool) {\n    return (\n      <div className={`${sidebarCls}`}>\n        <div className={`${sidebarCls}__content`}>\n          {scribbleSidebar}\n          {attributeList}\n        </div>\n        {operation}\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default Sidebar;\n","/*\n * @Author: Laoluo luozefeng@sensetime.com\n * @Date: 2022-01-12 13:15:33\n * @LastEditors: Laoluo luozefeng@sensetime.com\n * @LastEditTime: 2022-05-30 15:51:43\n */\nimport { ETextType } from '@/data/enums/ToolType';\nimport { i18n } from '@labelbee/lb-utils';\n\nexport const REGEXP_NUMBER = '^[0-9]+$';\nexport const REGEXP_ENGLISH = '^[A-Za-z]+$';\n\nexport class TextUtils {\n  public static checkString(textCheckType: ETextType, customFormat: string) {\n    let regExpString = '';\n    switch (textCheckType) {\n      case ETextType.Order:\n      case ETextType.NumberOnly:\n        regExpString = REGEXP_NUMBER;\n        break;\n      case ETextType.EnglishOnly:\n        regExpString = REGEXP_ENGLISH;\n        break;\n      case ETextType.CustomFormat:\n        regExpString = customFormat;\n        break;\n    }\n    return regExpString;\n  }\n\n  public static getErrorNotice(textCheckType: ETextType) {\n    switch (textCheckType) {\n      case ETextType.Order:\n      case ETextType.NumberOnly:\n        return i18n.t(\"TextCheckNumberOnly\");\n      case ETextType.EnglishOnly:\n        return i18n.t(\"TextCheckEnglishOnly\");\n      case ETextType.CustomFormat:\n        return i18n.t(\"TextCheckCustomFormat\");\n      default:\n        return '';\n    }\n  }\n}\n","import { IMAGE_ATTRIBUTE_ACTIONS } from '@/store/Actions';\nimport { ImgAttributeActionTypes, ImgAttributeState } from './types';\n\nexport function UpdateImgAttribute(imgAttribute: ImgAttributeState): ImgAttributeActionTypes {\n  return {\n    type: IMAGE_ATTRIBUTE_ACTIONS.UPDATE_IMG_ATTRIBUTE,\n    payload: imgAttribute,\n  };\n}\n\nexport function InitImgAttribute(): ImgAttributeActionTypes {\n  return {\n    type: IMAGE_ATTRIBUTE_ACTIONS.INIT_IMG_ATTRIBUTE,\n    payload: {}\n  };\n}\n\nexport default {\n  UpdateImgAttribute,\n  InitImgAttribute,\n};\n","import { COLORS_ARRAY, NULL_COLOR } from '@/data/Style';\nimport { ColorTag } from '@/components/colorTag';\nimport { Radio } from 'antd/es';\nimport React from 'react';\n\nexport const ATTRIBUTE_COLORS = [NULL_COLOR].concat(COLORS_ARRAY);\n\ninterface IProps {\n  list: Array<{\n    label: string;\n    value: string;\n    color?: string;\n  }>;\n  selectedAttribute: string;\n  attributeChanged: (v: string) => void;\n  forbidDefault?: boolean;\n  forbidColor?: boolean;\n  noHeightLimit?: boolean;\n  num?: number;\n}\n\nconst AttributeList = React.forwardRef((props: IProps, ref) => {\n  const radioRef = React.useRef<any>();\n\n  const list = props.list || [];\n\n  let NEW_ATTRIBUTE_COLORS = [...ATTRIBUTE_COLORS];\n\n  // 去除默认的颜色\n  if (props.forbidDefault === true) {\n    NEW_ATTRIBUTE_COLORS = NEW_ATTRIBUTE_COLORS.slice(1);\n  }\n\n  let className = 'sensebee-radio-group';\n  if (props.noHeightLimit) {\n    className = 'sensebee-radio-group-no-limit-height';\n  }\n\n  return (\n    <div className={className}>\n      <Radio.Group\n        name='radiogroup'\n        defaultValue={props?.selectedAttribute}\n        value={props?.selectedAttribute}\n        onChange={(e) => props.attributeChanged(e.target.value)}\n        ref={ref as any}\n      >\n        {list.map((i: any, index: number) => {\n          let hotKey: number | string = props?.num ?? index;\n\n          if (props.forbidDefault === true) {\n            // 禁止 default 将从 1 开始\n            hotKey++;\n          }\n\n          // 超出范围无法展示\n          if (!(typeof hotKey === 'number' && hotKey <= 9 && hotKey >= 0)) {\n            hotKey = '-';\n          }\n\n          let color =\n            index > 8 && !props.forbidDefault\n              ? COLORS_ARRAY[(index - 1) % COLORS_ARRAY.length]\n              : NEW_ATTRIBUTE_COLORS[index % NEW_ATTRIBUTE_COLORS.length];\n\n          if (i?.color) {\n            color = i.color;\n          }\n\n          return (\n            <Radio value={i.value} ref={radioRef} key={index}>\n              <span className='sensebee-radio-label' title={i.label}>\n                {!props?.forbidColor && <ColorTag color={color} style={{ marginRight: '8px' }} />}\n                {i.label}\n              </span>\n              <span className='sensebee-radio-num'>{hotKey}</span>\n            </Radio>\n          );\n        })}\n      </Radio.Group>\n    </div>\n  );\n});\n\nexport default AttributeList;\n","/**\n * @file Tool options on tool's sidebar\n * @author Glenfiddish <edwinlee0927@hotmail.com>\n * @createdate 2022-07-14\n */\n\nimport { EToolName } from '@/data/enums/ToolType';\nimport React from 'react';\nimport { sidebarCls } from './index';\nimport lineSvg from '@/assets/annotation/lineTool/icon_line.svg';\nimport lineASvg from '@/assets/annotation/lineTool/icon_line_a.svg';\nimport pointSvg from '@/assets/annotation/pointTool/icon_point.svg';\nimport pointASvg from '@/assets/annotation/pointTool/icon_point_a.svg';\nimport PolygonASvg from '@/assets/annotation/polygonTool/icon_polygon_a.svg';\nimport PolygonSvg from '@/assets/annotation/polygonTool/icon_polygon.svg';\nimport rectSvg from '@/assets/annotation/rectTool/icon_rect.svg';\nimport rectASvg from '@/assets/annotation/rectTool/icon_rect_a.svg';\nimport { cTool } from '@labelbee/lb-annotation';\nimport classnames from 'classnames';\nimport { useTranslation } from 'react-i18next';\n\nconst { EPointCloudName, TOOL_NAME, TOOL_NAME_EN } = cTool;\n\nconst toolList = [\n  {\n    toolName: EToolName.Rect,\n    commonSvg: rectSvg,\n    selectedSvg: rectASvg,\n  },\n  {\n    toolName: EToolName.Polygon,\n    commonSvg: PolygonSvg,\n    selectedSvg: PolygonASvg,\n  },\n  {\n    toolName: EToolName.Line,\n    commonSvg: lineSvg,\n    selectedSvg: lineASvg,\n  },\n  {\n    toolName: EToolName.Point,\n    commonSvg: pointSvg,\n    selectedSvg: pointASvg,\n  },\n];\n\nconst getToolNameVersion = (lang: string) => {\n  if (lang === 'en') {\n    return TOOL_NAME_EN;\n  }\n  return TOOL_NAME;\n};\n\nexport const ToolIcons = ({\n  toolName,\n  selectedToolName,\n  onChange,\n}: {\n  toolName: string;\n  selectedToolName?: string;\n  onChange: (toolName: EToolName) => void;\n}) => {\n  const { i18n } = useTranslation();\n  const renderTools = toolList?.filter((item) => {\n    if (toolName === (EPointCloudName.PointCloud as unknown as EToolName)) {\n      return [EToolName.Polygon, EToolName.Rect].includes(item?.toolName);\n    }\n\n    return item?.toolName === toolName;\n  });\n\n  const hasMultiTools = renderTools.length > 1;\n\n  return (\n    <div className={`${sidebarCls}__level`}>\n      {renderTools.map((tool) => {\n        const isSelected = hasMultiTools && selectedToolName === tool.toolName;\n        return (\n          <span\n            className={`${sidebarCls}__toolOption`}\n            key={tool.toolName}\n            onClick={() => onChange?.(tool.toolName)}\n          >\n            <img\n              className={`${sidebarCls}__singleTool`}\n              src={isSelected ? tool?.selectedSvg : tool?.commonSvg}\n            />\n            <span\n              className={classnames({\n                [`${sidebarCls}__toolOption__selected`]: isSelected,\n              })}\n            >\n              {getToolNameVersion(i18n.language)[tool.toolName]}\n            </span>\n          </span>\n        );\n      })}\n    </div>\n  );\n};\n","/**\n * @file Update PointCloud Status\n * @createDate 2022-08-26\n * @author Ron <ron.f.luo@gmail.com>\n */\n\nimport { useContext, useState } from 'react';\nimport { PointCloudContext } from '../PointCloudContext';\nimport { cTool } from '@labelbee/lb-annotation';\n\nconst { EToolName, EPolygonPattern } = cTool;\n\nexport const useStatus = () => {\n  const { topViewInstance, mainViewInstance, pointCloudBoxList, setPointCloudResult } =\n    useContext(PointCloudContext);\n  const [pointCloudPattern, setPointCloudPattern] = useState(EToolName.Rect);\n\n  // Clear All PointView Data\n  const clearAllResult = () => {\n    pointCloudBoxList.forEach((v) => {\n      mainViewInstance?.removeObjectByName(v.id);\n    });\n    mainViewInstance?.render();\n\n    setPointCloudResult([]);\n    topViewInstance?.pointCloud2dOperation.clearActiveStatus();\n    topViewInstance?.pointCloud2dOperation.clearResult();\n  };\n\n  const updatePointCloudPattern = (toolName: any) => {\n    const polygon2dOperation = topViewInstance?.pointCloud2dOperation;\n    if (!polygon2dOperation) {\n      return;\n    }\n\n    polygon2dOperation.clearActiveStatus();\n\n    switch (toolName) {\n      case EToolName.Rect:\n        polygon2dOperation.setPattern(EPolygonPattern.Rect);\n        setPointCloudPattern(EToolName.Rect);\n\n        break;\n      case EToolName.Polygon:\n        polygon2dOperation.setPattern(EPolygonPattern.Normal);\n        setPointCloudPattern(EToolName.Polygon);\n        break;\n    }\n  };\n\n  return {\n    clearAllResult,\n    updatePointCloudPattern,\n    pointCloudPattern,\n  };\n};\n","import { Popover } from 'antd/es';\nimport _ from 'lodash';\nimport React, { useState } from 'react';\n\nimport hotKeySvg from '@/assets/annotation/toolHotKeyIcon/icon_kj1.svg';\nimport hotKeyHoverSvg from '@/assets/annotation/toolHotKeyIcon/icon_kj_h.svg';\nimport { EToolName } from '@/data/enums/ToolType';\nimport rectToolShortcutTable from './rectToolShortCutTable';\nimport pointToolShortcutTable from './point';\nimport polygonToolShortcutTable from './polygon';\nimport lineToolShortCutTable from './line';\nimport tagToolSingleShortCutTable from './tag';\nimport textToolShortCutTable from './text';\nimport videoToolShortCutTable from './videoTag';\nimport pointCloudShortCutTable from './pointCloud';\nimport scribbleShortCutTable from './scribble';\n\nimport { footerCls } from '../../index';\nimport { useTranslation } from 'react-i18next';\nimport { cTool } from '@labelbee/lb-annotation';\n\nconst { EVideoToolName, EPointCloudName } = cTool;\n\ninterface IProps {\n  style?: any;\n  title?: React.ReactElement<any>;\n  toolName?: string;\n}\n\nconst shortCutTable: any = {\n  [EToolName.Rect]: rectToolShortcutTable,\n  [EToolName.Tag]: tagToolSingleShortCutTable,\n  [EToolName.Point]: pointToolShortcutTable,\n  [EToolName.Polygon]: polygonToolShortcutTable,\n  [EToolName.Line]: lineToolShortCutTable,\n  [EToolName.Text]: textToolShortCutTable,\n  [EVideoToolName.VideoTagTool]: videoToolShortCutTable,\n  [EPointCloudName.PointCloud]: pointCloudShortCutTable,\n  [EToolName.ScribbleTool]: scribbleShortCutTable,\n};\n\nconst ToolHotKeyIcon = ({ icon }: { icon: React.ReactElement | string }) => {\n  if (typeof icon === 'string') {\n    return <img width={16} height={16} src={icon} />;\n  }\n\n  if (icon) {\n    return icon;\n  }\n\n  return null;\n};\n\nconst ToolHotKey: React.FC<IProps> = ({ style, title, toolName }) => {\n  const [svgFlag, setFlag] = useState(false);\n  const { t } = useTranslation();\n\n  if (!toolName) {\n    return null;\n  }\n\n  const shortCutStyle = {\n    width: 320,\n    display: 'flex',\n    justifyContent: 'space-between',\n    margin: 16,\n  };\n\n  const shortCutNameStyles: React.CSSProperties = {\n    display: 'block',\n    padding: '0 3px',\n    minWidth: '20px',\n    marginRight: '3px',\n    border: '1px solid rgba(204,204,204,1)',\n    verticalAlign: 'middle',\n    fontSize: '12px',\n    textAlign: 'center',\n  };\n\n  const setHotKey = (info: any, index: number) => (\n    <div style={shortCutStyle} key={index}>\n      <span style={{ display: 'flex', alignItems: 'center' }}>\n        <ToolHotKeyIcon icon={info.icon} />\n        <span style={{ marginLeft: info.icon ? 16 : 0 }}>{t(info.name)}</span>\n      </span>\n      <span style={{ display: 'flex', alignItems: 'center' }}>\n        {info.noticeInfo && (\n          <span style={{ marginRight: '5px', color: '#CCCCCC' }}>{t(info.noticeInfo)}</span>\n        )}\n        {setSVG(info.shortCut, info.shortCutUseHtml, info.linkSymbol)}\n      </span>\n    </div>\n  );\n\n  const setSVG = (list: any[], useDangerInnerHtml = false, linkSymbol = '+') => {\n    if (!list) {\n      return null;\n    }\n    const listDom = list.map((item, index) => {\n      const wrapperStyle = { display: 'flex', alignItems: 'center' };\n\n      if (useDangerInnerHtml) {\n        return (\n          <span key={index} style={wrapperStyle}>\n            <span style={shortCutNameStyles} dangerouslySetInnerHTML={{ __html: item }} />\n          </span>\n        );\n      }\n\n      if (index < list.length - 1) {\n        if (typeof item === 'number') {\n          return (\n            <span key={index} style={wrapperStyle}>\n              <span style={shortCutNameStyles}>{item}</span>\n              <span style={{ marginRight: '3px' }}>~</span>\n            </span>\n          );\n        }\n\n        if (item?.startsWith('data')) {\n          return (\n            <span key={index} style={wrapperStyle}>\n              <span className='shortCutButton' style={{ marginRight: '3px' }}>\n                <img width={16} height={23} src={item} />\n              </span>\n              <span style={{ marginRight: '3px' }}>+</span>\n            </span>\n          );\n        }\n        return (\n          <span key={index} style={wrapperStyle}>\n            <span style={shortCutNameStyles}>{item}</span>\n            <span style={{ marginRight: '3px' }}>{linkSymbol}</span>\n          </span>\n        );\n      }\n      if (typeof item === 'number') {\n        return (\n          <span key={index} style={wrapperStyle}>\n            <span style={shortCutNameStyles}>{item}</span>\n          </span>\n        );\n      }\n      if (item?.startsWith('data')) {\n        return (\n          <span className='shortCutButton' key={index} style={{ marginRight: '3px' }}>\n            <img width={16} height={23} src={item} />\n          </span>\n        );\n      }\n      return (\n        <span style={shortCutNameStyles} key={index}>\n          {item}\n        </span>\n      );\n    });\n    return (\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'space-around',\n          alignItems: 'center',\n        }}\n      >\n        {listDom}\n      </div>\n    );\n  };\n\n  const content = (\n    <div className={`${footerCls}__hotkey-content`}>\n      {shortCutTable[toolName]?.map((info: any, index: number) => setHotKey(info, index))}\n    </div>\n  );\n  const containerStyle = style || { width: 100 };\n\n  // 不存在对应的工具则不展示的快捷键\n  if (!shortCutTable[toolName]) {\n    return null;\n  }\n\n  return (\n    // @ts-ignore\n    <Popover\n      placement='topLeft'\n      content={content}\n      // @ts-ignore\n      onMouseMove={() => setFlag(true)}\n      onMouseLeave={() => {\n        setFlag(false);\n      }}\n      overlayClassName='tool-hotkeys-popover'\n      // visible={svgFlag}\n    >\n      <div\n        className='shortCutTitle'\n        onMouseMove={() => setFlag(true)}\n        onMouseLeave={() => setFlag(false)}\n        style={containerStyle}\n      >\n        {title ?? (\n          <a className='svg'>\n            <img\n              src={svgFlag ? hotKeyHoverSvg : hotKeySvg}\n              width={15}\n              height={13}\n              style={{ marginRight: '5px' }}\n            />\n\n            {t('Hotkeys')}\n          </a>\n        )}\n      </div>\n    </Popover>\n  );\n};\n\nexport default ToolHotKey;\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_277' data-name='%e8%b7%af%e5%be%84 277' class='cls-1' d='M6.857-116.857h-3.3v1.4L0-118l3.556-2.54v1.4h3.3v-3.3H9.143v3.3h3.3v-1.4L16-118l-3.556%2c2.54v-1.4h-3.3v3.3h1.4L8-110l-2.54-3.556h1.4ZM8-126l2.54%2c3.556H5.46Z' transform='translate(0 126)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_276' data-name='%e8%b7%af%e5%be%84 276' class='cls-2' d='M-37-137.6h25.4V-163H-37Z' transform='translate(37 163)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_move_kj' transform='translate(1 128)'%3e %3cg id='%e7%bb%84_475' data-name='%e7%bb%84 475' class='cls-3' transform='translate(-1 -128)'%3e %3cg id='%e7%bb%84_474' data-name='%e7%bb%84 474' class='cls-4' transform='translate(-4.698 -4.698)'%3e %3cpath id='%e8%b7%af%e5%be%84_275' data-name='%e8%b7%af%e5%be%84 275' class='cls-5' d='M-5-131H12.27v17.27H-5Z' transform='translate(9.063 135.064)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M2.1-1.769a.381.381%2c0%2c0%2c1-.382-.382h0V-7.087A.381.381%2c0%2c0%2c1%2c2.1-7.469H8.4a.381.381%2c0%2c0%2c1%2c.382.382h0V-2.15a.381.381%2c0%2c0%2c1-.382.382H2.1Zm.525-.906H7.874V-6.562H2.627Z' transform='translate(-1.721 7.469)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M17.723-5.652A4.782%2c4.782%2c0%2c0%2c0%2c19.561-9.4l.763%2c0a.093.093%2c0%2c0%2c0%2c.073-.15l-1.2-1.526a.094.094%2c0%2c0%2c0-.147%2c0L17.841-9.555a.093.093%2c0%2c0%2c0%2c.073.15h.762a4.019%2c4.019%2c0%2c0%2c1-.03.463%2c3.888%2c3.888%2c0%2c0%2c1-.461%2c1.419A3.9%2c3.9%2c0%2c0%2c1%2c17.179-6.35a3.884%2c3.884%2c0%2c0%2c1-1.381.693%2c3.887%2c3.887%2c0%2c0%2c1-1.488.106c-.064-.008-.129-.017-.192-.029v.893A4.752%2c4.752%2c0%2c0%2c0%2c17.723-5.652Z' transform='translate(-14.118 11.118)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='c'%3e%3cpath d='M19.678-21a.381.381%2c0%2c0%2c1%2c.382.382h0v4.937a.381.381%2c0%2c0%2c1-.382.382h-6.3A.381.381%2c0%2c0%2c1%2c13-15.682h0v-4.937A.381.381%2c0%2c0%2c1%2c13.382-21h6.3Zm-.525.906H13.906v3.887h5.247Z' transform='translate(-13 21)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='d'%3e%3cpath d='M3.673-17.359a4.782%2c4.782%2c0%2c0%2c0-1.839%2c3.751l-.763%2c0a.093.093%2c0%2c0%2c0-.073.15l1.2%2c1.526a.094.094%2c0%2c0%2c0%2c.147%2c0l1.206-1.528a.093.093%2c0%2c0%2c0-.073-.15H2.72a4.017%2c4.017%2c0%2c0%2c1%2c.03-.463%2c3.888%2c3.888%2c0%2c0%2c1%2c.461-1.419%2c3.9%2c3.9%2c0%2c0%2c1%2c1.005-1.173A3.884%2c3.884%2c0%2c0%2c1%2c5.6-17.354a3.887%2c3.887%2c0%2c0%2c1%2c1.488-.106c.064.008.129.017.192.029v-.893A4.752%2c4.752%2c0%2c0%2c0%2c3.673-17.359Z' transform='translate(-0.978 18.372)' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(-957 -603)'%3e%3crect width='16' height='16' transform='translate(957 603)' fill='none'/%3e%3cg transform='translate(956.022 624)'%3e%3cg transform='translate(1.545 -10.994)' clip-path='url(%23a)'%3e%3cpath d='M11.412.863H-3.279V-12.469H11.412Z' transform='translate(-0.537 8.653)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(10.679 -13.779)' clip-path='url(%23b)'%3e%3cpath d='M23.049-16.118V-2.007H9.118V-16.118Z' transform='translate(-12.934 12.302)' fill='%23666'/%3e%3c/g%3e%3crect width='6' height='5' transform='translate(10.652 -20.897)' fill='%23ccc'/%3e%3cg transform='translate(9.826 -21)' clip-path='url(%23c)'%3e%3cpath d='M8-26H22.691v13.331H8Z' transform='translate(-11.816 22.184)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(0.978 -18.995)' clip-path='url(%23d)'%3e%3cpath d='M-4.022-9.261V-23.372H9.909V-9.261Z' transform='translate(0.206 19.556)' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_polygon_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2%2c .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-2 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-4' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-4' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineCont_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-3 %7b fill: none%3b %7d .cls-2%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_unGrip_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_14' data-name='%e5%87%8f%e5%8e%bb 14' class='cls-2' d='M12806.69-12915.114c-.083%2c0-.175%2c0-.282-.008a5.869%2c5.869%2c0%2c0%2c1-3.878-1.69%2c5.509%2c5.509%2c0%2c0%2c1-1.6-4.091%2c6.209%2c6.209%2c0%2c0%2c1%2c2.044-4.437l1.039-.934%2c2.459%2c2.731-1.168%2c1.052a2.434%2c2.434%2c0%2c0%2c0-.522%2c2.823%2c2.39%2c2.39%2c0%2c0%2c0%2c1.854.923%2c2%2c2%2c0%2c0%2c0%2c1.346-.508l1.3-1.171%2c2.46%2c2.732-1.169%2c1.054A5.813%2c5.813%2c0%2c0%2c1%2c12806.69-12915.114Zm6.1-3.518h0l-2.477-2.717%2c1.962-1.769a.619.619%2c0%2c0%2c1%2c.412-.164.6.6%2c0%2c0%2c1%2c.454.209l1.639%2c1.824a.6.6%2c0%2c0%2c1-.046.863l-1.942%2c1.753Zm-5.33-5.8h0l-2.523-2.675%2c1.938-1.745a.614.614%2c0%2c0%2c1%2c.412-.163.609.609%2c0%2c0%2c1%2c.455.209l1.769%2c1.7a.6.6%2c0%2c0%2c1-.046.866l-2%2c1.8Z' transform='translate(-12800 12929.97)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_271' data-name='%e7%9f%a9%e5%bd%a2 271' class='cls-2' width='1.166' height='18.662' transform='matrix(0.719%2c -0.695%2c 0.695%2c 0.719%2c 0.745%2c 2.047)'/%3e%3c/svg%3e\";\n  export default img;","import iconTagKj from '@/assets/annotation/toolHotKeyIcon/icon_tag_kj.svg'\n\nimport {\n  backward,\n  dargWithLeftClick,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  rotate,\n  // saveResult,\n  scale,\n  // setValid,\n} from '../common';\n\nexport const tagInSingleImg: any = {\n  name: 'Tagging',\n  icon: iconTagKj,\n  shortCut: [1, 9],\n};\n\n// 单图\nconst tagToolSingleShortCutTable = [\n  // saveResult,\n  tagInSingleImg,\n  rotate,\n  // fullScreen,\n  scale,\n  // setValid,\n  backward,\n  forward,\n  dargWithRightClick,\n  dargWithLeftClick,\n];\nexport default tagToolSingleShortCutTable;\n\n","import React from 'react';\nimport adaptIcon from '@/assets/annotation/common/icon_adapt.svg';\nimport adaptIconBlack from '@/assets/annotation/common/icon_adapt_black.svg';\nimport { MinusOutlined, PlusOutlined } from '@ant-design/icons';\nimport { AppState } from '@/store';\nimport { ToolInstance } from '@/store/annotation/types';\nimport { connect } from 'react-redux';\nimport ZoomLevel from './ZoomLevel';\nimport { footerCls, FooterTheme } from '../index';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IZoomControllerProps {\n  mode?: FooterTheme;\n  initialPosition?: () => void;\n  zoomIn?: () => void;\n  zoomOut?: () => void;\n  zoom?: number; // Allow to show zoom directly\n}\n\nexport const ZoomController: React.FC<IZoomControllerProps> = ({\n  mode,\n  initialPosition,\n  zoomOut,\n  zoomIn,\n  zoom,\n}) => {\n  const defaultIcon = mode === 'light' ? adaptIcon : adaptIconBlack;\n  return (\n    <div>\n      <span className={`${footerCls}__zoomController`}>\n        <MinusOutlined\n          className={`${footerCls}__highlight`}\n          onClick={() => {\n            zoomOut?.();\n          }}\n        />\n        <span\n          className={`${footerCls}__zoomText`}\n          onClick={() => {\n            initialPosition?.();\n          }}\n        >\n          <img src={defaultIcon} className='adaptIcon' />\n          <ZoomLevel zoom={zoom} />\n        </span>\n        <PlusOutlined\n          className={`${footerCls}__highlight`}\n          onClick={() => {\n            zoomIn?.();\n          }}\n        />\n      </span>\n    </div>\n  );\n};\n\nconst ZoomControllerWithToolInstance: React.FC<{\n  toolInstance: ToolInstance;\n  mode: FooterTheme;\n}> = ({ toolInstance }) => {\n  const initialPosition = () => {\n    toolInstance.initImgPos();\n  };\n\n  const zoomOut = () => {\n    toolInstance.zoomChanged(false);\n  };\n\n  const zoomIn = () => {\n    toolInstance.zoomChanged(true);\n  };\n\n  return <ZoomController initialPosition={initialPosition} zoomIn={zoomIn} zoomOut={zoomOut} />;\n};\n\nexport default connect(\n  (state: AppState) => ({\n    toolInstance: state.annotation.toolInstance,\n  }),\n  null,\n  null,\n  { context: LabelBeeContext },\n)(ZoomControllerWithToolInstance);\n","import { getClassName } from '@/utils/dom';\nimport {\n  LeftOutlined,\n  RightOutlined,\n  StepForwardFilled,\n  StepBackwardFilled,\n} from '@ant-design/icons';\nimport { Input } from 'antd';\nimport React, { useEffect, useRef, useState } from 'react';\n\ninterface IPageIconProps {\n  isVideo?: boolean;\n  iconProps: {\n    onClick: () => void;\n    className: string;\n  };\n}\n\ninterface IPaginationProps {\n  // current file page\n  imgIndex: number;\n  // number of total files\n  totalPage: number;\n  // redirect to target page\n  pageJump: (page: string) => void;\n  // to next page\n  pageForward: () => void;\n  // to prev page\n  pageBackward: () => void;\n  // footer classname\n  footerCls: string;\n  // whether file is video\n  isVideo?: boolean;\n}\n\ninterface IPageProps {\n  jumpSkip: Function;\n  imgIndex: number;\n}\n\n/**\n * page input for changing current page or file index\n * @param props\n * @returns\n */\nexport const PageInput = (props: IPageProps) => {\n  const { jumpSkip, imgIndex } = props;\n  const [newIndex, setIndex] = useState(imgIndex);\n  const inputEl = useRef(null);\n\n  useEffect(() => {\n    setIndex(imgIndex + 1);\n  }, [imgIndex]);\n\n  const newHandleJump = (e: any) => {\n    const reg = /^\\d*$/;\n    if (reg.test(e.target.value)) {\n      setIndex(e.target.value);\n    }\n  };\n\n  const newJumpSkip = (e: any) => {\n    if (e.keyCode === 13) {\n      jumpSkip(e.target.value);\n    }\n  };\n\n  return (\n    <Input\n      className={getClassName('page-input')}\n      ref={inputEl}\n      onChange={newHandleJump}\n      value={newIndex}\n      onKeyDown={newJumpSkip}\n    />\n  );\n};\n\n/**\n * Next page icon\n * @param props\n * @returns\n */\nconst NextPage: React.FC<IPageIconProps> = (props) =>\n  props.isVideo ? (\n    <StepForwardFilled {...props.iconProps} />\n  ) : (\n    <RightOutlined {...props.iconProps} />\n  );\n\n/**\n * Prev page icon\n * @param props\n * @returns\n */\nconst PrevPage: React.FC<IPageIconProps> = (props) =>\n  props.isVideo ? (\n    <StepBackwardFilled {...props.iconProps} />\n  ) : (\n    <LeftOutlined {...props.iconProps} />\n  );\n\nexport const Pagination: React.FC<IPaginationProps> = ({\n  pageBackward,\n  imgIndex,\n  pageJump,\n  totalPage,\n  pageForward,\n  isVideo,\n  footerCls,\n}) => {\n  return (\n    <div className={`${footerCls}__pagination`}>\n      <PrevPage\n        isVideo={isVideo}\n        iconProps={{\n          className: `${footerCls}__highlight`,\n          onClick: pageBackward,\n        }}\n      />\n      <PageInput imgIndex={imgIndex} jumpSkip={pageJump} />/\n      <span className={`${footerCls}__pageAll`}>{totalPage}</span>\n      <NextPage\n        isVideo={isVideo}\n        iconProps={{\n          className: `${footerCls}__highlight`,\n          onClick: pageForward,\n        }}\n      />\n    </div>\n  );\n};\n","/**\n * @file Implement TagTool interaction through class components.\n *       Refer to: packages/lb-annotation/src/core/toolOperation/tagOperation.ts\n * @author Glenfiddish <edwinlee0927@hotmail.com>\n * @date 2022-05-31\n */\n\nimport React from 'react';\nimport { CommonToolUtils, uuid } from '@labelbee/lb-annotation';\nimport StepUtils from '@/utils/StepUtils';\nimport { jsonParser } from '@/utils';\nimport { VideoPlayer } from './index';\nimport { VideoTagLayer } from './VideoTagLayer';\nimport { IStepInfo } from '@/types/step';\nimport _ from 'lodash';\nimport type { ObjectString } from './types';\nimport { getKeyCodeNumber } from './utils';\nimport { IFileItem } from '@/types/data';\n\nexport interface IVideoTagInstanceAdaptorProps {\n  imgIndex: number;\n  imgList: IFileItem[];\n  pageForward: () => void;\n  pageJump: (page: string) => void;\n  pageBackward: () => void;\n  onMounted: (instance: TagToolInstanceAdaptor) => void;\n  onUnmounted: () => void;\n  step: number;\n  stepList: IStepInfo[];\n}\n\ninterface IVideoTagInstanceAdaptorState {\n  // TODO: Use ITagResult from 'lb-annotation'\n  tagResult: any[];\n  labelSelectedList: number[];\n  valid: boolean;\n}\n\nexport class TagToolInstanceAdaptor extends React.Component<\n  IVideoTagInstanceAdaptorProps,\n  IVideoTagInstanceAdaptorState\n> {\n  public fns: { [key: string]: () => void } = {};\n  public videoRef?: HTMLVideoElement;\n  public labelSelectedList: number[] = [];\n\n  public constructor(props: IVideoTagInstanceAdaptorProps) {\n    super(props);\n    this.state = {\n      tagResult: [],\n      labelSelectedList: [],\n      valid: true,\n    };\n  }\n\n  public get config() {\n    const stepInfo = StepUtils.getCurrentStepInfo(this.props.step, this.props.stepList);\n    return jsonParser(stepInfo?.config);\n  }\n\n  /** Just implementation, no actual logic */\n  public get history() {\n    return { initRecord: () => {}, pushHistory: () => {} };\n  }\n\n  public get currentTagResult() {\n    return this.state.tagResult[0] ?? {};\n  }\n\n  public get valid() {\n    return this.state.valid;\n  }\n\n  public clearResult = (sendMsg = true, value?: string) => {\n    const newTag = value\n      ? this.state.tagResult.map((v) => {\n          if (v?.result[value]) {\n            delete v.result[value];\n          }\n          return v;\n        })\n      : [];\n\n    this.setState(\n      {\n        tagResult: newTag,\n      },\n      () => this.emitEvent('render'),\n    );\n  };\n\n  public exportData = () => {\n    const duration = this.videoRef?.duration ?? 0;\n    const videoQulity = this.videoRef?.getVideoPlaybackQuality();\n    const frames = videoQulity?.totalVideoFrames;\n    const videoWidth = this.videoRef?.videoWidth ?? 0;\n    const videoHeight = this.videoRef?.videoHeight ?? 0;\n\n    return [\n      this.state.tagResult,\n      { valid: this.state.valid, duration, frames, videoWidth, videoHeight },\n    ];\n  };\n\n  public singleOn(event: string, func: () => void) {\n    this.fns[event] = func;\n  }\n\n  public on(event: string, func: () => void) {\n    this.singleOn(event, func);\n  }\n\n  public getTagResultByCode(num1: number, num2?: number) {\n    try {\n      const inputList = this.config?.inputList ?? [];\n      const mulitTags = inputList.length > 1;\n      const keycode1 = num2 !== undefined ? num1 : 0;\n      const keycode2 = num2 !== undefined ? num2 : num1;\n      const primaryTagConfig = mulitTags ? inputList[keycode1] : inputList[0];\n      const secondaryTagConfig = (primaryTagConfig.subSelected ?? [])[keycode2];\n\n      if (primaryTagConfig && secondaryTagConfig) {\n        return {\n          value: {\n            key: primaryTagConfig.value,\n            value: secondaryTagConfig.value,\n          },\n          isMulti: primaryTagConfig.isMulti,\n        };\n      }\n    } catch {\n      return;\n    }\n  }\n\n  public setLabelBySelectedList(num1: number, num2?: number) {\n    const newTagConfig = this.getTagResultByCode(num1, num2);\n\n    if (newTagConfig) {\n      const tagRes = this.combineResult(newTagConfig, this.state.tagResult[0]?.result ?? {});\n\n      const tagResult = [\n        {\n          sourceID: CommonToolUtils.getSourceID(),\n          id: this.currentTagResult?.id ?? uuid(8, 62),\n          result: tagRes,\n        },\n      ];\n\n      this.setState(\n        {\n          tagResult,\n        },\n        () => this.emitEvent('render'),\n      );\n    }\n  }\n\n  public emitEvent = (event: string) => {\n    if (this.fns[event]) {\n      this.fns[event]();\n    }\n  };\n\n  /**\n   * Combine result with inputValue and existValue\n   * @param inputValue\n   * @param existValue\n   * @returns newValue\n   */\n  public combineResult = (\n    inputValue: { value: { key: string; value: string }; isMulti: boolean },\n    existValue: ObjectString = {},\n  ) => {\n    const { isMulti } = inputValue;\n    const { key, value } = inputValue.value;\n\n    if (isMulti) {\n      let valuesArray = existValue[key]?.split(';') ?? [];\n      if (valuesArray.includes(value)) {\n        valuesArray = valuesArray.filter((i) => i !== value);\n      } else {\n        valuesArray.push(value);\n      }\n\n      const valuesSet = new Set(valuesArray);\n      existValue[key] = Array.from(valuesSet).join(';');\n      return _.pickBy(existValue, (v) => v);\n    }\n\n    existValue[key] = existValue[key] === value ? undefined : value;\n\n    return _.pickBy(existValue, (v) => v);\n  };\n\n  public setResult = (tagResult: any[]) => {\n    this.setState({\n      tagResult,\n    });\n\n    if (this.fns['render']) {\n      this.fns['render']();\n    }\n  };\n\n  public setLabel = (num1: number, num2: number) => {\n    this.setLabelBySelectedList(num1, num2);\n  };\n\n  /**\n   * Keydown event for recording keycode input(numeric only)\n   * @param event\n   */\n  public keydown = (event: KeyboardEvent) => {\n    const keyCode = getKeyCodeNumber(event.keyCode);\n\n    if (keyCode) {\n      const keyIndex = keyCode - 1;\n\n      if (this.config.inputList.length === 1) {\n        // 说明标签只有一层\n        this.labelSelectedList = [0, keyIndex];\n        this.setLabel(0, keyIndex);\n        setTimeout(() => {\n          this.labelSelectedList = [];\n          this.emitEvent('render');\n        }, 500);\n\n        return;\n      }\n\n      if (this.labelSelectedList.length === 1) {\n        this.labelSelectedList = [this.labelSelectedList[0], keyIndex];\n        this.setLabel(this.labelSelectedList[0], keyIndex);\n        setTimeout(() => {\n          this.labelSelectedList = [];\n          this.emitEvent('render');\n        }, 500);\n      } else {\n        this.labelSelectedList = [keyIndex];\n        this.emitEvent('expend');\n      }\n    }\n  };\n\n  public setValid = (valid: boolean) => {\n    this.setState({ valid });\n    if (valid === false) {\n      this.setState({ tagResult: [] });\n    }\n\n    this.emitEvent('render');\n  };\n\n  public componentDidMount() {\n    document.addEventListener('keydown', this.keydown);\n    this.props.onMounted(this);\n    this.setResultFromImgList(this.props);\n  }\n\n  public componentWillUnmount() {\n    document.addEventListener('keydown', this.keydown);\n    this.props.onUnmounted();\n  }\n\n  public setResultFromImgList = (props: IVideoTagInstanceAdaptorProps) => {\n    const { imgList, imgIndex, step } = props;\n\n    if (!imgList[imgIndex]) {\n      return;\n    }\n    const res = jsonParser(imgList[imgIndex].result);\n    const stepRes = res[`step_${step}`];\n\n    this.setState({\n      tagResult: stepRes?.result ?? [],\n      valid: res?.valid === undefined ? true : res.valid,\n    });\n  };\n\n  /** Observer imgIndex and set tagResult */\n  public shouldComponentUpdate(props: IVideoTagInstanceAdaptorProps) {\n    if (props.imgIndex !== this.props.imgIndex) {\n      this.setResultFromImgList(props);\n    }\n    return true;\n  }\n\n  public render() {\n    const { imgIndex, imgList, pageForward, pageJump, pageBackward } = this.props;\n    const { tagResult, valid } = this.state;\n\n    return (\n      <div style={{ height: '100%', width: '100%', position: 'relative' }}>\n        <VideoPlayer\n          imgIndex={imgIndex}\n          imgList={imgList}\n          pageBackward={pageBackward}\n          pageForward={pageForward}\n          pageJump={pageJump}\n          valid={valid}\n          setVideoRef={(video) => {\n            this.videoRef = video;\n          }}\n        />\n        <VideoTagLayer result={tagResult} inputList={this.config?.inputList} />\n      </div>\n    );\n  }\n}\n","/**\n * @author Glenfiddish <edwinlee0927@hotmail.com>\n * @file Implement video player, including mouse and keyboard event\n * @date 2022-06-02\n */\n\nimport React from 'react';\nimport VideoController from './components/controller';\nimport { getClassName } from '@/utils/dom';\nimport { cKeyCode } from '@labelbee/lb-annotation';\nimport { IFileItem } from '@/types/data';\nimport { decimalReserved } from './utils';\nimport FileException from '../fileException';\n\nconst EKeyCode = cKeyCode.default;\n\nexport const VideoPlayerCtx = React.createContext<{\n  videoRef?: React.RefObject<HTMLVideoElement> | null;\n  isPlay: boolean;\n  playPause: () => void;\n  updateNextPlaybackRate: (isForward?: boolean) => void;\n  setCurrentTime: (time: number) => void;\n  playbackRate: number;\n  currentTime: number;\n  duration: number;\n  buffered: number;\n  imgList: IFileItem[];\n  imgIndex: number;\n  pageBackward: () => void;\n  pageJump: (page: string) => void;\n  pageForward: () => void;\n}>({\n  isPlay: false,\n  playPause: () => {},\n  updateNextPlaybackRate: () => {},\n  playbackRate: 1,\n  currentTime: 0,\n  duration: 0,\n  buffered: 0,\n  setCurrentTime: () => {},\n  imgList: [],\n  imgIndex: -1,\n  pageBackward: () => {},\n  pageJump: (page: string) => {},\n  pageForward: () => {},\n});\n\nconst PER_INTERVAL = 50;\nconst PER_FORWARD = 0.1;\nconst PLAYBACK_RATES = [0.5, 1, 1.5, 2, 4, 6, 8, 16];\n\ninterface IVideoPlayerProps {\n  imgList: IFileItem[];\n  imgIndex: number;\n  pageBackward: () => void;\n  pageJump: (page: string) => void;\n  pageForward: () => void;\n  valid: boolean;\n  setVideoRef?: (video: HTMLVideoElement) => void;\n}\n\ninterface IVideoPlayerState {\n  playbackRate: number;\n  currentTime: number;\n  isPlay: boolean;\n  duration: number;\n  buffered: number;\n  error: boolean;\n}\n\nexport class VideoPlayer extends React.Component<IVideoPlayerProps, IVideoPlayerState> {\n  public videoRef?: React.RefObject<HTMLVideoElement>;\n  public timeInterval?: number;\n\n  public constructor(props: IVideoPlayerProps) {\n    super(props);\n    this.state = {\n      playbackRate: 1,\n      currentTime: 0,\n      isPlay: false,\n      duration: 0,\n      buffered: 0,\n      error: false,\n    };\n    this.videoRef = React.createRef();\n  }\n\n  public get videoElm() {\n    return this.videoRef?.current;\n  }\n\n  public get videoSrc() {\n    const { imgIndex, imgList } = this.props;\n    return imgIndex > -1 ? imgList[imgIndex]?.url ?? '' : '';\n  }\n\n  public changePlaybackPate = (playbackRate: number) => {\n    if (this.videoElm) {\n      this.videoElm.playbackRate = playbackRate;\n      this.setState({\n        playbackRate,\n      });\n    }\n  };\n\n  public playPause = () => {\n    if (this.videoElm?.paused) {\n      this.videoElm?.play();\n    } else {\n      this.videoElm?.pause();\n    }\n  };\n\n  public updateNextPlaybackRate = (isForward = true) => {\n    const idx = PLAYBACK_RATES.findIndex((r) => r === this.state.playbackRate);\n    let nextIdx = isForward ? Math.min(idx + 1, PLAYBACK_RATES.length - 1) : Math.max(idx - 1, 0);\n    this.changePlaybackPate(PLAYBACK_RATES[nextIdx]);\n  };\n\n  public fastForward = () => {\n    if (this.videoElm) {\n      this.setCurrentTime(this.videoElm.currentTime + PER_FORWARD);\n    }\n  };\n\n  public rewind = () => {\n    if (this.videoElm) {\n      this.setCurrentTime(this.videoElm.currentTime - PER_FORWARD);\n    }\n  };\n\n  /**\n   * Implement Video's keydown\n   * Play / Pause           -   Space\n   * Rewind / FastForward   -   ⬅️  /  ➡️\n   * Speed                  -   ⬆️  /  ⬇\n   * @param event\n   */\n  public keydown = (event: KeyboardEvent) => {\n    if (event.keyCode === EKeyCode.Space) {\n      event.preventDefault();\n      this.playPause();\n    }\n\n    if (event.keyCode === EKeyCode.Up) {\n      event.preventDefault();\n      this.updateNextPlaybackRate();\n    }\n\n    if (event.keyCode === EKeyCode.Down) {\n      event.preventDefault();\n      this.updateNextPlaybackRate(false);\n    }\n\n    if (event.keyCode === EKeyCode.Left) {\n      event.preventDefault();\n      this.rewind();\n    }\n\n    if (event.keyCode === EKeyCode.Right) {\n      event.preventDefault();\n      this.fastForward();\n    }\n  };\n\n  public onPlay = () => {\n    this.setState(\n      {\n        isPlay: true,\n      },\n      this.onVideoStart,\n    );\n  };\n\n  public onPause = () => {\n    this.onVideoStopped();\n  };\n\n  public onVideoStopped = () => {\n    this.setState({\n      isPlay: false,\n    });\n\n    if (this.timeInterval) {\n      clearInterval(this.timeInterval);\n      this.timeInterval = undefined;\n    }\n\n    /** Due to speedrate can less than PER_INTERVAL, it need to set current time after stopped */\n    if (this.videoElm) {\n      this.setCurrentTime(this.videoElm.currentTime);\n    }\n  };\n\n  public onVideoStart = () => {\n    this.timeInterval = window.setInterval(() => {\n      if (this.videoElm) {\n        try {\n          if (this.videoElm?.buffered.length > 0) {\n            const buffered = this.videoElm?.buffered.end(0);\n\n            this.setState({\n              currentTime: decimalReserved(this.videoElm?.currentTime, 1),\n              buffered,\n            });\n          }\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    }, PER_INTERVAL);\n  };\n\n  public resetVideoData = () => {\n    this.setState({\n      currentTime: 0,\n      buffered: 0,\n      error: false,\n      isPlay: false,\n    });\n\n    if (this.videoElm) {\n      this.videoElm.playbackRate = this.state.playbackRate;\n    }\n    this.onVideoStopped();\n  };\n\n  public setDuration = () => {\n    if (this.videoElm) {\n      const duration = decimalReserved(this.videoElm?.duration, 1);\n\n      this.setState({\n        duration,\n      });\n    }\n  };\n\n  public setCurrentTime = (currentTime: number) => {\n    if (this.videoElm) {\n      this.videoElm.currentTime = currentTime;\n      this.setState({\n        currentTime,\n      });\n    }\n  };\n\n  public reload = () => {\n    this.videoElm?.load();\n  };\n\n  public onError = () => {\n    this.resetVideoData();\n    this.setState({ error: true });\n  };\n\n  public componentDidMount() {\n    window.addEventListener('keydown', this.keydown);\n    if (this.videoRef?.current && this.props.setVideoRef) {\n      this.props.setVideoRef(this.videoRef?.current as HTMLVideoElement);\n    }\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener('keydown', this.keydown);\n  }\n\n  public render() {\n    const { isPlay, playbackRate, currentTime, duration, buffered, error } = this.state;\n    const { imgList, imgIndex, pageBackward, pageJump, pageForward, valid } = this.props;\n\n    const {\n      playPause,\n      updateNextPlaybackRate,\n      onPause,\n      onPlay,\n      resetVideoData,\n      setDuration,\n      setCurrentTime,\n      onError,\n      videoRef,\n      videoSrc,\n    } = this;\n\n    return (\n      <VideoPlayerCtx.Provider\n        // eslint-disable-next-line react/jsx-no-constructed-context-values\n        value={{\n          videoRef: this.videoRef,\n          isPlay,\n          playPause,\n          updateNextPlaybackRate,\n          playbackRate,\n          currentTime,\n          duration,\n          buffered,\n          setCurrentTime,\n          imgIndex,\n          imgList,\n          pageBackward,\n          pageJump,\n          pageForward,\n        }}\n      >\n        <div className={getClassName('video-wrapper')}>\n          <div className={getClassName('video-container')}>\n            <video\n              ref={videoRef}\n              className={getClassName('video')}\n              src={videoSrc}\n              onPause={onPause}\n              onPlay={onPlay}\n              onLoadedMetadata={resetVideoData}\n              onError={onError}\n              onDurationChange={setDuration}\n              width='100%'\n              height='100%'\n              onClick={playPause}\n            />\n\n            <FileException\n              fileType='video'\n              errorProps={{\n                reloadImage: this.reload,\n                backgroundColor: '#e2e2e2',\n                ignoreOffsetY: true,\n                isError: error,\n              }}\n              invalidProps={{\n                isValid: valid,\n              }}\n            />\n          </div>\n          <VideoController />\n        </div>\n      </VideoPlayerCtx.Provider>\n    );\n  }\n}\n\nexport default VideoPlayer;\n","/**\n * @file EmptyPage\n * @createDate 2022-08-31\n * @author Ron <ron.f.luo@gmail.com>\n */\nimport React from 'react';\nimport NoDataSvg from '@/assets/annotation/pointCloudTool/nodata.svg';\nimport { getClassName } from '@/utils/dom';\n\nconst EmptyPage = () => {\n  return (\n    <div className={getClassName('point-cloud-container', 'empty-page')}>\n      <img src={NoDataSvg} />\n      <span className={getClassName('point-cloud-container', 'empty-page', 'text')}>暂无数据</span>\n    </div>\n  );\n};\n\nexport default EmptyPage;\n","import { useCallback, useContext } from 'react';\nimport { IAnnotationStateProps } from '@/store/annotation/map';\nimport { synchronizeBackView, synchronizeSideView } from './usePointCloudViews';\nimport { useSingleBox } from './useSingleBox';\nimport { PointCloudContext } from '../PointCloudContext';\nimport { cAnnotation } from '@labelbee/lb-annotation';\nimport { PointCloudUtils } from '@labelbee/lb-utils';\n\nconst { ERotateDirection } = cAnnotation;\n\n/**\n * PointCloud Rotate Hook\n * @returns\n */\nexport const useRotate = ({ currentData }: IAnnotationStateProps) => {\n  const ptCtx = useContext(PointCloudContext);\n  const { selectedBox, updateSelectedBox } = useSingleBox();\n\n  const updateRotate = useCallback(\n    (angle: number) => {\n      const { topViewInstance, mainViewInstance } = ptCtx;\n      if (!topViewInstance || !mainViewInstance) {\n        return;\n      }\n\n      const { pointCloud2dOperation: TopPointCloudPolygonOperation } = topViewInstance;\n\n      const selectedPointCloudBox = selectedBox?.info;\n\n      if (!selectedPointCloudBox || !currentData?.url || !ptCtx.backViewInstance) {\n        return;\n      }\n\n      updateSelectedBox({\n        rotation: PointCloudUtils.restrictAngleRange(\n          selectedPointCloudBox.rotation + Number(Math.PI * angle) / 180,\n        ),\n      });\n\n      TopPointCloudPolygonOperation.rotatePolygon(angle, ERotateDirection.Anticlockwise);\n      const selectedPolygon = TopPointCloudPolygonOperation.selectedPolygon;\n\n      mainViewInstance.generateBox(selectedPointCloudBox);\n      mainViewInstance.highlightOriginPointCloud(selectedPointCloudBox);\n      synchronizeSideView(\n        selectedPointCloudBox,\n        selectedPolygon,\n        ptCtx.sideViewInstance,\n        currentData.url,\n      );\n      synchronizeBackView(\n        selectedPointCloudBox,\n        selectedPolygon,\n        ptCtx.backViewInstance,\n        currentData.url,\n      );\n      mainViewInstance.render();\n    },\n    [\n      ptCtx.selectedID,\n      ptCtx.pointCloudBoxList,\n      ptCtx.setPointCloudResult,\n      ptCtx.topViewInstance,\n      currentData,\n    ],\n  );\n\n  return { updateRotate };\n};\n","import { WorkerClass } from './_rollup-plugin-web-worker-loader__helper__node__WorkerClass.js';\n\nfunction decodeBase64(base64, enableUnicode) {\n    return Buffer.from(base64, 'base64').toString(enableUnicode ? 'utf16' : 'utf8');\n}\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;\n    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;\n    var source = decodeBase64(base64, enableUnicode);\n    var start = source.indexOf('\\n', 10) + 1;\n    var body = source.substring(start) + (sourcemap ? '\\/\\/# sourceMappingURL=' + sourcemap : '');\n    return function WorkerFactory(options) {\n        return new WorkerClass(body, Object.assign({}, options, { eval: true }));\n    };\n}\n\nexport { createBase64WorkerFactory };\n","var WorkerClass = null;\n\ntry {\n    var WorkerThreads =\n        typeof module !== 'undefined' && typeof module.require === 'function' && module.require('worker_threads') ||\n        typeof __non_webpack_require__ === 'function' && __non_webpack_require__('worker_threads') ||\n        typeof require === 'function' && require('worker_threads');\n    WorkerClass = WorkerThreads.Worker;\n} catch(e) {} // eslint-disable-line\n\nexport { WorkerClass };\n","var kIsNodeJS = Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\n\nfunction isNodeJS() {\n    return kIsNodeJS;\n}\n\nexport { isNodeJS };\n","/**\n * @file Cache the operation\n * @createDate 2022-09-27\n * @author Ron <ron.f.luo@gmail.com>\n */\n\nimport { useRef, useEffect } from 'react';\n\nconst useRefCache = <T>(data: T) => {\n  const ref = useRef<T>(data);\n  useEffect(() => {\n    ref.current = data\n  }, [data]);\n  return ref;\n};\n\nexport default useRefCache;\n","/*\n * @Author: Laoluo luozefeng@sensetime.com\n * @Date: 2022-06-13 19:31:36\n * @LastEditors: Laoluo luozefeng@sensetime.com\n * @LastEditTime: 2022-06-27 19:43:25\n */\n\nimport { PointCloud } from '@labelbee/lb-annotation';\nimport { IPointCloudBox, PointCloudUtils } from '@labelbee/lb-utils';\nimport React, { useCallback, useEffect, useRef } from 'react';\n\ninterface IProps {\n  src: string; // 图片路径\n  result: string;\n  size: {\n    width: number;\n    height: number;\n  };\n}\n\nconst PointCloudAnnotationView = (props: IProps) => {\n  const { src, result, size } = props;\n  let viewOperation = useRef<any>();\n  const instance = useRef<any>();\n\n  const refCallback = useCallback((node) => {\n    viewOperation.current = node;\n  }, []);\n\n  useEffect(() => {\n    const pointCloud = new PointCloud({\n      container: viewOperation.current,\n      backgroundColor: '#ccc',\n    });\n    instance.current = pointCloud;\n    return () => {\n      instance.current.renderer?.forceContextLoss();\n    };\n  }, []);\n\n  useEffect(() => {\n    instance.current?.init();\n  }, [size]);\n\n  useEffect(() => {\n    if (instance.current && src) {\n      instance.current?.loadPCDFile(src);\n    }\n  }, [src]);\n\n  useEffect(() => {\n    if (result) {\n      const boxParamsList = PointCloudUtils.getBoxParamsFromResultList(result);\n\n      // Add Init Box\n      boxParamsList.forEach((v: IPointCloudBox) => {\n        instance.current?.generateBox(v, v.id);\n      });\n    }\n    return () => {\n      const boxParamsList = PointCloudUtils.getBoxParamsFromResultList(result);\n      boxParamsList.forEach((v: IPointCloudBox) => {\n        instance.current?.removeObjectByName(v.id);\n      });\n      instance.current?.render();\n    };\n  }, [result]);\n\n  return <div style={size} ref={refCallback} />;\n};\n\nexport default PointCloudAnnotationView;\n","import MainView from '@/views/MainView';\nimport { i18n } from '@labelbee/lb-utils';\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { store } from '.';\nimport { LabelBeeContext } from '@/store/ctx';\nimport { AppState } from './store';\nimport { ANNOTATION_ACTIONS } from './store/Actions';\nimport { InitTaskData, loadImgList, UpdateInjectFunc } from './store/annotation/actionCreators';\nimport { LoadFileAndFileData } from './store/annotation/reducer';\nimport { ToolInstance } from './store/annotation/types';\nimport {\n  GetFileData,\n  IFileItem,\n  LoadFileList,\n  OnPageChange,\n  OnSave,\n  OnStepChange,\n  OnSubmit,\n} from './types/data';\nimport { Header, RenderFooter, Sider } from './types/main';\nimport { IStepInfo } from './types/step';\n\ninterface IAnnotationStyle {\n  strokeColor: string;\n  fillColor: string;\n  textColor: string;\n  toolColor: any;\n}\n\nexport interface AppProps {\n  exportData?: (data: any[]) => void;\n  goBack?: () => void;\n  imgList?: IFileItem[];\n  config: string;\n  stepList: IStepInfo[];\n  step: number;\n  onSubmit?: OnSubmit;\n  onSave?: OnSave;\n  onPageChange?: OnPageChange;\n  onStepChange?: OnStepChange;\n  getFileData?: GetFileData;\n  pageSize: number;\n  loadFileList?: LoadFileList;\n  headerName?: string;\n  initialIndex?: number;\n  className?: string;\n  toolInstance: ToolInstance;\n  header?: Header;\n  footer?: RenderFooter;\n  sider?: Sider;\n  style?: {\n    layout?: { [key: string]: any };\n    header?: { [key: string]: any };\n    sider?: { [key: string]: any };\n    footer?: { [key: string]: any };\n  };\n  setToolInstance?: (tool: ToolInstance) => void;\n  mode?: 'light' | 'dark'; // 临时需求应用于 toolFooter 的操作\n  showTips?: boolean; // 是否展示 tips\n  tips?: string; // Tips 具体内容\n  defaultLang: 'en' | 'cn'; // 国际化设置\n  leftSider?: () => React.ReactNode | React.ReactNode;\n\n  // data Correction\n  skipBeforePageTurning?: (pageTurning: Function) => void;\n  beforeRotate?: () => boolean;\n\n  drawLayerSlot?: (props: {\n    zoom: number;\n    currentPos: { x: number; y: number };\n  }) => React.ReactNode;\n\n  // 标注信息扩展的功能\n  dataInjectionAtCreation: (annotationData: any) => {};\n  // 渲染增强\n  renderEnhance: {\n    staticRender?: (canvas: HTMLCanvasElement, data: any, style: IAnnotationStyle) => void;\n    selectedRender?: (canvas: HTMLCanvasElement, data: any, style: IAnnotationStyle) => void;\n    creatingRender?: (canvas: HTMLCanvasElement, data: any, style: IAnnotationStyle) => void;\n  };\n  customRenderStyle?: (data: any) => IAnnotationStyle;\n}\n\nconst App: React.FC<AppProps> = (props) => {\n  const {\n    imgList,\n    step = 1,\n    stepList,\n    onSubmit,\n    onSave,\n    onPageChange,\n    onStepChange,\n    initialIndex = 0,\n    toolInstance,\n    setToolInstance,\n    getFileData,\n    pageSize = 10,\n    loadFileList,\n    defaultLang = 'cn',\n    skipBeforePageTurning,\n    beforeRotate,\n  } = props;\n\n  useEffect(() => {\n    store.dispatch(\n      InitTaskData({\n        onSubmit,\n        stepList,\n        step,\n        getFileData,\n        pageSize,\n        loadFileList,\n        onSave,\n        onPageChange,\n        onStepChange,\n        skipBeforePageTurning,\n        beforeRotate,\n      }),\n    );\n\n    initImgList();\n    // 初始化国际化语言\n    i18n.changeLanguage(defaultLang);\n  }, []);\n\n  useEffect(() => {\n    store.dispatch(\n      UpdateInjectFunc({\n        onSubmit,\n        stepList,\n        getFileData,\n        pageSize,\n        loadFileList,\n        onSave,\n        onPageChange,\n        onStepChange,\n        beforeRotate,\n      }),\n    );\n\n    i18n.changeLanguage(defaultLang);\n  }, [\n    onSubmit,\n    stepList,\n    getFileData,\n    pageSize,\n    loadFileList,\n    onSave,\n    onPageChange,\n    onStepChange,\n    defaultLang,\n    beforeRotate,\n  ]);\n\n  useEffect(() => {\n    setToolInstance?.(toolInstance);\n  }, [toolInstance]);\n\n  // 初始化imgList 优先以loadFileList方式加载数据\n  const initImgList = () => {\n    if (loadFileList) {\n      loadImgList(store.dispatch, store.getState, initialIndex, true).then((isSuccess) => {\n        if (isSuccess) {\n          store.dispatch(LoadFileAndFileData(initialIndex));\n        }\n      });\n    } else if (imgList && imgList.length > 0) {\n      store.dispatch({\n        type: ANNOTATION_ACTIONS.UPDATE_IMG_LIST,\n        payload: {\n          imgList,\n        },\n      });\n      store.dispatch(LoadFileAndFileData(initialIndex));\n    }\n  };\n\n  return (\n    <div>\n      <MainView {...props} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  toolInstance: state.annotation.toolInstance,\n});\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(App);\n","import { AppProps } from '@/App';\nimport { ViewportProvider } from '@/components/customResizeHook';\nimport { prefix } from '@/constant';\nimport { Spin } from 'antd';\nimport { Layout } from 'antd/es';\nimport _ from 'lodash';\nimport React from 'react';\nimport AnnotationOperation from './annotationOperation';\nimport AnnotationTips from './annotationTips';\nimport Sidebar from './sidebar';\nimport ToolFooter from './toolFooter';\nimport ToolHeader from './toolHeader';\nimport { getStepConfig } from '@/store/annotation/reducer';\n\nimport VideoAnnotate from '@/components/videoAnnotate';\nimport { AppState } from '@/store';\nimport { connect } from 'react-redux';\nimport ToolUtils from '@/utils/ToolUtils';\nimport PointCloudView from '@/components/pointCloudView';\nimport { getClassName } from '@/utils/dom';\nimport { classnames } from '@/utils';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  path: string;\n  loading: boolean;\n}\n\nconst { Sider, Content } = Layout;\n\nconst layoutCls = `${prefix}-layout`;\n\nconst ImageAnnotate: React.FC<AppProps & IProps> = (props) => {\n  return (\n    <>\n      {props.showTips === true && <AnnotationTips path={props.path} tips={props.tips} />}\n      <AnnotationOperation {...props} />\n      <ToolFooter style={props.style?.footer} mode={props.mode} footer={props?.footer} />\n    </>\n  );\n};\n\nconst PointCloudAnnotate: React.FC<AppProps & IProps> = (props) => {\n  return (\n    <>\n      <PointCloudView />\n      <ToolFooter style={props.style?.footer} mode={props.mode} footer={props?.footer} />\n    </>\n  );\n};\n\nconst AnnotatedArea: React.FC<AppProps & IProps> = (props) => {\n  const { stepList, step } = props;\n  const currentToolName = getStepConfig(stepList, step)?.tool;\n  const isVideoTool = ToolUtils.isVideoTool(currentToolName);\n  const isPointCloudTool = ToolUtils.isPointCloudTool(currentToolName);\n\n  if (isVideoTool) {\n    return <VideoAnnotate {...props} />;\n  }\n\n  if (isPointCloudTool) {\n    return <PointCloudAnnotate {...props} />;\n  }\n\n  return <ImageAnnotate {...props} />;\n};\n\nconst MainView: React.FC<AppProps & IProps> = (props) => {\n  const siderWidth = props.style?.sider?.width;\n\n  return (\n    <ViewportProvider>\n      <Spin spinning={props.loading}>\n        <Layout className={classnames([layoutCls, props.className])} style={props.style?.layout}>\n          <header className={`${layoutCls}__header`} style={props.style?.header}>\n            <ToolHeader\n              header={props?.header}\n              headerName={props.headerName}\n              goBack={props.goBack}\n              exportData={props.exportData}\n            />\n          </header>\n\n          <Layout className={getClassName('layout', 'container')}>\n            {props?.leftSider}\n            <Content className={`${layoutCls}__content`}>\n              <AnnotatedArea {...props} />\n            </Content>\n            <Sider\n              className={`${layoutCls}__side`}\n              width={siderWidth ? siderWidth : 240}\n              style={props.style?.sider}\n            >\n              <Sidebar sider={props?.sider} />\n            </Sider>\n          </Layout>\n        </Layout>\n      </Spin>\n    </ViewportProvider>\n  );\n};\n\nconst mapStateToProps = ({ annotation }: AppState) => {\n  const { imgList, loading } = annotation;\n  const imgInfo = imgList[annotation.imgIndex] ?? {};\n  return {\n    path: imgInfo?.path ?? imgInfo?.url ?? '', // 将当前路径的数据注入\n    loading,\n  };\n};\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(MainView);\n","const styleString = '{\"toolColor\":{\"1\":{\"valid\":{\"stroke\":\"rgba(0,0,255,0.50)\",\"fill\":\"rgba(0,0,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.80)\"},\"validSelected\":{\"stroke\":\"rgba(0,15,255,1.00)\",\"fill\":\"rgba(0,15,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,0.60)\",\"fill\":\"rgba(255,0,0,0.24)\"},\"validHover\":{\"stroke\":\"rgba(0,15,255,0.80)\",\"fill\":\"rgba(0,15,255,0.64)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,0.50)\",\"fill\":\"rgba(255,0,0,0.40)\"}},\"3\":{\"valid\":{\"stroke\":\"rgba(0,255,255,0.50)\",\"fill\":\"rgba(0,255,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.80)\"},\"validSelected\":{\"stroke\":\"rgba(0,212,255,1.00)\",\"fill\":\"rgba(0,212,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,0.60)\",\"fill\":\"rgba(255,0,0,0.24)\"},\"validHover\":{\"stroke\":\"rgba(0,212,255,0.80)\",\"fill\":\"rgba(0,212,255,0.64)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,0.50)\",\"fill\":\"rgba(255,0,0,0.40)\"}},\"5\":{\"valid\":{\"stroke\":\"rgba(0,255,0,0.50)\",\"fill\":\"rgba(0,255,0,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.80)\"},\"validSelected\":{\"stroke\":\"rgba(149,255,1.00)\",\"fill\":\"rgba(149,255,0,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,0.60)\",\"fill\":\"rgba(255,0,0,0.24)\"},\"validHover\":{\"stroke\":\"rgba(149,255,0,0.80)\",\"fill\":\"rgba(149,255,0,0.64)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,0.50)\",\"fill\":\"rgba(255,0,0,0.40)\"}},\"7\":{\"valid\":{\"stroke\":\"rgba(255,255,0,0.50)\",\"fill\":\"rgba(255,255,0,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.80)\"},\"validSelected\":{\"stroke\":\"rgba(255,230,102,1.00)\",\"fill\":\"rgba(255,213,0,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,0.60)\",\"fill\":\"rgba(255,0,0,0.24)\"},\"validHover\":{\"stroke\":\"rgba(255,230,102,0.80)\",\"fill\":\"rgba(255,230,102,0.64)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,0.50)\",\"fill\":\"rgba(255,0,0,0.40)\"}},\"9\":{\"valid\":{\"stroke\":\"rgba(255,0,255,0.50)\",\"fill\":\"rgba(255,0,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.80)\"},\"validSelected\":{\"stroke\":\"rgba(230,102,255,1.00)\",\"fill\":\"rgba(213,0,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,0.60)\",\"fill\":\"rgba(255,0,0,0.24)\"},\"validHover\":{\"stroke\":\"rgba(230,102,255,0.80)\",\"fill\":\"rgba(230,102,255,0.64)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,0.50)\",\"fill\":\"rgba(255,0,0,0.40)\"}}},\"attributeColor\":[{\"valid\":{\"stroke\":\"rgba(204,204,204,1.00)\",\"fill\":\"rgba(204,204,204,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(204,204,204,1.00)\",\"fill\":\"rgba(204,204,204,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(204,204,204,1.00)\",\"fill\":\"rgba(204,204,204,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(153,51,255,1.00)\",\"fill\":\"rgba(153,51,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(153,51,255,1.00)\",\"fill\":\"rgba(153,51,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(153,51,255,1.00)\",\"fill\":\"rgba(153,51,255,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(51,254,51,1.00)\",\"fill\":\"rgba(51,254,51,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(51,254,51,1.00)\",\"fill\":\"rgba(51,254,51,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(51,254,51,1.00)\",\"fill\":\"rgba(51,254,51,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(255,51,255,1.00)\",\"fill\":\"rgba(255,51,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(255,51,255,1.00)\",\"fill\":\"rgba(255,51,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(255,51,255,1.00)\",\"fill\":\"rgba(255,51,255,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(204,255,51,1.00)\",\"fill\":\"rgba(204,255,51,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(204,255,51,1.00)\",\"fill\":\"rgba(204,255,51,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(204,255,51,1.00)\",\"fill\":\"rgba(204,255,51,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(51,153,255,1.00)\",\"fill\":\"rgba(51,153,255,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(51,153,255,1.00)\",\"fill\":\"rgba(51,153,255,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(51,153,255,1.00)\",\"fill\":\"rgba(51,153,255,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(255,153,51,1.00)\",\"fill\":\"rgba(255,153,51,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(255,153,51,1.00)\",\"fill\":\"rgba(255,153,51,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(255,153,51,1.00)\",\"fill\":\"rgba(255,153,51,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(51,255,238,1.00)\",\"fill\":\"rgba(51,255,238,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(51,255,238,1.00)\",\"fill\":\"rgba(51,255,238,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(51,255,238,1.00)\",\"fill\":\"rgba(51,255,238,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}},{\"valid\":{\"stroke\":\"rgba(255,221,51,1.00)\",\"fill\":\"rgba(255,221,51,0.40)\"},\"invalid\":{\"stroke\":\"rgba(255,153,102,1.00)\",\"fill\":\"rgba(255,153,102,0.40)\"},\"validSelected\":{\"stroke\":\"rgba(255,221,51,1.00)\",\"fill\":\"rgba(255,221,51,0.80)\"},\"invalidSelected\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"},\"validHover\":{\"stroke\":\"rgba(255,221,51,1.00)\",\"fill\":\"rgba(255,221,51,0.80)\"},\"invalidHover\":{\"stroke\":\"rgba(255,0,0,1.00)\",\"fill\":\"rgba(255,0,0,0.80)\"}}],\"lineColor\":{\"1\":\"rgba(102, 111, 255, 1 )\",\"3\":\"rgba(102, 230, 255, 1)\",\"5\":\"rgba(191, 255, 102, 1)\",\"7\":\"rgba(255, 230, 102, 1)\",\"9\":\"rgba(230, 102, 255, 1)\"},\"attributeLineColor\":[\"rgba(204, 204, 204, 1)\",\"rgba(153, 51, 255, 1)\",\"rgba(51, 254, 51, 1)\",\"rgba(255, 51, 255, 1)\",\"rgba(204, 255, 51, 1)\",\"rgba(51, 153, 255, 1)\",\"rgba(255, 153, 51, 1)\",\"rgba(51, 255, 238, 1)\",\"rgba(255, 221, 51, 1)\"],\"color\":1,\"width\":2,\"opacity\":9}';\n\nexport default styleString;\n","import { uuid } from '@labelbee/lb-annotation';\nimport { jsonParser } from '.';\nimport { EToolName } from '@/data/enums/ToolType';\nimport _ from 'lodash';\nimport StepUtils from './StepUtils';\nimport { IStepInfo } from '@/types/step';\n\nexport default class AnnotationDataUtils {\n  /**\n   * 复制上一张图片结果\n   * @param copyResult 复制的结果\n   * @param step 复制的步骤\n   * @param currentResult 当前的步骤\n   * @returns\n   */\n  public static copyResultChange(copyResult: string, step: number, currentResult: string) {\n    // 其实其限定的范围一般都在单图的情况\n    try {\n      const copyData = jsonParser(copyResult);\n      const currentData = jsonParser(currentResult);\n      const stepName = `step_${step}`;\n      if (copyData[stepName]) {\n        // 这层可能还要处理 dataSource 依赖问题\n        const info = copyData[stepName];\n        if (info.result) {\n          info.result = info.result.map((info: any) => ({\n            ...info,\n            // @ts-ignore\n            id: uuid(8, 62),\n          }));\n          currentData[stepName] = info;\n          return JSON.stringify(currentData);\n        }\n      }\n      return copyResult;\n    } catch {\n      return copyResult;\n    }\n  }\n\n  /**\n   * 判断结果sourceID与依赖数据的id是否能对应\n   * @param result\n   * @param basicResultList\n   */\n  public static isResultSourceMatchedDependence(result: any, basicResultList: any[]) {\n    const sourceIDForCurStep = result?.map((i: { sourceID: string }) => i.sourceID).sort();\n    const sourceIDForDependStep = basicResultList?.map((i) => i.id).sort();\n\n    return _.isEqual(sourceIDForCurStep, sourceIDForDependStep);\n  }\n\n  /**\n   * 获取依赖增量更新的内容\n   * @param result\n   * @param basicResultList\n   * @returns\n   */\n  public static deltaUpdateBasicResultList(result: any, basicResultList: any[]) {\n    const sourceIDForCurStep = result?.map((i: { sourceID: string }) => i.sourceID).sort();\n\n    return basicResultList.filter((v) => !sourceIDForCurStep.includes(v.id));\n  }\n\n  /**\n   *\n   * @param stepResult\n   * @param toolInstance\n   * @param stepConfig\n   * @param basicResultList 获取初始化数据 该部分默认输入需要为空数组\n   * @param isInitData\n   * @returns\n   */\n  public static getInitialResultList(\n    stepResult: any[] | undefined,\n    toolInstance: any,\n    stepConfig: any,\n    basicResultList: any[],\n    isInitData: boolean,\n  ) {\n    const resultList = stepResult ?? [];\n\n    switch (stepConfig.tool) {\n      case EToolName.Tag:\n      case EToolName.Text: {\n        /**\n         * 在依赖的情况下，检查的是否需要增量更新前面新增的结果\n         */\n        if (stepConfig.dataSourceStep > 0) {\n          const deltaResultList = this.deltaUpdateBasicResultList(resultList, basicResultList);\n          if (deltaResultList.length > 0) {\n            return resultList.concat(\n              toolInstance.getInitResultList(stepConfig.dataSourceStep, deltaResultList),\n            );\n          }\n        }\n\n        if (isInitData !== true) {\n          return resultList;\n        }\n\n        return toolInstance.getInitResultList(stepConfig.dataSourceStep, basicResultList);\n      }\n\n      default: {\n        return resultList;\n      }\n    }\n  }\n\n  /**\n   * 修正数据，找到被删除的数据，并将依赖该数据的结果全部删除\n   * @param newResStr 新提交的数据\n   * @param oldResStr 当前的数据\n   * @param step 当前操作的步骤\n   * @param stepList 步骤列表\n   */\n  public static dataCorrection(\n    newResStr: string,\n    oldResStr: string,\n    step: number,\n    stepList: IStepInfo[],\n  ) {\n    try {\n      const curStep = StepUtils.getStepInfo(step, stepList);\n      const stepKey = `step_${curStep.step}`;\n      const newRes = jsonParser(newResStr);\n      const oldRes = jsonParser(oldResStr);\n      const newResForCurStep = newRes[stepKey]?.result;\n      const oldResForCurStep = oldRes[stepKey]?.result;\n\n      /** 没有旧数据时不处理 */\n      if (!oldResForCurStep) {\n        return newResStr;\n      }\n\n      if (_.isEqual(newResForCurStep.sort(this.idCmp), oldResForCurStep.sort(this.idCmp))) {\n        return newResStr;\n      }\n\n      const deletedIds = this.findDeletedIds(newResForCurStep, oldResForCurStep);\n\n      if (deletedIds.length === 0) {\n        return newResStr;\n      }\n\n      const dataSourceStep = step;\n      const stepKeys = this.getStepKeys(newRes).sort();\n      this.deleteRes(newRes, dataSourceStep, deletedIds, stepKeys);\n\n      return JSON.stringify(newRes);\n    } catch (error) {\n      console.error(error);\n      return newResStr;\n    }\n  }\n\n  /**\n   * id sort 规则\n   * @param a\n   * @param b\n   * @returns\n   */\n  public static idCmp(a: any, b: any) {\n    const idA = a.id;\n    const idB = b.id;\n    if (idA < idB) {\n      return -1;\n    }\n    if (idA > idB) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n  /**\n   * 找到结果被删除的id\n   * @param newResForCurStep\n   * @param oldResForCurStep\n   * @returns {Array<string>}\n   */\n  public static findDeletedIds(newResForCurStep: any[], oldResForCurStep: any[]) {\n    return this.findDeletedItems(oldResForCurStep, newResForCurStep).map((i) => i.id);\n  }\n\n  /**\n   * 找到被删除的结果\n   * @param oldResForCurStep\n   * @param newResForCurStep\n   * @returns {Array<any>}\n   */\n  public static findDeletedItems(oldResForCurStep: any[], newResForCurStep: any[]) {\n    const deletedItems: any[] = [];\n    oldResForCurStep.forEach((i: any) => {\n      const isNewResExisted = newResForCurStep.some((r: any) => r.id === i.id);\n      if (!isNewResExisted) {\n        deletedItems.push(i);\n      }\n    });\n    return deletedItems;\n  }\n\n  /**\n   * 根据结果找到所有的步骤\n   * @param res\n   * @returns {Array<number>} 结果步骤列表\n   */\n  public static getStepKeys(res: any) {\n    return Object.keys(res)\n      .map((i) => parseInt(i.replace('step_', ''), 10))\n      .filter((i) => !isNaN(i));\n  }\n\n  /**\n   * 删除依赖数据的结果\n   * @param resData 当前文件的结果\n   * @param dataSourceStep 依赖步骤\n   * @param deletedIds 需要删除的sourceID\n   * @param stepKeys 结果的步骤\n   */\n  public static deleteRes(\n    resData: any,\n    dataSourceStep: number,\n    deletedIds: string[],\n    stepKeys: number[],\n  ) {\n    stepKeys.forEach((s) => {\n      if (s > dataSourceStep) {\n        const stepRes = resData[`step_${s}`];\n        // 文件夹标签, 分割工具 没有依赖, 不进行判断\n        if ([EToolName.FolderTag, EToolName.Segmentation].includes(stepRes.tool)) {\n          return;\n        }\n        if (stepRes.dataSourceStep === dataSourceStep) {\n          const newDeletedIds: string[] = [];\n          stepRes.result = stepRes.result.filter((i: any) => {\n            const exist = deletedIds.includes(i.sourceID);\n            if (exist) {\n              newDeletedIds.push(i.id);\n              return false;\n            }\n\n            return true;\n          });\n          this.deleteRes(resData, s, newDeletedIds, stepKeys);\n        } else {\n          // 非直接依赖关系下，也同样过滤删除了对应框的数据（注意: 该场景不包含 filterData 过滤属性下，更改框的属性来删除对应的框体）\n          stepRes.result = stepRes.result.filter((i: any) => {\n            const exist = deletedIds.includes(i.sourceID);\n            if (exist) {\n              return false;\n            }\n\n            return true;\n          });\n        }\n      }\n    });\n  }\n}\n","import { jsonParser } from '.';\nimport StepUtils from './StepUtils';\n\n/**\n * 解析结果，将图片信息注入到结果\n * @param result\n * @param basicImgInfo\n */\nexport const composeResultWithBasicImgInfo = (\n  result: string,\n  basicImgInfo: { [a: string]: any },\n) => {\n  const newResult = JSON.stringify({ ...jsonParser(result), ...basicImgInfo });\n  return newResult;\n};\n\n// 处理result\nexport const composeResult = (\n  result: string,\n  pos: {\n    step: number;\n    stepList: any[];\n  },\n  newData: {\n    rect: any[];\n    basicRectID?: string;\n  },\n  customObject: Object,\n) => {\n  const { step, stepList } = pos;\n  const { rect, basicRectID } = newData;\n\n  try {\n    const data = jsonParser(result);\n    const currentStepInfo = StepUtils.getCurrentStepInfo(step, stepList);\n    const { dataSourceStep } = currentStepInfo;\n\n    const stepName = `step_${currentStepInfo.step}`;\n\n    if (data[stepName]) {\n      const info = data[stepName];\n      Object.assign(info, customObject);\n\n      if (info.result) {\n        if (JSON.stringify(info.result) === JSON.stringify(rect)) {\n          return JSON.stringify(data);\n        }\n        if (basicRectID) {\n          info.result = [\n            ...info.result.filter(\n              (v: { sourceID: string }) => !(v.sourceID && v.sourceID === basicRectID),\n            ),\n            ...rect.filter((v) => v.sourceID && v.sourceID === basicRectID),\n          ];\n        } else {\n          info.result = rect;\n        }\n        return JSON.stringify(data);\n      }\n      return JSON.stringify({\n        ...data,\n        [stepName]: {\n          ...data[stepName],\n          ...customObject,\n          result: rect,\n        },\n      });\n    }\n    // 初始化结果\n    return JSON.stringify({\n      ...data,\n      [stepName]: {\n        dataSourceStep,\n        ...customObject,\n        toolName: stepList[step - 1].tool,\n        result: rect,\n      },\n    });\n  } catch (e) {\n    return result;\n  }\n};\n","import { EPageTurningOperation } from '../data/enums/AnnotationSize';\nimport _ from 'lodash';\nimport { jsonParser } from '.';\n\ninterface IPageInfo {\n  fileIndex: number;\n  basicIndex: number;\n  basicList: any[];\n  fileList: any[];\n  step: number;\n  stepList: any[];\n}\n\nclass PageOperator {\n  public static getPageInfo(annotationStore: any) {\n    const {\n      imgIndex: fileIndex,\n      imgList: fileList,\n      basicResultList: basicList,\n      basicIndex,\n      step,\n      stepList,\n    } = annotationStore;\n\n    return {\n      fileIndex,\n      basicIndex,\n      basicList,\n      fileList,\n      step,\n      stepList,\n    };\n  }\n\n  /**\n   *\n   * @param pageTurningOperation\n   * @param nextIndex\n   */\n  public static getNextPageInfo(\n    pageTurningOperation: EPageTurningOperation,\n    annotationStore: any,\n    nextIndex?: number,\n  ) {\n    const pageInfo: IPageInfo = PageOperator.getPageInfo(annotationStore);\n    const { fileIndex: currentFileIndex } = PageOperator.getPageInfo(annotationStore);\n\n    const nextFileIndex = PageOperator.getNextFileIndex(pageTurningOperation, pageInfo, nextIndex);\n    const nextBasicIndex = PageOperator.getNextBasicIndex(\n      pageTurningOperation,\n      pageInfo.basicIndex,\n    );\n    const fileIndexChanged = nextFileIndex !== currentFileIndex;\n\n    const hasNextBasicIndex = PageOperator.hasNextBasicIndex(pageTurningOperation, pageInfo);\n\n    const pageChangedInfo = {\n      fileIndex: nextFileIndex,\n      basicIndex: nextBasicIndex,\n      fileIndexChanged,\n      basicIndexChanged: hasNextBasicIndex,\n    };\n\n    if (hasNextBasicIndex) {\n      pageChangedInfo.fileIndexChanged = false;\n      pageChangedInfo.fileIndex = currentFileIndex;\n      return pageChangedInfo;\n    }\n\n    pageChangedInfo.basicIndex =\n      pageTurningOperation === EPageTurningOperation.Backward\n        ? PageOperator.getBasicResultIndexForNextFile(pageInfo, pageChangedInfo.fileIndex)\n        : 0;\n\n    return pageChangedInfo;\n  }\n\n  /**\n   * 获取下一个依赖索引\n   * @param pageTurningOperation\n   */\n  public static getNextBasicIndex = (\n    pageTurningOperation: EPageTurningOperation,\n    basicIndex: number,\n  ) => {\n    return basicIndex + (pageTurningOperation === EPageTurningOperation.Forward ? 1 : -1);\n  };\n\n  /**\n   * 存在下一个依赖数据\n   * @param pageTurningOperation\n   */\n  public static hasNextBasicIndex = (\n    pageTurningOperation: EPageTurningOperation,\n    pageInfo: IPageInfo,\n  ) => {\n    const { basicList } = pageInfo;\n    if (basicList?.length > 0) {\n      const nextBasicIndex = PageOperator.getNextBasicIndex(\n        pageTurningOperation,\n        pageInfo.basicIndex,\n      );\n\n      return nextBasicIndex >= 0 && basicList.length > nextBasicIndex;\n    }\n\n    return false;\n  };\n\n  public static getBasicResultIndexForNextFile = (pageInfo: IPageInfo, fileIndex: number) => {\n    const { stepList, step, fileList } = pageInfo;\n    const stepConfig = stepList.find((i) => i.step === step);\n    const dataSourceStep = stepConfig?.dataSourceStep;\n\n    if (dataSourceStep) {\n      const fileResult = jsonParser(fileList[fileIndex].result);\n      const stepResult = fileResult[`step_${dataSourceStep}`]?.result;\n\n      if (!stepResult || !stepResult?.length) {\n        return 0;\n      }\n\n      return stepResult?.length - 1;\n    }\n\n    return 0;\n  };\n\n  /**\n   * 计算下一个文件的索引\n   * @param pageTurningOperation\n   * @param fileIndex\n   */\n  public static getNextFileIndex = (\n    pageTurningOperation: EPageTurningOperation,\n    pageInfo: IPageInfo,\n    fileIndex?: number,\n  ) => {\n    const { fileIndex: currentFileIndex, fileList } = pageInfo;\n\n    let newIndex = fileIndex !== undefined ? fileIndex : currentFileIndex;\n    switch (pageTurningOperation) {\n      case EPageTurningOperation.Forward:\n        newIndex += 1;\n        break;\n      case EPageTurningOperation.Backward:\n        newIndex -= 1;\n        break;\n      case EPageTurningOperation.Jump:\n        break;\n    }\n\n    if (_.inRange(newIndex, 0, fileList.length)) {\n      return newIndex;\n    }\n\n    return currentFileIndex;\n  };\n}\n\nexport default PageOperator;\n","import { store } from '@/index';\nimport { LabelBeeContext } from '@/store/ctx';\nimport { message } from 'antd/es';\nimport _ from 'lodash';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { AppState } from 'src/store';\nimport { ImgAttributeState } from 'src/store/imgAttribute/types';\n\nimport { AppProps } from '@/App';\nimport FileError from '@/components/fileException/FileError';\nimport useSize from '@/hooks/useSize';\nimport { InitToolStyleConfig } from '@/store/toolStyle/actionCreators';\nimport { AnnotationEngine, ImgUtils } from '@labelbee/lb-annotation';\nimport { i18n } from '@labelbee/lb-utils';\nimport { IStepInfo } from '@/types/step';\nimport StepUtils from '@/utils/StepUtils';\n\ninterface IProps extends AppState, AppProps {\n  imgAttribute: ImgAttributeState;\n  imgIndex: number;\n  annotationEngine: AnnotationEngine;\n  loading: boolean;\n  stepList: IStepInfo[];\n  step: number;\n}\n\nconst AnnotationOperation: React.FC<IProps> = (props: IProps) => {\n  const [, forceRender] = useState<number>(0);\n\n  const {\n    imgAttribute,\n    toolStyle,\n    toolInstance,\n    annotationEngine,\n    imgList,\n    imgIndex,\n    dataInjectionAtCreation,\n    renderEnhance,\n    customRenderStyle,\n    stepList,\n    step,\n    drawLayerSlot,\n  } = props;\n  const [annotationPos, setAnnotationPos] = useState({ zoom: 1, currentPos: { x: 0, y: 0 } });\n  const annotationRef = useRef<HTMLDivElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const size = useSize(annotationRef);\n\n  useEffect(() => {\n    store.dispatch(InitToolStyleConfig());\n  }, []);\n\n  useEffect(() => {\n    if (!annotationEngine) {\n      return;\n    }\n\n    // 更改 toolInstance 内部国际化语言\n    switch (i18n.language) {\n      case 'cn':\n      case 'en':\n        annotationEngine.setLang(i18n.language);\n        break;\n      default: {\n        //\n        break;\n      }\n    }\n    annotationEngine?.setDataInjectionAtCreation(dataInjectionAtCreation);\n    annotationEngine?.setRenderEnhance(renderEnhance);\n    if (customRenderStyle) {\n      annotationEngine?.setCustomRenderStyle(customRenderStyle);\n    }\n  }, [annotationEngine, dataInjectionAtCreation, renderEnhance, customRenderStyle]);\n\n  useEffect(() => {\n    const renderZoom = (zoom: number, currentPos: { x: number; y: number }) => {\n      setAnnotationPos({ zoom, currentPos });\n    };\n\n    const dragMove = (props: { currentPos: { x: number; y: number }; zoom: number }) => {\n      setAnnotationPos(props);\n    };\n\n    if (toolInstance) {\n      toolInstance.singleOn('messageError', (error: string) => {\n        message.error(error);\n      });\n\n      toolInstance.singleOn('messageInfo', (info: string) => {\n        message.info(info);\n      });\n\n      toolInstance.singleOn('changeAnnotationShow', () => {\n        forceRender((s) => s + 1);\n      });\n\n      toolInstance.on('renderZoom', renderZoom);\n      toolInstance.on('dragMove', dragMove);\n    }\n\n    return () => {\n      if (toolInstance) {\n        toolInstance.unbind('renderZoom', renderZoom);\n        toolInstance.unbind('dragMove', dragMove);\n      }\n    };\n  }, [toolInstance]);\n\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.setImgAttribute(imgAttribute);\n    }\n  }, [imgAttribute]);\n\n  /** 样式同步 */\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.setStyle(toolStyle);\n    }\n    if (annotationEngine) {\n      annotationEngine.setStyle(toolStyle);\n    }\n  }, [toolStyle]);\n\n  /** 窗口大小监听 */\n  useEffect(() => {\n    if (toolInstance?.setSize) {\n      toolInstance.setSize(size);\n    }\n\n    if (annotationEngine) {\n      annotationEngine.setSize(size);\n    }\n  }, [size]);\n\n  useEffect(() => {\n    // Update StepList When it update by outside\n    const currentStepInfo = StepUtils.getCurrentStepInfo(step, stepList);\n    toolInstance?.setConfig(currentStepInfo.config);\n  }, [stepList]);\n\n  /**\n   * 重新加载图片，避免网络问题导致的图片无法加载\n   * @returns\n   */\n  const reloadImg = () => {\n    const imgInfo = imgList?.[imgIndex];\n    if (!imgInfo?.url) {\n      return;\n    }\n\n    ImgUtils.load(imgInfo.url).then((imgNode) => {\n      annotationEngine.setImgNode(imgNode as HTMLImageElement);\n    });\n  };\n\n  return (\n    <div ref={annotationRef} className='annotationOperation'>\n      <div className='canvas' ref={containerRef} style={size} id='toolContainer'>\n        {drawLayerSlot?.(annotationPos)}\n      </div>\n      {toolInstance?.isImgError === true && (\n        <FileError\n          {...size}\n          reloadImage={reloadImg}\n          backgroundColor='#e2e2e2'\n          ignoreOffsetY={true}\n        />\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  const annotationState = _.pickBy(state.annotation, (v, k) =>\n    [\n      'imgList',\n      'imgIndex',\n      'stepList',\n      'step',\n      'toolInstance',\n      'annotationEngine',\n      'loading',\n    ].includes(k),\n  );\n  return {\n    imgAttribute: state.imgAttribute,\n    toolStyle: state.toolStyle,\n    ...annotationState,\n  };\n};\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(\n  AnnotationOperation,\n);\n","import type { Dispatch, SetStateAction } from 'react';\nimport { useCallback, useRef, useState, useEffect } from 'react';\n\nconst useRafState = <S>(initialState: S | (() => S)): [S, Dispatch<SetStateAction<S>>] => {\n  const frame = useRef(0);\n  const [state, setState] = useState(initialState);\n\n  const setRafState = useCallback((value: S | ((prevState: S) => S)) => {\n    cancelAnimationFrame(frame.current);\n\n    frame.current = requestAnimationFrame(() => {\n      setState(value);\n    });\n  }, []);\n\n  useEffect(() => {\n    return () => cancelAnimationFrame(frame.current);\n  }, [])\n\n  return [state, setRafState];\n};\n\nexport default useRafState;","/*\n * Annotation Tips Showing\n * @Author: Laoluo luozefeng@sensetime.com\n * @Date: 2022-05-11 17:15:30\n * @LastEditors: Laoluo luozefeng@sensetime.com\n * @LastEditTime: 2022-05-12 19:34:32\n */\nimport React from 'react';\nimport { Tooltip } from 'antd';\nimport { prefix } from '@/constant';\n\ninterface IProps {\n  tips?: string;\n  path?: string;\n}\n\nconst AnnotationTips = ({ path, tips }: IProps) => {\n  if (!path && !tips) {\n    return null;\n  }\n\n  return (\n    <div className={`${prefix}-tips`}>\n      <Tooltip placement='bottomRight' title={tips}>\n        <span className={`${prefix}-tips__leftContent`} title={tips}>\n          {tips}\n        </span>\n      </Tooltip>\n      <Tooltip placement='bottomRight' title={path}>\n        <span className={`${prefix}-tips__path`}>{path}</span>\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default AnnotationTips;\n","import React, { useEffect, useState } from 'react';\nimport { message } from 'antd/es';\nimport TextAreaFormat from '@/views/MainView/sidebar/TextAreaFormat';\nimport { TextUtils } from '@/utils/TextUtils';\nimport { AppState } from '@/store';\nimport { GraphToolInstance } from '@/store/annotation/types';\nimport { connect } from 'react-redux';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  toolInstance: GraphToolInstance;\n}\n\nconst AnnotationText: React.FC<IProps> = ({ toolInstance }) => {\n  const [, forceRender] = useState<number>(0);\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.singleOn('selectedChange', () => {\n        forceRender((s) => s + 1);\n      });\n      toolInstance.singleOn('updateTextAttribute', () => {\n        // 文本属性的更新\n\n        forceRender((s) => s + 1);\n      });\n\n      toolInstance.singleOn('messageError', (error: string) => {\n        message.error(error);\n      });\n    }\n  }, [toolInstance]);\n\n  if (!toolInstance) {\n    return null;\n  }\n\n  const { config } = toolInstance;\n\n  return (\n    <div>\n      {toolInstance?.config?.textConfigurable && toolInstance.selectedID && (\n        <TextAreaFormat\n          onChange={toolInstance.textChange}\n          textValue={toolInstance.selectedText}\n          checkString={TextUtils.checkString(config?.textCheckType, config?.customFormat)}\n          textCheckType={config.textCheckType}\n        />\n      )}\n    </div>\n  );\n};\n\nfunction mapStateToProps(state: AppState) {\n  return { toolInstance: state.annotation.toolInstance };\n}\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(AnnotationText);\n","import { TEXT_ATTRIBUTE_MAX_LENGTH } from '@/data/enums/ToolType';\nimport { TextUtils } from '@/utils/TextUtils';\nimport { Input, message, Tooltip } from 'antd/es';\nimport React, { FocusEvent, useEffect, useState } from 'react';\nimport IconClearSmallA from '@/assets/annotation/common/icon_clearSmall_a.svg';\nimport IconClearSmall from '@/assets/annotation/common/icon_clearSmall.svg';\nimport { classnames } from '@/utils';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  onChange: (value: string, isSubmit?: boolean) => void;\n  textValue: string | undefined;\n  checkString: string;\n  textCheckType: number;\n}\n\nconst TextAreaFormat = (props: IProps) => {\n  const { t } = useTranslation();\n\n  const { onChange, textValue, checkString, textCheckType } = props;\n  const [textLength, setTextLength] = useState<number>(0);\n  const [error, setError] = useState<boolean>(false);\n  const [onFocus, setOnFocus] = useState<boolean>(false);\n  const [hoverDelete, setHoverDelete] = useState<boolean>(false);\n\n  const clearIcon = (\n    <a>\n      <Tooltip placement='bottom' title={t('EmptyTextInput')}>\n        <img\n          onMouseEnter={() => setHoverDelete(true)}\n          onMouseLeave={() => setHoverDelete(false)}\n          style={{ marginLeft: 6 }}\n          src={hoverDelete ? IconClearSmallA : IconClearSmall}\n          onClick={(e) => {\n            e.stopPropagation();\n            onChange('');\n          }}\n        />\n      </Tooltip>\n    </a>\n  );\n\n  const keyDown = (e: React.KeyboardEvent) => {\n    e.stopPropagation();\n  };\n\n  useEffect(() => {\n    if (textValue) {\n      setTextLength(textValue.length);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (textValue === undefined || textValue === '') {\n      setError(false);\n    } else {\n      try {\n        textValue && setError(!new RegExp(checkString).test(textValue));\n      } catch (error) {\n        setError(true);\n        message.destroy();\n        message.error(t('RegularExpIncorrectly'));\n      }\n    }\n    setTextLength(textValue?.length ?? 0);\n  }, [textValue]);\n\n  const checkText = (e: FocusEvent<HTMLTextAreaElement>) => {\n    if (error) {\n      onChange('');\n      message.error(TextUtils.getErrorNotice(textCheckType));\n      return true;\n    }\n    onChange(e.target.value, true); // 失焦的时候直接进行数据的提交\n  };\n\n  return (\n    <div className='textInputContainer'>\n      <div className='label'>\n        {t('TextInput')}\n        {clearIcon}\n      </div>\n      <div\n        className={classnames({\n          textareaContainer: true,\n          focus: onFocus,\n        })}\n      >\n        <div\n          className={classnames({\n            toolTextAreaBox: true,\n            toolTextAreaBoxFocus: onFocus,\n          })}\n        >\n          <Input.TextArea\n            style={{ resize: 'none', height: 120, wordBreak: 'break-all' }}\n            maxLength={TEXT_ATTRIBUTE_MAX_LENGTH}\n            onKeyDownCapture={(e) => {\n              e.stopPropagation();\n            }}\n            onKeyUpCapture={(e) => {\n              e.stopPropagation();\n            }}\n            onChange={(e) => {\n              onChange(e.target.value);\n              setTextLength(e.target.value.length);\n            }}\n            onFocus={(e) => setOnFocus(true)}\n            onBlur={(e) => {\n              checkText(e);\n              setOnFocus(false);\n            }}\n            value={textValue}\n            onKeyDown={keyDown}\n            className={error ? 'warning' : ''}\n          />\n          <div className='textAreaFooter'>\n            <span className='wordCount'>\n              <span className={textLength > TEXT_ATTRIBUTE_MAX_LENGTH || error ? 'warning' : ''}>\n                {textLength}\n              </span>\n              /<span>{TEXT_ATTRIBUTE_MAX_LENGTH}</span>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TextAreaFormat;\n","import { Tooltip } from 'antd/es';\nimport React, { useState } from 'react';\n\n// 图片调整的刷子\nimport clearSmall from '@/assets/annotation/common/icon_clearSmall.svg';\n// import clearSmallA from '@//assets/annotation/common/icon_clearSmall_a.svg';\nimport { InitImgAttribute } from '@/store/imgAttribute/actionCreators';\nimport { store } from '@/index';\nimport clearSmallA from '@//assets/annotation/common/icon_clearSmall_a.svg';\nimport { useTranslation } from 'react-i18next';\n\nconst clearIcon = () => {\n  const [hoverDelete, setHoverDelete] = useState(false);\n\n  const clearAttribute = () => {\n    store.dispatch(InitImgAttribute());\n  };\n  const { t } = useTranslation();\n\n  return (\n    <Tooltip placement='bottom' title={t('RestoreImageAttributes')}>\n      <img\n        onMouseEnter={() => setHoverDelete(true)}\n        onMouseLeave={() => setHoverDelete(false)}\n        style={{ marginLeft: 6 }}\n        src={hoverDelete ? clearSmallA : clearSmall}\n        onClick={(e) => {\n          e.stopPropagation();\n          clearAttribute();\n        }}\n      />\n    </Tooltip>\n  );\n};\n\nexport default clearIcon;\n","import React from 'react';\nimport { AppState } from '@/store';\nimport { connect, ConnectedComponent } from 'react-redux';\nimport { ToolInstance } from '@/store/annotation/types';\nimport StepUtils from '@/utils/StepUtils';\nimport { IStepInfo } from '@/types/step';\nimport { jsonParser } from '@/utils';\nimport { AnnotationFileList } from '@/types/data';\nimport ActionsConfirm, { IOperationConfig } from './ActionsConfirm';\nimport useOperationList from './useOperationList';\nimport { LabelBeeContext } from '@/store/ctx';\n\nconst mapStateToProps = (state: AppState) => {\n  const stepInfo = StepUtils.getCurrentStepInfo(state.annotation?.step, state.annotation?.stepList);\n\n  return {\n    toolInstance: state.annotation.toolInstance,\n    stepInfo,\n    imgList: state.annotation.imgList,\n    imgIndex: state.annotation.imgIndex,\n  };\n};\ninterface IProps {\n  toolInstance: ToolInstance;\n  stepInfo: IStepInfo;\n  imgList: AnnotationFileList;\n  imgIndex: number;\n}\n\nconst GeneralOperation: React.FC<IProps> = ({ toolInstance, stepInfo }) => {\n  const operationList = useOperationList(toolInstance);\n  const config = jsonParser(stepInfo?.config);\n  const allOperation: IOperationConfig[] = [operationList.empty];\n\n  if (stepInfo?.dataSourceStep === 0) {\n    allOperation.push(operationList.setValidity);\n  }\n\n  if (config?.copyBackwardResult) {\n    allOperation.push(operationList.copyPrevious);\n  }\n\n  return <ActionsConfirm allOperation={allOperation} />;\n};\n\nexport const PointCloudOperation: ConnectedComponent<\n  React.FC<IProps>,\n  Omit<\n    IProps & {\n      children?: React.ReactNode;\n    },\n    'toolInstance' | 'stepInfo' | 'imgList' | 'imgIndex'\n  >\n> = connect(mapStateToProps, null, null, { context: LabelBeeContext })(\n  ({ toolInstance, stepInfo }) => {\n    const operationList = useOperationList(toolInstance);\n    const allOperation: IOperationConfig[] = [\n      operationList.copyPrevious,\n      operationList.empty,\n      operationList.setValidity,\n    ];\n    return <ActionsConfirm allOperation={allOperation} />;\n  },\n);\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(GeneralOperation);\n","import React, { useRef, useState } from 'react';\nimport { Col, Popconfirm } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { prefix } from '@/constant';\n\nexport interface IOperationConfig {\n  name: string;\n  key: string;\n  imgSvg: string | React.ReactElement;\n  hoverSvg: string | React.ReactElement;\n  onClick: () => void;\n}\n\nconst PopconfirmTitle = ({ info }: { info: IOperationConfig }) => {\n  const { t } = useTranslation();\n  if (info.key.startsWith('sure')) {\n    return <div key={info.key}>{`${t('ConfirmTo')}${info.name.slice(0)}？`}</div>;\n  }\n\n  return <span>{info.name}</span>;\n};\n\nconst ActionIcon = ({ icon }: { icon: React.ReactElement | string }) => {\n  if (typeof icon === 'string') {\n    return <img width={23} height={25} src={icon} />;\n  }\n  return icon;\n};\n\nconst ActionsConfirm: React.FC<{ allOperation: IOperationConfig[] }> = ({ allOperation }) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const [isHover, setHover] = useState<string | null>(null);\n  const { t } = useTranslation();\n  const annotationLength = Math.floor(24 / allOperation.length);\n\n  return (\n    <div className='generalOperation' ref={ref}>\n      {allOperation.map((info, index) => (\n        <Col span={annotationLength} key={index}>\n          <div\n            key={info.key}\n            className='item'\n            onMouseEnter={() => {\n              setHover(info.key);\n            }}\n            onMouseLeave={() => {\n              setHover(null);\n            }}\n          >\n            <Popconfirm\n              title={<PopconfirmTitle info={info} />}\n              placement='topRight'\n              okText={t('Confirm')}\n              cancelText={t('Cancel')}\n              getPopupContainer={() => ref.current ?? document.body}\n              onConfirm={info.onClick}\n              overlayClassName={`${prefix}-pop-confirm`}\n            >\n              <div className='icon'>\n                <ActionIcon icon={info.key === isHover ? info.hoverSvg : info.imgSvg} />\n              </div>\n              <div className='toolName' style={{ color: info.key === isHover ? '#666fff' : '' }}>\n                {info.name}\n              </div>\n            </Popconfirm>\n          </div>\n        </Col>\n      ))}\n    </div>\n  );\n};\n\nexport default ActionsConfirm;\n","import { IOperationConfig } from './ActionsConfirm';\nimport clearResultSvg from '@/assets/annotation/common/icon_clear.svg';\nimport clearResultASvg from '@/assets/annotation/common/icon_clear_a.svg';\nimport copyBackStepSvg from '@/assets/annotation/common/icon_invalid.svg';\nimport copyBackStepASvg from '@/assets/annotation/common/icon_invalid_a.svg';\nimport { StopOutlined } from '@ant-design/icons';\nimport { useTranslation } from 'react-i18next';\nimport React, { useMemo, useState } from 'react';\nimport { CopyBackWordResult } from '@/store/annotation/actionCreators';\nimport { store } from '@/index';\nimport { AppState } from '@/store';\nimport { useSelector } from '@/store/ctx';\n\n/**\n * Hooks for sidebar common operations' config\n * @param toolInstance\n * @returns\n */\nconst useOperationList = (toolInstance: any) => {\n  const [updateNum, forceRender] = useState(0);\n  const { t, i18n } = useTranslation();\n  const { currentData } = useSelector((state: AppState) => {\n    const { imgList, imgIndex } = state.annotation;\n\n    return {\n      currentData: imgList[imgIndex],\n    };\n  });\n\n  const iconStyle = {\n    height: '25px',\n    lineHeight: '25px',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  /**\n   * Empty current file result\n   */\n  const empty: IOperationConfig = {\n    name: t('ClearLabel'),\n    key: 'empty',\n    imgSvg: clearResultSvg,\n    hoverSvg: clearResultASvg,\n    onClick: () => {\n      toolInstance?.clearResult();\n    },\n  };\n\n  /**\n   * Set set validity for current file\n   */\n  const setValidity: IOperationConfig = {\n    name: t(toolInstance?.valid === false ? 'SetAsValid' : 'SetAsInvalid'),\n    key: 'setValidity',\n    imgSvg: <StopOutlined style={iconStyle} />,\n    hoverSvg: <StopOutlined style={{ color: '#666fff', ...iconStyle }} />,\n    onClick: () => {\n      toolInstance.setValid(!toolInstance.valid);\n      setTimeout(() => {\n        forceRender((v) => v + 1);\n      });\n    },\n  };\n\n  /**\n   * Copy previous file result\n   */\n  const copyPrevious: IOperationConfig = {\n    name: t('CopyThePrevious'),\n    key: 'copyPrevious',\n    imgSvg: copyBackStepSvg,\n    hoverSvg: copyBackStepASvg,\n    onClick: () => {\n      store.dispatch(CopyBackWordResult());\n    },\n  };\n\n  return useMemo(() => {\n    return {\n      empty,\n      setValidity,\n      copyPrevious,\n    };\n  }, [toolInstance, updateNum, currentData, i18n.language]);\n};\n\nexport default useOperationList;\n","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='25px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3e%e5%bd%a2%e7%8a%b6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-46.000000%2c -141.000000)' fill-rule='nonzero'%3e %3cg id='%e6%b8%85%e7%a9%ba%e6%a0%87%e6%b3%a8' transform='translate(18.000000%2c 123.000000)'%3e %3cg id='icon_clear_normal' transform='translate(28.000000%2c 18.000000)'%3e %3crect id='icon_clear' fill='black' opacity='0' x='0' y='0.00780487805' width='24' height='24'%3e%3c/rect%3e %3cpath d='M24%2c10.6934683 C24%2c9.29483367 22.8777821%2c8.15502957 21.4955096%2c8.15502957 L15.5587661%2c8.15502957 L15.5587661%2c3.13276778 C15.5587661%2c1.40881408 14.1764936%2c0.00780487805 12.4755955%2c0.00780487805 L11.6485748%2c0.00780487805 C9.94767669%2c0.00780487805 8.56540414%2c1.40881408 8.56540414%2c3.13276778 L8.56540414%2c8.15502957 L2.5021476%2c8.15502957 C1.12221788%2c8.15502957 0%2c9.29245908 0%2c10.6934683 C0%2c11.835647 0.754392815%2c12.7926075 1.78055447%2c13.1108028 L1.78055447%2c21.9680305 C1.78055447%2c23.093587 2.68254588%2c24.0078049 3.79304959%2c24.0078049 L20.3615775%2c24.0078049 C21.4720812%2c24.0078049 22.3740726%2c23.093587 22.3740726%2c21.9680305 L22.3740726%2c13.0609364 C23.3205779%2c12.6999984 24%2c11.7786568 24%2c10.6934683 Z M10.114018%2c3.13276778 C10.114018%2c2.27554011 10.8028114%2c1.5774101 11.6485748%2c1.5774101 L12.4755955%2c1.5774101 C13.3213588%2c1.5774101 14.0101523%2c2.27554011 14.0101523%2c3.13276778 L14.0101523%2c8.15502957 L10.114018%2c8.15502957 L10.114018%2c3.13276778 Z M20.3615775%2c22.4381997 L17.8055447%2c22.4381997 L17.8055447%2c19.2206277 C17.8055447%2c18.7860774 17.4588052%2c18.4370124 17.0324092%2c18.4370124 C16.6060133%2c18.4370124 16.2592737%2c18.788452 16.2592737%2c19.2206277 L16.2592737%2c22.4381997 L12.8527919%2c22.4381997 L12.8527919%2c19.2206277 C12.8527919%2c18.7860774 12.5060523%2c18.4370124 12.0796564%2c18.4370124 C11.6509176%2c18.4370124 11.3065209%2c18.788452 11.3065209%2c19.2206277 L11.3065209%2c22.4381997 L7.89769621%2c22.4381997 L7.89769621%2c19.2206277 C7.89769621%2c18.7860774 7.55095666%2c18.4370124 7.12456072%2c18.4370124 C6.69582194%2c18.4370124 6.35142522%2c18.788452 6.35142522%2c19.2206277 L6.35142522%2c22.4381997 L3.79304959%2c22.4381997 C3.53768059%2c22.4381997 3.32916829%2c22.226861 3.32916829%2c21.9680305 L3.32916829%2c13.2295324 L20.8254588%2c13.2295324 L20.8254588%2c21.9656559 C20.8254588%2c22.226861 20.6169465%2c22.4381997 20.3615775%2c22.4381997 Z M21.4978524%2c11.6599272 L2.5021476%2c11.6599272 C1.97500976%2c11.6599272 1.54861382%2c11.2253769 1.54861382%2c10.6934683 C1.54861382%2c10.1591851 1.9773526%2c9.7246348 2.5021476%2c9.7246348 L21.4955096%2c9.7246348 C22.0226474%2c9.7246348 22.4513862%2c10.1591851 22.4513862%2c10.6934683 C22.4513862%2c11.2277514 22.0226474%2c11.6599272 21.4978524%2c11.6599272 Z' id='%e5%bd%a2%e7%8a%b6' fill='%23666666'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_clear_a%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-166.000000%2c -141.000000)' fill-rule='nonzero'%3e %3cg id='%e6%b8%85%e7%a9%ba%e6%a0%87%e6%b3%a8%e5%a4%87%e4%bb%bd' transform='translate(138.000000%2c 123.000000)'%3e %3cg id='icon_clear' transform='translate(28.000000%2c 18.000000)'%3e %3crect id='icon_clear_active' fill='black' opacity='0' x='0' y='0.00780487805' width='24' height='24'%3e%3c/rect%3e %3cpath d='M24%2c10.6934683 C24%2c9.29483367 22.8777821%2c8.15502957 21.4955096%2c8.15502957 L15.5587661%2c8.15502957 L15.5587661%2c3.13276778 C15.5587661%2c1.40881408 14.1764936%2c0.00780487805 12.4755955%2c0.00780487805 L11.6485748%2c0.00780487805 C9.94767669%2c0.00780487805 8.56540414%2c1.40881408 8.56540414%2c3.13276778 L8.56540414%2c8.15502957 L2.5021476%2c8.15502957 C1.12221788%2c8.15502957 0%2c9.29245908 0%2c10.6934683 C0%2c11.835647 0.754392815%2c12.7926075 1.78055447%2c13.1108028 L1.78055447%2c21.9680305 C1.78055447%2c23.093587 2.68254588%2c24.0078049 3.79304959%2c24.0078049 L20.3615775%2c24.0078049 C21.4720812%2c24.0078049 22.3740726%2c23.093587 22.3740726%2c21.9680305 L22.3740726%2c13.0609364 C23.3205779%2c12.6999984 24%2c11.7786568 24%2c10.6934683 Z M10.114018%2c3.13276778 C10.114018%2c2.27554011 10.8028114%2c1.5774101 11.6485748%2c1.5774101 L12.4755955%2c1.5774101 C13.3213588%2c1.5774101 14.0101523%2c2.27554011 14.0101523%2c3.13276778 L14.0101523%2c8.15502957 L10.114018%2c8.15502957 L10.114018%2c3.13276778 Z M20.3615775%2c22.4381997 L17.8055447%2c22.4381997 L17.8055447%2c19.2206277 C17.8055447%2c18.7860774 17.4588052%2c18.4370124 17.0324092%2c18.4370124 C16.6060133%2c18.4370124 16.2592737%2c18.788452 16.2592737%2c19.2206277 L16.2592737%2c22.4381997 L12.8527919%2c22.4381997 L12.8527919%2c19.2206277 C12.8527919%2c18.7860774 12.5060523%2c18.4370124 12.0796564%2c18.4370124 C11.6509176%2c18.4370124 11.3065209%2c18.788452 11.3065209%2c19.2206277 L11.3065209%2c22.4381997 L7.89769621%2c22.4381997 L7.89769621%2c19.2206277 C7.89769621%2c18.7860774 7.55095666%2c18.4370124 7.12456072%2c18.4370124 C6.69582194%2c18.4370124 6.35142522%2c18.788452 6.35142522%2c19.2206277 L6.35142522%2c22.4381997 L3.79304959%2c22.4381997 C3.53768059%2c22.4381997 3.32916829%2c22.226861 3.32916829%2c21.9680305 L3.32916829%2c13.2295324 L20.8254588%2c13.2295324 L20.8254588%2c21.9656559 C20.8254588%2c22.226861 20.6169465%2c22.4381997 20.3615775%2c22.4381997 Z M21.4978524%2c11.6599272 L2.5021476%2c11.6599272 C1.97500976%2c11.6599272 1.54861382%2c11.2253769 1.54861382%2c10.6934683 C1.54861382%2c10.1591851 1.9773526%2c9.7246348 2.5021476%2c9.7246348 L21.4955096%2c9.7246348 C22.0226474%2c9.7246348 22.4513862%2c10.1591851 22.4513862%2c10.6934683 C22.4513862%2c11.2277514 22.0226474%2c11.6599272 21.4978524%2c11.6599272 Z' id='%e5%bd%a2%e7%8a%b6' fill='%23666FFF'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_invalid%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='24' height='24'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-49.000000%2c -234.000000)'%3e %3cg id='%e6%a0%87%e6%b3%a8%e6%97%a0%e6%95%88' transform='translate(21.000000%2c 215.000000)'%3e %3cg id='icon_invalid' transform='translate(28.000000%2c 19.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg%3e%3c/g%3e %3cpath d='M14.8132711%2c20.5 L3.35714286%2c20.5 C2.91670867%2c20.5 2.57142857%2c20.1826213 2.57142857%2c19.8055556 L2.57142857%2c3.19444444 C2.57142857%2c2.81737868 2.91670867%2c2.5 3.35714286%2c2.5 L20.6428571%2c2.5 C21.0832913%2c2.5 21.4285714%2c2.81737868 21.4285714%2c3.19444444 L21.4285714%2c15.2898676 L23%2c16.4514553 L23%2c3.19444444 C23%2c1.97602093 21.938175%2c1 20.6428571%2c1 L3.35714286%2c1 C2.06182497%2c1 1%2c1.97602093 1%2c3.19444444 L1%2c19.8055556 C1%2c21.0239791 2.06182497%2c22 3.35714286%2c22 L15.9411765%2c22 L14.8132711%2c20.5 Z' id='%e8%b7%af%e5%be%84' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M8.5%2c10 C9.88071187%2c10 11%2c8.88071187 11%2c7.5 C11%2c6.11928813 9.88071187%2c5 8.5%2c5 C7.11928813%2c5 6%2c6.11928813 6%2c7.5 C6%2c8.88071187 7.11928813%2c10 8.5%2c10 Z M8.5%2c8.57142857 C7.90826634%2c8.57142857 7.42857143%2c8.09173366 7.42857143%2c7.5 C7.42857143%2c6.90826634 7.90826634%2c6.42857143 8.5%2c6.42857143 C9.09173366%2c6.42857143 9.57142857%2c6.90826634 9.57142857%2c7.5 C9.57142857%2c8.09173366 9.09173366%2c8.57142857 8.5%2c8.57142857 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M1.93578343%2c18 C4.08872055%2c14.8551688 6.74336715%2c13.7936147 9.20632589%2c14.9383326 C9.39666832%2c15.0267988 9.58966667%2c15.1227541 9.8383972%2c15.2511189 C11.2590222%2c15.9842746 11.4672631%2c16.0801404 12.0929951%2c16.2047792 C13.2715953%2c16.4395429 14.3253377%2c16.0173433 15.3845587%2c14.7865988 C17.834834%2c11.9395412 19.5284667%2c10.6940174 22%2c10.3111164 L21.8385808%2c9 C19.0487146%2c9.43221863 17.1525949%2c10.8266545 14.5357091%2c13.8673024 C13.7408033%2c14.7909303 13.0776295%2c15.056642 12.2992772%2c14.9016031 C11.8197086%2c14.8060784 11.6287028%2c14.7181469 10.3315315%2c14.0487032 C10.0702502%2c13.9138612 9.86453995%2c13.8115857 9.65795075%2c13.7155685 C6.66190483%2c12.3230858 3.4571787%2c13.6046086 1%2c17.1938506 L1.93578343%2c18 Z' id='%e8%b7%af%e5%be%84' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M19.5%2c23 C21.4329966%2c23 23%2c21.4329966 23%2c19.5 C23%2c17.5670034 21.4329966%2c16 19.5%2c16 C17.5670034%2c16 16%2c17.5670034 16%2c19.5 C16%2c21.4329966 17.5670034%2c23 19.5%2c23 Z M19.5%2c22 C18.1192881%2c22 17%2c20.8807119 17%2c19.5 C17%2c18.1192881 18.1192881%2c17 19.5%2c17 C20.8807119%2c17 22%2c18.1192881 22%2c19.5 C22%2c20.8807119 20.8807119%2c22 19.5%2c22 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M21.2928932%2c17.7692308 L21.6464466%2c18.1227842 L21.6464466%2c17.4156774 L21.2928932%2c17.7692308 Z M17.7692308%2c21.2928932 L17.4156774%2c21.6464466 L18.1227842%2c21.6464466 L17.7692308%2c21.2928932 Z M17.7071068%2c21.2307692 L17.3535534%2c20.8772158 L17.3535534%2c21.5843226 L17.7071068%2c21.2307692 Z M21.2307692%2c17.7071068 L21.5843226%2c17.3535534 L20.8772158%2c17.3535534 L21.2307692%2c17.7071068 Z' id='%e7%9f%a9%e5%bd%a2' stroke='%23666666' mask='url(%23mask-2)'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_invalid_a%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='24' height='24'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-166.000000%2c -234.000000)'%3e %3cg id='%e6%a0%87%e6%b3%a8%e6%97%a0%e6%95%88%e5%a4%87%e4%bb%bd' transform='translate(138.000000%2c 215.000000)'%3e %3cg id='icon_invalid' transform='translate(28.000000%2c 19.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='icon_invalid_active'%3e%3c/g%3e %3cpath d='M14.8132711%2c20.5 L3.35714286%2c20.5 C2.91670867%2c20.5 2.57142857%2c20.1826213 2.57142857%2c19.8055556 L2.57142857%2c3.19444444 C2.57142857%2c2.81737868 2.91670867%2c2.5 3.35714286%2c2.5 L20.6428571%2c2.5 C21.0832913%2c2.5 21.4285714%2c2.81737868 21.4285714%2c3.19444444 L21.4285714%2c15.2898676 L23%2c16.4514553 L23%2c3.19444444 C23%2c1.97602093 21.938175%2c1 20.6428571%2c1 L3.35714286%2c1 C2.06182497%2c1 1%2c1.97602093 1%2c3.19444444 L1%2c19.8055556 C1%2c21.0239791 2.06182497%2c22 3.35714286%2c22 L15.9411765%2c22 L14.8132711%2c20.5 Z' id='%e8%b7%af%e5%be%84' fill='%23666FFF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M8.5%2c10 C9.88071187%2c10 11%2c8.88071187 11%2c7.5 C11%2c6.11928813 9.88071187%2c5 8.5%2c5 C7.11928813%2c5 6%2c6.11928813 6%2c7.5 C6%2c8.88071187 7.11928813%2c10 8.5%2c10 Z M8.5%2c8.57142857 C7.90826634%2c8.57142857 7.42857143%2c8.09173366 7.42857143%2c7.5 C7.42857143%2c6.90826634 7.90826634%2c6.42857143 8.5%2c6.42857143 C9.09173366%2c6.42857143 9.57142857%2c6.90826634 9.57142857%2c7.5 C9.57142857%2c8.09173366 9.09173366%2c8.57142857 8.5%2c8.57142857 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%236674FF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M1.93578343%2c18 C4.08872055%2c14.8551688 6.74336715%2c13.7936147 9.20632589%2c14.9383326 C9.39666832%2c15.0267988 9.58966667%2c15.1227541 9.8383972%2c15.2511189 C11.2590222%2c15.9842746 11.4672631%2c16.0801404 12.0929951%2c16.2047792 C13.2715953%2c16.4395429 14.3253377%2c16.0173433 15.3845587%2c14.7865988 C17.834834%2c11.9395412 19.5284667%2c10.6940174 22%2c10.3111164 L21.8385808%2c9 C19.0487146%2c9.43221863 17.1525949%2c10.8266545 14.5357091%2c13.8673024 C13.7408033%2c14.7909303 13.0776295%2c15.056642 12.2992772%2c14.9016031 C11.8197086%2c14.8060784 11.6287028%2c14.7181469 10.3315315%2c14.0487032 C10.0702502%2c13.9138612 9.86453995%2c13.8115857 9.65795075%2c13.7155685 C6.66190483%2c12.3230858 3.4571787%2c13.6046086 1%2c17.1938506 L1.93578343%2c18 Z' id='%e8%b7%af%e5%be%84' fill='%23666FFF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M19.5%2c23 C21.4329966%2c23 23%2c21.4329966 23%2c19.5 C23%2c17.5670034 21.4329966%2c16 19.5%2c16 C17.5670034%2c16 16%2c17.5670034 16%2c19.5 C16%2c21.4329966 17.5670034%2c23 19.5%2c23 Z M19.5%2c22 C18.1192881%2c22 17%2c20.8807119 17%2c19.5 C17%2c18.1192881 18.1192881%2c17 19.5%2c17 C20.8807119%2c17 22%2c18.1192881 22%2c19.5 C22%2c20.8807119 20.8807119%2c22 19.5%2c22 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%236674FF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M21.2928932%2c17.7692308 L21.6464466%2c18.1227842 L21.6464466%2c17.4156774 L21.2928932%2c17.7692308 Z M17.7692308%2c21.2928932 L17.4156774%2c21.6464466 L18.1227842%2c21.6464466 L17.7692308%2c21.2928932 Z M17.7071068%2c21.2307692 L17.3535534%2c20.8772158 L17.3535534%2c21.5843226 L17.7071068%2c21.2307692 Z M21.2307692%2c17.7071068 L21.5843226%2c17.3535534 L20.8772158%2c17.3535534 L21.2307692%2c17.7071068 Z' id='%e7%9f%a9%e5%bd%a2' stroke='%23666FFF' mask='url(%23mask-2)'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import { Col, Row, Slider, Switch, Input } from 'antd/es';\nimport { connect } from 'react-redux';\nimport { throttle } from 'lodash';\nimport React, { useEffect } from 'react';\nimport { ImgAttributeState } from '@/store/imgAttribute/types';\nimport ImgAttribute from '@/store/imgAttribute/actionCreators';\nimport { store } from '@/index';\nimport { LabelBeeContext } from '@/store/ctx';\n\nimport saturationSvg from '@/assets/annotation/image/saturation.svg';\nimport contrastSvg from '@/assets/annotation/image/contrast.svg';\nimport brightnessSvg from '@/assets/annotation/image/brightness.svg';\nimport ZoomUpSvg from '@/assets/attributeIcon/zoomUp.svg';\nimport originalPic from '@/assets/annotation/image/icon_yuantu.svg';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  imgAttribute: ImgAttributeState;\n}\n\nconst ImgAttributeInfo = (props: IProps) => {\n  const {\n    imgAttribute: { contrast, saturation, brightness, zoomRatio, isOriginalSize },\n  } = props;\n\n  const { t } = useTranslation();\n\n  const imgAttributeChange = throttle(\n    (payload: Partial<ImgAttributeState>) => {\n      store.dispatch(ImgAttribute.UpdateImgAttribute(payload as ImgAttributeState));\n    },\n    60,\n    { trailing: true },\n  );\n\n  const imgAttributeInfo = [\n    {\n      name: 'Saturation',\n      min: -100,\n      max: 500,\n      step: 2,\n      onChange: (v: number) => imgAttributeChange({ saturation: v }),\n      value: saturation,\n      svg: saturationSvg,\n    },\n    {\n      name: 'Contrast',\n      min: -100,\n      max: 300,\n      step: 2,\n      onChange: (v: number) => imgAttributeChange({ contrast: v }),\n      value: contrast,\n      svg: contrastSvg,\n    },\n    {\n      name: 'Exposure',\n      min: -100,\n      max: 400,\n      step: 2,\n      onChange: (v: number) => imgAttributeChange({ brightness: v }),\n      value: brightness,\n      svg: brightnessSvg,\n    },\n    {\n      name: 'ScreenRatio',\n      min: 0.1,\n      max: 10,\n      step: 0.1,\n      onChange: (v: number) => imgAttributeChange({ zoomRatio: v }),\n      value: zoomRatio,\n      svg: ZoomUpSvg,\n    },\n  ];\n\n  useEffect(() => {\n    return () => {\n      store.dispatch(ImgAttribute.InitImgAttribute());\n    };\n  }, []);\n\n  return (\n    <div>\n      {imgAttributeInfo.map((info: any, index: number) => (\n        <div className='imgAttributeController' key={`option_${index}`}>\n          <Row className='tools' style={{ padding: '0px 0' }}>\n            <Col span={24}>\n              <span className='singleTool'>\n                <img width={12} height={12} src={info.svg} />\n                <span className='toolName'>{t(info.name)}</span>\n              </span>\n            </Col>\n          </Row>\n          <Row>\n            <Col span={20}>\n              <Slider\n                min={info.min}\n                max={info.max}\n                step={info.step}\n                value={info.value}\n                onChange={info.onChange}\n                trackStyle={{ background: '#666fff' }}\n              />\n            </Col>\n            <Col span={4}>\n              <Input\n                value={info.value}\n                disabled\n                style={{\n                  fontSize: 12,\n                  marginBottom: 23,\n                  padding: '0px 2px',\n                  textAlign: 'center',\n                }}\n              />\n            </Col>\n          </Row>\n        </div>\n      ))}\n      <div className='imgAttributeController'>\n        <Row className='tools' style={{ padding: '10px 0' }}>\n          <Col span={18}>\n            <span className='singleTool'>\n              <img src={originalPic} width={16} style={{ marginTop: '-2px' }} />\n              <span className='toolName'>{t('OriginalScale')}</span>\n            </span>\n          </Col>\n          <Col>\n            <Switch\n              checked={isOriginalSize}\n              onChange={(v: boolean) => imgAttributeChange({ isOriginalSize: v })}\n            />\n          </Col>\n        </Row>\n      </div>\n    </div>\n  );\n};\n\nfunction mapStateToProps({ imgAttribute }: any) {\n  return { imgAttribute };\n}\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(ImgAttributeInfo);\n","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e9%a5%b1%e5%92%8c%e5%ba%a6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-481.000000%2c -124.000000)'%3e %3cg id='%e9%a5%b1%e5%92%8c%e5%ba%a6' transform='translate(481.000000%2c 124.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg id='%e9%a5%b1%e5%92%8c%e5%ba%a6-(1)' mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cg transform='translate(2.000000%2c 0.000000)'%3e %3cpath d='M6.28551136%2c15.9450284 C2.821875%2c15.9450284 0.0127840909%2c13.1268466 0.0127840909%2c9.67230114 C0.0127840909%2c5.09048295 5.24914773%2c0.00866477273 6.28551136%2c0.00866477273 C7.15823864%2c0.00866477273 12.5582386%2c5.39957386 12.5582386%2c9.67230114 C12.5582386%2c13.1268466 9.74914773%2c15.9450284 6.28551136%2c15.9450284 Z M6.26732955%2c1.21775568 C5.21278409%2c1.96321023 1.14914773%2c5.79957386 1.14914773%2c9.66321023 C1.14914773%2c12.4995739 3.45823864%2c14.8086648 6.29460227%2c14.8086648 C9.13096591%2c14.8086648 11.4400568%2c12.4995739 11.4400568%2c9.66321023 C11.4309659%2c6.2359375 7.30369318%2c2.04502841 6.26732955%2c1.21775568 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3cpath d='M9.20369318%2c6.91775568 C10.7764205%2c8.49048295 10.7764205%2c11.0450284 9.20369318%2c12.6177557 C7.63096591%2c14.190483 5.07642045%2c14.190483 3.50369318%2c12.6177557 L9.20369318%2c6.91775568 Z' id='%e8%b7%af%e5%be%84'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e6%94%be%e5%a4%a7%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-437.000000%2c -125.000000)'%3e %3cg id='%e6%94%be%e5%a4%a7' transform='translate(437.000000%2c 125.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg id='%e5%af%b9%e6%af%94%e5%ba%a6' mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cpath d='M2.25471549%2c13.5345736 L2.28377061%2c13.5698491 C3.71170509%2c15.0309327 5.68912337%2c15.9414593 7.8824479%2c15.9747872 L7.90975417%2c15.9750853 C10.0876767%2c15.988818 12.0717327%2c15.1310159 13.5224026%2c13.7355349 L13.5574794%2c13.6912368 C15.0213452%2c12.2613547 15.9294671%2c10.2834793 15.953216%2c8.07801203 C15.9769053%2c5.87765227 15.1116308%2c3.87626648 13.6789465%2c2.40995617 C12.2489055%2c0.958829251 10.2741105%2c0.0535890334 8.08152127%2c0.0199232337 L8.054215%2c0.0194677151 C5.86069173%2c0.00607137034 3.86417498%2c0.868563587 2.40521788%2c2.28856852 C0.946896739%2c3.72375685 0.0338461956%2c5.70596465 0.0101569293%2c7.90634429 C-0.0134329775%2c10.0976219 0.837115237%2c12.0836653 2.25471549%2c13.5345736 Z M8.67367358%2c1.27768049 C10.286452%2c1.44950722 11.7315969%2c2.17528929 12.8057027%2c3.27521081 L12.8101743%2c3.27525056 L12.8057027%2c3.27521081 C14.0068005%2c4.50975576 14.7514227%2c6.20240594 14.7313703%2c8.06481599 C14.7112582%2c9.93241304 13.9304662%2c11.5989096 12.7029763%2c12.8173769 L12.6725102%2c12.8468295 C11.5832608%2c13.8981403 10.127702%2c14.5878121 8.52895439%2c14.7198719 L8.67367358%2c1.27768049 Z M7.29456842%2c14.7066162 C6.99960518%2c14.6688366 6.70388674%2c14.6358664 6.42424602%2c14.5580416 L7.305479%2c13.6932043 L7.29456842%2c14.7066162 Z M7.31664792%2c12.655169 L5.61932747%2c14.3211687 C5.35725495%2c14.2186411 5.10778228%2c14.1065343 4.87090943%2c13.9751901 L7.32835345%2c11.5672908 L7.31664792%2c12.655169 L7.31664792%2c12.655169 Z M7.33948263%2c10.5341444 L4.20886184%2c13.5905772 C3.99188241%2c13.4490378 3.79237184%2c13.2931298 3.59790914%2c13.1165136 L7.35124779%2c9.44143698 L7.33948263%2c10.5341444 L7.33948263%2c10.5341444 Z M7.36247634%2c8.39823455 L3.0596539%2c12.6145077 C2.88230233%2c12.4284316 2.71542413%2c12.2330349 2.5667501%2c12.0178242 L7.37412224%2c7.31524528 L7.36247634%2c8.39823455 Z M7.38531104%2c6.27721 L2.16071359%2c11.3977495 C2.01426539%2c11.1672561 1.89530231%2c10.9274022 1.79380809%2c10.6783866 L7.3969967%2c5.19414125 L7.38531104%2c6.27721 L7.38531104%2c6.27721 Z M7.40816562%2c4.15584759 L1.5134718%2c9.91983307 C1.42966504%2c9.63568106 1.36076343%2c9.34198971 1.31408045%2c9.04817915 L7.41983141%2c3.0727987 L7.40816562%2c4.15584759 Z M3.26558364%2c3.17250431 C3.94068814%2c2.50868797 4.75868348%2c1.98561613 5.66915047%2c1.65295276 L1.69467882%2c5.54002052 C2.04222748%2c4.64447857 2.58529212%2c3.83556545 3.26558364%2c3.17250431 Z M7.06902349%2c1.30580157 C7.19108684%2c1.29187021 7.32002644%2c1.28326497 7.43928762%2c1.26440497 L7.43109971%2c2.02476702 L1.23742818%2c8.09337428 L1.23929629%2c7.91958009 C1.24287352%2c7.58679748 1.26860978%2c7.25951986 1.31737946%2c6.93695225 L7.06902349%2c1.30580157 L7.06902349%2c1.30580157 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e5%bd%a2%e7%8a%b6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-525.000000%2c -124.000000)'%3e %3cg id='%e6%9b%9d%e5%85%89' transform='translate(525.000000%2c 124.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg mask='url(%23mask-2)' fill-rule='nonzero' id='%e5%bd%a2%e7%8a%b6'%3e %3cpath d='M2.6123501%2c13.1851491 L2.64065558%2c13.2166896 L2.6413572%2c13.2203755 C4.01642052%2c14.6273605 5.88331047%2c15.4443523 7.88790599%2c15.474817 L7.9129068%2c15.4750953 C9.90015586%2c15.4876256 11.7740345%2c14.7236019 13.1304117%2c13.4251429 L13.2081022%2c13.333556 C14.6189485%2c11.9554626 15.4315386%2c10.0884174 15.453245%2c8.0726293 C15.4749051%2c6.06074757 14.701873%2c4.17234442 13.3228152%2c2.76091268 C11.944524%2c1.36229865 10.0794546%2c0.550659153 8.07318152%2c0.519853677 L8.05116145%2c0.519458391 C6.04381797%2c0.507199088 4.15921827%2c1.27912879 2.7559335%2c2.64493708 C1.34678056%2c4.03173715 0.531741066%2c5.90419121 0.510127959%2c7.91172667 C0.488530813%2c9.91789572 1.24972356%2c11.7905061 2.6123501%2c13.1851491 Z' stroke='%23666666'%3e%3c/path%3e %3cpath d='M11.8970207%2c7.47681347 L9.88251295%2c7.47681347 C9.70012953%2c6.78873057 9.16126943%2c6.24158031 8.46489637%2c6.05919689 L8.46489637%2c4.04468912 C8.46489637%2c3.77111399 8.24106218%2c3.54727979 7.96748705%2c3.54727979 C7.69391192%2c3.54727979 7.47007772%2c3.77111399 7.47007772%2c4.04468912 L7.47007772%2c6.05919689 C6.78199482%2c6.24158031 6.23484456%2c6.78044041 6.05246114%2c7.47681347 L4.03795337%2c7.47681347 C3.76437824%2c7.47681347 3.54054404%2c7.70064767 3.54054404%2c7.9742228 C3.54054404%2c8.24779793 3.76437824%2c8.47163212 4.03795337%2c8.47163212 L6.05246114%2c8.47163212 C6.23484456%2c9.15971503 6.77370466%2c9.70686528 7.47007772%2c9.8892487 L7.47007772%2c11.9037565 C7.47007772%2c12.1773316 7.69391192%2c12.4011658 7.96748705%2c12.4011658 C8.24106218%2c12.4011658 8.46489637%2c12.1773316 8.46489637%2c11.9037565 L8.46489637%2c9.8892487 C9.15297927%2c9.70686528 9.70012953%2c9.16800518 9.88251295%2c8.47163212 L11.8970207%2c8.47163212 C12.1705959%2c8.47163212 12.3944301%2c8.24779793 12.3944301%2c7.9742228 C12.3944301%2c7.70064767 12.178886%2c7.47681347 11.8970207%2c7.47681347 Z M7.96748705%2c8.9607513 C7.42862694%2c8.9607513 6.9892487%2c8.52137306 6.9892487%2c7.98251295 C6.9892487%2c7.44365285 7.42862694%2c7.00427461 7.96748705%2c7.00427461 C8.50634715%2c7.00427461 8.94572539%2c7.44365285 8.94572539%2c7.98251295 C8.94572539%2c8.52137306 8.51463731%2c8.9607513 7.96748705%2c8.9607513 L7.96748705%2c8.9607513 Z' fill='%23666666'%3e%3c/path%3e %3cpath d='M10.1643782%2c6.27474093 C10.2887306%2c6.27474093 10.4213731%2c6.225 10.5125648%2c6.12551813 L11.0928756%2c5.54520725 C11.2835492%2c5.35453368 11.2835492%2c5.03950777 11.0928756%2c4.84054404 C10.9022021%2c4.64987047 10.5871762%2c4.64987047 10.3882124%2c4.84054404 L9.80790155%2c5.42085492 C9.61722798%2c5.6115285 9.61722798%2c5.9265544 9.80790155%2c6.12551813 C9.91567358%2c6.225 10.0400259%2c6.27474093 10.1643782%2c6.27474093 Z M5.42240933%2c6.13380829 C5.52189119%2c6.23329016 5.64624352%2c6.28303109 5.77059585%2c6.28303109 C5.89494819%2c6.28303109 6.02759067%2c6.23329016 6.11878238%2c6.13380829 C6.30945596%2c5.94313472 6.30945596%2c5.62810881 6.11878238%2c5.42914508 L5.5384715%2c4.8488342 C5.34779793%2c4.65816062 5.03277202%2c4.65816062 4.83380829%2c4.8488342 C4.64313472%2c5.03950777 4.64313472%2c5.35453368 4.83380829%2c5.55349741 L5.42240933%2c6.13380829 L5.42240933%2c6.13380829 Z M5.42240933%2c9.82292746 L4.84209845%2c10.4032383 C4.65142487%2c10.5939119 4.65142487%2c10.9089378 4.84209845%2c11.1079016 C4.94158031%2c11.2073834 5.06593264%2c11.2571244 5.19028497%2c11.2571244 C5.31463731%2c11.2571244 5.44727979%2c11.2073834 5.5384715%2c11.1079016 L6.11878238%2c10.5275907 C6.30945596%2c10.3369171 6.30945596%2c10.0218912 6.11878238%2c9.82292746 C5.92810881%2c9.63225389 5.6130829%2c9.63225389 5.42240933%2c9.82292746 L5.42240933%2c9.82292746 Z M10.5208549%2c9.82292746 C10.3301813%2c9.63225389 10.0151554%2c9.63225389 9.81619171%2c9.82292746 C9.62551813%2c10.013601 9.62551813%2c10.3286269 9.81619171%2c10.5275907 L10.3965026%2c11.1079016 C10.4959845%2c11.2073834 10.6203368%2c11.2571244 10.7446891%2c11.2571244 C10.8690415%2c11.2571244 11.0016839%2c11.2073834 11.0928756%2c11.1079016 C11.2835492%2c10.917228 11.2835492%2c10.6022021 11.0928756%2c10.4032383 L10.5208549%2c9.82292746 L10.5208549%2c9.82292746 Z' fill='%23666666'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e6%94%be%e5%a4%a7%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-350.000000%2c -125.000000)'%3e %3cg id='%e6%94%be%e5%a4%a7' transform='translate(350.000000%2c 125.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cpath d='M15.6609771%2c14.3520065 L13.3912778%2c12.0823072 C14.3805588%2c10.8144379 14.9758006%2c9.22447711 14.9758007%2c7.49438563 C14.9758007%2c3.36659478 11.617683%2c0.00889542279 7.48989215%2c0.00889542279 C3.3625196%2c0.00889542279 0.00482025735%2c3.36659476 0.00482025735%2c7.49438563 C0.00482025735%2c11.6221765 3.36251961%2c14.9802941 7.48989215%2c14.9802941 C9.15116518%2c14.9805622 10.764591%2c14.4240002 12.0723758%2c13.399536 L14.3420752%2c15.6700719 C14.706368%2c16.0359836 15.2981418%2c16.0378552 15.6647418%2c15.6742549 C16.0284092%2c15.3079133 16.0267247%2c14.7162714 15.6609771%2c14.3520065 L15.6609771%2c14.3520065 Z M1.42997059%2c7.49480392 C1.42997059%2c4.15341829 4.14850654%2c1.43530066 7.48989215%2c1.43530066 C10.8312778%2c1.43530066 13.5498137%2c4.15383662 13.5498137%2c7.49480392 C13.5498137%2c10.8357712 10.8312778%2c13.5547255 7.48989215%2c13.5547255 C4.14850653%2c13.5547255 1.42997059%2c10.8357713 1.42997059%2c7.49480392 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3cpath d='M10.0122451%2c6.78201961 L8.20309478%2c6.78201961 L8.20309478%2c4.97203268 C8.20309478%2c4.59347059 7.88351309%2c4.28685621 7.48989215%2c4.28685621 C7.09627123%2c4.28685621 6.77710783%2c4.5930523 6.77710785%2c4.97203268 L6.77710785%2c6.78201961 L4.96753921%2c6.78201961 C4.58897711%2c6.78201961 4.28194445%2c7.10118301 4.28194445%2c7.49522222 C4.28194445%2c7.88884314 4.58814053%2c8.20842483 4.96753921%2c8.20842483 L6.77710785%2c8.20842483 L6.77710785%2c10.0179935 C6.77710785%2c10.3961372 7.09627125%2c10.7035882 7.48989215%2c10.7035882 C7.88351305%2c10.7035882 8.20309476%2c10.3965556 8.20309478%2c10.0179935 L8.20309478%2c8.20842483 L10.0122451%2c8.20842483 C10.3908072%2c8.20842483 10.6982582%2c7.88926143 10.6982582%2c7.49522222 C10.6982582%2c7.10118301 10.3908072%2c6.78201961 10.0122451%2c6.78201961 Z' id='%e8%b7%af%e5%be%84'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3cg transform='translate(-1838 -1616)'%3e%3crect width='16' height='16' transform='translate(1838 1616)' fill='none'/%3e%3cpath d='M1%2c1V11H11V1H1M1%2c0H11a1%2c1%2c0%2c0%2c1%2c1%2c1V11a1%2c1%2c0%2c0%2c1-1%2c1H1a1%2c1%2c0%2c0%2c1-1-1V1A1%2c1%2c0%2c0%2c1%2c1%2c0Z' transform='translate(1840 1618)' fill='%23707070'/%3e%3cpath d='M9030-7951h-1v-3h3v1h-2Z' transform='translate(-7187 9574)' fill='%23999'/%3e%3cpath d='M9030-7951h-1v-3h3v1h-2Z' transform='translate(10878.999 -6326) rotate(180)' fill='%23999'/%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","import React, { useState, useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { AppState } from 'src/store';\nimport { GraphToolInstance } from 'src/store/annotation/types';\nimport AttributeList from '@/components/attributeList';\nimport StepUtils from '@/utils/StepUtils';\nimport { IStepInfo } from '@/types/step';\nimport { jsonParser } from '@/utils';\nimport { useTranslation } from 'react-i18next';\nimport { EToolName } from '@/data/enums/ToolType';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  toolInstance: GraphToolInstance;\n  stepInfo: IStepInfo;\n}\n\nconst SwitchAttributeList: React.FC<IProps> = (props) => {\n  const [_, forceRender] = useState(0);\n  const listRef = useRef<HTMLElement>(null);\n  const { toolInstance } = props;\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.singleOn('changeAttributeSidebar', (index: number) => {\n        forceRender((s) => s + 1);\n\n        if (!listRef.current) {\n          return;\n        }\n\n        listRef.current.children[index]?.scrollIntoView({ block: 'center' });\n      });\n    }\n    return () => {\n      toolInstance.unbindAll('changeAttributeSidebar');\n    };\n  }, [toolInstance, listRef]);\n\n  if (!props.stepInfo) {\n    return null;\n  }\n\n  const config = jsonParser(props.stepInfo.config);\n  const isScribbleTool = props.stepInfo.tool === EToolName.ScribbleTool;\n\n  if (config.attributeConfigurable !== true && !isScribbleTool) {\n    return null;\n  }\n\n  if ((config.attributeConfigurable === true || isScribbleTool) && config?.attributeList) {\n    const list = config.attributeList.map((i: any) => ({\n      label: i.key,\n      value: i.value,\n      color: i?.color,\n    }));\n\n    if (!isScribbleTool) {\n      list.unshift({ label: t('NoAttribute'), value: '' });\n    }\n\n    const attributeChanged = (v: string) => {\n      toolInstance.setDefaultAttribute(v);\n      forceRender((s) => s + 1);\n    };\n\n    return (\n      <div>\n        <AttributeList\n          list={list}\n          attributeChanged={attributeChanged}\n          selectedAttribute={toolInstance?.defaultAttribute ?? ''}\n          ref={listRef}\n          forbidDefault={isScribbleTool}\n        />\n      </div>\n    );\n  }\n\n  return null;\n};\n\nconst mapStateToProps = (state: AppState) => {\n  const stepInfo = StepUtils.getCurrentStepInfo(state.annotation?.step, state.annotation?.stepList);\n\n  return {\n    toolInstance: state.annotation.toolInstance,\n    stepInfo,\n  };\n};\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(\n  SwitchAttributeList,\n);\n","import React from 'react';\n\nexport const ColorTag = ({ color, style }: any) => (\n  <div\n    style={{\n      display: 'inline-block',\n      height: 14,\n      width: 14,\n      backgroundColor: color,\n      verticalAlign: 'middle',\n      ...style,\n    }}\n  />\n);\n","import RadioList from '@/components/attributeList';\nimport CheckBoxList from '@/components/checkboxList';\nimport { CaretRightOutlined } from '@ant-design/icons';\nimport { Badge, Collapse, Tooltip } from 'antd/es';\nimport { cloneDeep } from 'lodash';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport clearSmall from '@/assets/annotation/common/icon_clearSmall.svg';\nimport clearSmallA from '@/assets/annotation/common/icon_clearSmall_a.svg';\nimport { TagOperation, TagUtils } from '@labelbee/lb-annotation';\nimport { connect } from 'react-redux';\nimport { AppState } from '@/store';\nimport { IInputList } from '@/types/main';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  imgIndex: number;\n  toolInstance: TagOperation;\n}\n\nconst { Panel } = Collapse;\n\nexport const expandIconFuc = ({ isActive }: any) => (\n  <CaretRightOutlined rotate={isActive ? 90 : 0} />\n);\n\nconst TagSidebar: React.FC<IProps> = ({ toolInstance, imgIndex }) => {\n  const [expandKeyList, setExpandKeyList] = useState<string[]>([]);\n\n  const sidebarRef = useRef<HTMLDivElement>(null);\n  const [, forceRender] = useState<number>(0);\n  const [hoverDeleteIndex, setHoverDeleteIndex] = useState(-1);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (toolInstance) {\n      // 用于配置的初始化\n      setExpandKeyList(toolInstance.config.inputList.map((v: IInputList) => v.value));\n\n      // 进行实时渲染\n      toolInstance.singleOn('render', () => {\n        forceRender((s) => s + 1);\n      });\n    }\n  }, [toolInstance]);\n\n  useEffect(() => {\n    if (toolInstance) {\n      // 该写法会不断的重复绑定，后续写法上可以更改（如果将 singleOn 改为 on 会有很大问题）\n      toolInstance.singleOn('expend', expendRender);\n\n      if (toolInstance.labelSelectedList.length === 1) {\n        let height = 0;\n        for (let i = 0; i < toolInstance.labelSelectedList[0]; i++) {\n          height += 46;\n          inputList[i] &&\n            expandKeyList[i] !== '' &&\n            inputList[i].subSelected.forEach((i: any) => {\n              height += 40;\n            });\n        }\n        if (sidebarRef.current) {\n          sidebarRef.current.children[0].scrollTop = height;\n        }\n      }\n    }\n  });\n\n  useEffect(() => {\n    // 翻页侧边栏跳到最上\n    if (sidebarRef.current) {\n      sidebarRef.current.children[0].scrollTop = 0;\n    }\n  }, [imgIndex]);\n\n  const expendRender = () => {\n    const index = toolInstance.labelSelectedList[0];\n    const value = inputList.filter((v: IInputList, i: number) => i === index)[0]?.value;\n    setExpendKeyList(index, value, true);\n  };\n\n  const setExpendKeyList = useCallback(\n    (index: number, value: string, expend?: boolean) => {\n      const newKeyList = cloneDeep(expandKeyList);\n      if (newKeyList[index] === '' || expend === true) {\n        newKeyList[index] = value;\n      } else {\n        newKeyList[index] = '';\n      }\n      setExpandKeyList(newKeyList);\n    },\n    [expandKeyList],\n  );\n\n  if (!toolInstance) return null;\n\n  const {\n    labelSelectedList,\n    config: { inputList },\n    currentTagResult,\n    setLabel,\n  } = toolInstance;\n\n  const selectedButton = (index: number) => {\n    if (labelSelectedList.length > 0 && labelSelectedList[0] === index) {\n      return <span className='keyDownIconActive'>{index + 1}</span>;\n    }\n    return <span className='keyDownIcon'>{index + 1}</span>;\n  };\n\n  // basicIndex 到底是那一层\n  const labelPanel = (labelInfoSet: IInputList[], basicIndex = -1) => {\n    if (!labelInfoSet) {\n      return null;\n    }\n\n    return labelInfoSet.map((info: IInputList, index: number) => {\n      if (info.subSelected) {\n        // 判断是否有数据\n        const isResult = TagUtils.judgeResultIsInInputList(\n          info.value,\n          currentTagResult?.result?.[info.value],\n          inputList,\n        );\n\n        return (\n          <Collapse\n            bordered={false}\n            expandIcon={expandIconFuc}\n            key={`collapse_${index}_${basicIndex + 1}`}\n            onChange={() => setExpendKeyList(index, info.value)}\n            activeKey={[expandKeyList[index]]}\n          >\n            <Panel\n              header={\n                <div\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    flex: 1,\n                  }}\n                >\n                  <span>\n                    {info.key}\n                    <Tooltip placement='bottom' title={t('ClearThisOption')}>\n                      <img\n                        style={{ marginLeft: 5, cursor: 'pointer' }}\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          toolInstance.clearResult(true, info.value);\n                        }}\n                        src={hoverDeleteIndex === index || isResult ? clearSmallA : clearSmall}\n                        onMouseEnter={() => {\n                          setHoverDeleteIndex(index);\n                        }}\n                        onMouseLeave={() => {\n                          setHoverDeleteIndex(-1);\n                        }}\n                      />\n                    </Tooltip>\n                    {isResult && expandKeyList[index] === '' && <Badge color='#87d068' />}\n                  </span>\n\n                  {inputList?.length > 1 && selectedButton(index)}\n                </div>\n              }\n              key={info.value}\n            >\n              <div\n                className='level'\n                style={{\n                  backgroundColor:\n                    labelSelectedList.length > 0 && labelSelectedList[0] === index\n                      ? 'rgba(158, 158, 158, 0.18)'\n                      : '',\n                }}\n              >\n                {labelPanel(info.subSelected, index)}\n              </div>\n            </Panel>\n          </Collapse>\n        );\n      }\n      const key = inputList?.[basicIndex] ? inputList?.[basicIndex].value : 0;\n      const selectedAttribute =\n        currentTagResult?.result?.[key]?.split(';')?.indexOf(info.value) > -1 ? info.value : '';\n\n      if (inputList?.[basicIndex]?.isMulti === true) {\n        return (\n          <div className='singleBar' key={`${key}_${basicIndex}_${index}`}>\n            <CheckBoxList\n              attributeChanged={() => setLabel(basicIndex, index)}\n              selectedAttribute={[selectedAttribute]}\n              list={[{ value: info.value, label: info.key }]}\n              num={index + 1}\n            />\n          </div>\n        );\n      }\n      return (\n        <div className='singleBar' key={`${key}_${basicIndex}_${index}`}>\n          <RadioList\n            forbidColor\n            attributeChanged={() => setLabel(basicIndex, index)}\n            selectedAttribute={selectedAttribute}\n            list={[{ value: info.value, label: info.key }]}\n            num={index + 1}\n          />\n        </div>\n      );\n    });\n  };\n  const height = window.innerHeight - 61 - 80;\n\n  return (\n    <div className='tagOperationMenu' ref={sidebarRef}>\n      {inputList?.length === 0 ? (\n        <div style={{ padding: 20, textAlign: 'center' }}>{t('NoConfiguration')}</div>\n      ) : (\n        <div className='main' style={{ height }}>\n          {labelPanel(inputList)}\n        </div>\n      )}\n    </div>\n  );\n};\n\nfunction mapStateToProps(state: AppState) {\n  return { toolInstance: state.annotation.toolInstance, imgIndex: state.annotation.imgIndex };\n}\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(TagSidebar);\n","import { Checkbox } from 'antd/es';\nimport React from 'react';\n\ninterface IProps {\n  selectedAttribute: string[];\n  attributeChanged: () => void;\n  num?: any;\n  list?: any[];\n}\n\nconst CheckboxList = (props: IProps) => {\n  const checkboxRef = React.useRef<any>(null);\n  const list = props.list || [];\n  return (\n    <div className=\"sensebee-checkbox-group\">\n      <Checkbox.Group\n        name=\"checkboxgroup\"\n        // defaultValue={props.selectedAttribute}\n        value={props.selectedAttribute}\n        onChange={() => props.attributeChanged()}\n      >\n        {list.map((i: any, index: number) => (\n          // @ts-ignore\n          <Checkbox value={i.value} ref={checkboxRef} onFocus={() => {\n              checkboxRef?.current?.blur();\n            }}\n            key={index}\n          >\n            <span className=\"sensebee-checkbox-label\" title={i.label}>\n              {i.label}\n            </span>\n            <span className=\"sensebee-checkbox-num\">{props?.num ?? index}</span>\n          </Checkbox>\n        ))}\n      </Checkbox.Group>\n    </div>\n  );\n};\n\nexport default CheckboxList;\n","import React, { useEffect, useState, useRef, FocusEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { AppState } from '@/store';\nimport { cloneDeep } from 'lodash';\nimport { classnames } from '@/utils';\nimport { Input } from 'antd/es';\nimport { cKeyCode } from '@labelbee/lb-annotation';\nimport { PageForward } from '@/store/annotation/actionCreators';\nimport { ConfigUtils } from '@/utils/ConfigUtils';\nimport { IStepInfo } from '@/types/step';\nimport TextToolOperation from '@labelbee/lb-annotation/dist/types/core/toolOperation/TextToolOperation';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n\nconst EKeyCode = cKeyCode.default;\n\nconst syntheticEventStopPagination = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n  e.stopPropagation();\n  e.nativeEvent.stopPropagation();\n  e.nativeEvent.stopImmediatePropagation();\n};\n\ninterface ITextareaWithFooterProps {\n  textareaProps?: any;\n  footer?: any;\n}\n\nexport const TextareaWithFooter = (props: ITextareaWithFooterProps) => {\n  const { textareaProps, footer } = props;\n\n  return (\n    <>\n      <Input.TextArea\n        bordered={false}\n        rows={6}\n        onKeyDown={syntheticEventStopPagination}\n        onKeyUp={syntheticEventStopPagination}\n        {...textareaProps}\n      />\n      <div\n        className={classnames({\n          textAreaLength: true,\n        })}\n      >\n        {footer}\n      </div>\n    </>\n  );\n};\n\ninterface IProps {\n  dispatch: Function;\n  toolInstance: TextToolOperation;\n  imgIndex: number;\n  triggerEventAfterIndexChanged: boolean;\n  step: number;\n  stepList: IStepInfo[];\n  basicResultList: any[];\n}\n\ninterface IConfigListItem {\n  label: string;\n  key: string;\n  required: boolean;\n  default: string;\n  maxLength: number;\n}\n\nexport const SingleTextInput = (props: any) => {\n  const ref = useRef(null);\n  const [textAreaFocus, setTextAreaFocus] = useState(false);\n  const [invalid, setInvalid] = useState(false);\n  const { t } = useTranslation();\n\n  const { disabled, config, result, updateText, index, switchToNextTextarea, hasMultiple, onNext } =\n    props;\n  const { maxLength } = config;\n\n  const value = result ? result[config.key] : '';\n  const textLength = value?.length ?? 0;\n\n  const updateTextWithKey = (newVal: string) => {\n    if (updateText) {\n      updateText(newVal, config.key);\n      if (config.required) {\n        setInvalid(!newVal);\n      }\n    }\n  };\n\n  const tabToSwitchEnabled = hasMultiple && switchToNextTextarea;\n\n  const textareaProps = {\n    id: `textInput-${index}`,\n    ref,\n    disabled,\n    value,\n    maxLength,\n    autoSize: { minRows: 2, maxRows: 6 },\n    onChange: (e: FocusEvent<HTMLTextAreaElement>) => {\n      const value = e.target.value;\n      updateTextWithKey(value);\n    },\n    onFocus: () => {\n      setTextAreaFocus(true);\n    },\n    onBlur: (e: FocusEvent<HTMLTextAreaElement>) => {\n      setTextAreaFocus(false);\n      if (config.required) {\n        setInvalid(!e.target.value);\n      }\n    },\n    style: {\n      resize: 'none',\n      wordBreak: 'break-all',\n    },\n    onKeyDownCapture: (e: React.KeyboardEvent) => {\n      if (e.ctrlKey && e.keyCode === EKeyCode.Enter) {\n        if (onNext) {\n          onNext();\n        }\n        e.preventDefault();\n      }\n\n      if (e.keyCode === EKeyCode.Tab && tabToSwitchEnabled) {\n        e.preventDefault();\n        e.nativeEvent.stopImmediatePropagation();\n        switchToNextTextarea(index);\n      }\n\n      e.nativeEvent.stopPropagation();\n    },\n  };\n\n  const TextareaFooter = (\n    <div className='textAreaFooter'>\n      <div className='hotkeyTip'>\n        {tabToSwitchEnabled && <span>{`[${t('Switch')}]Tab`}</span>}\n        <span>{`[${t('TurnPage')}]Ctrl+Enter`}</span>\n      </div>\n      <div className='wordCount'>\n        <span className={textLength >= maxLength ? 'warning' : ''}>{textLength}</span>/\n        <span>{maxLength}</span>\n      </div>\n    </div>\n  );\n\n  useEffect(() => {\n    if (disabled) {\n      setTextAreaFocus(false);\n    }\n  }, [disabled]);\n\n  return (\n    <div className='textField'>\n      <div className='label'>\n        <span className={classnames({ required: config.required })}>{config.label}</span>\n        <i\n          className={classnames({ clearText: true, disabled: disabled })}\n          onClick={() => {\n            if (disabled) {\n              return;\n            }\n            updateTextWithKey('');\n          }}\n        />\n      </div>\n      <div\n        className={classnames({\n          disabled,\n          'textarea-outline': true,\n          'ant-input-focused': textAreaFocus,\n          textareaContainer: true,\n          focus: textAreaFocus,\n          invalid: invalid,\n        })}\n      >\n        <TextareaWithFooter footer={TextareaFooter} textareaProps={textareaProps} />\n      </div>\n    </div>\n  );\n};\n\nconst TextToolSidebar: React.FC<IProps> = ({\n  toolInstance,\n  imgIndex,\n  dispatch,\n  triggerEventAfterIndexChanged,\n  step,\n  stepList,\n  basicResultList,\n}) => {\n  const [configList, setConfigList] = useState<IConfigListItem[]>([]);\n  const [focusIndex, setFocusIndex] = useState(0);\n  const [, forceRender] = useState(0);\n\n  const switchToNextTextarea = (currentIndex: number) => {\n    const nextIndex = (currentIndex + 1) % configList.length;\n    textareaFocus(nextIndex);\n  };\n\n  const textareaFocus = (index: number) => {\n    setTimeout(() => {\n      const textarea = document.getElementById(`textInput-${index}`) as HTMLTextAreaElement;\n      if (textarea) {\n        setFocusIndex(index);\n        textarea.focus();\n        textarea.select();\n        textarea.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (toolInstance) {\n      setConfigList(cloneDeep(toolInstance.config.configList));\n      toolInstance.singleOn('valueUpdated', () => {\n        forceRender((s) => s + 1);\n      });\n    }\n  }, [toolInstance]);\n\n  const updateText = (v: string, k: string) => {\n    toolInstance.updateTextValue(k, v);\n  };\n\n  useEffect(() => {\n    if (imgIndex > -1 && triggerEventAfterIndexChanged) {\n      textareaFocus(0);\n    }\n  }, [imgIndex]);\n\n  const result = toolInstance.textList[0]?.value ?? {};\n\n  const onNext = () => {\n    dispatch(PageForward(true));\n  };\n\n  const stepConfig = ConfigUtils.getStepConfig(stepList, step);\n  const disabled = stepConfig.dataSourceStep > 0 && basicResultList.length === 0;\n\n  return (\n    <div className='textToolOperationMenu'>\n      {configList.map((i, index) => (\n        <SingleTextInput\n          config={i}\n          key={i.key}\n          index={index}\n          result={result}\n          updateText={updateText}\n          switchToNextTextarea={switchToNextTextarea}\n          hasMultiple={configList.length > 1}\n          focus={focusIndex === index}\n          onNext={onNext}\n          disabled={disabled}\n        />\n      ))}\n    </div>\n  );\n};\n\nfunction mapStateToProps(state: AppState) {\n  return {\n    toolInstance: state.annotation.toolInstance,\n    imgIndex: state.annotation.imgIndex,\n    step: state.annotation.step,\n    basicResultList: state.annotation.basicResultList,\n    stepList: state.annotation.stepList,\n    triggerEventAfterIndexChanged: state.annotation.triggerEventAfterIndexChanged,\n  };\n}\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(TextToolSidebar);\n","import React, { useContext } from 'react';\nimport { ToolIcons } from '../ToolIcons';\nimport { cTool } from '@labelbee/lb-annotation';\nimport { PointCloudContext } from '@/components/pointCloudView/PointCloudContext';\nimport { Col, Radio, Row, Select } from 'antd';\nimport { AppState } from '@/store';\nimport StepUtils from '@/utils/StepUtils';\nimport { connect } from 'react-redux';\nimport { IStepInfo } from '@/types/step';\nimport { jsonParser } from '@/utils';\nimport { ICustomToolInstance } from '@/hooks/annotation';\nimport { useStatus } from '@/components/pointCloudView/hooks/useStatus';\nimport { useSingleBox } from '@/components/pointCloudView/hooks/useSingleBox';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  stepInfo: IStepInfo;\n  toolInstance: ICustomToolInstance; // Created by useCustomToolInstance.\n}\n\n// Temporarily hidden, this feature does not support the function for the time being.\n// const AnnotatedBox = () => {\n//   const ptCtx = useContext(PointCloudContext);\n//   const { pointCloudBoxList } = ptCtx;\n\n//   return (\n//     <div style={{ padding: 24, borderBottom: '1px solid #eee' }}>\n//       <div style={{ marginBottom: 16 }}>所有已标注的框ID</div>\n//       <div>\n//         {pointCloudBoxList\n//           .sort((a, b) => a.trackID - b.trackID)\n//           .map((i) => (\n//             <Tag color='#F3F4FF' key={i.trackID} style={{ color: '#666', marginBottom: 8 }}>\n//               {i.trackID}\n//             </Tag>\n//           ))}\n//       </div>\n//     </div>\n//   );\n// };\n\n// const BoxTrackIDInput = () => {\n//   const [isEdit, setIsEdit] = useState(false);\n//   const { pointCloudBoxList } = useContext(PointCloudContext);\n//   const { selectedBox, updateSelectedBox } = useSingleBox();\n//   const [inputValue, setInputValue] = useState('');\n\n//   const selectedBoxTrackID = selectedBox?.info.trackID;\n\n//   const hasDuplicateTrackID = (trackID: number) => {\n//     const duplicateBox = pointCloudBoxList.find((i) => i.trackID === selectedBoxTrackID);\n//     return duplicateBox && duplicateBox.id !== selectedBox?.info.id;\n//   };\n\n//   const applyInputValue = (isBlurEvent = false) => {\n//     const newTrackID = parseInt(inputValue, 10);\n\n//     if (isBlurEvent) {\n//       setIsEdit(false);\n//     }\n\n//     if (inputValue.indexOf('.') > -1) {\n//       message.error('输入trackID不允许包含小数点');\n//       return;\n//     }\n\n//     if (hasDuplicateTrackID(newTrackID)) {\n//       message.error('存在重复的trackID');\n//       return;\n//     }\n\n//     if (!(newTrackID > 0)) {\n//       message.error('输入trackID必须为正整数!');\n//     }\n\n//     updateSelectedBox({ trackID: ~~inputValue });\n//   };\n\n//   useEffect(() => {\n//     setIsEdit(false);\n//   }, [selectedBoxTrackID]);\n\n//   return (\n//     <div style={{ padding: 24 }}>\n//       <div\n//         style={{\n//           marginBottom: 16,\n//           display: 'flex',\n//           justifyContent: 'space-between',\n//           alignItems: 'center',\n//         }}\n//       >\n//         <span>当前标注框ID</span>\n//         <span>批量修改</span>\n//       </div>\n//       <div\n//         style={{\n//           display: 'flex',\n//           justifyContent: 'space-between',\n//           alignItems: 'center',\n//         }}\n//       >\n//         {isEdit && selectedBoxTrackID ? (\n//           <Input\n//             defaultValue={selectedBoxTrackID}\n//             onChange={(e) => {\n//               setInputValue(e.target.value);\n//             }}\n//             disabled={!selectedBoxTrackID}\n//             size='small'\n//             onBlur={() => {\n//               applyInputValue();\n//             }}\n//             onPressEnter={() => {\n//               applyInputValue(true);\n//             }}\n//           />\n//         ) : (\n//           <span>{selectedBoxTrackID}</span>\n//         )}\n//         <EditFilled\n//           style={{\n//             color: '#999',\n//             marginLeft: 16,\n//             cursor: selectedBoxTrackID ? 'pointer' : 'not-allowed',\n//           }}\n//           onClick={() => {\n//             if (selectedBoxTrackID) {\n//               setIsEdit(!isEdit);\n//             }\n//           }}\n//         />\n//       </div>\n//     </div>\n//   );\n// };\n\nconst AttributeUpdater = ({\n  attributeList,\n  subAttributeList,\n  toolInstance,\n}: {\n  toolInstance: ICustomToolInstance;\n  attributeList: any[]; // TODO\n  subAttributeList: any[]; // TODO\n}) => {\n  const ptx = useContext(PointCloudContext);\n  const { t } = useTranslation();\n\n  const titleStyle = {\n    fontWeight: 400,\n    fontSize: 14,\n    marginBottom: 14,\n  };\n\n  const setAttribute = (attribute: string) => {\n    toolInstance.setDefaultAttribute(attribute);\n  };\n\n  const setSubAttribute = (key: string, value: string) => {\n    toolInstance.setSubAttribute(key, value);\n  };\n\n  return (\n    <div style={{ padding: 24, borderBottom: '1px solid #eee' }}>\n      <div style={{ marginBottom: 20, fontSize: 14, fontWeight: 500 }}>{t('Tag')}</div>\n      <Row style={{ marginBottom: 12 }}>\n        <Col span={9} style={titleStyle}>\n          {t('Attribute')}\n        </Col>\n        <Col span={15}>\n          <Radio.Group\n            style={{ width: '100%' }}\n            value={ptx.selectedPointCloudBox?.attribute}\n            onChange={(e) => setAttribute(e.target.value)}\n          >\n            {attributeList.map((v) => (\n              <Radio key={v.value} value={v.value} style={{ marginBottom: 16 }}>\n                {v.key}\n              </Radio>\n            ))}\n          </Radio.Group>\n        </Col>\n      </Row>\n      <div style={titleStyle}> {t('SubAttribute')}</div>\n      {subAttributeList.map(\n        (subAttribute) =>\n          subAttribute?.subSelected && (\n            <Row key={subAttribute.value} style={{ marginBottom: 18 }}>\n              <Col\n                span={9}\n                style={{\n                  color: '#999999',\n                  display: 'flex',\n                  justifyContent: 'flex-start',\n                  alignItems: 'center',\n                }}\n              >\n                {subAttribute.key}\n              </Col>\n              <Col span={15}>\n                <Select\n                  style={{ width: '100%' }}\n                  bordered={false}\n                  value={ptx.selectedPointCloudBox?.subAttribute?.[subAttribute.value]}\n                  placeholder={t('PleaseSelect')}\n                  onChange={(value) => setSubAttribute(subAttribute.value, value)}\n                  allowClear={true}\n                >\n                  {subAttribute.subSelected.map((sub: any) => (\n                    <Select.Option key={sub.value} value={sub.value}>\n                      {sub.key}\n                    </Select.Option>\n                  ))}\n                </Select>\n              </Col>\n            </Row>\n          ),\n      )}\n    </div>\n  );\n};\n\nconst PointCloudToolSidebar: React.FC<IProps> = ({ stepInfo, toolInstance }) => {\n  const { selectedBox } = useSingleBox();\n  const { updatePointCloudPattern, pointCloudPattern } = useStatus();\n\n  const config = jsonParser(stepInfo.config);\n  const attributeList = config?.attributeList ?? [];\n  const subAttributeList =\n    config?.secondaryAttributeConfigurable === true ? config?.inputList ?? [] : [];\n\n  return (\n    <>\n      <ToolIcons\n        toolName={cTool.EPointCloudName.PointCloud}\n        selectedToolName={pointCloudPattern}\n        onChange={(v) => updatePointCloudPattern?.(v)}\n      />\n      {/* <AnnotatedBox />\n      <BoxTrackIDInput /> */}\n      {selectedBox && (\n        <AttributeUpdater\n          toolInstance={toolInstance}\n          attributeList={attributeList}\n          subAttributeList={subAttributeList}\n        />\n      )}\n    </>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  const stepInfo = StepUtils.getCurrentStepInfo(state.annotation?.step, state.annotation?.stepList);\n  const toolInstance = state.annotation?.toolInstance;\n\n  return {\n    stepInfo,\n    toolInstance,\n  };\n};\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(\n  PointCloudToolSidebar,\n);\n","var img = \"data:image/svg+xml,%3csvg id='icon_line' xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='20' height='20'/%3e %3cpath id='%e5%bd%a2%e7%8a%b6%e7%bb%93%e5%90%88' class='cls-2' d='M3.889%2c15.556V13.042l9.153-9.153h2.514V0H11.667V2.514L2.514%2c11.667H0v3.889Z' transform='translate(2.222 2.222)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M64 8H52V20H64V8Z' fill='%23666FFF'/%3e%3cpath d='M20 52H8V64H20V52Z' fill='%23666FFF'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M50.0005 17.7692L17.7697 50H20.0005H22.0005L22.0005 52V54.2545L54.255 22H52.0005H50.0005V20V17.7692ZM56.255 20L56.6707 19.5843L52.428 15.3417L52.0005 15.7692V20L56.255 20ZM20.0005 56.2545L20.0005 52H15.7697L15.4648 52.3048L19.7075 56.5475L20.0005 56.2545Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M11.125 1H8.875V5.5H11.125V1Z' fill='%23999999'/%3e%3cpath d='M11.125 14.5H8.875V19H11.125V14.5Z' fill='%23999999'/%3e%3cpath d='M14.5 8.96582V11.2158H19V8.96582H14.5Z' fill='%23999999'/%3e%3cpath d='M1 8.96582L1 11.2158H5.5V8.96582H1Z' fill='%23999999'/%3e%3cpath d='M10 13C11.6569 13 13 11.6569 13 10C13 8.34315 11.6569 7 10 7C8.34315 7 7 8.34315 7 10C7 11.6569 8.34315 13 10 13Z' fill='%23999999'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M39 8H33V62H39V8Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M64 33H8V39H64V33Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3crect x='28' y='28' width='16' height='16' rx='8' fill='%23666FFF' stroke='white' stroke-width='2'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M55 22H61V50H55V22Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M50 55L50 61L22 61L22 55L50 55Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M64 8H52V20H64V8Z' fill='%23666FFF'/%3e%3cpath d='M20 52H8V64H20V52Z' fill='%23666FFF'/%3e%3cpath d='M64 52H52V64H64V52Z' fill='%23666FFF'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M50.0005 17.7692L17.7697 50H20.0005H22.0005L22.0005 52V54.2545L54.255 22H52.0005H50.0005V20V17.7692ZM56.255 20L56.6707 19.5843L52.428 15.3417L52.0005 15.7692V20L56.255 20ZM20.0005 56.2545L20.0005 52H15.7697L15.4648 52.3048L19.7075 56.5475L20.0005 56.2545Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M17 17H15V15H17V17ZM17 13H15V11H17V13ZM17 9H15V7H17V9ZM17 5H15V3H17V5Z' fill='%23999999'/%3e%3cpath d='M17 17H15.4286V15H17V17ZM13.8571 17H12.2857V15H13.8571V17ZM10.7143 17H9.14286V15H10.7143V17ZM7.57143 17H6V15H7.57143V17Z' fill='%23999999'/%3e%3cpath d='M18 2H14V6H18V2Z' fill='%23999999'/%3e%3cpath d='M6 14H2V18H6V14Z' fill='%23999999'/%3e%3cpath d='M18 14H14V18H18V14Z' fill='%23999999'/%3e%3cpath d='M15.2236 3L16.6378 4.41421L4.4144 16.6377L3.00019 15.2234L15.2236 3Z' fill='%23999999'/%3e%3cpath d='M15 15L15 17L5 17L5 15L15 15Z' fill='%23999999'/%3e%3cpath d='M15 6H17V15H15V6Z' fill='%23999999'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M17 5H15.4286V3H17V5ZM13.8571 5H12.2857V3H13.8571V5ZM10.7143 5H9.14286V3H10.7143V5ZM7.57143 5H6V3H7.57143V5Z' fill='%23999999'/%3e%3cpath d='M17 17H15V15H17V17ZM17 13H15V11H17V13ZM17 9H15V7H17V9ZM17 5H15V3H17V5Z' fill='%23999999'/%3e%3cpath d='M17 17H15.4286V15H17V17ZM13.8571 17H12.2857V15H13.8571V17ZM10.7143 17H9.14286V15H10.7143V17ZM7.57143 17H6V15H7.57143V17Z' fill='%23999999'/%3e%3cpath d='M6 2H2V6H6V2Z' fill='%23999999'/%3e%3cpath d='M18 2H14V6H18V2Z' fill='%23999999'/%3e%3cpath d='M6 14H2V18H6V14Z' fill='%23999999'/%3e%3cpath d='M18 14H14V18H18V14Z' fill='%23999999'/%3e%3cpath d='M5 6H3V15H5V6Z' fill='white'/%3e%3cpath d='M3 6H5V15H3V6Z' fill='%23999999'/%3e%3cpath d='M15 3L15 5L5 5L5 3L15 3Z' fill='%23999999'/%3e%3cpath d='M15 15L15 17L5 17L5 15L15 15Z' fill='%23999999'/%3e%3cpath d='M15 6H17V15H15V6Z' fill='%23999999'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M20 8H8V20H20V8Z' fill='%23666FFF'/%3e%3cpath d='M11 22H17V50H11V22Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M55 22H61V50H55V22Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M50 55L50 61L22 61L22 55L50 55Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M50 11L50 17L22 17L22 11L50 11Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M64 8H52V20H64V8Z' fill='%23666FFF'/%3e%3cpath d='M20 52H8V64H20V52Z' fill='%23666FFF'/%3e%3cpath d='M64 52H52V64H64V52Z' fill='%23666FFF'/%3e%3c/svg%3e\";\n  export default img;","import { Slider } from 'antd/es';\nimport React from 'react';\nimport widthSvg from '@/assets/toolStyle/icon_border.svg';\nimport colorSvg from '@/assets/toolStyle/icon_borderColor.svg';\nimport borderOpacitySvg from '@/assets/toolStyle/icon_opacityStroke.svg';\nimport fillOpacitySvg from '@/assets/toolStyle/icon_opacityFill.svg';\n\nimport { connect } from 'react-redux';\nimport { UpdateToolStyleConfig } from '@/store/toolStyle/actionCreators';\nimport { store } from '@/index';\nimport { LabelBeeContext } from '@/store/ctx';\nimport { AppState } from '@/store';\nimport { ToolStyleState } from '@/store/toolStyle/types';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  toolStyle: ToolStyleState;\n  config: string;\n}\ntype ToolStyleKey = keyof ToolStyleState;\n\nconst getMarks = (type: string, t: any) => {\n  const lineMarks = [\n    { step: 1, value: '1' },\n    { step: 2, value: '2' },\n    { step: 3, value: '3' },\n    { step: 4, value: '4' },\n    { step: 5, value: '5' },\n  ];\n  const colorMarks = [\n    { step: 1, value: 'Blue' },\n    { step: 3, value: 'Cyan' },\n    { step: 5, value: 'Green' },\n    { step: 7, value: 'Yellow' },\n    { step: 9, value: 'Pink' },\n  ];\n  const borderOpacityMarks = [\n    { step: 1, value: '0.2' },\n    { step: 3, value: '0.4' },\n    { step: 5, value: '0.6' },\n    { step: 7, value: '0.8' },\n    { step: 9, value: '1.0' },\n  ];\n\n  const fillOpacityMarks = [\n    { step: 1, value: '0' },\n    { step: 3, value: '0.2' },\n    { step: 5, value: '0.4' },\n    { step: 7, value: '0.6' },\n    { step: 9, value: '0.8' },\n  ];\n  let list: Array<{ step: number; value: string }> = [];\n  const marks: {\n    [a: number]: {\n      style: {};\n      label: any;\n    };\n  } = {};\n  switch (type) {\n    case 'width':\n      list = lineMarks;\n      break;\n    case 'color':\n      list = colorMarks;\n      break;\n    case 'borderOpacity':\n      list = borderOpacityMarks;\n      break;\n    case 'fillOpacity':\n      list = fillOpacityMarks;\n      break;\n  }\n  list.forEach(({ step, value }) => {\n    marks[step] = {\n      style: { color: '#999999', fontSize: '12px' },\n      label: <span>{t(value)}</span>,\n    };\n  });\n  return marks;\n};\n\nconst getTitle = (title: string) => {\n  switch (title) {\n    case 'width':\n      return 'BorderThickness';\n    case 'color':\n      return 'Color';\n    case 'borderOpacity':\n      return 'BorderOpacity';\n    case 'fillOpacity':\n      return 'FillOpacity';\n    default:\n      return '';\n  }\n};\nconst getImage = (title: string) => {\n  switch (title) {\n    case 'width':\n      return widthSvg;\n    case 'color':\n      return colorSvg;\n    case 'borderOpacity':\n      return borderOpacitySvg;\n    case 'fillOpacity':\n      return fillOpacitySvg;\n  }\n};\nconst getDefaultValue = (value: string) => {\n  switch (value) {\n    case 'width':\n      return 2;\n    case 'color':\n      return 1;\n    case 'borderOpacity':\n      return 9;\n    case 'fillOpacity':\n      return 9;\n  }\n};\n\n/**\n * 判断使用那种样式 (slider的step中间为选中和step为选中)\n * @param info TToolStyleConfig\n */\nconst getStyleType = (info: string): boolean => ['width'].includes(info);\n\nconst ToolStyle = (props: IProps) => {\n  const { toolStyle } = props;\n  const { width, color, borderOpacity, fillOpacity } = toolStyle;\n  const styleConfig = {\n    width,\n    color,\n    borderOpacity,\n    fillOpacity,\n  };\n  const { t } = useTranslation();\n\n  // TODO - 样式标准的定义\n  const annotationConfig: any = props.config;\n\n  const changeToolStyle = (obj: { [key: string]: number }) => {\n    store.dispatch(UpdateToolStyleConfig(obj));\n  };\n\n  return (\n    <div className='toolStyle'>\n      {Object.entries(styleConfig).map((item: any[]) => {\n        const key: ToolStyleKey = item[0];\n        // 判断是否需要 color 的使用，现在暂时默认不需要\n        if (annotationConfig?.attributeConfigurable === true && key === 'color') {\n          return null;\n        }\n        return (\n          <div id={`style-${key}`} className='styleSlider' key={key}>\n            <span className='title'>\n              <img src={getImage(key)} className='icon' />\n              {t(getTitle(key))}\n            </span>\n            <span className='slider'>\n              <Slider\n                tipFormatter={null}\n                max={getStyleType(key) ? 5 : 10}\n                min={getStyleType(key) ? 1 : 0}\n                step={getStyleType(key) ? 1 : null}\n                value={(toolStyle[key] ?? getDefaultValue(key)) as number}\n                marks={getMarks(key, t)}\n                onChange={(e: any) => changeToolStyle({ [key]: e })}\n              />\n            </span>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\nconst mapStateToProps = ({ toolStyle, annotation }: AppState) => ({\n  toolStyle,\n  config: annotation.toolInstance.config,\n});\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(ToolStyle);\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2%2c .cls-4 %7b fill: none%3b %7d .cls-1 %7b stroke: %23707070%3b %7d .cls-3%2c .cls-5 %7b stroke: none%3b %7d .cls-5 %7b fill: %23ccc%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_border' transform='translate(0 -1.609)'%3e %3cg id='%e7%9f%a9%e5%bd%a2_162' data-name='%e7%9f%a9%e5%bd%a2 162' class='cls-1' transform='translate(0 1.609)'%3e %3crect class='cls-3' width='10' height='10'/%3e %3crect class='cls-4' x='0.5' y='0.5' width='9' height='9'/%3e %3c/g%3e %3cg id='%e8%81%94%e5%90%88_2' data-name='%e8%81%94%e5%90%88 2' class='cls-2' transform='translate(10987 5359.61)'%3e %3cpath class='cls-3' d='M-10982.4-5349v-3.6h-3.6v-.8h3.6v-3.6h.8v3.6h3.6v.8h-3.6v3.6Z'/%3e %3cpath class='cls-5' d='M -10981.6005859375 -5349 L -10982.3994140625 -5349 L -10982.3994140625 -5352.6005859375 L -10986.0009765625 -5352.6005859375 L -10986.0009765625 -5353.400390625 L -10982.3994140625 -5353.400390625 L -10982.3994140625 -5357.0009765625 L -10981.6005859375 -5357.0009765625 L -10981.6005859375 -5353.400390625 L -10977.9990234375 -5353.400390625 L -10977.9990234375 -5352.6005859375 L -10981.6005859375 -5352.6005859375 L -10981.6005859375 -5349 Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='12' height='12' viewBox='0 0 12 12'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23fafafa%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-5 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-6 %7b fill: %23999%3b %7d .cls-7 %7b clip-path: url(%23clip-path-3)%3b %7d .cls-8 %7b clip-path: url(%23clip-path-4)%3b %7d .cls-9 %7b clip-path: url(%23clip-path-5)%3b %7d .cls-10 %7b clip-path: url(%23clip-path-6)%3b %7d .cls-11 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_422' data-name='%e8%b7%af%e5%be%84 422' class='cls-1' d='M0-4H12V-16H0Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_424' data-name='%e8%b7%af%e5%be%84 424' class='cls-1' d='M11.759-9.6a.729.729%2c0%2c0%2c0%2c.729.729.729.729%2c0%2c0%2c0%2c.729-.729.729.729%2c0%2c0%2c0-.729-.729A.729.729%2c0%2c0%2c0%2c11.759-9.6Z' transform='translate(-11.759 10.33)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-3'%3e %3cpath id='%e8%b7%af%e5%be%84_426' data-name='%e8%b7%af%e5%be%84 426' class='cls-1' d='M9.031-12.726a.742.742%2c0%2c0%2c0%2c.742.742.742.742%2c0%2c0%2c0%2c.742-.742.742.742%2c0%2c0%2c0-.742-.742.742.742%2c0%2c0%2c0-.742.742Z' transform='translate(-9.031 13.469)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-4'%3e %3cpath id='%e8%b7%af%e5%be%84_428' data-name='%e8%b7%af%e5%be%84 428' class='cls-1' d='M4.727-12.239a.747.747%2c0%2c0%2c0%2c.747.747.747.747%2c0%2c0%2c0%2c.747-.747.747.747%2c0%2c0%2c0-.747-.747A.747.747%2c0%2c0%2c0%2c4.727-12.239Z' transform='translate(-4.727 12.986)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-5'%3e %3cpath id='%e8%b7%af%e5%be%84_430' data-name='%e8%b7%af%e5%be%84 430' class='cls-1' d='M2.362-8.573a.73.73%2c0%2c0%2c0%2c.365.632.73.73%2c0%2c0%2c0%2c.73%2c0%2c.73.73%2c0%2c0%2c0%2c.365-.632.73.73%2c0%2c0%2c0-.365-.632.73.73%2c0%2c0%2c0-.73%2c0%2c.73.73%2c0%2c0%2c0-.365.632Z' transform='translate(-2.362 9.303)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-6'%3e %3cpath id='%e8%b7%af%e5%be%84_432' data-name='%e8%b7%af%e5%be%84 432' class='cls-2' d='M5.887-4.052H5.873A5.888%2c5.888%2c0%2c0%2c1%2c0-10.018a5.922%2c5.922%2c0%2c0%2c1%2c6-5.931%2c5.853%2c5.853%2c0%2c0%2c1%2c6%2c5.335A3.662%2c3.662%2c0%2c0%2c1%2c9.645-7.28a6.77%2c6.77%2c0%2c0%2c1-2.439.232l-.122%2c0a.538.538%2c0%2c0%2c0-.154.408.342.342%2c0%2c0%2c0%2c.009.1.431.431%2c0%2c0%2c0%2c.046.048%2c1.36%2c1.36%2c0%2c0%2c1%2c.387%2c1.083A1.29%2c1.29%2c0%2c0%2c1%2c7-4.47%2c1.682%2c1.682%2c0%2c0%2c1%2c5.887-4.052ZM6-14.939a4.945%2c4.945%2c0%2c0%2c0-4.989%2c4.922A4.916%2c4.916%2c0%2c0%2c0%2c5.883-5.061c.22%2c0%2c.477-.063.477-.355%2c0-.274-.039-.315-.109-.388a1.093%2c1.093%2c0%2c0%2c1-.333-.841A1.319%2c1.319%2c0%2c0%2c1%2c7.077-8.064l.168%2c0A6.391%2c6.391%2c0%2c0%2c0%2c9.28-8.223a2.677%2c2.677%2c0%2c0%2c0%2c1.707-2.391A4.83%2c4.83%2c0%2c0%2c0%2c6-14.939Z' transform='translate(0 15.948)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_borderColor' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_670' data-name='%e7%bb%84 670' class='cls-3' transform='translate(0 -16)'%3e %3cpath id='%e8%b7%af%e5%be%84_421' data-name='%e8%b7%af%e5%be%84 421' class='cls-4' d='M-5-21H14.5V-1.5H-5Z' transform='translate(1.25 17.25)'/%3e %3c/g%3e %3cg id='%e7%bb%84_671' data-name='%e7%bb%84 671' class='cls-5' transform='translate(8.121 -11.61)'%3e %3cpath id='%e8%b7%af%e5%be%84_423' data-name='%e8%b7%af%e5%be%84 423' class='cls-6' d='M6.759-15.33H14.9v8.145H6.759Z' transform='translate(-10.103 11.986)'/%3e %3c/g%3e %3cg id='%e7%bb%84_672' data-name='%e7%bb%84 672' class='cls-7' transform='translate(6.765 -13.853)'%3e %3cpath id='%e8%b7%af%e5%be%84_425' data-name='%e8%b7%af%e5%be%84 425' class='cls-6' d='M4.031-18.469h8.291v8.291H4.031Z' transform='translate(-7.434 15.066)'/%3e %3c/g%3e %3cg id='%e7%bb%84_673' data-name='%e7%bb%84 673' class='cls-8' transform='translate(3.702 -13.515)'%3e %3cpath id='%e8%b7%af%e5%be%84_427' data-name='%e8%b7%af%e5%be%84 427' class='cls-6' d='M-.273-17.986H8.073V-9.64H-.273Z' transform='translate(-3.152 14.56)'/%3e %3c/g%3e %3cg id='%e7%bb%84_674' data-name='%e7%bb%84 674' class='cls-9' transform='translate(2.723 -10.881)'%3e %3cpath id='%e8%b7%af%e5%be%84_429' data-name='%e8%b7%af%e5%be%84 429' class='cls-6' d='M-2.638-14.3H5.512v8.149H-2.638Z' transform='translate(-0.707 10.958)'/%3e %3c/g%3e %3cg id='%e7%bb%84_675' data-name='%e7%bb%84 675' class='cls-10' transform='translate(0 -15.948)'%3e %3cpath id='%e8%b7%af%e5%be%84_431' data-name='%e8%b7%af%e5%be%84 431' class='cls-11' d='M-5-20.948H14.5V-1.568H-5Z' transform='translate(1.25 17.207)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='10.001' height='10.001' viewBox='0 0 10.001 10.001'%3e%3cg transform='translate(1.001 1)'%3e%3cg transform='translate(0 -1)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(0 7.334)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(9 0.334) rotate(90)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(0.666 0.334) rotate(90)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(-1 -1)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(-1 7.333)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(7.333 -1)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(7.333 7.333)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='9.999' height='9.999' viewBox='0 0 9.999 9.999'%3e%3cg transform='translate(0 0)'%3e%3crect width='3.333' height='3.333' transform='translate(0 0)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(0 6.667)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(6.666 0)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(3.333 3.333)' fill='%23707070'/%3e%3crect width='3.333' height='3.333' transform='translate(6.666 6.667)' fill='%23ccc'/%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","import React, { useState } from 'react';\n\nimport { Slider } from 'antd';\nimport penActivate from '@/assets/attributeIcon/pen_a.svg';\nimport pen from '@/assets/attributeIcon/pen.svg';\nimport eraserActivate from '@/assets/attributeIcon/eraser_a.svg';\nimport eraser from '@/assets/attributeIcon/eraser.svg';\nimport { getClassName } from '@/utils/dom';\nimport { AppState } from '@/store';\nimport { EScribblePattern } from '@/data/enums/ToolType';\nimport { useSelector } from '@/store/ctx';\n\ninterface IProps {\n  // toolInstance?: GraphToolInstance;\n  // stepInfo?: IStepInfo;\n  onChange: (tool: number, values: number) => void;\n}\n\nconst ScribbleSidebar: React.FC<IProps> = (props) => {\n  const { onChange } = props;\n  // 查看时候默认值\n  const toolInstance = useSelector((state: AppState) => state.annotation.toolInstance);\n  const [silderValue, setSilderValue] = useState(20);\n  const [selectTool, setSelectTool] = useState(EScribblePattern.Scribble);\n\n  const changeValue = () => {\n    onChange(selectTool, silderValue);\n  };\n\n  return (\n    <div className={getClassName('scribble')}>\n      <div className={getClassName('scribble', 'select')}>\n        <img\n          src={selectTool === EScribblePattern.Scribble ? penActivate : pen}\n          onClick={() => {\n            setSelectTool(EScribblePattern.Scribble);\n            toolInstance?.setPattern(EScribblePattern.Scribble);\n            changeValue();\n          }}\n        />\n        <img\n          src={selectTool === EScribblePattern.Erase ? eraserActivate : eraser}\n          onClick={() => {\n            setSelectTool(EScribblePattern.Erase);\n            toolInstance?.setPattern(EScribblePattern.Erase);\n\n            changeValue();\n          }}\n        />\n      </div>\n      <div className={getClassName('scribble', 'silder')}>\n        <span className={getClassName('scribble', 'circle')} />\n        <Slider\n          onChange={(v: number) => {\n            setSilderValue(v);\n            changeValue();\n            toolInstance?.setPenSize(v);\n          }}\n          min={1}\n          max={50}\n          style={{ width: '60%' }}\n          value={silderValue}\n        />\n        <span\n          className={getClassName('scribble', 'circle')}\n          style={{ width: '10px', height: '10px' }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ScribbleSidebar;\n","var img = \"data:image/svg+xml,%3csvg width='12' height='13' viewBox='0 0 12 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect x='9.07153' y='1' width='3' height='10' rx='1' transform='rotate(45 9.07153 1)' fill='%236272FB' /%3e %3cpath d='M1.06068 11.182L1.73311 8.67247L3.57023 10.5096L1.06068 11.182Z' fill='%236272FB' /%3e %3ccircle cx='11.0002' cy='1' r='1' fill='%236272FB' /%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='12' height='13' viewBox='0 0 12 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect x='9.07153' y='1' width='3' height='10' rx='1' transform='rotate(45 9.07153 1)' fill='%23BAB8B8' /%3e %3cpath d='M1.06068 11.182L1.73311 8.67247L3.57023 10.5096L1.06068 11.182Z' fill='%23BAB8B8' /%3e %3ccircle cx='11.0002' cy='1' r='1' fill='%23BAB8B8' /%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='10' height='10' viewBox='0 0 10 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect x='6.34875' y='0.353553' width='4.5' height='8.47848' rx='2.25' transform='rotate(45 6.34875 0.353553)' fill='%236272FB' stroke='%23BAB8B8' stroke-width='0.5' /%3e %3cline x1='1.74547' y1='4.60767' x2='4.92401' y2='8.46733' stroke='%23BAB8B8' stroke-width='0.5' /%3e %3cline x1='2.00061' y1='9.75' x2='10.0006' y2='9.75' stroke='%236272FB' stroke-width='0.5' /%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='10' height='10' viewBox='0 0 10 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect x='6.34875' y='0.353553' width='4.5' height='8.47848' rx='2.25' transform='rotate(45 6.34875 0.353553)' fill='%23E6E6E6' stroke='%23BAB8B8' stroke-width='0.5' /%3e %3cline x1='1.74547' y1='4.60767' x2='4.92401' y2='8.46733' stroke='%23BAB8B8' stroke-width='0.5' /%3e %3cline x1='2.00061' y1='9.75' x2='10.0006' y2='9.75' stroke='%23BAB8B8' stroke-width='0.5' /%3e%3c/svg%3e\";\n  export default img;","import React from 'react';\nimport ToolHotKey from './ToolHotKey';\nimport StepUtils from '@/utils/StepUtils';\nimport { useSelector } from '@/store/ctx';\n\nconst FooterTips: React.FC = () => {\n  // @ts-ignore\n  const stepInfo = useSelector((state) =>\n    // @ts-ignore\n    StepUtils.getCurrentStepInfo(state?.annotation?.step, state.annotation?.stepList),\n  );\n\n  return (\n    <div className='tipsBar'>\n      <ToolHotKey toolName={stepInfo?.tool} />\n    </div>\n  );\n};\n\nexport default FooterTips;\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3crect width='16' height='16' fill='none'/%3e%3cg transform='translate(1 2)'%3e%3cpath d='M2%2c12a2.071%2c2.071%2c0%2c0%2c1-1.412-.54A1.791%2c1.791%2c0%2c0%2c1%2c0%2c10.151v-8.3A1.935%2c1.935%2c0%2c0%2c1%2c2.006%2c0h9.988A1.935%2c1.935%2c0%2c0%2c1%2c14%2c1.849v8.3a1.77%2c1.77%2c0%2c0%2c1-.588%2c1.308A2.075%2c2.075%2c0%2c0%2c1%2c12%2c12H2Zm1-3.692a.926.926%2c0%2c1%2c0%2c0%2c1.846H11a.926.926%2c0%2c1%2c0%2c0-1.846Zm7.273-3.692C10.2%2c4.616%2c10%2c4.67%2c10%2c4.8V6.221c0%2c.078%2c0%2c.241.268.241H11.8c.2%2c0%2c.2-.144.2-.213V4.828a.226.226%2c0%2c0%2c0-.236-.212Zm-4%2c0C6.2%2c4.616%2c6%2c4.67%2c6%2c4.8V6.221c0%2c.078%2c0%2c.241.268.241H7.8c.2%2c0%2c.2-.144.2-.213V4.828a.226.226%2c0%2c0%2c0-.236-.212Zm-4%2c0C2.2%2c4.616%2c2%2c4.67%2c2%2c4.8V6.221c0%2c.078%2c0%2c.241.268.241H3.8c.2%2c0%2c.2-.144.2-.213V4.828a.226.226%2c0%2c0%2c0-.236-.212Zm8-2.77c-.065%2c0-.268.054-.268.18V3.451c0%2c.078%2c0%2c.241.268.241H11.8c.2%2c0%2c.2-.143.2-.212V2.059a.226.226%2c0%2c0%2c0-.236-.213Zm-4%2c0C6.2%2c1.846%2c6%2c1.9%2c6%2c2.026V3.451c0%2c.078%2c0%2c.241.268.241H7.8c.2%2c0%2c.2-.143.2-.212V2.059a.226.226%2c0%2c0%2c0-.236-.213Zm-4%2c0C2.2%2c1.846%2c2%2c1.9%2c2%2c2.026V3.451c0%2c.078%2c0%2c.241.268.241H3.8c.2%2c0%2c.2-.143.2-.212V2.059a.226.226%2c0%2c0%2c0-.236-.213Z' fill='white'/%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='17' height='15' viewBox='0 0 17 15'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666fff%3b stroke-miterlimit: 10%3b %7d .cls-2%2c .cls-3 %7b stroke: none%3b %7d .cls-3 %7b fill: white%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_kj_h' transform='translate(1 1)'%3e %3cg id='%e5%9b%be%e6%a0%87_%e8%ae%be%e7%bd%ae_%e5%bf%ab%e6%8d%b7%e9%94%ae'%3e %3cg id='%e5%bd%a2%e7%8a%b6' class='cls-1'%3e %3cpath class='cls-2' d='M 2.142650127410889 13.49960994720459 L 2.14231014251709 13.49960994720459 L 2.141970157623291 13.49960994720459 C 1.443660259246826 13.49962043762207 0.7852402329444885 13.24412059783936 0.2880001962184906 12.78017997741699 C -0.2126297950744629 12.31418991088867 -0.4999997913837433 11.66413974761963 -0.4999997913837433 10.99709987640381 L -0.4999997913837433 2.003400325775146 C -0.4999997913837433 0.6230202317237854 0.6884301900863647 -0.4999997913837433 2.149200201034546 -0.4999997913837433 L 12.85109996795654 -0.4999997913837433 C 14.31187057495117 -0.4999997913837433 15.50030040740967 0.6230202317237854 15.50030040740967 2.003400325775146 L 15.50030040740967 10.99709987640381 C 15.49915027618408 11.6742000579834 15.21883010864258 12.30697059631348 14.71096038818359 12.77968978881836 C 14.2135705947876 13.24379062652588 13.55419063568115 13.49960041046143 12.85474014282227 13.49960041046143 L 2.149200201034546 13.49960041046143 L 2.142650127410889 13.49960994720459 Z M 3.208500146865845 9.5 C 2.89663028717041 9.5 2.642900228500366 9.724249839782715 2.642900228500366 9.999899864196777 C 2.642900228500366 10.27554988861084 2.89663028717041 10.49980068206787 3.208500146865845 10.49980068206787 L 11.79090023040771 10.49980068206787 C 12.10327053070068 10.49980068206787 12.35739994049072 10.27554988861084 12.35739994049072 9.999899864196777 C 12.35739994049072 9.724249839782715 12.10327053070068 9.5 11.79090023040771 9.5 L 3.208500146865845 9.5 Z M 11.21450042724609 6.500200271606445 L 12.35739994049072 6.500200271606445 L 12.35739994049072 5.500400066375732 L 11.21450042724609 5.500400066375732 L 11.21450042724609 6.500200271606445 Z M 6.928699970245361 6.500200271606445 L 8.071599960327148 6.500200271606445 L 8.071599960327148 5.500400066375732 L 6.928699970245361 5.500400066375732 L 6.928699970245361 6.500200271606445 Z M 2.642900228500366 6.500200271606445 L 3.785800218582153 6.500200271606445 L 3.785800218582153 5.500400066375732 L 2.642900228500366 5.500400066375732 L 2.642900228500366 6.500200271606445 Z M 11.21450042724609 3.499600172042847 L 12.35739994049072 3.499600172042847 L 12.35739994049072 2.499800205230713 L 11.21450042724609 2.499800205230713 L 11.21450042724609 3.499600172042847 Z M 6.928699970245361 3.499600172042847 L 8.071599960327148 3.499600172042847 L 8.071599960327148 2.499800205230713 L 6.928699970245361 2.499800205230713 L 6.928699970245361 3.499600172042847 Z M 2.642900228500366 3.499600172042847 L 3.785800218582153 3.499600172042847 L 3.785800218582153 2.499800205230713 L 2.642900228500366 2.499800205230713 L 2.642900228500366 3.499600172042847 Z'/%3e %3cpath class='cls-3' d='M 2.141960144042969 12.99960994720459 L 2.149200201034546 12.99960041046143 L 12.85474014282227 12.99960041046143 C 13.4271297454834 12.99960041046143 13.96537017822266 12.79152011871338 14.37030029296875 12.41370010375977 C 14.77565002441406 12.03639984130859 14.99939060211182 11.53330039978027 15.00030040740967 10.99709987640381 L 15.00030040740967 2.003400325775146 C 15.00030040740967 0.8987202048301697 14.03617000579834 2.188110386214248e-07 12.85109996795654 2.188110386214248e-07 L 2.149200201034546 2.188110386214248e-07 C 0.9641302227973938 2.188110386214248e-07 2.037048290048915e-07 0.8987202048301697 2.037048290048915e-07 2.003400325775146 L 2.037048290048915e-07 10.99709987640381 C 2.037048290048915e-07 11.52581024169922 0.2293002009391785 12.04246044158936 0.6291002035140991 12.41460037231445 C 1.033440232276917 12.79186058044434 1.570720195770264 12.99962043762207 2.141960144042969 12.99960994720459 M 3.208500146865845 9 L 11.79090023040771 9 C 12.3789701461792 9 12.85739994049072 9.448550224304199 12.85739994049072 9.999899864196777 C 12.85739994049072 10.55125045776367 12.3789701461792 10.99980068206787 11.79090023040771 10.99980068206787 L 3.208500146865845 10.99980068206787 C 2.620930194854736 10.99980068206787 2.142900228500366 10.55125045776367 2.142900228500366 9.999899864196777 C 2.142900228500366 9.448550224304199 2.620930194854736 9 3.208500146865845 9 M 11.00160026550293 5.000400066375732 L 12.60449981689453 5.000400066375732 C 12.79372024536133 5.000400066375732 12.85739994049072 5.157999992370605 12.85739994049072 5.229900360107422 L 12.85739994049072 6.769800186157227 C 12.85739994049072 6.844580173492432 12.85739994049072 7.000200271606445 12.64050006866455 7.000200271606445 L 11.00160026550293 7.000200271606445 C 10.71450042724609 7.000200271606445 10.71450042724609 6.823920249938965 10.71450042724609 6.739200115203857 L 10.71450042724609 5.19480037689209 C 10.71450042724609 5.058890342712402 10.9323902130127 5.000400066375732 11.00160026550293 5.000400066375732 M 6.715800285339355 5.000400066375732 L 8.318699836730957 5.000400066375732 C 8.507920265197754 5.000400066375732 8.571599960327148 5.157999992370605 8.571599960327148 5.229900360107422 L 8.571599960327148 6.769800186157227 C 8.571599960327148 6.844580173492432 8.571599960327148 7.000200271606445 8.354700088500977 7.000200271606445 L 6.715800285339355 7.000200271606445 C 6.428699970245361 7.000200271606445 6.428699970245361 6.823920249938965 6.428699970245361 6.739200115203857 L 6.428699970245361 5.19480037689209 C 6.428699970245361 5.058890342712402 6.646590232849121 5.000400066375732 6.715800285339355 5.000400066375732 M 2.430000305175781 5.000400066375732 L 4.032900333404541 5.000400066375732 C 4.22212028503418 5.000400066375732 4.285799980163574 5.157999992370605 4.285799980163574 5.229900360107422 L 4.285799980163574 6.769800186157227 C 4.285799980163574 6.844580173492432 4.285799980163574 7.000200271606445 4.068900108337402 7.000200271606445 L 2.430000305175781 7.000200271606445 C 2.142900228500366 7.000200271606445 2.142900228500366 6.823920249938965 2.142900228500366 6.739200115203857 L 2.142900228500366 5.19480037689209 C 2.142900228500366 5.058890342712402 2.360790252685547 5.000400066375732 2.430000305175781 5.000400066375732 M 11.00160026550293 1.999800205230713 L 12.60449981689453 1.999800205230713 C 12.79372024536133 1.999800205230713 12.85739994049072 2.158020257949829 12.85739994049072 2.230200290679932 L 12.85739994049072 3.770100116729736 C 12.85739994049072 3.844590187072754 12.85739994049072 3.999600172042847 12.64050006866455 3.999600172042847 L 11.00160026550293 3.999600172042847 C 10.71450042724609 3.999600172042847 10.71450042724609 3.823320150375366 10.71450042724609 3.738600254058838 L 10.71450042724609 2.1951003074646 C 10.71450042724609 2.058560132980347 10.9323902130127 1.999800205230713 11.00160026550293 1.999800205230713 M 6.715800285339355 1.999800205230713 L 8.318699836730957 1.999800205230713 C 8.507920265197754 1.999800205230713 8.571599960327148 2.158020257949829 8.571599960327148 2.230200290679932 L 8.571599960327148 3.770100116729736 C 8.571599960327148 3.844590187072754 8.571599960327148 3.999600172042847 8.354700088500977 3.999600172042847 L 6.715800285339355 3.999600172042847 C 6.428699970245361 3.999600172042847 6.428699970245361 3.823320150375366 6.428699970245361 3.738600254058838 L 6.428699970245361 2.1951003074646 C 6.428699970245361 2.058560132980347 6.646590232849121 1.999800205230713 6.715800285339355 1.999800205230713 M 2.430000305175781 1.999800205230713 L 4.032900333404541 1.999800205230713 C 4.22212028503418 1.999800205230713 4.285799980163574 2.158020257949829 4.285799980163574 2.230200290679932 L 4.285799980163574 3.770100116729736 C 4.285799980163574 3.844590187072754 4.285799980163574 3.999600172042847 4.068900108337402 3.999600172042847 L 2.430000305175781 3.999600172042847 C 2.142900228500366 3.999600172042847 2.142900228500366 3.823320150375366 2.142900228500366 3.738600254058838 L 2.142900228500366 2.1951003074646 C 2.142900228500366 2.058560132980347 2.360790252685547 1.999800205230713 2.430000305175781 1.999800205230713 M 2.143340110778809 13.99960994720459 L 2.142660140991211 13.99960994720459 L 2.141980171203613 13.99960994720459 C 1.316610217094421 13.99962043762207 0.537050187587738 13.69639015197754 -0.05309979617595673 13.14577007293701 C -0.654549777507782 12.58592987060547 -0.9999998211860657 11.80247020721436 -0.9999998211860657 10.99709987640381 L -0.9999998211860657 2.003400325775146 C -0.9999998211860657 0.3473202288150787 0.4127302169799805 -0.9999997615814209 2.149200201034546 -0.9999997615814209 L 12.85109996795654 -0.9999997615814209 C 14.58757019042969 -0.9999997615814209 16.00029945373535 0.3473202288150787 16.00029945373535 2.003400325775146 L 16.00029945373535 10.99709987640381 C 15.99890995025635 11.81510066986084 15.66200065612793 12.57754039764404 15.0516300201416 13.14568042755127 C 14.46177005767822 13.6960506439209 13.68125057220459 13.99960041046143 12.85474014282227 13.99960041046143 L 2.149200201034546 13.99960041046143 L 2.143340110778809 13.99960994720459 Z'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import DrawRectSvg from '@/assets/annotation/toolHotKeyIcon/icon_frame_kj.svg';\nimport DrawInvalidRectSvg from '@/assets/annotation/toolHotKeyIcon/icon_frameNull_kj.svg';\nimport MouseLeftSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg';\nimport SelectedRectSvg from '@/assets/annotation/toolHotKeyIcon/icon_frameActive_kj.svg';\nimport MouseRightSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\nimport ChangeValidSvg from '@/assets/annotation/toolHotKeyIcon/icon_frameChange_kj.svg';\nimport DeleteRectSvg from '@/assets/annotation/toolHotKeyIcon/icon_del_kj.svg';\nimport {\n  backward,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  restore,\n  revoke,\n  rotate,\n  scale,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n} from '../common';\n\nexport const drawRect = {\n  name: 'AnnotateRect',\n  icon: DrawRectSvg,\n  shortCut: [MouseLeftSvg, MouseLeftSvg],\n};\n\nexport const drawInvalidRect = {\n  name: 'AnnotateInvalidRect',\n  icon: DrawInvalidRectSvg,\n  shortCut: [MouseLeftSvg, 'Ctrl', MouseLeftSvg],\n};\n\nexport const selectRect = {\n  name: 'SelectRect',\n  icon: SelectedRectSvg,\n  shortCut: [MouseRightSvg],\n  noticeInfo: 'RightClick',\n};\n\nexport const changeValid = {\n  name: 'ToggleRectEffectiveness',\n  icon: ChangeValidSvg,\n  shortCut: ['F'],\n};\n\nexport const changeValidByClick = {\n  name: 'ToggleRectEffectiveness',\n  icon: ChangeValidSvg,\n  shortCut: ['Ctrl', MouseLeftSvg],\n};\n\nexport const deleteRect = {\n  name: 'DeleteRect',\n  icon: DeleteRectSvg,\n  shortCut: [MouseRightSvg],\n  noticeInfo: 'SelectAndDoubleClick',\n};\n\nconst rectToolShortcutTable = [\n  drawRect,\n  drawInvalidRect,\n  selectRect,\n  changeValid,\n  changeValidByClick,\n  deleteRect,\n  revoke,\n  restore,\n  rotate,\n  scale,\n  // fullScreen,\n  backward,\n  forward,\n  // setValid,\n  // copyBackwardResult,\n  dargWithRightClick,\n  // dargWithLeftClick,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n];\nexport default rectToolShortcutTable;\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_27' data-name='%e8%b7%af%e5%be%84 27' class='cls-1' d='M3.5-16v.874h7V-16H14v3.5h-.875v7H14V-2H10.5v-.875h-7V-2H0V-5.5H.875v-7H0V-16Zm0%2c2.624v.876H2.625v7H3.5v.875h7V-5.5h.875v-7H10.5v-.875Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_26' data-name='%e8%b7%af%e5%be%84 26' class='cls-2' d='M-1747%2c836H-67V-109H-1747Z' transform='translate(1747 109)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frame_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cg id='%e7%bb%84_25' data-name='%e7%bb%84 25' class='cls-3' transform='translate(0 -16)'%3e %3cg id='%e7%bb%84_24' data-name='%e7%bb%84 24' class='cls-4' transform='translate(-1528.625 -81.375)'%3e %3cpath id='%e8%b7%af%e5%be%84_25' data-name='%e8%b7%af%e5%be%84 25' class='cls-5' d='M-5-21H17.75V1.75H-5Z' transform='translate(1529.25 98)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2%2c .cls-6 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d .cls-6 %7b stroke: %23666%3b %7d .cls-7 %7b stroke: none%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_27' data-name='%e8%b7%af%e5%be%84 27' class='cls-1' d='M3.5-16v.874h7V-16H14v3.5h-.875v7H14V-2H10.5v-.875h-7V-2H0V-5.5H.875v-7H0V-16Zm0%2c2.624v.876H2.625v7H3.5v.875h7V-5.5h.875v-7H10.5v-.875Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_26' data-name='%e8%b7%af%e5%be%84 26' class='cls-2' d='M-1747%2c836H-67V-109H-1747Z' transform='translate(1747 109)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frameNull_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_131' data-name='%e7%9f%a9%e5%bd%a2 131' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3cg id='%e7%bb%84_25' data-name='%e7%bb%84 25' class='cls-3' transform='translate(0 -16)'%3e %3cg id='%e7%bb%84_24' data-name='%e7%bb%84 24' class='cls-4' transform='translate(-1528.625 -81.375)'%3e %3cpath id='%e8%b7%af%e5%be%84_25' data-name='%e8%b7%af%e5%be%84 25' class='cls-5' d='M-5-21H17.75V1.75H-5Z' transform='translate(1529.25 98)'/%3e %3c/g%3e %3c/g%3e %3cg id='%e7%9f%a9%e5%bd%a2_92' data-name='%e7%9f%a9%e5%bd%a2 92' class='cls-6' transform='translate(1.699 -12.97) rotate(-45)'%3e %3crect class='cls-7' width='1.6' height='13'/%3e %3crect class='cls-2' x='0.5' y='0.5' width='0.6' height='12'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666%3b %7d .cls-2 %7b fill: none%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_frameActive_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_2' data-name='%e5%87%8f%e5%8e%bb 2' class='cls-1' d='M1768.5%2c9503H1765v-3.5h.875v-7H1765V9489h3.5v.873l7%2c0V9489h3.5v3.5h-.875v4.5h-1.75v-4.5h-.873v-.873l-7%2c0v.875h-.873v7h.873v.873h4.5v1.751h-4.5V9503Z' transform='translate(-1765 -9505)'/%3e %3cpath id='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd_4' data-name='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd 4' class='cls-1' d='M2.628%2c0%2c5.256%2c5.256%2c2.632%2c4.129%2c0%2c5.256Z' transform='translate(7.667 -6.406) rotate(-30)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_399' data-name='%e8%b7%af%e5%be%84 399' class='cls-2' d='M2.139-17.789H7.33L8-17.12H3.813l1.172%2c1.34h-1ZM7.5-18.627H2.306l-.67-.669H5.823l-1.172-1.34h1L7.5-18.627Z' transform='translate(-1.636 20.636)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frameChange_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_2' data-name='%e5%87%8f%e5%8e%bb 2' class='cls-1' d='M1768.5%2c9503H1765v-3.5h.875v-7H1765V9489h3.5v.873l7%2c0V9489h3.5v3.5h-.875v4.933l-1.75.025V9492.5h-.873v-.873l-7%2c0v.875h-.873v7h.873v.873h3.841l1.391%2c1.751H1768.5V9503Z' transform='translate(-1765 -9505)'/%3e %3cg id='%e7%bb%84_647' data-name='%e7%bb%84 647' transform='translate(7 14)'%3e %3cg id='%e7%bb%84_646' data-name='%e7%bb%84 646' class='cls-3' transform='translate(1.636 -20.636)'%3e %3cpath id='%e8%b7%af%e5%be%84_398' data-name='%e8%b7%af%e5%be%84 398' class='cls-1' d='M-3.364-25.636H6.07v7.927H-3.364Z' transform='translate(1.829 24.101)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_cencel_kj' transform='translate(0.494)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='15.963' transform='translate(-0.494)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.057%2c3.54C8.654%2c7.1%2c4.678%2c7.648.279%2c5.143A.544.544%2c0%2c0%2c1%2c0%2c4.662a.578.578%2c0%2c0%2c1%2c.283-.493A.548.548%2c0%2c0%2c1%2c.84%2c4.163C4.822%2c6.431%2c8.263%2c5.956%2c11.318%2c2.722L8.918.065%2c13.99%2c0l-.072%2c5.6Z' transform='translate(10.937 16) rotate(-138)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_reform_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='15.963'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.057%2c3.148C8.654-.415%2c4.678-.96.279%2c1.546A.544.544%2c0%2c0%2c0%2c0%2c2.027a.578.578%2c0%2c0%2c0%2c.283.493.548.548%2c0%2c0%2c0%2c.557.005C4.822.257%2c8.263.733%2c11.318%2c3.967l-2.4%2c2.657%2c5.072.065-.072-5.6Z' transform='translate(0.094 11.029) rotate(-42)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_274' data-name='%e8%b7%af%e5%be%84 274' class='cls-1' d='M1.732-140.268a5.914%2c5.914%2c0%2c0%2c1%2c8.364%2c0%2c5.916%2c5.916%2c0%2c0%2c1%2c.581%2c7.69L14-129.255%2c12.745-128l-3.323-3.323a5.916%2c5.916%2c0%2c0%2c1-7.69-.581A5.914%2c5.914%2c0%2c0%2c1%2c1.732-140.268Zm7.528.836a4.732%2c4.732%2c0%2c0%2c0-6.691%2c0%2c4.732%2c4.732%2c0%2c0%2c0%2c0%2c6.691%2c4.732%2c4.732%2c0%2c0%2c0%2c6.691%2c0A4.732%2c4.732%2c0%2c0%2c0%2c9.26-139.431Z' transform='translate(0 142)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_273' data-name='%e8%b7%af%e5%be%84 273' class='cls-2' d='M-29-160.285H-9.285V-180H-29Z' transform='translate(29 180)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_loupe_kj' transform='translate(4 144)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_110' data-name='%e7%9f%a9%e5%bd%a2 110' class='cls-2' width='16' height='16' transform='translate(-4 -144)'/%3e %3cg id='%e7%bb%84_470' data-name='%e7%bb%84 470' class='cls-3' transform='translate(-3 -143)'%3e %3cg id='%e7%bb%84_469' data-name='%e7%bb%84 469' class='cls-4' transform='translate(-2.859 -3.746)'%3e %3cpath id='%e8%b7%af%e5%be%84_272' data-name='%e8%b7%af%e5%be%84 272' class='cls-5' d='M-5-147H9.986v14.986H-5Z' transform='translate(7.366 150.253)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_mouse_middle_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5%2c .cls-7 %7b fill: %23ff5770%3b %7d .cls-5 %7b opacity: 0%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.983v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.969-9.7H5.865V0A5.69%2c5.69%2c0%2c0%2c1%2c9.394%2c1.267%2c3.813%2c3.813%2c0%2c0%2c1%2c10.849%2c4.19V5.98Zm-5.864%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.455%2c1.267%2c5.692%2c5.692%2c0%2c0%2c1%2c4.985%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(-0.698 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3cpath id='%e8%b7%af%e5%be%84-3' data-name='%e8%b7%af%e5%be%84' class='cls-7' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_321' data-name='%e8%b7%af%e5%be%84 321' class='cls-1' d='M0%2c0H16V-16H0Z'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_323' data-name='%e8%b7%af%e5%be%84 323' class='cls-1' d='M5.344-14.625H1.875a.5.5%2c0%2c0%2c0-.5.5v3.5a.251.251%2c0%2c0%2c0%2c.25.25h.75a.251.251%2c0%2c0%2c0%2c.25-.25v-2.75H5.344a.251.251%2c0%2c0%2c0%2c.25-.25v-.75A.251.251%2c0%2c0%2c0%2c5.344-14.625Zm9.031%2c9h-.75a.251.251%2c0%2c0%2c0-.25.25v2.75H10.656a.251.251%2c0%2c0%2c0-.25.25v.75a.251.251%2c0%2c0%2c0%2c.25.25h3.469a.5.5%2c0%2c0%2c0%2c.5-.5v-3.5A.251.251%2c0%2c0%2c0%2c14.375-5.625Zm-9.031%2c3H2.625v-2.75a.251.251%2c0%2c0%2c0-.25-.25h-.75a.251.251%2c0%2c0%2c0-.25.25v3.5a.5.5%2c0%2c0%2c0%2c.5.5H5.344a.251.251%2c0%2c0%2c0%2c.25-.25v-.75A.251.251%2c0%2c0%2c0%2c5.344-2.625Zm8.781-12H10.656a.251.251%2c0%2c0%2c0-.25.25v.75a.251.251%2c0%2c0%2c0%2c.25.25h2.719v2.75a.251.251%2c0%2c0%2c0%2c.25.25h.75a.251.251%2c0%2c0%2c0%2c.25-.25v-3.5A.5.5%2c0%2c0%2c0%2c14.125-14.625Z'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_fullView_kj' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_567' data-name='%e7%bb%84 567' class='cls-2'%3e %3cpath id='%e8%b7%af%e5%be%84_320' data-name='%e8%b7%af%e5%be%84 320' class='cls-3' d='M-5-21H21V5H-5Z'/%3e %3c/g%3e %3cg id='%e7%bb%84_568' data-name='%e7%bb%84 568' class='cls-4'%3e %3cpath id='%e8%b7%af%e5%be%84_322' data-name='%e8%b7%af%e5%be%84 322' class='cls-5' d='M-3.625-19.625h23.25V3.625H-3.625Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_reload_kj' transform='translate(-1 -1.432)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16' transform='translate(1 1.432)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.917%2c1.955l-.9.735A6.615%2c6.615%2c0%2c0%2c0%2c6.72%2c0%2c6.86%2c6.86%2c0%2c0%2c0%2c0%2c6.992%2c6.864%2c6.864%2c0%2c0%2c0%2c6.72%2c14a6.745%2c6.745%2c0%2c0%2c0%2c6.315-4.6.135.135%2c0%2c0%2c0-.078-.172L12.05%2c8.9a.127.127%2c0%2c0%2c0-.162.08c-.029.083-.061.167-.094.248a5.722%2c5.722%2c0%2c0%2c1-1.18%2c1.823%2c5.511%2c5.511%2c0%2c0%2c1-1.749%2c1.23%2c5.32%2c5.32%2c0%2c0%2c1-4.283%2c0%2c5.459%2c5.459%2c0%2c0%2c1-1.749-1.23A5.722%2c5.722%2c0%2c0%2c1%2c1.653%2c9.23a5.979%2c5.979%2c0%2c0%2c1%2c0-4.463%2c5.722%2c5.722%2c0%2c0%2c1%2c1.18-1.823%2c5.511%2c5.511%2c0%2c0%2c1%2c1.749-1.23%2c5.32%2c5.32%2c0%2c0%2c1%2c4.283%2c0%2c5.459%2c5.459%2c0%2c0%2c1%2c1.749%2c1.23%2c5.678%2c5.678%2c0%2c0%2c1%2c.445.523L10.1%2c4.25a.135.135%2c0%2c0%2c0%2c.048.235l2.81.717a.13.13%2c0%2c0%2c0%2c.158-.128l.013-3.015a.129.129%2c0%2c0%2c0-.208-.1Z' transform='translate(2 2.432)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3csvg xmlns='http://www.w3.org/2000/svg' class='icon' viewBox='0 0 1024 1024'%3e %3cpath d='M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_last_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M.163%2c6.632%2c7.735.1a.428.428%2c0%2c0%2c1%2c.7.368V13.53a.428.428%2c0%2c0%2c1-.7.368L.163%2c7.368A.5.5%2c0%2c0%2c1%2c.163%2c6.632Z' transform='translate(4 1)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_next_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M8.268%2c6.632.7.1A.428.428%2c0%2c0%2c0%2c0%2c.47V13.53a.428.428%2c0%2c0%2c0%2c.7.368l7.572-6.53A.5.5%2c0%2c0%2c0%2c8.268%2c6.632Z' transform='translate(4 1)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M8.4-7.469a.381.381%2c0%2c0%2c1%2c.382.382h0V-2.15a.381.381%2c0%2c0%2c1-.382.382H2.1a.381.381%2c0%2c0%2c1-.382-.382h0V-7.087A.381.381%2c0%2c0%2c1%2c2.1-7.469H8.4Zm-.525.906H2.627v3.887H7.874Z' transform='translate(-1.721 7.469)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M16.812-10.1a4.782%2c4.782%2c0%2c0%2c0-1.839%2c3.751l-.763%2c0a.093.093%2c0%2c0%2c0-.073.15l1.2%2c1.526a.094.094%2c0%2c0%2c0%2c.147%2c0L16.694-6.2a.093.093%2c0%2c0%2c0-.073-.15H15.86a4.019%2c4.019%2c0%2c0%2c1%2c.03-.463%2c3.888%2c3.888%2c0%2c0%2c1%2c.461-1.419%2c3.9%2c3.9%2c0%2c0%2c1%2c1.005-1.173%2c3.884%2c3.884%2c0%2c0%2c1%2c1.381-.693%2c3.887%2c3.887%2c0%2c0%2c1%2c1.488-.106c.064.008.129.017.192.029v-.893A4.752%2c4.752%2c0%2c0%2c0%2c16.812-10.1Z' transform='translate(-14.118 11.118)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='c'%3e%3cpath d='M13.382-15.3A.381.381%2c0%2c0%2c1%2c13-15.682h0v-4.937A.381.381%2c0%2c0%2c1%2c13.382-21h6.3a.381.381%2c0%2c0%2c1%2c.382.382h0v4.937a.381.381%2c0%2c0%2c1-.382.382h-6.3Zm.525-.906h5.247v-3.887H13.906Z' transform='translate(-13 21)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='d'%3e%3cpath d='M4.583-12.907a4.782%2c4.782%2c0%2c0%2c0%2c1.839-3.751l.763%2c0a.093.093%2c0%2c0%2c0%2c.073-.15l-1.2-1.526a.094.094%2c0%2c0%2c0-.147%2c0L4.7-16.809a.093.093%2c0%2c0%2c0%2c.073.15h.762a4.017%2c4.017%2c0%2c0%2c1-.03.463%2c3.888%2c3.888%2c0%2c0%2c1-.461%2c1.419A3.9%2c3.9%2c0%2c0%2c1%2c4.039-13.6a3.884%2c3.884%2c0%2c0%2c1-1.381.693%2c3.887%2c3.887%2c0%2c0%2c1-1.488.106c-.064-.008-.129-.017-.192-.029v.893A4.752%2c4.752%2c0%2c0%2c0%2c4.583-12.907Z' transform='translate(-0.978 18.372)' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(0)'%3e%3crect width='16' height='16' transform='translate(0)' fill='none'/%3e%3cg transform='translate(0 0.294)'%3e%3cg transform='translate(8.374)' clip-path='url(%23a)'%3e%3cpath d='M-3.279-12.469H11.412V.863H-3.279Z' transform='translate(-0.537 8.653)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(0 2.005)' clip-path='url(%23b)'%3e%3cpath d='M9.118-2.007V-16.118H23.049V-2.007Z' transform='translate(-12.934 12.302)' fill='%23666'/%3e%3c/g%3e%3crect width='6' height='5' transform='translate(0.327 10.603)' fill='%23ccc'/%3e%3cg transform='translate(0.093 10.006)' clip-path='url(%23c)'%3e%3cpath d='M22.691-12.669H8V-26H22.691Z' transform='translate(-11.816 22.184)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(9.701 7.221)' clip-path='url(%23d)'%3e%3cpath d='M9.909-23.372V-9.261H-4.022V-23.372Z' transform='translate(0.206 19.556)' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M0%2c0H16V-16H0Z' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M13.958-11.417l-2.541-2.541a1%2c1%2c0%2c0%2c0-.708-.292H2.25a.5.5%2c0%2c0%2c0-.5.5v11.5a.5.5%2c0%2c0%2c0%2c.5.5h11.5a.5.5%2c0%2c0%2c0%2c.5-.5v-8.461A1%2c1%2c0%2c0%2c0%2c13.958-11.417ZM6-13.25h4v1.75H6ZM8-4.594a2.251%2c2.251%2c0%2c0%2c1-2.25-2.25A2.251%2c2.251%2c0%2c0%2c1%2c8-9.094a2.251%2c2.251%2c0%2c0%2c1%2c2.25%2c2.25A2.251%2c2.251%2c0%2c0%2c1%2c8-4.594Zm0-3.5a1.25%2c1.25%2c0%2c0%2c0-1.25%2c1.25A1.25%2c1.25%2c0%2c0%2c0%2c8-5.594a1.25%2c1.25%2c0%2c0%2c0%2c1.25-1.25A1.25%2c1.25%2c0%2c0%2c0%2c8-8.094Z' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(0 16)'%3e%3cg clip-path='url(%23a)'%3e%3cpath d='M-5-21H21V5H-5Z' fill='rgba(0%2c0%2c0%2c0)'/%3e%3c/g%3e%3cg clip-path='url(%23b)'%3e%3cpath d='M-3.25-19.25h22.5V3.25H-3.25Z' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineSpecial_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23ccc%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='%e8%b7%af%e5%be%84_607' data-name='%e8%b7%af%e5%be%84 607' class='cls-1' d='M12.564%2c4.659l-8.833%2c9.22h8.833Z' transform='translate(0 -1)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(5.604 11.916) rotate(-135)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(8.115 9.239) rotate(-135)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(10.625 6.561) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='7' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-5' width='1.5' height='8' transform='translate(4.75 13.5) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_492' data-name='%e8%b7%af%e5%be%84 492' class='cls-1' d='M0%2c2H16V-14H0Z' transform='translate(0 14)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_noDisplay' transform='translate(0 15)'%3e %3cg id='%e7%bb%84_817' data-name='%e7%bb%84 817' class='cls-3' transform='translate(0 -15)'%3e %3cpath id='%e8%b7%af%e5%be%84_491' data-name='%e8%b7%af%e5%be%84 491' class='cls-4' d='M-5-19H21V7H-5Z' transform='translate(0 15)'/%3e %3c/g%3e %3cpath id='%e5%87%8f%e5%8e%bb_1' data-name='%e5%87%8f%e5%8e%bb 1' class='cls-2' d='M7.114%2c9.861a7.321%2c7.321%2c0%2c0%2c1-3.965-1.19A8.865%2c8.865%2c0%2c0%2c1%2c.159%2c5.522a1.179%2c1.179%2c0%2c0%2c1%2c0-1.181%2c8.865%2c8.865%2c0%2c0%2c1%2c2.989-3.15c.1-.065.206-.128.311-.188l1.51%2c1.628a2.682%2c2.682%2c0%2c0%2c0-.27%2c1.2.42.42%2c0%2c0%2c0%2c.111.292.351.351%2c0%2c0%2c0%2c.267.119.367.367%2c0%2c0%2c0%2c.274-.119.414.414%2c0%2c0%2c0%2c.111-.292%2c1.928%2c1.928%2c0%2c0%2c1%2c.086-.582L9.065%2c7.047a3.241%2c3.241%2c0%2c0%2c1-1.949.623A3.325%2c3.325%2c0%2c0%2c1%2c4.6%2c6.545%2c3.852%2c3.852%2c0%2c0%2c1%2c3.556%2c3.836%2c3.98%2c3.98%2c0%2c0%2c1%2c4.04%2c1.91%2c8.1%2c8.1%2c0%2c0%2c0%2c1.015%2c4.931a8.574%2c8.574%2c0%2c0%2c0%2c2.647%2c2.8%2c6.217%2c6.217%2c0%2c0%2c0%2c3.451%2c1.04A6.16%2c6.16%2c0%2c0%2c0%2c10%2c8.057l.755.814A7.261%2c7.261%2c0%2c0%2c1%2c7.114%2c9.861Zm4.659-1.67h0l-.739-.8A8.7%2c8.7%2c0%2c0%2c0%2c13.21%2c4.931%2c8.088%2c8.088%2c0%2c0%2c0%2c10.185%2c1.91a3.981%2c3.981%2c0%2c0%2c1%2c.484%2c1.926%2c3.868%2c3.868%2c0%2c0%2c1-.751%2c2.357L6.295%2c2.286a1.512%2c1.512%2c0%2c0%2c1%2c.818-.23.357.357%2c0%2c0%2c0%2c.27-.12.409.409%2c0%2c0%2c0%2c.111-.292.417.417%2c0%2c0%2c0-.111-.292.355.355%2c0%2c0%2c0-.27-.12%2c2.2%2c2.2%2c0%2c0%2c0-1.368.46L4.6.46A7.088%2c7.088%2c0%2c0%2c1%2c7.114%2c0a7.321%2c7.321%2c0%2c0%2c1%2c3.965%2c1.19%2c8.85%2c8.85%2c0%2c0%2c1%2c2.989%2c3.15%2c1.179%2c1.179%2c0%2c0%2c1%2c0%2c1.181%2c8.821%2c8.821%2c0%2c0%2c1-2.295%2c2.669Z' transform='translate(1.088 -11.738)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_235' data-name='%e7%9f%a9%e5%bd%a2 235' class='cls-2' width='1.166' height='18.662' transform='matrix(0.719%2c -0.695%2c 0.695%2c 0.719%2c 0.745%2c -12.953)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_playPause' transform='translate(0.16 0.16)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16' transform='translate(-0.16 -0.16)'/%3e %3cg id='%e7%bb%84_1221' data-name='%e7%bb%84 1221' transform='translate(1.84 3.671)'%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M6.038%2c3.829.508.059A.32.32%2c0%2c0%2c0%2c0%2c.271V7.813a.32.32%2c0%2c0%2c0%2c.508.212l5.53-3.771A.249.249%2c0%2c0%2c0%2c6.038%2c3.829Z' transform='translate(1 0)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_400' data-name='%e7%9f%a9%e5%bd%a2 400' class='cls-2' width='1.524' height='7.618' rx='0.762' transform='translate(6.828 0.233)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_401' data-name='%e7%9f%a9%e5%bd%a2 401' class='cls-2' width='1.524' height='7.618' rx='0.762' transform='translate(9.718 0.233)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_forward_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bb%84_1225' data-name='%e7%bb%84 1225' transform='translate(-0.347 0.145)'%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M6%2c3.807.505.058A.318.318%2c0%2c0%2c0%2c0%2c.27v7.5a.318.318%2c0%2c0%2c0%2c.505.211L6%2c4.229A.248.248%2c0%2c0%2c0%2c6%2c3.807Z' transform='translate(2.348 3.855)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M6%2c3.807.505.058A.318.318%2c0%2c0%2c0%2c0%2c.27v7.5a.318.318%2c0%2c0%2c0%2c.505.211L6%2c4.229A.248.248%2c0%2c0%2c0%2c6%2c3.807Z' transform='translate(7.824 3.855)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_back_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bb%84_1224' data-name='%e7%bb%84 1224' transform='translate(-0.347 0.145)'%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M.118%2c3.807%2c5.615.058A.318.318%2c0%2c0%2c1%2c6.12.27v7.5a.318.318%2c0%2c0%2c1-.505.211L.118%2c4.229A.248.248%2c0%2c0%2c1%2c.118%2c3.807Z' transform='translate(7.824 3.855)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M.118%2c3.807%2c5.615.058A.318.318%2c0%2c0%2c1%2c6.12.27v7.5a.318.318%2c0%2c0%2c1-.505.211L.118%2c4.229A.248.248%2c0%2c0%2c1%2c.118%2c3.807Z' transform='translate(2.348 3.855)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_speed_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bb%84_1223' data-name='%e7%bb%84 1223' transform='translate(-0.118 0.286)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_402' data-name='%e7%9f%a9%e5%bd%a2 402' class='cls-2' width='1.5' height='6' rx='0.75' transform='translate(8.118 12.043) rotate(90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_403' data-name='%e7%9f%a9%e5%bd%a2 403' class='cls-2' width='1.5' height='4' rx='0.75' transform='translate(6.118 9.043) rotate(90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_404' data-name='%e7%9f%a9%e5%bd%a2 404' class='cls-2' width='1.5' height='3' rx='0.75' transform='translate(5.118 6.043) rotate(90)'/%3e %3cpath id='%e5%80%8d%e9%80%9f' class='cls-2' d='M219.687%2c4.153H217.4L218.806.2a.267.267%2c0%2c0%2c0%2c.017-.084.278.278%2c0%2c0%2c0-.289-.269h-2.872a.28.28%2c0%2c0%2c0-.269.186l-2.312%2c6.454a.267.267%2c0%2c0%2c0-.017.084.278.278%2c0%2c0%2c0%2c.289.269h2.552l-.541%2c4.539c0%2c.008-.008.02-.008.029a.278.278%2c0%2c0%2c0%2c.289.269.285.285%2c0%2c0%2c0%2c.253-.157l4.042-6.986a.248.248%2c0%2c0%2c0%2c.029-.111.272.272%2c0%2c0%2c0-.281-.273Z' transform='translate(-206.065 1.862)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import DrawPointSvg from '@/assets/annotation/toolHotKeyIcon/icon_point_kj.svg'\nimport DrawInvalidPointSvg from '@/assets/annotation/toolHotKeyIcon/icon_pointNull_kj.svg'\nimport SelectedPointSvg from '@/assets/annotation/toolHotKeyIcon/icon_pointActive_kj.svg'\nimport DeletePointSvg from '@/assets/annotation/toolHotKeyIcon/icon_del_kj.svg'\nimport MouseLeftSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg';\nimport MouseRightSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\n\nimport {\n  backward,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  restore,\n  revoke,\n  rotate,\n  scale,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n} from '../common';\n\nexport const drawPoint = {\n  name: 'AnnotatePoint',\n  icon: DrawPointSvg,\n  shortCut: [MouseLeftSvg],\n};\n\nexport const drawInvalidPoint = {\n  name: 'AnnotateInvalidPoint',\n  icon: DrawInvalidPointSvg,\n  shortCut: ['Ctrl', MouseLeftSvg],\n};\n\nexport const selectPoint = {\n  name: 'SelectPoint',\n  icon: SelectedPointSvg,\n  shortCut: [MouseRightSvg],\n  noticeInfo: 'RightClick',\n};\n\nexport const deletePoint = {\n  name: 'DeletePoint',\n  icon: DeletePointSvg,\n  shortCut: ['Del'],\n};\n\nconst pointToolShortCutTable = [\n  drawPoint,\n  drawInvalidPoint,\n  selectPoint,\n  deletePoint,\n\n  revoke,\n  restore,\n  rotate,\n  scale,\n  // fullScreen,\n  backward,\n  forward,\n  dargWithRightClick,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n];\nexport default pointToolShortCutTable;\n","var img = \"data:image/svg+xml,%3csvg id='icon_point_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3ccircle id='%e6%a4%ad%e5%9c%86%e5%bd%a2' class='cls-2' cx='2.392' cy='2.392' r='2.392' transform='translate(4.811 4.811)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_pointNull_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d .cls-3%2c .cls-5 %7b fill: none%3b %7d .cls-3 %7b stroke: %23666%3b %7d .cls-4 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3ccircle id='%e6%a4%ad%e5%9c%86%e5%bd%a2' class='cls-2' cx='2.392' cy='2.392' r='2.392' transform='translate(4.811 4.811)'/%3e %3c/g%3e %3cg id='%e7%9f%a9%e5%bd%a2_92' data-name='%e7%9f%a9%e5%bd%a2 92' class='cls-3' transform='translate(2.757 4.089) rotate(-45)'%3e %3crect class='cls-4' width='1.6' height='13'/%3e %3crect class='cls-5' x='0.5' y='0.5' width='0.6' height='12'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_pointActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_3' data-name='%e5%87%8f%e5%8e%bb 3' class='cls-2' d='M1506.068%2c9508.987a2.393%2c2.393%2c0%2c1%2c1%2c2.391-2.394l-1.919%2c0v2.345A2.436%2c2.436%2c0%2c0%2c1%2c1506.068%2c9508.987Z' transform='translate(-1498.865 -9499.393)'/%3e %3c/g%3e %3cpath id='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd_4' data-name='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd 4' class='cls-2' d='M2.628%2c0%2c5.256%2c5.256%2c2.632%2c4.129%2c0%2c5.256Z' transform='translate(7.139 9.595) rotate(-30)'/%3e%3c/svg%3e\";\n  export default img;","import DrawPolygonSvg from '@/assets/annotation/toolHotKeyIcon/icon_line_kj.svg';\nimport DrawInvalidPolygonSvg from '@/assets/annotation/toolHotKeyIcon/icon_polygonNull_kj.svg';\nimport SelectedPolygonSvg from '@/assets/annotation/toolHotKeyIcon/icon_polygonActive_kj.svg';\nimport ChangePolygonAttribute from '@/assets/annotation/toolHotKeyIcon/icon_polygonChange_kj.svg';\nimport DeletePolygonSvg from '@/assets/annotation/toolHotKeyIcon/icon_polygonDel_kj.svg';\nimport MouseLeftSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg';\nimport MouseRightSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\n\nimport IconLineContKj from '@/assets/annotation/toolHotKeyIcon/icon_lineCont_kj.svg';\nimport IconPolygonInsertKj from '@/assets/annotation/toolHotKeyIcon/icon_polygonInsert_kj.svg';\nimport IconUnGripKj from '@/assets/annotation/toolHotKeyIcon/icon_unGrip_kj.svg';\nimport IconPointSpecialKj from '@/assets/annotation/toolHotKeyIcon/icon_pointSpecial_kj.svg';\nimport IconSegment from '@/assets/annotation/toolHotKeyIcon/icon_segment.svg';\nimport IconPolygonMerge from '@/assets/annotation/toolHotKeyIcon/icon_polygonMerge_kj.svg';\nimport IconAI from '@/assets/annotation/toolHotKeyIcon/icon_AI.svg';\nimport IconSwapOutlined from '@/assets/annotation/toolHotKeyIcon/icon_swap_outlined.svg';\n\nimport {\n  backward,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  restore,\n  revoke,\n  rotate,\n  setValid,\n  scale,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n  // attributeClickLock,\n  // attributeLock,\n  // copyBackwardResult,\n  // hidden,\n  // changeSpecialLine,\n  // saveResult,\n  dargWithLeftClick,\n} from '../common';\n\nexport const polygon = {\n  name: 'AnnotatePolygon',\n  icon: DrawPolygonSvg,\n  shortCut: [MouseLeftSvg],\n};\n\nexport const invalidPolygon = {\n  name: 'AnnotateInvalidPolygon',\n  icon: DrawInvalidPolygonSvg,\n  shortCut: ['Ctrl', MouseLeftSvg],\n};\n\nexport const selectedPolygon = {\n  name: 'SelectPolygon',\n  icon: SelectedPolygonSvg,\n  shortCut: [MouseRightSvg],\n  noticeInfo: 'RightClick',\n};\n\nexport const changePolygonAttribute = {\n  name: 'TogglePolygonEffectiveness',\n  icon: ChangePolygonAttribute,\n  shortCut: ['F'],\n};\n\nexport const deletePolygon = {\n  name: 'DeletePolygon',\n  icon: DeletePolygonSvg,\n  shortCut: ['Del'],\n};\n\nexport const keepLine = {\n  name: 'ContinueToLabel',\n  icon: IconLineContKj,\n  shortCut: ['Space'],\n};\n\nexport const insertPolygonPoint = {\n  name: 'InsertPoint',\n  icon: IconPolygonInsertKj,\n  noticeInfo: 'SelectAndDoubleClick',\n  shortCut: [MouseLeftSvg],\n};\n\nexport const deletePolygonPoint = {\n  name: 'DeletePoint',\n  icon: DeletePolygonSvg,\n  noticeInfo: 'SelectAndDoubleClick',\n  shortCut: [MouseRightSvg],\n};\n\nexport const changeSpecialPoint = {\n  name: 'TogglePointParticularity',\n  icon: IconPointSpecialKj,\n  noticeInfo: '',\n  shortCut: ['Shift', MouseLeftSvg],\n};\n\nexport const suspendAbsorption = {\n  name: 'StopAdsorption',\n  icon: IconUnGripKj,\n  noticeInfo: 'Press',\n  shortCut: ['Alt'],\n};\n\nexport const splitPolygon = {\n  name: 'CropOverlapArea',\n  icon: IconSegment,\n  noticeInfo: '',\n  shortCut: ['ALT', 'X'],\n};\n\nexport const combinePolygon = {\n  name: 'CombineOverlapArea',\n  icon: IconPolygonMerge,\n  noticeInfo: '',\n  shortCut: ['Alt', 'Z'],\n};\n\nexport const segmentByAlgorithm = {\n  name: 'SegmentationRecognition',\n  icon: IconAI,\n  noticeInfo: '',\n  shortCut: ['Q'],\n};\n\nexport const changeRenderPattern = {\n  name: 'SwitchPattern',\n  icon: IconSwapOutlined,\n  noticeInfo: '',\n  shortCut: ['U'],\n};\n\nconst pointToolShortCutTable = [\n  // saveResult,\n  polygon,\n  invalidPolygon,\n  selectedPolygon,\n  changePolygonAttribute,\n  deletePolygon,\n  keepLine,\n  insertPolygonPoint,\n  deletePolygonPoint,\n  // changeSpecialPoint,\n  // changeSpecialLine,\n  suspendAbsorption,\n  // hidden,\n  // segmentByAlgorithm,\n  // attributeLock,\n  // attributeClickLock,\n  revoke,\n  restore,\n  rotate,\n  scale,\n  // fullScreen,\n  backward,\n  forward,\n  setValid,\n  // copyBackwardResult,\n  dargWithRightClick,\n  dargWithLeftClick,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n  // changeRenderPattern,\n  combinePolygon,\n  splitPolygon,\n];\nexport default pointToolShortCutTable;\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16.707' height='16' viewBox='0 0 16.707 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-1%2c .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d .cls-1%2c .cls-3 %7b stroke-miterlimit: 10%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b stroke: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_polygonNull_kj' transform='translate(0 -2)'%3e %3cg id='icon_line' transform='translate(10)'%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-1' width='1.499' height='15.5' transform='translate(-6.021 6.04) rotate(-45)'/%3e %3c/g%3e %3cg id='icon_polygonNull_kj-2' data-name='icon_polygonNull_kj' transform='translate(0 2)'%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_10' data-name='%e5%87%8f%e5%8e%bb 10' class='cls-4' d='M18500.451%2c2801h-6v-1.5h4.514l1.488%2c1.487%2c0%2c.012Zm-5.148-1.584h0l-1.059-1.058%2c1.783-1.789%2c1.061%2c1.059-1.785%2c1.788Zm7.895-2.75%2c0%2c0-1.5-1.5V2792.5h1.5v4.166Zm-2.578-2.579h0l-1.061-1.06%2c1.047-1.051%2c1.064%2c1.059-1.051%2c1.052Z' transform='translate(-18489.699 -2787.496)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_polygonActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-3 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-4' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-4' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_polygonChange_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23ccc%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='%e5%87%8f%e5%8e%bb_12' data-name='%e5%87%8f%e5%8e%bb 12' class='cls-1' d='M18493%2c2716.574l0%2c0%2c8.451-8.572.242%2c4.933h-3.889v3.513l-4.8.129Z' transform='translate(-18489.408 -2704.132)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_11' data-name='%e5%87%8f%e5%8e%bb 11' class='cls-5' d='M18496.65%2c2716.5H18493V2715h3.65v1.5Zm5.1-4.7h-1.5V2708h1.5v3.8Z' transform='translate(-18488.25 -2703)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_polygonDel_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_polygonInsert_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(9.222 9.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-4' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-5' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect opacity='0.01' width='16' height='16' fill='black'/%3e%3crect x='13.5' y='9.49963' width='7' height='7' transform='rotate(180 13.5 9.49963)' fill='%23CCCCCC' stroke='%23666666'/%3e%3crect x='9.5' y='13.4996' width='7' height='7' transform='rotate(180 9.5 13.4996)' fill='%23CCCCCC' stroke='%23666666'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect opacity='0.01' width='16' height='16' fill='black'/%3e%3cpath d='M10.002 9.52532H9.50201V10.0253V13.5406L2.50202 13.5406L2.50202 6.51493L6.00397 6.51493H6.50397V6.01493L6.50397 2.49963L13.5001 2.49963L13.5001 9.52532H10.002Z' fill='%23CCCCCC' stroke='%23666666'/%3e%3c/svg%3e\";\n  export default img;","import DrawPolygonSvg from '@/assets/annotation/toolHotKeyIcon/icon_line_kj.svg';\nimport MouseLeftSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg';\nimport LineNullKj from '@/assets/annotation/toolHotKeyIcon/icon_lineNull_kj.svg';\nimport StraightLineKj from '@/assets/annotation/toolHotKeyIcon/icon_straightLine_kj.svg';\nimport LineActiveKj from '@/assets/annotation/toolHotKeyIcon/icon_lineActive_kj.svg';\nimport MouseRightSvg from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\nimport LineChangeKj from '@/assets/annotation/toolHotKeyIcon/icon_lineChange_kj.svg';\nimport DeletePointSvg from '@/assets/annotation/toolHotKeyIcon/icon_del_kj.svg';\nimport IconLineContKj from '@/assets/annotation/toolHotKeyIcon/icon_lineCont_kj.svg';\nimport LineInsertKj from '@/assets/annotation/toolHotKeyIcon/icon_lineInsert_kj.svg';\nimport LineDelKj from '@/assets/annotation/toolHotKeyIcon/icon_lineDel_kj.svg';\nimport IconUnGripKj from '@/assets/annotation/toolHotKeyIcon/icon_unGrip_kj.svg';\nimport Up from '@/assets/annotation/toolHotKeyIcon/icon_up.svg';\nimport Down from '@/assets/annotation/toolHotKeyIcon/icon_down.svg';\n\nimport {\n  // attributeClickLock,\n  // attributeLock,\n  backward,\n  // copyBackwardResult,\n  dargWithLeftClick,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  restore,\n  revoke,\n  rotate,\n  scale,\n  setValid,\n  hidden,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n  changeSpecialLine,\n  // saveResult,\n} from '../common';\n\nexport const line = {\n  name: 'AnnotateLine',\n  icon: DrawPolygonSvg,\n  shortCut: [MouseLeftSvg],\n};\n\nexport const invalidLine = {\n  name: 'AnnotateInvalidLine',\n  icon: LineNullKj,\n  shortCut: ['Ctrl', MouseLeftSvg],\n};\n\nexport const horizontalLine = {\n  name: 'HorizontalOrVertical',\n  icon: StraightLineKj,\n  shortCut: ['Shift', MouseLeftSvg],\n};\n\nexport const selectLine = {\n  name: 'SelectLine',\n  icon: LineActiveKj,\n  shortCut: [MouseRightSvg],\n};\n\nexport const changeLineAttribute = {\n  name: 'ToggleLineEffectiveness',\n  icon: LineChangeKj,\n  shortCut: ['F'],\n};\n\nexport const deleteLine = {\n  name: 'DeleteLine',\n  icon: DeletePointSvg,\n  noticeInfo: 'SelectAndDoubleClick',\n  shortCut: [MouseRightSvg],\n};\n\nexport const keepLine = {\n  name: 'ContinueToLabel',\n  icon: IconLineContKj,\n  noticeInfo: 'Select',\n  shortCut: ['Space'],\n};\n\nexport const insertPoint = {\n  name: 'InsertPoint',\n  icon: LineInsertKj,\n  noticeInfo: 'ClickOnLine',\n  shortCut: [MouseLeftSvg],\n};\n\nexport const deletePoint = {\n  name: 'DeletePoint',\n  icon: LineDelKj,\n  noticeInfo: 'DblClickOnPoint',\n  shortCut: [MouseRightSvg],\n};\n\nexport const suspendAbsorption = {\n  name: 'StopAdsorption',\n  icon: IconUnGripKj,\n  noticeInfo: 'Press',\n  shortCut: ['Alt'],\n};\n\nexport const preLine = {\n  name: 'PreviousLine',\n  icon: Up,\n  shortCut: ['W'],\n};\n\nexport const nextLine = {\n  name: 'NextLine',\n  icon: Down,\n  shortCut: ['S'],\n};\n\nconst lineToolShortCutTable = [\n  // saveResult,\n  line,\n  invalidLine,\n  horizontalLine,\n  selectLine,\n  changeLineAttribute,\n  deleteLine,\n  keepLine,\n  changeSpecialLine,\n  insertPoint,\n  deletePoint,\n  suspendAbsorption,\n  // attributeLock,\n  // attributeClickLock,\n  revoke,\n  restore,\n  rotate,\n  scale,\n  // fullScreen,\n  backward,\n  forward,\n  setValid,\n  // copyBackwardResult,\n  dargWithRightClick,\n  dargWithLeftClick,\n  hidden,\n  tabChangeSelected,\n  tabReverseChangeSelected,\n];\nexport default lineToolShortCutTable;\n  ","var img = \"data:image/svg+xml,%3csvg id='icon_lineNull_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b stroke: rgba(0%2c0%2c0%2c0)%3b stroke-miterlimit: 10%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_6' data-name='%e5%87%8f%e5%8e%bb 6' class='cls-2' d='M14710.063%2c1373.254h0l-1.063-1.059%2c2.184-2.182%2c1.062%2c1.061-2.18%2c2.181Zm5.009-5.009h0l-1.061-1.06%2c2.417-2.415%2c1.06%2c1.06-2.414%2c2.415Z' transform='translate(-14705.021 -1360.788)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.499' height='7.5' transform='translate(4.979 6.04) rotate(-45)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_straightLine_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b stroke: rgba(0%2c0%2c0%2c0)%3b stroke-miterlimit: 10%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bb%84_955' data-name='%e7%bb%84 955' transform='translate(-0.721)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(12.721 9.721) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(1.721 9.723) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.5' height='10.5' transform='translate(3.471 9.002) rotate(-90)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: %23666%3b %7d .cls-4 %7b fill: white%3b stroke: %23707070%3b %7d .cls-5 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%9f%a9%e5%bd%a2_254' data-name='%e7%9f%a9%e5%bd%a2 254' class='cls-2' transform='translate(1.22 1.22)'%3e %3crect class='cls-5' width='14.4' height='14.4'/%3e %3crect class='cls-1' x='0.5' y='0.5' width='13.4' height='13.4'/%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' width='1.5' height='10.5' transform='translate(5.04 12.465) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-4' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-4' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineChange_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: %23666%3b %7d .cls-4 %7b clip-path: url(%23clip-path)%3b %7d .cls-5 %7b fill: white%3b stroke: %23707070%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_399' data-name='%e8%b7%af%e5%be%84 399' class='cls-1' d='M2.139-17.789H7.33L8-17.12H3.813l1.172%2c1.34h-1ZM7.5-18.627H2.306l-.67-.669H5.823l-1.172-1.34h1L7.5-18.627Z' transform='translate(-1.636 20.636)'/%3e %3c/clipPath%3e %3c/defs%3e %3cpath id='%e8%b7%af%e5%be%84_599' data-name='%e8%b7%af%e5%be%84 599' class='cls-2' d='M9.937%2c14.746h-7.9V1.654' transform='translate(-0.316)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' width='1.5' height='10.5' transform='translate(5.04 12.465) rotate(-135)'/%3e %3cpath id='%e8%b7%af%e5%be%84_598' data-name='%e8%b7%af%e5%be%84 598' class='cls-2' d='M2.035%2c1.654H15.557V9.5' transform='translate(-0.815)'/%3e %3cg id='%e7%bb%84_965' data-name='%e7%bb%84 965' transform='translate(8 31)'%3e %3cg id='%e7%bb%84_646' data-name='%e7%bb%84 646' class='cls-4' transform='translate(1.636 -20.636)'%3e %3cpath id='%e8%b7%af%e5%be%84_398' data-name='%e8%b7%af%e5%be%84 398' class='cls-3' d='M-3.364-25.636H6.07v7.927H-3.364Z' transform='translate(1.829 24.101)'/%3e %3c/g%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-5' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-5' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineInsert_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='4' height='4' transform='translate(10.222 10.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_lineDel_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: white%3b %7d .cls-3%2c .cls-4 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-5 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d .cls-6 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3cg id='%e7%9f%a9%e5%bd%a2_273' data-name='%e7%9f%a9%e5%bd%a2 273' class='cls-1' transform='translate(1.221 1.22)'%3e %3crect class='cls-6' width='14' height='14'/%3e %3crect class='cls-2' x='0.5' y='0.5' width='13' height='13'/%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-4' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-5' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_317' data-name='%e8%b7%af%e5%be%84 317' class='cls-1' d='M0%2c0H16V-16H0Z'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_319' data-name='%e8%b7%af%e5%be%84 319' class='cls-1' d='M14.656-8.831l-.462-4.884a.531.531%2c0%2c0%2c0-.478-.478l-4.884-.462H8.825a.16.16%2c0%2c0%2c0-.119.045L1.389-7.294a.156.156%2c0%2c0%2c0%2c0%2c.22L7.073-1.389a.155.155%2c0%2c0%2c0%2c.111.045A.155.155%2c0%2c0%2c0%2c7.3-1.389l7.317-7.317A.165.165%2c0%2c0%2c0%2c14.656-8.831ZM10.922-9.953a1%2c1%2c0%2c0%2c1-1-1%2c1%2c1%2c0%2c0%2c1%2c1-1%2c1%2c1%2c0%2c0%2c1%2c1%2c1A1%2c1%2c0%2c0%2c1%2c10.922-9.953Z'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_tag_kj' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_561' data-name='%e7%bb%84 561' class='cls-2'%3e %3cpath id='%e8%b7%af%e5%be%84_316' data-name='%e8%b7%af%e5%be%84 316' class='cls-3' d='M-5-21H21V5H-5Z'/%3e %3c/g%3e %3cg id='%e7%bb%84_562' data-name='%e7%bb%84 562' class='cls-4'%3e %3cpath id='%e8%b7%af%e5%be%84_318' data-name='%e8%b7%af%e5%be%84 318' class='cls-5' d='M-3.657-19.656H19.657V3.656H-3.657Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import {\n  backward,\n  dargWithLeftClick,\n  dargWithRightClick,\n  forward,\n  fullScreen,\n  rotate,\n  saveResult,\n  scale,\n  setValid,\n} from '../common';\n\nconst textToolShortCutTable = [\n  saveResult,\n  scale,\n  rotate,\n  fullScreen,\n  setValid,\n  backward,\n  forward,\n  dargWithRightClick,\n  dargWithLeftClick,\n];\n\nexport default textToolShortCutTable;\n","import _ from 'lodash';\nimport {\n  rewind,\n  backward,\n  forward,\n  forwardForward,\n  fullScreen,\n  playPause,\n  speed,\n  saveResult,\n} from '../common';\nimport { tagInSingleImg } from '../tag';\nimport { IShortcut } from '@/types/tool';\n\nconst videoForward = _.cloneDeep(forward);\nconst videoBackward = _.cloneDeep(backward);\n\nvideoForward.name = 'NextFile';\nvideoBackward.name = 'PreviousFile';\n\nconst videoTagToolShortCurTable: IShortcut[] = [\n  saveResult,\n  tagInSingleImg,\n  playPause,\n  speed,\n  rewind,\n  forwardForward,\n  fullScreen,\n  videoBackward,\n  videoForward,\n];\n\nexport default videoTagToolShortCurTable;\n","import _ from 'lodash';\nimport { backward, forward, fullScreen, scale } from '../common';\nimport dragIcon from '@/assets/annotation/toolHotKeyIcon/icon_move_kj.svg';\nimport leftClick from '@/assets/annotation/toolHotKeyIcon/icon_mouse_left_kj.svg';\nimport rightClick from '@/assets/annotation/toolHotKeyIcon/icon_mouse_right_kj.svg';\nimport changePointCloudValid from '@/assets/annotation/pointCloudTool/changePointCloudValid.svg';\nimport copy from '@/assets/annotation/pointCloudTool/copy.svg';\nimport nextBox from '@/assets/annotation/pointCloudTool/nextBox.svg';\nimport paste from '@/assets/annotation/pointCloudTool/patse.svg';\nimport prevBox from '@/assets/annotation/pointCloudTool/prevBox.svg';\nimport rotate180_black from '@/assets/annotation/pointCloudTool/rotate180_black.svg';\nimport selectAll from '@/assets/annotation/pointCloudTool/selectAll.svg';\nimport selectMultiple from '@/assets/annotation/pointCloudTool/selectMultiple.svg';\nimport TabChangeSelectedSvg from '@/assets/annotation/toolHotKeyIcon/icon_tab_kj.svg';\n\nimport { IShortcut } from '@/types/tool';\nimport React from 'react';\nimport { ReloadOutlined, RotateLeftOutlined, RotateRightOutlined } from '@ant-design/icons';\n\nconst changePointSize: IShortcut = {\n  name: 'PointThickness',\n  icon: (\n    <span\n      style={{\n        display: ' inline-block',\n        width: 14,\n        height: 14,\n        borderRadius: '50%',\n        border: '1px solid',\n      }}\n    />\n  ),\n  shortCut: ['+', '-'],\n  linkSymbol: '',\n};\n\nconst rotateRoundCenter: IShortcut = {\n  name: 'RotateAroundCenterPoint',\n  icon: <ReloadOutlined />,\n  shortCut: [leftClick],\n  noticeInfo: 'DragOperation',\n};\n\nconst Drag3D = {\n  name: 'PointCloudViewTranslate',\n  icon: dragIcon,\n  shortCut: [rightClick],\n  noticeInfo: 'Drag',\n};\n\nconst DragTopView = {\n  name: 'TopViewTranslate',\n  icon: dragIcon,\n  shortCut: [rightClick],\n  noticeInfo: 'Drag',\n};\n\nconst ChangeInvalid = {\n  name: 'ChangePointCloudValid',\n  icon: changePointCloudValid,\n  shortCut: ['V'],\n};\n\nconst CopyBox = {\n  name: 'CopyBox',\n  icon: copy,\n  shortCut: ['Ctrl', 'C'],\n};\n\nconst PasteBox = {\n  name: 'PasteBox',\n  icon: paste,\n  shortCut: ['Ctrl', 'V'],\n};\n\nconst LeftRotate = {\n  name: 'RotateLeft',\n  icon: <RotateLeftOutlined />,\n  shortCut: ['Q'],\n};\n\nconst RightRotate = {\n  name: 'RotateRight',\n  icon: <RotateRightOutlined />,\n  shortCut: ['E'],\n};\n\nconst PrevBox = {\n  name: 'PreviousBox',\n  icon: prevBox,\n  shortCut: ['Shift', 'Tab'],\n};\n\nconst NextBox = {\n  name: 'NextBox',\n  icon: nextBox,\n  shortCut: ['Tab'],\n};\n\nconst Rotate180 = {\n  name: 'Rotate180',\n  icon: rotate180_black,\n  shortCut: ['G'],\n  noticeInfo: 'SelectedStatus',\n};\n\nconst CopyPrevPage = {\n  name: 'CopyPrevPage',\n  icon: copy,\n  shortCut: ['Alt', 'C'],\n};\n\nconst ChangeBoxInvalid = {\n  name: 'ChangeBoxValid',\n  icon: TabChangeSelectedSvg,\n  shortCut: ['F'],\n  noticeInfo: 'SelectedStatus',\n};\n\nconst SelectMulti = {\n  name: 'MultiSelect',\n  icon: selectMultiple,\n  shortCut: ['Ctrl', rightClick],\n};\n\nconst SelectAll = {\n  name: 'SelectAllBox',\n  icon: selectAll,\n  shortCut: ['Ctrl', 'A'],\n};\n\nconst pointCloudShortCutTable: IShortcut[] = [\n  { name: 'GeneralOperation' },\n  backward,\n  forward,\n  changePointSize,\n  scale,\n  rotateRoundCenter,\n  Drag3D,\n  DragTopView,\n  ChangeInvalid,\n  { name: 'RectPattern' },\n  CopyBox,\n  PasteBox,\n  LeftRotate,\n  RightRotate,\n  PrevBox,\n  NextBox,\n  Rotate180,\n  CopyPrevPage,\n  ChangeBoxInvalid,\n  SelectMulti,\n  SelectAll,\n  fullScreen,\n];\n\nexport default pointCloudShortCutTable;\n","var img = \"data:image/svg+xml,%3csvg width='16' height='17' viewBox='0 0 16 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='4.81982' y='12.3096' width='1.49968' height='10.4997' transform='rotate(-135 4.81982 12.3096)' fill='%23666666'/%3e%3cg clip-path='url(%23clip0_90_7913)'%3e%3cg clip-path='url(%23clip1_90_7913)'%3e%3cmask id='mask0_90_7913' style='mask-type:alpha' maskUnits='userSpaceOnUse' x='9' y='10' width='7' height='6'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M9.91842 13.0569L15.1098 13.0582L15.7797 13.7267H11.5931L12.7653 15.0664H11.7605L9.91842 13.0569ZM15.2773 12.2195L10.0859 12.2182L9.41602 11.5497H13.6026L12.4304 10.21H13.4351L15.2772 12.2195H15.2773Z' fill='white'/%3e%3c/mask%3e%3cg mask='url(%23mask0_90_7913)'%3e%3cpath d='M7.88104 8.6748H17.3149V16.6014H7.88104V8.6748Z' fill='%23666666'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3crect x='14.0015' y='5.06738' width='2.99984' height='2.99984' transform='rotate(180 14.0015 5.06738)' fill='white' stroke='%23707070'/%3e%3crect x='5.00146' y='14.0674' width='2.99984' height='2.99984' transform='rotate(180 5.00146 14.0674)' fill='white' stroke='%23707070'/%3e%3cdefs%3e%3cclipPath id='clip0_90_7913'%3e%3crect width='6.36365' height='4.85646' fill='white' transform='translate(9.41602 10.21)'/%3e%3c/clipPath%3e%3cclipPath id='clip1_90_7913'%3e%3crect width='6.36365' height='4.85646' fill='white' transform='translate(9.41602 10.21)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='17' viewBox='0 0 16 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M4.33331 4.6437V3.104C4.33331 2.58624 4.75305 2.1665 5.27081 2.1665H13.3958C13.9136 2.1665 14.3333 2.58624 14.3333 3.104V11.229C14.3333 11.7468 13.9136 12.1665 13.3958 12.1665H11.8387' stroke='%23666666' stroke-width='1.33333' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M10.7292 4.8335H2.60419C2.08642 4.8335 1.66669 5.25323 1.66669 5.771V13.896C1.66669 14.4138 2.08642 14.8335 2.60419 14.8335H10.7292C11.247 14.8335 11.6667 14.4138 11.6667 13.896V5.771C11.6667 5.25323 11.247 4.8335 10.7292 4.8335Z' stroke='%23666666' stroke-width='1.33333' stroke-linejoin='round'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='17' viewBox='0 0 16 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M7.63151 12.7676L1.10109 5.19533C0.858489 4.91296 1.07723 4.49935 1.46897 4.49935H14.5298C14.9215 4.49935 15.1403 4.91296 14.8977 5.19533L8.36727 12.7676C8.18035 12.9844 7.81843 12.9844 7.6315 12.7676H7.63151Z' fill='%23666666'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='17' viewBox='0 0 16 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M4.33331 4.6437V3.104C4.33331 2.58624 4.75305 2.1665 5.27081 2.1665H13.3958C13.9136 2.1665 14.3333 2.58624 14.3333 3.104V11.229C14.3333 11.7468 13.9136 12.1665 13.3958 12.1665H11.8387' fill='%23CCCCCC'/%3e%3cpath d='M4.33331 4.6437V3.104C4.33331 2.58624 4.75305 2.1665 5.27081 2.1665H13.3958C13.9136 2.1665 14.3333 2.58624 14.3333 3.104V11.229C14.3333 11.7468 13.9136 12.1665 13.3958 12.1665H11.8387' stroke='%23666666' stroke-width='1.33333' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M10.7292 4.8335H2.60419C2.08642 4.8335 1.66669 5.25323 1.66669 5.771V13.896C1.66669 14.4138 2.08642 14.8335 2.60419 14.8335H10.7292C11.247 14.8335 11.6667 14.4138 11.6667 13.896V5.771C11.6667 5.25323 11.247 4.8335 10.7292 4.8335Z' fill='%23CCCCCC' stroke='%23666666' stroke-width='1.33333' stroke-linejoin='round'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='17' viewBox='0 0 16 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M7.63151 4.23239L1.10109 11.8047C0.858489 12.087 1.07723 12.5006 1.46897 12.5006H14.5298C14.9215 12.5006 15.1403 12.087 14.8977 11.8047L8.36727 4.23239C8.18035 4.01564 7.81843 4.01564 7.6315 4.23239H7.63151Z' fill='%23666666'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='17' viewBox='0 0 16 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14.0606 2.74219V5.16642H11.6364' stroke='%23666666' stroke-width='0.8' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M14.6667 8.50016C14.6667 12.1821 11.6819 15.1668 8.00002 15.1668C4.31812 15.1668 1.33335 12.1821 1.33335 8.50016C1.33335 4.81826 4.31812 1.8335 8.00002 1.8335C10.4674 1.8335 12.6217 3.17387 13.7744 5.1662' stroke='%23666666' stroke-width='1.3' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M4.219 11V6.016H3.281L2.518 6.611V7.661L3.281 7.115V11H4.219ZM7.6968 9.572C7.6968 9.299 7.6758 9.012 7.5638 8.781C7.4938 8.641 7.3958 8.529 7.2628 8.424C7.3818 8.326 7.4658 8.221 7.5288 8.095C7.6408 7.857 7.6618 7.612 7.6618 7.353C7.6618 6.926 7.5918 6.562 7.3048 6.275C7.0878 6.058 6.7798 5.96 6.4438 5.96C6.1078 5.96 5.8138 6.058 5.5968 6.275C5.3098 6.562 5.2398 6.926 5.2398 7.353C5.2398 7.612 5.2608 7.857 5.3728 8.095C5.4358 8.221 5.5198 8.326 5.6388 8.424C5.5058 8.529 5.4078 8.641 5.3378 8.781C5.2258 9.012 5.2048 9.299 5.2048 9.572C5.2048 10.041 5.2328 10.412 5.5618 10.734C5.7858 10.951 6.1148 11.056 6.4508 11.056C6.7868 11.056 7.1158 10.951 7.3398 10.734C7.6688 10.412 7.6968 10.041 7.6968 9.572ZM6.7588 9.523C6.7588 9.656 6.7728 9.978 6.6748 10.111C6.6258 10.174 6.5418 10.216 6.4508 10.216C6.3598 10.216 6.2758 10.181 6.2268 10.111C6.1288 9.971 6.1428 9.656 6.1428 9.523C6.1428 9.39 6.1218 9.061 6.2268 8.921C6.2758 8.851 6.3598 8.816 6.4508 8.816C6.5418 8.816 6.6188 8.851 6.6748 8.921C6.7798 9.061 6.7588 9.39 6.7588 9.523ZM6.7238 7.402C6.7238 7.528 6.7518 7.843 6.6258 7.969C6.5838 8.011 6.5208 8.032 6.4508 8.032C6.3808 8.032 6.3248 8.011 6.2758 7.969C6.1428 7.85 6.1778 7.528 6.1778 7.402C6.1778 7.283 6.1568 7.003 6.2548 6.884C6.3038 6.828 6.3738 6.8 6.4508 6.8C6.5278 6.8 6.5978 6.828 6.6468 6.884C6.7448 7.003 6.7238 7.283 6.7238 7.402ZM10.6496 9.838V7.178C10.6496 6.744 10.5306 6.492 10.3066 6.282C10.0826 6.065 9.75359 5.96 9.41759 5.96C9.08159 5.96 8.75259 6.065 8.52859 6.282C8.30459 6.492 8.18559 6.744 8.18559 7.178V9.838C8.18559 10.272 8.30459 10.524 8.52859 10.734C8.75259 10.951 9.08159 11.056 9.41759 11.056C9.75359 11.056 10.0826 10.951 10.3066 10.734C10.5306 10.524 10.6496 10.272 10.6496 9.838ZM9.71159 9.873C9.71159 10.104 9.58559 10.216 9.41759 10.216C9.24959 10.216 9.12359 10.104 9.12359 9.873V7.143C9.12359 6.912 9.24959 6.8 9.41759 6.8C9.58559 6.8 9.71159 6.912 9.71159 7.143V9.873ZM13.6304 7.129C13.6304 6.443 13.0774 5.89 12.3914 5.89C11.7054 5.89 11.1524 6.443 11.1524 7.129C11.1524 7.815 11.7054 8.368 12.3914 8.368C13.0774 8.368 13.6304 7.815 13.6304 7.129ZM12.8044 7.129C12.8044 7.36 12.6224 7.542 12.3914 7.542C12.1604 7.542 11.9784 7.36 11.9784 7.129C11.9784 6.898 12.1604 6.716 12.3914 6.716C12.6224 6.716 12.8044 6.898 12.8044 7.129Z' fill='%23666666'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='17' viewBox='0 0 16 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M11.3334 2.1665H2.66669C2.1144 2.1665 1.66669 2.61422 1.66669 3.1665V11.8332C1.66669 12.3855 2.1144 12.8332 2.66669 12.8332H11.3334C11.8857 12.8332 12.3334 12.3855 12.3334 11.8332V3.1665C12.3334 2.61422 11.8857 2.1665 11.3334 2.1665Z' stroke='%23666666' stroke-width='1.33333' stroke-linejoin='round'/%3e%3cpath d='M14.6666 4.83398V14.5C14.6666 14.8682 14.3681 15.1667 13.9999 15.1667H4.33447' stroke='%23666666' stroke-width='1.33333' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M4.33331 7.32861L6.33321 9.17031L9.66665 5.73975' stroke='%23666666' stroke-width='1.33333' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='17' viewBox='0 0 16 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14 7.16667V13.5C14 14.0523 13.5523 14.5 13 14.5H3C2.44772 14.5 2 14.0523 2 13.5V3.5C2 2.94772 2.44772 2.5 3 2.5H10' stroke='%23666666' stroke-width='1.33333' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M5.33331 7.16683L8.66665 9.8335L13.6666 2.8335' stroke='%23666666' stroke-width='1.33333' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e\";\n  export default img;","import {\n  backward,\n  dargWithRightClick,\n  forward,\n  // fullScreen,\n  restore,\n  revoke,\n  rotate,\n  setValid,\n  scale,\n  // attributeClickLock,\n  // attributeLock,\n  // copyBackwardResult,\n  // hidden,\n  // changeSpecialLine,\n  saveResult,\n  // dargWithLeftClick,\n} from '../common';\n\nconst scribbleShortCutTable = [\n  scale,\n  saveResult,\n  restore,\n  revoke,\n  rotate,\n  backward,\n  forward,\n  dargWithRightClick,\n  setValid,\n  // copyBackwardResult,\n];\n\nexport default scribbleShortCutTable;\n","import React, { useEffect, useState } from 'react';\nimport { AppState } from '@/store';\nimport { connect } from 'react-redux';\nimport { ToolInstance } from '@/store/annotation/types';\nimport { Divider } from 'antd/es';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  toolInstance: ToolInstance;\n}\n\nconst HiddenTips = (props: IProps) => {\n  const { toolInstance } = props;\n  const [_, forceRender] = useState(0);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.singleOn('hiddenChange', () => {\n        forceRender((s) => s + 1);\n      });\n    }\n  }, [toolInstance]);\n\n  if (!toolInstance) {\n    return null;\n  }\n\n  const isHidden = toolInstance.isHidden;\n\n  if (isHidden) {\n    return (\n      <span>\n        {t('HideDrawnAnnotation')}\n        <Divider type='vertical' style={{ background: 'rgba(153, 153, 153, 1)', height: '16px' }} />\n      </span>\n    );\n  }\n\n  return null;\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    toolInstance: state.annotation?.toolInstance,\n  };\n};\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(HiddenTips);\n","import React, { useEffect, useState } from 'react';\nimport { AppState } from '@/store';\nimport { connect } from 'react-redux';\nimport { GraphToolInstance } from '@/store/annotation/types';\nimport { Divider } from 'antd/es';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  toolInstance: GraphToolInstance;\n}\n\nconst PageNumber = (props: IProps) => {\n  const { toolInstance } = props;\n  const [_, forceRender] = useState(0);\n  const { t } = useTranslation();\n  useEffect(() => {\n    if (toolInstance) {\n      toolInstance.singleOn('updatePageNumber', () => {\n        forceRender((s) => s + 1);\n      });\n    }\n  }, [toolInstance]);\n\n  if (!toolInstance) {\n    return null;\n  }\n\n  const count = toolInstance?.currentPageResult?.length;\n  if (count >= 0) {\n    return (\n      <span>\n        {`${t('ItemsOfThisPage')}: ${count}`}\n        <Divider type='vertical' style={{ background: 'rgba(153, 153, 153, 1)', height: '16px' }} />\n      </span>\n    );\n  }\n\n  return null;\n};\n\nconst mapStateToProps = (state: AppState) => {\n  return {\n    toolInstance: state.annotation?.toolInstance,\n  };\n};\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(PageNumber);\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_adapt' transform='translate(-1021.825 -996)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_200' data-name='%e7%9f%a9%e5%bd%a2 200' class='cls-1' width='16' height='16' transform='translate(1021.825 996)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_191' data-name='%e7%9f%a9%e5%bd%a2 191' class='cls-2' width='8' height='7' transform='translate(1025.825 1000.167)'/%3e %3cpath id='%e8%81%94%e5%90%88_5' data-name='%e8%81%94%e5%90%88 5' class='cls-2' d='M3%2c4V1H0V0H4V4Z' transform='translate(1033.825 997)'/%3e %3cpath id='%e8%81%94%e5%90%88_7' data-name='%e8%81%94%e5%90%88 7' class='cls-2' d='M0%2c4V3H3V0H4V4Z' transform='translate(1025.825 1001.001) rotate(180)'/%3e %3cpath id='%e8%81%94%e5%90%88_8' data-name='%e8%81%94%e5%90%88 8' class='cls-2' d='M3%2c4V1H0V0H4V4Z' transform='translate(1025.825 1010.335) rotate(180)'/%3e %3cpath id='%e8%81%94%e5%90%88_6' data-name='%e8%81%94%e5%90%88 6' class='cls-2' d='M0%2c4V0H4V1H1V4Z' transform='translate(1037.824 1010.335) rotate(180)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12 4.16699H4V11.167H12V4.16699Z' fill='%23707070'/%3e%3cpath d='M15 5V2H12V1H16V5H15Z' fill='%23707070'/%3e%3cpath d='M4 1.00098V2.00098L1 2.00098L1 5.00098L0 5.00098L0 1.00098L4 1.00098Z' fill='%23707070'/%3e%3cpath d='M1 10.335L1 13.335H4V14.335H0L0 10.335H1Z' fill='%23707070'/%3e%3cpath d='M16 10.335V14.335H12V13.335H15V10.335H16Z' fill='%23707070'/%3e%3c/svg%3e\";\n  export default img;","import React, { useEffect } from 'react';\nimport { AppState } from '@/store';\nimport { ToolInstance } from '@/store/annotation/types';\nimport { connect } from 'react-redux';\nimport useSafeState from '@/hooks/useSafeSate';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  toolInstance: ToolInstance;\n  zoom?: number;\n}\n\nconst ZoomLevel: React.FC<IProps> = ({ toolInstance, zoom: basicZoom }) => {\n  const [, forceRender] = useSafeState<number>(0);\n  useEffect(() => {\n    const renderZoom = () => {\n      forceRender((s) => s + 1);\n    };\n\n    if (toolInstance) {\n      // 这里会有内存泄漏的问题  useSafeState 用这个解决下\n      toolInstance.on('renderZoom', renderZoom);\n    }\n    return () => {\n      if (toolInstance) {\n        toolInstance.unbind('renderZoom', renderZoom);\n      }\n    };\n  }, [toolInstance]);\n\n  const zoom = basicZoom ?? toolInstance?.zoom ?? 1;\n\n  return <span className='zoomValue'>{(zoom * 100).toFixed(1)}%</span>;\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  toolInstance: state.annotation.toolInstance,\n});\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(ZoomLevel);\n","import React, { Dispatch, SetStateAction } from 'react';\nimport useUnmountedRef from './useUnmountedRef';\n\nfunction useSafeState<S>(initialState: S | (() => S)): [S, Dispatch<SetStateAction<S>>];\n\nfunction useSafeState<S = undefined>(): [S | undefined, Dispatch<SetStateAction<S | undefined>>];\n\nfunction useSafeState(initialState?: any) {\n  const unmountedRef = useUnmountedRef();\n  const [state, setState] = React.useState(initialState);\n  const setCurrentState = React.useCallback((currentState) => {\n    /** 如果组件已经卸载则不再更新 state */\n    if (unmountedRef.current) return;\n    setState(currentState);\n  }, []);\n\n  return [state, setCurrentState] as const;\n}\n\nexport default useSafeState;\n","import { useRef, useEffect } from 'react';\n\nconst useUnmountedRef = () => {\n  const unmountedRef = useRef(false);\n  useEffect(() => {\n    unmountedRef.current = false;\n\n    return () => {\n      unmountedRef.current = true;\n    };\n  }, []);\n  return unmountedRef;\n};\n\nexport default useUnmountedRef;\n","import { ESubmitType, prefix } from '@/constant';\nimport { EToolName } from '@/data/enums/ToolType';\nimport useSize from '@/hooks/useSize';\nimport { AppState } from '@/store';\nimport { loadImgList, ToNextStep, ToSubmitFileData } from '@/store/annotation/actionCreators';\nimport { IFileItem } from '@/types/data';\nimport { Header } from '@/types/main';\nimport { IStepInfo } from '@/types/step';\nimport { LeftOutlined } from '@ant-design/icons';\nimport { AnnotationEngine } from '@labelbee/lb-annotation';\nimport { i18n } from '@labelbee/lb-utils';\nimport { Button, Tooltip } from 'antd/es';\nimport classNames from 'classnames';\nimport { last } from 'lodash';\nimport React, { useReducer, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { useDispatch, LabelBeeContext } from '@/store/ctx';\nimport { store } from '@/index';\nimport ExportData from './ExportData';\nimport HeaderOption from './headerOption';\nimport StepSwitch from './StepSwitch';\n\ninterface INextStep {\n  stepProgress: number;\n  stepList: IStepInfo[];\n  step: number; // 当前步骤\n  imgList: IFileItem[];\n}\n\nconst NextButton: React.FC<{ disabled: boolean; imgList: IFileItem[] }> = ({\n  disabled,\n  imgList,\n}) => {\n  const { t } = useTranslation();\n\n  const toNext = () => {\n    const { dispatch, getState } = store;\n    // 点击下一步跳转到第一页 第一页没有图片的话则需要先加载图片\n    if (imgList[0]) {\n      dispatch(ToNextStep(0) as any);\n    } else {\n      loadImgList(dispatch, getState, 0).then((isSuccess) => {\n        if (isSuccess) {\n          dispatch(ToNextStep(0) as any);\n        }\n      });\n    }\n  };\n\n  return (\n    <Button\n      type='primary'\n      style={{\n        marginLeft: 10,\n      }}\n      onClick={toNext}\n      disabled={disabled}\n    >\n      {t('NextStep')}\n    </Button>\n  );\n};\n\nconst NextStep: React.FC<INextStep> = ({ step, stepProgress, stepList, imgList }) => {\n  const { t } = useTranslation();\n  // 最后一步不显示下一步按钮\n  const lastStep = last(stepList)?.step;\n\n  if (stepList.length < 2 || step === lastStep) {\n    return null;\n  }\n\n  const disabled = stepProgress < 1;\n\n  if (disabled) {\n    return (\n      <Tooltip title={t('StepNotFinishedNotify')}>\n        <span>\n          <NextButton disabled={disabled} imgList={imgList} />\n        </span>\n      </Tooltip>\n    );\n  }\n\n  return <NextButton disabled={disabled} imgList={imgList} />;\n};\n\ninterface IToolHeaderProps {\n  goBack?: (imgList?: IFileItem[]) => void;\n  exportData?: (data: any[]) => void;\n  header?: Header;\n  headerName?: string;\n  imgList: IFileItem[];\n  annotationEngine: AnnotationEngine;\n  stepProgress: number;\n  toolName: EToolName;\n  stepInfo: IStepInfo;\n  stepList: IStepInfo[];\n  step: number;\n}\n\nconst ToolHeader: React.FC<IToolHeaderProps> = ({\n  goBack,\n  exportData,\n  header,\n  headerName,\n  imgList,\n  stepProgress,\n  stepInfo,\n  stepList,\n  step,\n  annotationEngine,\n}) => {\n  const dispatch = useDispatch();\n  const [, forceUpdate] = useReducer((x) => x + 1, 0);\n  const ref = useRef(null);\n\n  const size = useSize(ref);\n\n  // render 数据展示\n  const currentOption = <ExportData exportData={exportData} />;\n\n  const closeAnnotation = () => {\n    dispatch(ToSubmitFileData(ESubmitType.Quit));\n\n    if (goBack) {\n      goBack(imgList);\n    }\n  };\n\n  const changeLanguage = (lang: 'en' | 'cn') => {\n    i18n.changeLanguage(lang);\n    annotationEngine?.setLang(lang);\n    forceUpdate();\n  };\n\n  const curLang = i18n.language;\n\n  const width = size?.width ?? window.innerWidth;\n\n  const backNode = <LeftOutlined className={`${prefix}-header__icon`} onClick={closeAnnotation} />;\n\n  const headerNameNode = headerName ? (\n    <span className={`${prefix}-header__name`}>{headerName}</span>\n  ) : (\n    ''\n  );\n\n  const stepListNode = stepList.length > 1 && (\n    <>\n      <StepSwitch stepProgress={stepProgress} />\n      <NextStep step={step} stepProgress={stepProgress} stepList={stepList} imgList={imgList} />\n    </>\n  );\n\n  const headerOptionNode = <HeaderOption stepInfo={stepInfo} />;\n\n  const langNode = (\n    <div className={`${prefix}-header__lang`}>\n      <span\n        className={`${prefix}-langCN ${curLang === 'cn' ? 'active' : ''}`}\n        onClick={() => changeLanguage('cn')}\n      >\n        中文\n      </span>\n      {` / `}\n      <span\n        className={`${prefix}-langEN ${curLang === 'en' ? 'active' : ''}`}\n        onClick={() => changeLanguage('en')}\n      >\n        En\n      </span>\n    </div>\n  );\n\n  if (header) {\n    if (typeof header === 'function') {\n      return (\n        <div className={classNames(`${prefix}-header`)} ref={ref}>\n          <div className={`${prefix}-header__title`}>\n            {header({\n              backNode,\n              headerNameNode,\n              stepListNode,\n              headerOptionNode,\n              langNode,\n            })}\n          </div>\n        </div>\n      );\n    } else {\n      return header;\n    }\n  }\n\n  return (\n    <div className={classNames(`${prefix}-header`)} ref={ref}>\n      <div className={`${prefix}-header__title`}>\n        {backNode}\n        {headerNameNode}\n        {stepListNode}\n        {currentOption}\n        <div\n          id='operationNode'\n          className={`${prefix}-header__operationNode`}\n          style={{ left: width / 2 - 174 / 2 }}\n        >\n          {headerOptionNode}\n        </div>\n        <div className={`${prefix}-header__titlePlacement`} />\n        {langNode}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  imgList: state.annotation.imgList,\n  annotationEngine: state.annotation.annotationEngine,\n  stepProgress: state.annotation.stepProgress,\n  toolName: state.annotation.stepList[state.annotation.step - 1]?.tool,\n  stepList: state.annotation.stepList,\n  stepInfo: state.annotation.stepList[state.annotation.step - 1],\n  step: state.annotation.step,\n});\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(ToolHeader);\n","import React from 'react';\nimport { Button } from 'antd/es';\nimport { AppState } from '@/store';\nimport { ToolInstance } from '@/store/annotation/types';\nimport { connect } from 'react-redux';\nimport { IFileItem, OnSubmit } from '@/types/data';\nimport { ANNOTATION_ACTIONS } from '@/store/Actions';\nimport { ESubmitType } from '@/constant';\nimport { Dispatch } from 'redux';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  toolInstance: ToolInstance;\n  imgList: IFileItem[];\n  onSubmit?: OnSubmit;\n  exportData?: (imgList: IFileItem[]) => void;\n  dispatch: Dispatch;\n}\n\nconst ExportData: React.FC<IProps> = ({ imgList, dispatch, onSubmit, exportData }) => {\n  const { t } = useTranslation();\n\n  if (!exportData) {\n    return null;\n  }\n\n  const exportDataFuc = () => {\n    dispatch({\n      type: ANNOTATION_ACTIONS.SUBMIT_FILE_DATA,\n      payload: {\n        submitType: ESubmitType.Export,\n      },\n    });\n\n    if (exportData) {\n      exportData(imgList);\n    }\n  };\n\n  return (\n    <Button style={{ marginLeft: 20 }} onClick={exportDataFuc}>\n      {t('Export')}\n    </Button>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  toolInstance: state.annotation.toolInstance,\n  imgList: state.annotation.imgList,\n  onSubmit: state.annotation.onSubmit,\n});\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(ExportData);\n","import React, { useState, useCallback } from 'react';\nimport { useDispatch, useSelector } from '@/store/ctx';\nimport { AppState } from '@/store';\nimport rotateSvg from '@/assets/annotation/common/icon_r.svg';\nimport restoreSvg from '@/assets/annotation/common/icon_next.svg';\nimport revocationSvg from '@/assets/annotation/common/icon_back.svg';\nimport rotateHighlightSvg from '@/assets/annotation/common/icon_rA.svg';\nimport restoreHighlightSvg from '@/assets/annotation/common/icon_nextA.svg';\nimport revocationHighlightSvg from '@/assets/annotation/common/icon_backA.svg';\nimport saveSvg from '@/assets/annotation/common/icon_save.svg';\nimport saveLightSvg from '@/assets/annotation/common/icon_saveA.svg';\nimport { prefix } from '@/constant';\nimport { EToolName } from '@/data/enums/ToolType';\nimport { ChangeSave } from '@/store/annotation/actionCreators';\nimport { IStepInfo } from '@/types/step';\nimport { useTranslation } from 'react-i18next';\nimport { cTool } from '@labelbee/lb-annotation';\nconst { EVideoToolName, EPointCloudName } = cTool;\n\ninterface IProps {\n  isBegin?: boolean;\n  stepInfo: IStepInfo;\n}\n\nenum EColor {\n  Hover = '#666fff',\n  Normal = '#cccccc',\n}\n\nconst HeaderOption: React.FC<IProps> = (props) => {\n  const [toolHover, setToolHover] = useState('');\n  const { stepInfo } = props;\n  const dispatch = useDispatch();\n  const {\n    annotation: { toolInstance, onSave },\n  } = useSelector((state: AppState) => ({\n    annotation: state.annotation,\n    imgAttribute: state.imgAttribute,\n  }));\n  const { t } = useTranslation();\n\n  const isTagTool = [EToolName.Tag, EVideoToolName.VideoTagTool].includes(stepInfo?.tool as any);\n  const isVideo = [EVideoToolName.VideoTagTool].includes(stepInfo?.tool as any);\n  const isPointCloud = [EPointCloudName.PointCloud].includes(stepInfo?.tool as any);\n\n  const isBegin = props.isBegin || isTagTool;\n\n  const updateRotate = () => {\n    /**\n     * 1. 非第一步无法旋转\n     * 2. 单步骤不存在 dataSourceStep\n     */\n    if (stepInfo.dataSourceStep !== 0 && stepInfo.dataSourceStep !== undefined) {\n      return;\n    }\n\n    toolInstance?.updateRotate();\n  };\n\n  const revocation = useCallback(() => {\n    toolInstance?.undo();\n  }, [toolInstance]);\n\n  const restore = useCallback(() => {\n    toolInstance?.redo();\n  }, [toolInstance]);\n\n  let commonOptionList: any = [\n    {\n      toolName: 'save',\n      title: 'Save',\n      show: !!onSave,\n      commonSvg: saveSvg,\n      selectedSvg: saveLightSvg,\n      click: () => {\n        dispatch(ChangeSave);\n      },\n      style: {\n        fontSize: '12px',\n        color: !isBegin && toolHover === 'save' ? EColor.Hover : EColor.Normal,\n      },\n    },\n    {\n      toolName: 'revocation',\n      title: 'Undo',\n      show: true,\n      commonSvg: revocationSvg,\n      selectedSvg: revocationHighlightSvg,\n      click: () => {\n        if (isTagTool) {\n          return;\n        }\n\n        revocation();\n      },\n      style: {\n        opacity: isBegin === true ? 0.4 : 1,\n        fontSize: '12px',\n        color: !isBegin && toolHover === 'revocation' ? EColor.Hover : EColor.Normal,\n      },\n    },\n    {\n      toolName: 'restore',\n      title: 'Redo',\n      show: true,\n      commonSvg: restoreSvg,\n      selectedSvg: restoreHighlightSvg,\n      click: () => {\n        if (isTagTool) {\n          return;\n        }\n\n        restore();\n      },\n      style: {\n        opacity: isBegin === true ? 0.4 : 1,\n        fontSize: '12px',\n        color: !isBegin && toolHover === 'restore' ? EColor.Hover : EColor.Normal,\n      },\n    },\n    {\n      toolName: 'rotate',\n      title: 'Rotate',\n      show: true,\n      selectedSvg: rotateHighlightSvg,\n      commonSvg: rotateSvg,\n      click: () => {\n        if (isVideo) {\n          // VideoTool don't need to rotate\n          return;\n        }\n\n        updateRotate();\n      },\n      style: {\n        opacity: isVideo === true ? 0.4 : 1,\n        fontSize: '12px',\n        color: !isBegin && toolHover === 'rotate' ? EColor.Hover : EColor.Normal,\n      },\n    },\n  ];\n\n  // PointCloudTool temporarily removes \"restore\" & \"redo\"\n  if (isPointCloud) {\n    commonOptionList = commonOptionList.slice(0, 1);\n  }\n\n  return (\n    <div className={`${prefix}-header__hotKey`}>\n      {commonOptionList.map((info: any) => {\n        return (\n          info.show && (\n            <div\n              key={info.toolName}\n              className='item'\n              onMouseEnter={() => setToolHover(info.toolName)}\n              onMouseLeave={() => setToolHover('')}\n            >\n              <a className='item' onClick={info.click}>\n                <img\n                  className='singleTool'\n                  src={toolHover === info.toolName ? info.selectedSvg : info.commonSvg}\n                  style={info.style}\n                />\n                <div style={info.style}>{t(info.title)}</div>\n              </a>\n            </div>\n          )\n        );\n      })}\n    </div>\n  );\n};\n\nexport default HeaderOption;\n","var img = \"data:image/svg+xml,%3csvg id='icon_r' xmlns='http://www.w3.org/2000/svg' width='22' height='22' viewBox='0 0 22 22'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22'/%3e %3cg id='reload' transform='translate(1 1)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-2' data-name='%e7%9f%a9%e5%bd%a2' class='cls-1' width='20' height='20'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M14.762%2c2.234l-1.032.84A7.56%2c7.56%2c0%2c0%2c0%2c7.68%2c0%2c7.84%2c7.84%2c0%2c0%2c0%2c0%2c7.99%2c7.845%2c7.845%2c0%2c0%2c0%2c7.68%2c16%2c7.709%2c7.709%2c0%2c0%2c0%2c14.9%2c10.741a.154.154%2c0%2c0%2c0-.09-.2l-1.037-.371a.145.145%2c0%2c0%2c0-.185.091c-.033.1-.07.19-.108.284a6.539%2c6.539%2c0%2c0%2c1-1.348%2c2.084%2c6.3%2c6.3%2c0%2c0%2c1-2%2c1.406%2c6.08%2c6.08%2c0%2c0%2c1-4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1-2-1.406%2c6.539%2c6.539%2c0%2c0%2c1-1.348-2.084%2c6.833%2c6.833%2c0%2c0%2c1%2c0-5.1A6.539%2c6.539%2c0%2c0%2c1%2c3.237%2c3.364a6.3%2c6.3%2c0%2c0%2c1%2c2-1.406%2c6.08%2c6.08%2c0%2c0%2c1%2c4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1%2c2%2c1.406%2c6.489%2c6.489%2c0%2c0%2c1%2c.508.6l-1.1.9a.155.155%2c0%2c0%2c0%2c.055.269l3.212.819a.148.148%2c0%2c0%2c0%2c.181-.147L15%2c2.352a.147.147%2c0%2c0%2c0-.238-.118Z' transform='translate(2 2)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='22.001' height='22.017' viewBox='0 0 22.001 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_next' transform='translate(-0.999)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(1 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.884%2c4.3C12.188-.639%2c6.625-1.322.4%2c2.294A.794.794%2c0%2c0%2c0%2c.39%2c3.665a.765.765%2c0%2c0%2c0%2c.781%2c0C6.8.387%2c11.616.983%2c15.831%2c5.467L12.41%2c9.255l7.109-.016.018-7.875Z' transform='translate(0.99 15.142) rotate(-42)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_back' xmlns='http://www.w3.org/2000/svg' width='22' height='22.017' viewBox='0 0 22 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(0 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.88%2c4.954C12.184%2c9.894%2c6.621%2c10.576.4%2c6.96A.794.794%2c0%2c0%2c1%2c.386%2c5.59a.765.765%2c0%2c0%2c1%2c.781%2c0C6.8%2c8.868%2c11.612%2c8.272%2c15.827%2c3.788L12.406%2c0l7.109.016.018%2c7.875Z' transform='translate(15.814 22.017) rotate(-138)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_rA' xmlns='http://www.w3.org/2000/svg' width='22' height='22' viewBox='0 0 22 22'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22'/%3e %3cg id='reload' transform='translate(1 1)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-2' data-name='%e7%9f%a9%e5%bd%a2' class='cls-1' width='20' height='20'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M14.762%2c2.234l-1.032.84A7.56%2c7.56%2c0%2c0%2c0%2c7.68%2c0%2c7.84%2c7.84%2c0%2c0%2c0%2c0%2c7.99%2c7.845%2c7.845%2c0%2c0%2c0%2c7.68%2c16%2c7.709%2c7.709%2c0%2c0%2c0%2c14.9%2c10.741a.154.154%2c0%2c0%2c0-.09-.2l-1.037-.371a.145.145%2c0%2c0%2c0-.185.091c-.033.1-.07.19-.108.284a6.539%2c6.539%2c0%2c0%2c1-1.348%2c2.084%2c6.3%2c6.3%2c0%2c0%2c1-2%2c1.406%2c6.08%2c6.08%2c0%2c0%2c1-4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1-2-1.406%2c6.539%2c6.539%2c0%2c0%2c1-1.348-2.084%2c6.833%2c6.833%2c0%2c0%2c1%2c0-5.1A6.539%2c6.539%2c0%2c0%2c1%2c3.237%2c3.364a6.3%2c6.3%2c0%2c0%2c1%2c2-1.406%2c6.08%2c6.08%2c0%2c0%2c1%2c4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1%2c2%2c1.406%2c6.489%2c6.489%2c0%2c0%2c1%2c.508.6l-1.1.9a.155.155%2c0%2c0%2c0%2c.055.269l3.212.819a.148.148%2c0%2c0%2c0%2c.181-.147L15%2c2.352a.147.147%2c0%2c0%2c0-.238-.118Z' transform='translate(2 2)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='22.001' height='22.017' viewBox='0 0 22.001 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_nextA' transform='translate(-0.999)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(1 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.884%2c4.3C12.188-.639%2c6.625-1.322.4%2c2.294A.794.794%2c0%2c0%2c0%2c.39%2c3.665a.765.765%2c0%2c0%2c0%2c.781%2c0C6.8.387%2c11.616.983%2c15.831%2c5.467L12.41%2c9.255l7.109-.016.018-7.875Z' transform='translate(0.99 15.142) rotate(-42)'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg id='icon_backA' xmlns='http://www.w3.org/2000/svg' width='22' height='22.017' viewBox='0 0 22 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(0 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.88%2c4.954C12.184%2c9.894%2c6.621%2c10.576.4%2c6.96A.794.794%2c0%2c0%2c1%2c.386%2c5.59a.765.765%2c0%2c0%2c1%2c.781%2c0C6.8%2c8.868%2c11.612%2c8.272%2c15.827%2c3.788L12.406%2c0l7.109.016.018%2c7.875Z' transform='translate(15.814 22.017) rotate(-138)'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg t='1632896115713' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='1995' width='22' height='22' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cstyle type='text/css'%3e%3c/style%3e%3c/defs%3e%3cpath d='M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184z m456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840z' p-id='1996' fill='%23666666'%3e%3c/path%3e%3cpath d='M512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144z m0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z' p-id='1997' fill='%23666666'%3e%3c/path%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg t='1632896115713' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='1995' width='22' height='22' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cstyle type='text/css'%3e%3c/style%3e%3c/defs%3e%3cpath d='M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184z m456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840z' p-id='1996' fill='%23666fff'%3e%3c/path%3e%3cpath d='M512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144z m0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z' p-id='1997' fill='%23666fff'%3e%3c/path%3e%3c/svg%3e\";\n  export default img;","/**\n * 用于多步骤中的切换\n */\n\nimport { Dropdown } from 'antd/es';\nimport { CaretDownOutlined, OrderedListOutlined } from '@ant-design/icons';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { useDispatch, LabelBeeContext } from '@/store/ctx';\n\nimport { AppState } from '@/store';\nimport IconWithText from '@/components/customAntd/IconWithText';\nimport { prefix } from '@/constant';\nimport AnnotationStepPopover from '@/components/annotationStepPopover';\nimport { IStepInfo } from '@/types/step';\nimport { UpdateProcessingStep } from '@/store/annotation/actionCreators';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  stepProgress: number;\n  stepList: IStepInfo[];\n  step: number;\n}\n\nconst StepSwitch: React.FC<IProps> = ({ stepProgress, step, stepList }) => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const updateStep = (toStep: number) => {\n    dispatch(UpdateProcessingStep(toStep));\n  };\n\n  return (\n    <span className={`${prefix}`}>\n      <Dropdown\n        overlay={\n          <AnnotationStepPopover stepList={stepList} updateStep={updateStep} currentStep={step} />\n        }\n      >\n        <IconWithText\n          text={t('Steps')}\n          Icon={OrderedListOutlined}\n          iconChildren={<CaretDownOutlined style={{ fontSize: 8 }} />}\n        />\n      </Dropdown>\n    </span>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  stepList: state.annotation.stepList,\n  step: state.annotation.step,\n});\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(StepSwitch);\n","import { componentCls } from '@/constant';\nimport React from 'react';\n\ninterface IProps {\n  text: string; // icon 文本\n  Icon: any;\n  iconChildren: React.ReactNode;\n  marginLeft?: number;\n}\n\nconst IconWithText = (props: IProps) => {\n  const { Icon, text, iconChildren, ...otherProps } = props;\n\n  const marginLeft = props.marginLeft === undefined ? 30 : props.marginLeft;\n\n  return (\n    <div {...otherProps} className={componentCls} >\n      <div className={`${componentCls}__iconWithText`} style={{ marginLeft }}>\n        <div className='iconGroup'>\n          <Icon className='icon' />\n          {iconChildren}\n        </div>\n\n        <span className='name'>{text}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default IconWithText;\n","// 标注步骤中的 popover 的内容\n\nimport { componentCls } from '@/constant';\nimport { classnames } from '@/utils';\nimport React from 'react';\nimport { IStepInfo } from '@/types/step';\nimport { useTranslation } from 'react-i18next';\ninterface IProps {\n  stepList: IStepInfo[];\n  currentStep: number;\n  updateStep: (step: number) => void;\n}\n\nconst AnnotationStepPopover = (props: IProps) => {\n  const { t } = useTranslation();\n  const { stepList, updateStep, currentStep } = props;\n\n  return (\n    <div className={`${componentCls}__annotationStepPopover`}>\n      {stepList.map((info) => {\n        const isSelected = info.step === currentStep;\n\n        return (\n          <div\n            key={`stepList${info.step}`}\n            className={classnames({\n              step: true,\n            })}\n            onClick={() => {\n              if (currentStep && !isSelected) {\n                updateStep(info.step);\n              }\n            }}\n          >\n            <div\n              className={classnames({\n                name: true,\n                highlight: isSelected,\n              })}\n            >\n              {`${info.step} - ${info.name || t(info.tool)}`}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default AnnotationStepPopover;\n","/**\n * @author Glenfiddish <edwinlee0927@hotmail.com>\n * @file connect store & TagToolInstanceAdaptor\n * @date 2022-06-02\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { useDispatch, LabelBeeContext } from '@/store/ctx';\nimport { AppState } from '@/store';\nimport { ANNOTATION_ACTIONS } from '@/store/Actions';\nimport { AnnotationState } from '@/store/annotation/types';\nimport { PageBackward, PageForward, PageJump } from '@/store/annotation/actionCreators';\nimport { TagToolInstanceAdaptor } from '@/components/videoPlayer/TagToolInstanceAdaptor';\n\nconst VideoAnnotate: React.FC<{ annotation: AnnotationState }> = (props) => {\n  const { imgList, imgIndex, stepList, step } = props.annotation;\n  const dispatch = useDispatch();\n  const onMounted = (instance: TagToolInstanceAdaptor) => {\n    dispatch({\n      type: ANNOTATION_ACTIONS.SET_TOOL,\n      payload: {\n        instance,\n      },\n    });\n  };\n\n  const onUnmounted = () => {\n    dispatch({\n      type: ANNOTATION_ACTIONS.SET_TOOL,\n      payload: {\n        instance: undefined,\n      },\n    });\n  };\n\n  return (\n    <TagToolInstanceAdaptor\n      imgIndex={imgIndex}\n      imgList={imgList}\n      pageBackward={() => dispatch(PageBackward())}\n      pageForward={() => dispatch(PageForward())}\n      pageJump={(page) => dispatch(PageJump(~~page))}\n      onMounted={onMounted}\n      onUnmounted={onUnmounted}\n      stepList={stepList}\n      step={step}\n    />\n  );\n};\n\nexport default connect(({ annotation }: AppState) => ({ annotation }), null, null, {\n  context: LabelBeeContext,\n})(VideoAnnotate);\n","import React from 'react';\nimport { getClassName } from '@/utils/dom';\nimport {\n  CaretRightOutlined,\n  CaretUpOutlined,\n  CaretDownOutlined,\n  PauseOutlined,\n} from '@ant-design/icons';\nimport { VideoPlayerCtx } from '../..';\nimport { Pagination } from '@/views/MainView/toolFooter/Pagination';\nimport hotkey from '@/assets/annotation/video/icon_keyboard_h.svg';\nimport ToolHotKey from '@/views/MainView/toolFooter/FooterTips/ToolHotKey';\nimport { useTranslation } from 'react-i18next';\nimport { decimalReserved } from '../../utils';\nimport { cTool } from '@labelbee/lb-annotation';\nconst { EVideoToolName } = cTool;\n\n/**\n * Format video time to display\n * Such as 61.9 => 01:01:9\n * @param {Number} time\n * @returns {String} displayTime (min:sec:mircoSec)\n */\nconst videoTimeFormat = (time: number) => {\n  const min = Math.floor(time / 60);\n  const sec = ~~(time % 60).toFixed();\n  const minSec = (time * 10).toString().split('').pop();\n  const fillZero = (num: number) => (num < 10 ? `0${num}` : num);\n  return `${fillZero(min)}:${fillZero(sec)}:${minSec}`;\n};\n\nconst VideoProgress = () => {\n  const { currentTime, duration, buffered, setCurrentTime } = React.useContext(VideoPlayerCtx);\n  const progressRef = React.useRef<HTMLDivElement>(null);\n  const bufferLoadedPercent = `${decimalReserved((buffered / duration) * 100, 1)}%`;\n  const playedPercent = `${decimalReserved((currentTime / duration) * 100, 1)}%`;\n  const toCurrentTime = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (progressRef.current) {\n      const offsetX = event.clientX;\n      const width = progressRef.current.clientWidth;\n      const toTime = decimalReserved((offsetX / width) * duration, 1);\n      setCurrentTime(toTime);\n    }\n  };\n\n  return (\n    <div\n      className={getClassName('video-progress')}\n      ref={progressRef}\n      onClick={(event: React.MouseEvent<HTMLDivElement>) => {\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n        toCurrentTime(event);\n      }}\n    >\n      <div className={getClassName('video-slider')}>\n        <div className={getClassName('video-slider', 'played')} style={{ width: playedPercent }} />\n        <div\n          className={getClassName('video-slider', 'loaded')}\n          style={{ width: bufferLoadedPercent }}\n        />\n        <div className={getClassName('video-slider', 'played')} style={{ width: playedPercent }} />\n      </div>\n\n      <div className={getClassName('video-slider-bar')} style={{ left: playedPercent }} />\n    </div>\n  );\n};\n\nconst VideoSpeedButton = () => {\n  const { updateNextPlaybackRate, playbackRate } = React.useContext(VideoPlayerCtx);\n  const { t } = useTranslation();\n\n  return (\n    <span className={getClassName('video-controller', 'speed')}>\n      <span>{t('Speed')}</span>\n      <span className={getClassName('video-controller', 'speedNum')}>{`${playbackRate}x`}</span>\n      <span className={getClassName('video-controller', 'speedButton')}>\n        <CaretUpOutlined\n          onClick={() => {\n            updateNextPlaybackRate();\n          }}\n        />\n        <CaretDownOutlined\n          onClick={() => {\n            updateNextPlaybackRate(false);\n          }}\n        />\n      </span>\n    </span>\n  );\n};\n\nconst VideoHotKeys = () => {\n  const { t } = useTranslation();\n  return (\n    <ToolHotKey\n      title={\n        <span className={getClassName('video-controller', 'hotkey')}>\n          <img src={hotkey} />\n          {t('Hotkeys')}\n        </span>\n      }\n      style={{}}\n      toolName={EVideoToolName.VideoTagTool}\n    />\n  );\n};\n\nconst VideoPageChange = () => {\n  const { imgIndex, imgList, pageBackward, pageJump, pageForward } =\n    React.useContext(VideoPlayerCtx);\n\n  return (\n    <Pagination\n      isVideo={true}\n      pageBackward={pageBackward}\n      imgIndex={imgIndex}\n      pageJump={pageJump}\n      totalPage={imgList.length}\n      pageForward={pageForward}\n      footerCls={getClassName('video-controller')}\n    />\n  );\n};\n\nconst VideoTime = () => {\n  const { currentTime, duration } = React.useContext(VideoPlayerCtx);\n  const remained10x = duration * 10 - currentTime * 10;\n  const remaingTime = (remained10x > 0 ? remained10x : 0) / 10;\n\n  return (\n    <div className={getClassName('video-controller', 'time')}>\n      {`${videoTimeFormat(currentTime)} / -${videoTimeFormat(remaingTime)}`}\n    </div>\n  );\n};\n\nconst VideoController = () => {\n  const { playPause, isPlay } = React.useContext(VideoPlayerCtx);\n\n  return (\n    <div className={getClassName('video-controller', 'wrapper')}>\n      <VideoProgress />\n      <div className={getClassName('video-controller')}>\n        <span\n          onClick={() => {\n            playPause();\n          }}\n          className={getClassName('video-controller', 'playButton')}\n        >\n          {isPlay ? <PauseOutlined /> : <CaretRightOutlined />}\n        </span>\n        <VideoTime />\n        <VideoSpeedButton />\n        <div className={getClassName('video-controller', 'holder')} />\n        <VideoPageChange />\n        <VideoHotKeys />\n      </div>\n    </div>\n  );\n};\n\nexport default VideoController;\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='15' height='13' viewBox='0 0 15 13'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0.8%3b %7d .cls-2 %7b fill: white%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_keyboard_h' class='cls-1'%3e %3cg id='%e5%9b%be%e6%a0%87_%e8%ae%be%e7%bd%ae_%e5%bf%ab%e6%8d%b7%e9%94%ae'%3e %3cpath id='%e5%bd%a2%e7%8a%b6' class='cls-2' d='M2.142%2c13a2.205%2c2.205%2c0%2c0%2c1-1.513-.585A1.949%2c1.949%2c0%2c0%2c1%2c0%2c11V2A2.083%2c2.083%2c0%2c0%2c1%2c2.149%2c0h10.7A2.083%2c2.083%2c0%2c0%2c1%2c15%2c2V11a1.927%2c1.927%2c0%2c0%2c1-.63%2c1.417A2.209%2c2.209%2c0%2c0%2c1%2c12.855%2c13H2.142ZM3.209%2c9a1%2c1%2c0%2c1%2c0%2c0%2c2h8.582a1%2c1%2c0%2c1%2c0%2c0-2ZM11%2c5c-.069%2c0-.287.058-.287.194V6.739c0%2c.085%2c0%2c.261.287.261h1.639c.217%2c0%2c.217-.156.217-.23V5.23A.243.243%2c0%2c0%2c0%2c12.6%2c5ZM6.716%2c5c-.069%2c0-.287.058-.287.194V6.739c0%2c.085%2c0%2c.261.287.261H8.355c.217%2c0%2c.217-.156.217-.23V5.23A.243.243%2c0%2c0%2c0%2c8.319%2c5ZM2.43%2c5c-.069%2c0-.287.058-.287.194V6.739c0%2c.085%2c0%2c.261.287.261H4.069c.217%2c0%2c.217-.156.217-.23V5.23A.243.243%2c0%2c0%2c0%2c4.033%2c5ZM11%2c2c-.069%2c0-.287.059-.287.2V3.739c0%2c.085%2c0%2c.261.287.261h1.639c.217%2c0%2c.217-.155.217-.23V2.23A.243.243%2c0%2c0%2c0%2c12.6%2c2ZM6.716%2c2c-.069%2c0-.287.059-.287.2V3.739c0%2c.085%2c0%2c.261.287.261H8.355c.217%2c0%2c.217-.155.217-.23V2.23A.243.243%2c0%2c0%2c0%2c8.319%2c2ZM2.43%2c2c-.069%2c0-.287.059-.287.2V3.739c0%2c.085%2c0%2c.261.287.261H4.069c.217%2c0%2c.217-.155.217-.23V2.23A.243.243%2c0%2c0%2c0%2c4.033%2c2Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","/**\n * @author Glenfiddish <edwinlee0927@hotmail.com>\n * @file File exception layer, determine whether to render FileInvalid or FileError\n * @date 2022-06-07\n */\n\nimport React from 'react';\nimport FileError, { IFileErrorProps } from './FileError';\nimport FileInvalid, { IFileInvalidProps } from './FileInvalid';\n\ninterface IFileExceptionProps {\n  errorProps: IFileErrorProps & { isError: boolean };\n  invalidProps: IFileInvalidProps;\n  fileType: string;\n}\n\nconst FileException: React.FC<IFileExceptionProps> = ({ invalidProps, errorProps, fileType }) => {\n  if (!invalidProps.isValid) {\n    return <FileInvalid {...{ fileType, ...invalidProps }} />;\n  }\n\n  if (errorProps.isError) {\n    return <FileError {...{ fileType, ...errorProps }} />;\n  }\n  return null;\n};\n\nexport default FileException;\n","/**\n * @author Glenfiddish <edwinlee0927@hotmail.com>\n * @file File invalid layer, display while isValid equal false\n * @date 2022-06-07\n */\n\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport interface IFileInvalidProps {\n  fileType?: string;\n  isValid: boolean;\n}\n\nconst FileInvalid: React.FC<IFileInvalidProps> = ({ fileType = 'image', isValid }) => {\n  const { t } = useTranslation();\n\n  if (isValid) {\n    return null;\n  }\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        inset: 0,\n        color: 'white',\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: 30,\n        opacity: 0.7,\n        background: 'rgba(255, 87, 34, 1)',\n        justifyContent: 'center',\n      }}\n    >\n      {t(`${fileType}InvalidAndSkip`)}\n    </div>\n  );\n};\n\nexport default FileInvalid;\n","import React from 'react';\nimport { result2LabelKey } from './utils';\nimport type { ITagLabelsArray } from './types';\nimport { IInputList } from '@/types/main';\n\ninterface IVideoTagLayerProps {\n  result: Array<{ result: { [key: string]: string } }>;\n  inputList: IInputList[];\n}\n\nconst tagLayerCSSProperty: React.CSSProperties = {\n  position: 'absolute',\n  zIndex: 20,\n  padding: '0 20px',\n  color: 'white',\n  fontSize: 15,\n  lineHeight: '32px',\n  background: 'rgba(0, 255, 255, 0.32)',\n  top: 0,\n  right: 0,\n  maxHeight: 'calc(100% - 80px)',\n  overflowY: 'scroll',\n};\n\nexport const VideoTagLayer: React.FC<IVideoTagLayerProps> = ({ result, inputList }) => {\n  const tagsLabel: ITagLabelsArray = result2LabelKey(result, inputList);\n  return (\n    <div style={tagLayerCSSProperty}>\n      <table>\n        <tbody>\n          {tagsLabel.map(({ keyLabel, valuesLabelArray }) => (\n            <tr key={keyLabel}>\n              <td style={{ paddingRight: 8 }}>{`${keyLabel}:`}</td>\n              <td>{`${valuesLabelArray.join('、')}`}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n","/*\n * @Author: Laoluo luozefeng@sensetime.com\n * @Date: 2022-07-04 14:39:44\n * @LastEditors: Laoluo luozefeng@sensetime.com\n * @LastEditTime: 2022-07-08 10:01:08\n */\n/**\n * @author Glenfiddish <edwinlee0927@hotmail.com>\n * @file Point cloud tool view\n *       Includes 2D-view、3Dview、top-view、side-view、back-view\n * @date 2022-06-21\n */\n\nimport { getClassName } from '@/utils/dom';\nimport React from 'react';\nimport PointCloud3DView from './PointCloud3DView';\nimport PointCloudBackView from './PointCloudBackView';\nimport PointCloudTopView from './PointCloudTopView';\nimport PointCloudSideView from './PointCloudSideView';\nimport PointCloud2DView from './PointCloud2DView';\nimport PointCloudListener from './PointCloudListener';\nimport { AppState } from '@/store';\nimport { connect } from 'react-redux';\nimport { IFileItem } from '@/types/data';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  imgList: IFileItem[];\n}\n\nconst PointCloudView: React.FC<IProps> = ({ imgList }) => {\n  if (imgList.length === 0) {\n    return null;\n  }\n\n  return (\n    <>\n      <PointCloudListener />\n      <div className={getClassName('point-cloud-layout')} onContextMenu={(e) => e.preventDefault()}>\n        <div className={getClassName('point-cloud-wrapper')}>\n          <div className={getClassName('point-cloud-container', 'left')}>\n            <PointCloud2DView />\n            <PointCloud3DView />\n          </div>\n\n          <div className={getClassName('point-cloud-container', 'right')}>\n            <PointCloudTopView />\n            <div className={getClassName('point-cloud-container', 'right-bottom')}>\n              <PointCloudSideView />\n              <PointCloudBackView />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  imgList: state.annotation.imgList,\n});\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(PointCloudView);\n","/*\n * @Author: Laoluo luozefeng@sensetime.com\n * @Date: 2022-06-13 19:31:36\n * @LastEditors: Laoluo luozefeng@sensetime.com\n * @LastEditTime: 2022-06-27 19:43:25\n */\n\nimport { getClassName } from '@/utils/dom';\nimport { PointCloud } from '@labelbee/lb-annotation';\nimport { EPerspectiveView, IPointCloudBox, PointCloudUtils } from '@labelbee/lb-utils';\nimport classNames from 'classnames';\nimport React, { useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { PointCloudContainer } from './PointCloudLayout';\nimport { PointCloudContext } from './PointCloudContext';\nimport { aMapStateToProps, IAnnotationStateProps } from '@/store/annotation/map';\nimport { connect } from 'react-redux';\nimport { jsonParser } from '@/utils';\nimport { useSingleBox } from './hooks/useSingleBox';\nimport { Switch } from 'antd';\nimport useSize from '@/hooks/useSize';\nimport { usePointCloudViews } from './hooks/usePointCloudViews';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n\nconst pointCloudID = 'LABELBEE-POINTCLOUD';\nconst PointCloud3DContext = React.createContext<{\n  isActive: boolean;\n  setTarget3DView: (perspectiveView: EPerspectiveView) => void;\n  reset3DView: () => void;\n}>({\n  isActive: false,\n  setTarget3DView: () => {},\n  reset3DView: () => {},\n});\n\nconst PointCloudViewIcon = ({\n  perspectiveView,\n}: {\n  perspectiveView: keyof typeof EPerspectiveView;\n}) => {\n  const { isActive, setTarget3DView } = useContext(PointCloud3DContext);\n\n  const getTarget3DViewClassName = (position: string) => {\n    return classNames({\n      [getClassName('point-cloud-3d-view', position)]: true,\n      active: isActive,\n    });\n  };\n\n  return (\n    <span\n      onClick={() => {\n        setTarget3DView(EPerspectiveView[perspectiveView]);\n      }}\n      className={getTarget3DViewClassName(perspectiveView.toLocaleLowerCase())}\n    />\n  );\n};\n\nconst PointCloud3DSideBar = () => {\n  const { reset3DView } = useContext(PointCloud3DContext);\n  return (\n    <div className={getClassName('point-cloud-3d-sidebar')}>\n      <PointCloudViewIcon perspectiveView='Top' />\n      <PointCloudViewIcon perspectiveView='Front' />\n      <PointCloudViewIcon perspectiveView='Left' />\n      <PointCloudViewIcon perspectiveView='Back' />\n      <PointCloudViewIcon perspectiveView='Right' />\n      <PointCloudViewIcon perspectiveView='LFT' />\n      <PointCloudViewIcon perspectiveView='RBT' />\n      <span\n        onClick={() => {\n          reset3DView();\n        }}\n        className={getClassName('point-cloud-3d-view', 'reset')}\n      />\n    </div>\n  );\n};\n\nconst PointCloud3D: React.FC<IAnnotationStateProps> = ({ currentData }) => {\n  const ptCtx = useContext(PointCloudContext);\n  const [showDirection, setShowDirection] = useState(true);\n  const ref = useRef<HTMLDivElement>(null);\n  const { initPointCloud3d } = usePointCloudViews();\n  const size = useSize(ref);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (!ptCtx.mainViewInstance) {\n      return;\n    }\n    initPointCloud3d?.();\n  }, [size]);\n  const { selectedBox } = useSingleBox();\n\n  const setTarget3DView = (perspectiveView: EPerspectiveView) => {\n    const box = selectedBox?.info;\n\n    if (box) {\n      ptCtx.mainViewInstance?.updateCameraByBox(box, perspectiveView);\n    }\n  };\n\n  const reset3DView = () => {\n    ptCtx.mainViewInstance?.resetCamera();\n  };\n\n  useEffect(() => {\n    if (ref.current && currentData?.url) {\n      let pointCloud = ptCtx.mainViewInstance;\n      if (!pointCloud) {\n        pointCloud = new PointCloud({\n          container: ref.current,\n          backgroundColor: '#4c4c4c',\n        });\n      }\n\n      if (currentData.result) {\n        const boxParamsList = PointCloudUtils.getBoxParamsFromResultList(currentData.result);\n\n        // Add Init Box\n        boxParamsList.forEach((v: IPointCloudBox) => {\n          pointCloud?.generateBox(v);\n        });\n\n        ptCtx.setPointCloudResult(boxParamsList);\n        ptCtx.setPointCloudValid(jsonParser(currentData.result)?.valid);\n      }\n\n      ptCtx.setMainViewInstance(pointCloud);\n    }\n  }, [currentData]);\n\n  /**\n   *  Observe selectedID and reset camera to target top-view\n   */\n  useEffect(() => {\n    if (selectedBox) {\n      setTarget3DView(EPerspectiveView.Top);\n    }\n  }, [selectedBox]);\n\n  const ptCloud3DCtx = useMemo(() => {\n    return { reset3DView, setTarget3DView, isActive: !!selectedBox };\n  }, [selectedBox]);\n\n  const PointCloud3DTitle = (\n    <div>\n      <span style={{ marginRight: 8 }}>{t('ShowArrows')}</span>\n      <Switch\n        size='small'\n        checked={showDirection}\n        onChange={(showDirection) => {\n          setShowDirection(showDirection);\n          ptCtx.mainViewInstance?.setShowDirection(showDirection);\n        }}\n      />\n    </div>\n  );\n\n  return (\n    <PointCloudContainer\n      className={getClassName('point-cloud-3d-container')}\n      title={t('3DView')}\n      toolbar={PointCloud3DTitle}\n      style={{\n        height:\n          currentData.mappingImgList && currentData.mappingImgList?.length > 0 ? '55%' : '100%',\n      }}\n    >\n      <div className={getClassName('point-cloud-3d-content')}>\n        <PointCloud3DContext.Provider value={ptCloud3DCtx}>\n          <PointCloud3DSideBar />\n        </PointCloud3DContext.Provider>\n        <div className={getClassName('point-cloud-3d-view')} id={pointCloudID} ref={ref} />\n      </div>\n    </PointCloudContainer>\n  );\n};\n\nexport default connect(aMapStateToProps, null, null, { context: LabelBeeContext })(PointCloud3D);\n","/*\n * @Author: Laoluo luozefeng@sensetime.com\n * @Date: 2022-06-22 11:08:31\n * @LastEditors: Laoluo luozefeng@sensetime.com\n * @LastEditTime: 2022-07-08 11:08:02\n */\nimport { PointCloud, MathUtils, PointCloudAnnotation } from '@labelbee/lb-annotation';\nimport { getClassName } from '@/utils/dom';\nimport { PointCloudContainer } from './PointCloudLayout';\nimport React, { useEffect, useRef } from 'react';\nimport { PointCloudContext } from './PointCloudContext';\nimport { useSingleBox } from './hooks/useSingleBox';\nimport { EPerspectiveView, IPointCloudBox, IPolygonPoint } from '@labelbee/lb-utils';\nimport { SizeInfoForView } from './PointCloudInfos';\nimport { connect } from 'react-redux';\nimport { aMapStateToProps, IAnnotationStateProps } from '@/store/annotation/map';\nimport { synchronizeSideView, synchronizeTopView } from './hooks/usePointCloudViews';\nimport useSize from '@/hooks/useSize';\nimport EmptyPage from './components/EmptyPage';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n\n/**\n * 统一一下，将其拓展为 二维转换为 三维坐标的转换\n * Get the offset from canvas2d-coordinate to world coordinate\n * @param currentPos\n * @param size\n * @param zoom\n * @returns\n */\nconst TransferCanvas2WorldOffset = (\n  currentPos: { x: number; y: number },\n  size: { width: number; height: number },\n  zoom = 1,\n) => {\n  const { width: w, height: h } = size;\n\n  const canvasCenterPoint = {\n    x: currentPos.x + (w * zoom) / 2,\n    y: currentPos.y + (h * zoom) / 2,\n  };\n\n  const worldCenterPoint = {\n    x: size.width / 2,\n    y: size.height / 2,\n  };\n\n  return {\n    offsetX: (worldCenterPoint.x - canvasCenterPoint.x) / zoom,\n    offsetY: -(worldCenterPoint.y - canvasCenterPoint.y) / zoom,\n  };\n};\nconst updateBackViewByCanvas2D = (\n  currentPos: { x: number; y: number },\n  zoom: number,\n  size: { width: number; height: number },\n  selectedPointCloudBox: IPointCloudBox,\n  backPointCloud: PointCloud,\n) => {\n  const { offsetX, offsetY } = TransferCanvas2WorldOffset(currentPos, size, zoom);\n  backPointCloud.camera.zoom = zoom;\n  if (currentPos) {\n    const cos = Math.cos(selectedPointCloudBox.rotation);\n    const sin = Math.sin(selectedPointCloudBox.rotation);\n    const offsetXX = offsetX * cos;\n    const offsetXY = offsetX * sin;\n    const { x, y, z } = backPointCloud.initCameraPosition;\n    backPointCloud.camera.position.set(x + offsetXY, y - offsetXX, z + offsetY);\n  }\n  backPointCloud.camera.updateProjectionMatrix();\n  backPointCloud.render();\n};\n\nconst PointCloudSideView = ({ currentData }: IAnnotationStateProps) => {\n  const ptCtx = React.useContext(PointCloudContext);\n  const ref = useRef<HTMLDivElement>(null);\n  const size = useSize(ref);\n  const { updateSelectedBox, selectedBox } = useSingleBox();\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (ref.current) {\n      const size = {\n        width: ref.current.clientWidth,\n        height: ref.current.clientHeight,\n      };\n\n      const pointCloudAnnotation = new PointCloudAnnotation({\n        container: ref.current,\n        size,\n        polygonOperationProps: { showDirectionLine: false, forbidAddNew: true },\n      });\n      ptCtx.setBackViewInstance(pointCloudAnnotation);\n    }\n  }, []);\n\n  useEffect(() => {\n    // By the way as an initialization judgment\n    if (!size || !ptCtx.backViewInstance) {\n      return;\n    }\n\n    const {\n      pointCloud2dOperation: backPointCloudPolygonOperation,\n      pointCloudInstance: backPointCloud,\n    } = ptCtx.backViewInstance;\n\n    /**\n     * Synchronized 3d point cloud view displacement operations\n     *\n     * Change Orthographic Camera size\n     */\n    backPointCloudPolygonOperation.singleOn('renderZoom', (zoom: number, currentPos: any) => {\n      if (!ptCtx.selectedPointCloudBox) {\n        return;\n      }\n      updateBackViewByCanvas2D(currentPos, zoom, size, ptCtx.selectedPointCloudBox, backPointCloud);\n    });\n\n    // Synchronized 3d point cloud view displacement operations\n    backPointCloudPolygonOperation.singleOn('dragMove', ({ currentPos, zoom }: any) => {\n      if (!ptCtx.selectedPointCloudBox) {\n        return;\n      }\n      updateBackViewByCanvas2D(currentPos, zoom, size, ptCtx.selectedPointCloudBox, backPointCloud);\n    });\n\n    backPointCloudPolygonOperation.singleOn(\n      'updatePolygonByDrag',\n      ({ newPolygon, originPolygon }: any) => {\n        if (!ptCtx.selectedPointCloudBox || !ptCtx.mainViewInstance || !currentData.url) {\n          return;\n        }\n\n        // Notice. The sort of polygon is important.\n        const [point1, point2, point3] = newPolygon.pointList;\n        const [op1, op2, op3] = originPolygon.pointList;\n\n        // 2D centerPoint => 3D x & z\n        const newCenterPoint = MathUtils.getLineCenterPoint([point1, point3]);\n        const oldCenterPoint = MathUtils.getLineCenterPoint([op1, op3]);\n\n        const offset = {\n          x: newCenterPoint.x - oldCenterPoint.x,\n          y: newCenterPoint.y - oldCenterPoint.y,\n        };\n\n        const offsetCenterPoint = {\n          x: offset.x,\n          y: 0, // Not be used.\n          z: newCenterPoint.y - oldCenterPoint.y,\n        };\n\n        // 2D height => 3D depth\n        const height = MathUtils.getLineLength(point1, point2);\n        const oldHeight = MathUtils.getLineLength(op1, op2);\n        const offsetHeight = height - oldHeight; // 3D depth\n\n        // 2D width => 3D width\n        const width = MathUtils.getLineLength(point2, point3);\n        const oldWidth = MathUtils.getLineLength(op2, op3);\n        const offsetWidth = width - oldWidth; // 3D width\n\n        let { newBoxParams } = backPointCloud.getNewBoxByBackUpdate(\n          offsetCenterPoint,\n          offsetWidth,\n          offsetHeight,\n          ptCtx.selectedPointCloudBox,\n        );\n\n        // Update count\n        if (ptCtx.mainViewInstance) {\n          const { count } = ptCtx.mainViewInstance.getSensesPointZAxisInPolygon(\n            ptCtx.mainViewInstance.getCuboidFromPointCloudBox(newBoxParams)\n              .polygonPointList as IPolygonPoint[],\n            [\n              newBoxParams.center.z - newBoxParams.depth / 2,\n              newBoxParams.center.z + newBoxParams.depth / 2,\n            ],\n          );\n\n          newBoxParams = {\n            ...newBoxParams,\n            count,\n          };\n        }\n\n        synchronizeTopView(newBoxParams, newPolygon, ptCtx.topViewInstance, ptCtx.mainViewInstance);\n        synchronizeSideView(newBoxParams, newPolygon, ptCtx.sideViewInstance, currentData.url);\n        ptCtx.mainViewInstance.highlightOriginPointCloud(newBoxParams);\n        updateSelectedBox(newBoxParams);\n      },\n    );\n  }, [ptCtx, size]);\n\n  useEffect(() => {\n    // Update Size\n    ptCtx?.backViewInstance?.initSize(size);\n  }, [size]);\n\n  return (\n    <PointCloudContainer\n      className={getClassName('point-cloud-container', 'back-view')}\n      title={t('BackView')}\n      toolbar={<SizeInfoForView perspectiveView={EPerspectiveView.Back} />}\n    >\n      <div className={getClassName('point-cloud-container', 'bottom-view-content')}>\n        <div className={getClassName('point-cloud-container', 'core-instance')} ref={ref} />\n        {!selectedBox && <EmptyPage />}\n      </div>\n    </PointCloudContainer>\n  );\n};\n\nexport default connect(aMapStateToProps, null, null, { context: LabelBeeContext })(\n  PointCloudSideView,\n);\n","var img = \"data:image/svg+xml,%3csvg width='68' height='76' viewBox='0 0 68 76' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cg clip-path='url(%23clip0_96880_20054)'%3e%3crect x='6.45483' y='0.848145' width='54.0956' height='56.7089' rx='1.04533' fill='url(%23paint0_linear_96880_20054)' fill-opacity='0.12'/%3e%3cpath d='M67 41.3584V75H0V57.755L65.6869 40.348C66.3501 40.1722 67 40.6723 67 41.3584Z' fill='url(%23paint1_linear_96880_20054)'/%3e%3cpath d='M0.182861 35.8192V75.3775H67.0837V59.9767L1.60277 34.8433C0.91818 34.5806 0.182861 35.086 0.182861 35.8192Z' fill='url(%23paint2_linear_96880_20054)'/%3e%3cpath d='M34.8791 22C31.5247 22 28.8956 22.9519 26.9464 24.8558C25.4935 26.2426 24.5938 28.0144 24.2124 30.171C23.9638 31.5762 25.1568 32.7431 26.5838 32.7431V32.7431C28.0108 32.7431 29.098 31.5652 29.4401 30.1799C29.627 29.423 29.912 28.7815 30.3008 28.2555C31.2074 27.0316 32.6126 26.4423 34.5618 26.4423C36.103 26.4423 37.3269 26.8503 38.1882 27.7115C39.0041 28.5728 39.4574 29.7514 39.4574 31.2473C39.4574 32.3805 39.0494 33.4684 38.2335 34.4657L37.6896 35.1003C34.7431 37.7294 32.9753 39.6332 32.386 40.8571C31.9171 41.7614 31.6462 42.8142 31.5366 43.9972C31.4651 44.7702 31.9823 45.4588 32.7224 45.6932V45.6932C33.2639 45.8647 33.8406 45.8939 34.3967 45.778L34.957 45.6612C35.9679 45.4505 36.6494 44.5444 36.9087 43.5449C37.0201 43.1152 37.1747 42.7029 37.3723 42.3077C37.7802 41.4918 38.3695 40.7212 39.1854 40.0865C41.3613 38.1827 42.6758 36.9588 43.0838 36.5055C44.1717 35.0549 44.761 33.1964 44.761 30.9299C44.761 28.1648 43.8544 25.989 42.0412 24.4025C40.228 22.7706 37.8255 22 34.8791 22ZM34.0632 48.1552C33.0659 48.1552 32.25 48.4725 31.6154 49.1071C30.8901 49.7418 30.5728 50.5577 30.5728 51.5549C30.5728 52.5522 30.8901 53.3681 31.6154 54.0027C32.25 54.6374 33.0659 55 34.0632 55C35.0604 55 35.8764 54.6827 36.6016 54.0481C37.2363 53.4135 37.5989 52.5522 37.5989 51.5549C37.5989 50.5577 37.2363 49.7418 36.6016 49.1071C35.9217 48.4725 35.0604 48.1552 34.0632 48.1552Z' fill='%23F3F3F3' fill-opacity='0.25'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear_96880_20054' x1='33.5026' y1='0.848145' x2='33.5026' y2='57.557' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23EDEDED'/%3e%3cstop offset='1' stop-color='white'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear_96880_20054' x1='33.5' y1='32.9214' x2='33.5' y2='62.8103' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23373737'/%3e%3cstop offset='1' stop-color='%230E0E0E'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear_96880_20054' x1='33.6333' y1='31.097' x2='33.6333' y2='74.1393' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%232C2C2C'/%3e%3cstop offset='1' stop-color='%23424242'/%3e%3c/linearGradient%3e%3cclipPath id='clip0_96880_20054'%3e%3crect width='68' height='76.0002' fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e\";\n  export default img;","/*\n * @Author: Laoluo luozefeng@sensetime.com\n * @Date: 2022-06-22 11:08:31\n * @LastEditors: Laoluo luozefeng@sensetime.com\n */\nimport { getClassName } from '@/utils/dom';\nimport { FooterDivider } from '@/views/MainView/toolFooter';\nimport { ZoomController } from '@/views/MainView/toolFooter/ZoomController';\nimport { DownSquareOutlined, UpSquareOutlined } from '@ant-design/icons';\nimport { cTool, PointCloudAnnotation } from '@labelbee/lb-annotation';\nimport { IPolygonData } from '@labelbee/lb-utils';\nimport React, { useEffect, useLayoutEffect, useRef, useState } from 'react';\nimport { PointCloudContext } from './PointCloudContext';\nimport { useRotate } from './hooks/useRotate';\nimport { useSingleBox } from './hooks/useSingleBox';\nimport { PointCloudContainer } from './PointCloudLayout';\nimport { BoxInfos, PointCloudValidity } from './PointCloudInfos';\nimport { usePolygon } from './hooks/usePolygon';\nimport { useZoom } from './hooks/useZoom';\nimport { Slider } from 'antd';\nimport { aMapStateToProps, IAnnotationStateProps } from '@/store/annotation/map';\nimport { connect } from 'react-redux';\nimport { usePointCloudViews } from './hooks/usePointCloudViews';\nimport useSize from '@/hooks/useSize';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n\nconst { EPolygonPattern } = cTool;\n\n/**\n * Get the offset from canvas2d-coordinate to world coordinate (Top View)\n * @param currentPos\n * @param size\n * @param zoom\n * @returns\n */\nconst TransferCanvas2WorldOffset = (\n  currentPos: { x: number; y: number },\n  size: { width: number; height: number },\n  zoom = 1,\n) => {\n  const { width: w, height: h } = size;\n\n  const canvasCenterPoint = {\n    x: currentPos.x + (w * zoom) / 2,\n    y: currentPos.y + (h * zoom) / 2,\n  };\n\n  const worldCenterPoint = {\n    x: size.width / 2,\n    y: size.height / 2,\n  };\n\n  return {\n    offsetX: (worldCenterPoint.x - canvasCenterPoint.x) / zoom,\n    offsetY: -(worldCenterPoint.y - canvasCenterPoint.y) / zoom,\n  };\n};\n\nconst TopViewToolbar = ({ currentData }: IAnnotationStateProps) => {\n  const { zoom, zoomIn, zoomOut, initialPosition } = useZoom();\n  const { selectNextBox, selectPrevBox } = useSingleBox();\n  const { updateRotate } = useRotate({ currentData });\n\n  const ratio = 2;\n\n  const clockwiseRotate = () => {\n    updateRotate(-ratio);\n  };\n  const anticlockwiseRotate = () => {\n    updateRotate(ratio);\n  };\n\n  const reverseRotate = () => {\n    updateRotate(180);\n  };\n\n  return (\n    <>\n      <span\n        onClick={anticlockwiseRotate}\n        className={getClassName('point-cloud', 'rotate-reserve')}\n      />\n      <span onClick={clockwiseRotate} className={getClassName('point-cloud', 'rotate')} />\n      <span onClick={reverseRotate} className={getClassName('point-cloud', 'rotate-180')} />\n      <FooterDivider />\n      <UpSquareOutlined\n        onClick={() => {\n          selectPrevBox();\n        }}\n        className={getClassName('point-cloud', 'prev')}\n      />\n      <DownSquareOutlined\n        onClick={() => {\n          selectNextBox();\n        }}\n        className={getClassName('point-cloud', 'next')}\n      />\n      <FooterDivider />\n      <ZoomController\n        initialPosition={initialPosition}\n        zoomIn={zoomIn}\n        zoomOut={zoomOut}\n        zoom={zoom}\n      />\n    </>\n  );\n};\n\n/**\n * Slider for filtering Z-axis points\n */\nconst ZAxisSlider = ({\n  setZAxisLimit,\n  zAxisLimit,\n}: {\n  setZAxisLimit: (value: number) => void;\n  zAxisLimit: number;\n}) => {\n  return (\n    <div style={{ position: 'absolute', top: 128, right: 8, height: '50%', zIndex: 20 }}>\n      <Slider\n        vertical\n        step={0.5}\n        max={10}\n        min={0.5}\n        defaultValue={zAxisLimit}\n        onAfterChange={(v: number) => {\n          setZAxisLimit(v);\n        }}\n      />\n    </div>\n  );\n};\n\nconst PointCloudTopView: React.FC<IAnnotationStateProps> = ({ currentData }) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const ptCtx = React.useContext(PointCloudContext);\n  const size = useSize(ref);\n  const { setZoom } = useZoom();\n\n  const { addPolygon, deletePolygon } = usePolygon();\n  const { deletePointCloudBox, changeBoxValidByID } = useSingleBox();\n  const [zAxisLimit, setZAxisLimit] = useState<number>(10);\n  const { t } = useTranslation();\n  const pointCloudViews = usePointCloudViews();\n\n  useLayoutEffect(() => {\n    if (ptCtx.topViewInstance) {\n      return;\n    }\n\n    if (ref.current && currentData?.url && currentData?.result) {\n      const size = {\n        width: ref.current.clientWidth,\n        height: ref.current.clientHeight,\n      };\n\n      const pointCloudAnnotation = new PointCloudAnnotation({\n        container: ref.current,\n        size,\n        pcdPath: currentData.url,\n      });\n      ptCtx.setTopViewInstance(pointCloudAnnotation);\n    }\n  }, [currentData]);\n\n  useEffect(() => {\n    if (!size || !ptCtx.topViewInstance || !ptCtx.sideViewInstance) {\n      return;\n    }\n\n    const { pointCloud2dOperation: TopView2dOperation } = ptCtx.topViewInstance;\n\n    TopView2dOperation.singleOn('polygonCreated', (polygon: IPolygonData) => {\n      if (TopView2dOperation.pattern === EPolygonPattern.Normal || !currentData?.url) {\n        addPolygon(polygon);\n        return;\n      }\n\n      pointCloudViews.topViewAddBox(polygon, size);\n    });\n\n    TopView2dOperation.singleOn('deletedObject', ({ id }) => {\n      deletePointCloudBox(id);\n      deletePolygon(id);\n    });\n\n    TopView2dOperation.singleOn('deleteSelectedIDs', () => {\n      ptCtx.setSelectedIDs([]);\n    });\n\n    TopView2dOperation.singleOn('addSelectedIDs', (selectedID: string) => {\n      ptCtx.addSelectedID(selectedID);\n    });\n\n    TopView2dOperation.singleOn('setSelectedIDs', (selectedIDs: string[]) => {\n      ptCtx.setSelectedIDs(selectedIDs);\n    });\n\n    TopView2dOperation.singleOn('updatePolygonByDrag', ({ newPolygon }: any) => {\n      pointCloudViews.topViewUpdateBox?.(newPolygon, size);\n    });\n\n    const validUpdate = (id: string) => {\n      changeBoxValidByID(id);\n    };\n\n    TopView2dOperation.on('validUpdate', validUpdate);\n\n    return () => {\n      TopView2dOperation.unbind('validUpdate', validUpdate);\n    };\n  }, [ptCtx, size, currentData, pointCloudViews]);\n\n  useEffect(() => {\n    if (!size?.width || !ptCtx.topViewInstance) {\n      return;\n    }\n\n    // 1. Update Size\n    ptCtx.topViewInstance.initSize(size);\n    ptCtx.topViewInstance.updatePolygonList(ptCtx.pointCloudBoxList);\n\n    const {\n      topViewInstance: { pointCloudInstance: pointCloud, pointCloud2dOperation: polygonOperation },\n    } = ptCtx;\n\n    /**\n     * Synchronized 3d point cloud view displacement operations\n     *\n     * Change Orthographic Camera size\n     */\n    polygonOperation.singleOn('renderZoom', (zoom: number, currentPos: any) => {\n      const { offsetX, offsetY } = TransferCanvas2WorldOffset(currentPos, size, zoom);\n      pointCloud.camera.zoom = zoom;\n      if (currentPos) {\n        const { x, y, z } = pointCloud.initCameraPosition;\n        pointCloud.camera.position.set(x + offsetY, y - offsetX, z);\n      }\n\n      pointCloud.camera.updateProjectionMatrix();\n      pointCloud.render();\n\n      setZoom(zoom);\n    });\n\n    // Synchronized 3d point cloud view displacement operations\n    polygonOperation.singleOn('dragMove', ({ currentPos, zoom }) => {\n      const { offsetX, offsetY } = TransferCanvas2WorldOffset(currentPos, size, zoom);\n      pointCloud.camera.zoom = zoom;\n      const { x, y, z } = pointCloud.initCameraPosition;\n      pointCloud.camera.position.set(x + offsetY, y - offsetX, z);\n      pointCloud.render();\n    });\n  }, [size, ptCtx.topViewInstance]);\n\n  useEffect(() => {\n    ptCtx.topViewInstance?.pointCloudInstance?.applyZAxisPoints(zAxisLimit);\n  }, [zAxisLimit]);\n\n  useEffect(() => {\n    pointCloudViews.topViewSelectedChanged();\n  }, [ptCtx.selectedIDs]);\n\n  return (\n    <PointCloudContainer\n      className={getClassName('point-cloud-container', 'top-view')}\n      title={t('TopView')}\n      toolbar={<TopViewToolbar currentData={currentData} />}\n    >\n      <div style={{ position: 'relative', flex: 1 }}>\n        <div style={{ width: '100%', height: '100%' }} ref={ref} />\n\n        <BoxInfos />\n        <ZAxisSlider zAxisLimit={zAxisLimit} setZAxisLimit={setZAxisLimit} />\n        <PointCloudValidity />\n      </div>\n    </PointCloudContainer>\n  );\n};\n\nexport default connect(aMapStateToProps, null, null, { context: LabelBeeContext })(\n  PointCloudTopView,\n);\n","import { IPolygonData } from '@labelbee/lb-utils';\nimport { useContext } from 'react';\nimport { PointCloudContext } from '../PointCloudContext';\n\n\n/**\n * PointCloud Polygon Hook\n * @returns\n */\nexport const usePolygon = () => {\n  const { polygonList, setPolygonList} = useContext(PointCloudContext);\n\n  const addPolygon = (polygon: IPolygonData) => {\n    setPolygonList(polygonList.concat(polygon));\n  }\n\n  const deletePolygon = (id: string) => {\n    const newPolygonList = polygonList.filter(v => v.id !== id);\n    setPolygonList([...newPolygonList])\n  }\n  \n  return { addPolygon, deletePolygon };\n};\n","/**\n * @file Zoom Updated by PointCloud\n * @createDate 2022-09-04\n * @author Ron <ron.f.luo@gmail.com>\n */\n import { useContext } from 'react';\n import { PointCloudContext } from '../PointCloudContext';\n\nexport const useZoom = () => {\n  const { topViewInstance } = useContext(PointCloudContext);\n  const { zoom, setZoom } = useContext(PointCloudContext); \n\n  const initialPosition = () => {\n    topViewInstance?.pointCloud2dOperation.initImgPos();\n  };\n\n  const zoomOut = () => {\n    topViewInstance?.pointCloud2dOperation.zoomChanged(false);\n  };\n\n  const zoomIn = () => {\n    topViewInstance?.pointCloud2dOperation.zoomChanged(true);\n  };\n\n  return {\n    zoom, \n    setZoom,\n    initialPosition,\n    zoomOut,\n    zoomIn\n  }\n}\n","/**\n * @file PointCloud sideView - React Component\n * @createdate 2022-07-11\n * @author Ron <ron.f.luo@gmail.com>\n */\nimport { PointCloud, PointCloudAnnotation } from '@labelbee/lb-annotation';\nimport { getClassName } from '@/utils/dom';\nimport { PointCloudContainer } from './PointCloudLayout';\nimport React, { useEffect, useRef } from 'react';\nimport { EPerspectiveView, IPointCloudBox } from '@labelbee/lb-utils';\nimport { PointCloudContext } from './PointCloudContext';\nimport { SizeInfoForView } from './PointCloudInfos';\nimport { connect } from 'react-redux';\nimport { aMapStateToProps, IAnnotationStateProps } from '@/store/annotation/map';\nimport { usePointCloudViews } from './hooks/usePointCloudViews';\nimport { useSingleBox } from './hooks/useSingleBox';\nimport EmptyPage from './components/EmptyPage';\nimport useSize from '@/hooks/useSize';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n/**\n * Get the offset from canvas2d-coordinate to world coordinate\n * @param currentPos\n * @param size\n * @param zoom\n * @returns\n */\nconst TransferCanvas2WorldOffset = (\n  currentPos: { x: number; y: number },\n  size: { width: number; height: number },\n  zoom = 1,\n) => {\n  const { width: w, height: h } = size;\n\n  const canvasCenterPoint = {\n    x: currentPos.x + (w * zoom) / 2, // 放大倍数之后的中心点的偏移量\n    y: currentPos.y + (h * zoom) / 2,\n  };\n\n  const worldCenterPoint = {\n    x: size.width / 2,\n    y: size.height / 2,\n  };\n\n  return {\n    offsetX: (worldCenterPoint.x - canvasCenterPoint.x) / zoom,\n    offsetY: -(worldCenterPoint.y - canvasCenterPoint.y) / zoom,\n  };\n};\n\nconst updateSideViewByCanvas2D = (\n  currentPos: { x: number; y: number },\n  zoom: number,\n  size: { width: number; height: number },\n  selectedPointCloudBox: IPointCloudBox,\n  SidePointCloud: PointCloud,\n) => {\n  const { offsetX, offsetY } = TransferCanvas2WorldOffset(currentPos, size, zoom);\n  SidePointCloud.camera.zoom = zoom;\n  if (currentPos) {\n    const cos = Math.cos(selectedPointCloudBox.rotation);\n    const sin = Math.sin(selectedPointCloudBox.rotation);\n    const offsetXX = offsetX * cos;\n    const offsetXY = offsetX * sin;\n    const { x, y, z } = SidePointCloud.initCameraPosition;\n    SidePointCloud.camera.position.set(x - offsetXX, y - offsetXY, z + offsetY);\n  }\n  SidePointCloud.camera.updateProjectionMatrix();\n  SidePointCloud.render();\n};\n\nconst PointCloudSideView: React.FC<IAnnotationStateProps> = ({ currentData }) => {\n  const ptCtx = React.useContext(PointCloudContext);\n  const { sideViewUpdateBox } = usePointCloudViews();\n  const { selectedBox } = useSingleBox();\n  const ref = useRef<HTMLDivElement>(null);\n  const size = useSize(ref);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (ref.current) {\n      const size = {\n        width: ref.current.clientWidth,\n        height: ref.current.clientHeight,\n      };\n\n      const pointCloudAnnotation = new PointCloudAnnotation({\n        container: ref.current,\n        size,\n        polygonOperationProps: { showDirectionLine: false, forbidAddNew: true },\n      });\n      ptCtx.setSideViewInstance(pointCloudAnnotation);\n      // };\n    }\n  }, []);\n\n  useEffect(() => {\n    // By the way as an initialization judgment\n    if (!size || !ptCtx.sideViewInstance) {\n      return;\n    }\n\n    const { pointCloud2dOperation, pointCloudInstance } = ptCtx.sideViewInstance;\n\n    /**\n     * Synchronized 3d point cloud view displacement operations\n     *\n     * Change Orthographic Camera size\n     */\n    pointCloud2dOperation.singleOn('renderZoom', (zoom: number, currentPos: any) => {\n      if (!ptCtx.selectedPointCloudBox) {\n        return;\n      }\n      updateSideViewByCanvas2D(\n        currentPos,\n        zoom,\n        size,\n        ptCtx.selectedPointCloudBox,\n        pointCloudInstance,\n      );\n    });\n\n    // Synchronized 3d point cloud view displacement operations\n    pointCloud2dOperation.singleOn('dragMove', ({ currentPos, zoom }: any) => {\n      if (!ptCtx.selectedPointCloudBox) {\n        return;\n      }\n      updateSideViewByCanvas2D(\n        currentPos,\n        zoom,\n        size,\n        ptCtx.selectedPointCloudBox,\n        pointCloudInstance,\n      );\n    });\n\n    pointCloud2dOperation.singleOn('updatePolygonByDrag', ({ newPolygon, originPolygon }: any) => {\n      sideViewUpdateBox(newPolygon, originPolygon);\n    });\n  }, [ptCtx, size]);\n\n  useEffect(() => {\n    // Update Size\n    ptCtx?.sideViewInstance?.initSize(size);\n  }, [size]);\n\n  return (\n    <PointCloudContainer\n      className={getClassName('point-cloud-container', 'side-view')}\n      title={t('SideView')}\n      toolbar={<SizeInfoForView perspectiveView={EPerspectiveView.Left} />}\n    >\n      <div className={getClassName('point-cloud-container', 'bottom-view-content')}>\n        <div className={getClassName('point-cloud-container', 'core-instance')} ref={ref} />\n        {!selectedBox && <EmptyPage />}\n      </div>\n    </PointCloudContainer>\n  );\n};\n\nexport default connect(aMapStateToProps, null, null, { context: LabelBeeContext })(\n  PointCloudSideView,\n);\n","import { getClassName } from '@/utils/dom';\nimport React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { PointCloudContainer } from './PointCloudLayout';\nimport AnnotationView from '@/components/AnnotationView';\nimport { PointCloudContext } from './PointCloudContext';\nimport { AppState } from '@/store';\nimport { connect } from 'react-redux';\nimport { IFileItem } from '@/types/data';\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons';\nimport useSize from '@/hooks/useSize';\nimport { useSingleBox } from './hooks/useSingleBox';\nimport { ViewOperation } from '@labelbee/lb-annotation';\nimport { useTranslation } from 'react-i18next';\nimport { LabelBeeContext } from '@/store/ctx';\n\ninterface IProps {\n  imgInfo: IFileItem;\n}\n\nconst Toolbar = ({\n  onNext,\n  onPrev,\n  imgLength,\n  imgIndex,\n}: {\n  onNext: () => void;\n  onPrev: () => void;\n  imgLength: number;\n  imgIndex: number;\n}) => {\n  return (\n    <div>\n      <LeftOutlined onClick={onPrev} />\n      <span>\n        {' '}\n        {imgIndex + 1} / {imgLength}{' '}\n      </span>\n\n      <RightOutlined onClick={onNext} />\n    </div>\n  );\n};\n\n// TODO, It will be deleted when the exported type of lb-annotation is work.\ninterface IAnnotationDataTemporarily {\n  type: string;\n  annotation: any;\n}\n\nconst PointCloud2DView = ({ imgInfo }: IProps) => {\n  const [annotations2d, setAnnotations2d] = useState<IAnnotationDataTemporarily[]>([]);\n  const { pointCloudBoxList, topViewInstance } = useContext(PointCloudContext);\n  const [mappingIndex, setMappingIndex] = useState(0);\n  const ref = useRef(null);\n  const viewRef = useRef<{ toolInstance: ViewOperation }>();\n  const { selectedBox } = useSingleBox();\n  const size = useSize(ref);\n  const { t } = useTranslation();\n\n  const mappingData = imgInfo?.mappingImgList?.[mappingIndex];\n\n  useEffect(() => {\n    setMappingIndex(0);\n  }, [imgInfo]);\n\n  useEffect(() => {\n    if (topViewInstance && mappingData) {\n      const { pointCloudInstance } = topViewInstance;\n      const defaultViewStyle = {\n        fill: 'transparent',\n        color: 'green',\n      };\n      const newAnnotations2d: IAnnotationDataTemporarily[] = pointCloudBoxList.reduce(\n        (acc: IAnnotationDataTemporarily[], pointCloudBox) => {\n          const viewDataPointList = pointCloudInstance.pointCloudLidar2image(\n            pointCloudBox,\n            mappingData.calib,\n          );\n          return [\n            ...acc,\n            ...viewDataPointList.map((v: any) => {\n              return {\n                type: v.type,\n                annotation: {\n                  id: pointCloudBox.id,\n                  pointList: v.pointList,\n                  ...defaultViewStyle,\n                },\n              };\n            }),\n          ];\n        },\n        [],\n      );\n\n      setAnnotations2d(newAnnotations2d);\n    }\n  }, [pointCloudBoxList, mappingData]);\n\n  const hiddenData = !imgInfo || !imgInfo?.mappingImgList || !(imgInfo?.mappingImgList?.length > 0);\n\n  const afterImgOnLoad = useCallback(() => {\n    const toolInstance = viewRef.current?.toolInstance;\n\n    if (!selectedBox || !toolInstance) {\n      return;\n    }\n    const selected2data = annotations2d.find((v) => v.annotation.id === selectedBox.info.id);\n\n    if (selected2data?.annotation.pointList?.length > 0) {\n      toolInstance.focusPositionByPointList(selected2data?.annotation.pointList);\n    }\n  }, [selectedBox, viewRef.current, annotations2d, mappingIndex]);\n\n  /**\n   * If the status is updated, it needs to\n   */\n  useEffect(() => {\n    afterImgOnLoad();\n  }, [afterImgOnLoad]);\n\n  return (\n    <PointCloudContainer\n      className={getClassName('point-cloud-2d-container')}\n      title={t('2DView')}\n      toolbar={\n        hiddenData ? undefined : (\n          <Toolbar\n            imgIndex={mappingIndex}\n            imgLength={imgInfo.mappingImgList?.length ?? 0}\n            onNext={() => {\n              if (!imgInfo || !imgInfo?.mappingImgList) {\n                return;\n              }\n\n              if (mappingIndex >= imgInfo?.mappingImgList?.length - 1) {\n                return;\n              }\n              setMappingIndex((v) => v + 1);\n            }}\n            onPrev={() => {\n              if (mappingIndex <= 0) {\n                return;\n              }\n              setMappingIndex((v) => v - 1);\n            }}\n          />\n        )\n      }\n      style={{ display: hiddenData ? 'none' : 'flex' }}\n    >\n      <div className={getClassName('point-cloud-2d-image')} ref={ref}>\n        <AnnotationView\n          src={mappingData?.url ?? ''}\n          annotations={annotations2d}\n          size={size}\n          ref={viewRef}\n          globalStyle={{ display: hiddenData ? 'none' : 'block' }}\n          afterImgOnLoad={afterImgOnLoad}\n        />\n      </div>\n    </PointCloudContainer>\n  );\n};\n\nconst mapStateToProps = (state: AppState) => {\n  const { imgList, imgIndex } = state.annotation;\n\n  return {\n    imgInfo: imgList[imgIndex],\n  };\n};\n\nexport default connect(mapStateToProps, null, null, { context: LabelBeeContext })(PointCloud2DView);\n","import { PointCloudContext } from './PointCloudContext';\nimport { useRotate } from './hooks/useRotate';\nimport { useBoxes } from './hooks/useBoxes';\nimport { useSingleBox } from './hooks/useSingleBox';\nimport React, { useContext, useEffect } from 'react';\nimport { cTool } from '@labelbee/lb-annotation';\nimport { message } from 'antd';\nimport { connect } from 'react-redux';\nimport { aMapStateToProps, IAnnotationStateProps } from '@/store/annotation/map';\nimport { useCustomToolInstance } from '@/hooks/annotation';\nimport { useStatus } from './hooks/useStatus';\nimport { jsonParser } from '@/utils';\nimport { usePointCloudViews } from './hooks/usePointCloudViews';\nimport { LabelBeeContext } from '@/store/ctx';\n\nconst { EPolygonPattern } = cTool;\n\nconst PointCloudListener: React.FC<IAnnotationStateProps> = ({ currentData }) => {\n  const ptCtx = useContext(PointCloudContext);\n  const { changeSelectedBoxValid, selectNextBox, selectPrevBox, updateSelectedBox } =\n    useSingleBox();\n  const { clearAllResult } = useStatus();\n  const basicInfo = jsonParser(currentData.result);\n  const { copySelectedBoxes, pasteSelectedBoxes, copiedBoxes } = useBoxes();\n  const { toolInstanceRef } = useCustomToolInstance({ basicInfo });\n  const { updateRotate } = useRotate({ currentData });\n  const { updatePointCloudData } = usePointCloudViews();\n\n  const keydownEvents = (lowerCaseKey: string, e: KeyboardEvent) => {\n    const { topViewInstance, mainViewInstance } = ptCtx;\n    if (!topViewInstance) {\n      return;\n    }\n\n    const { pointCloud2dOperation: TopPointCloudPolygonOperation } = topViewInstance;\n\n    switch (lowerCaseKey) {\n      case 'q': {\n        // Q - anticlockwise\n        updateRotate(2);\n        break;\n      }\n\n      case 'e':\n        // E - closewise\n        updateRotate(-2);\n\n        break;\n\n      case 'g':\n        // G ， overturn 180\n        updateRotate(180);\n\n        break;\n\n      case 'u':\n        {\n          // U , change TopOpereation Pattern\n          const newPattern =\n            TopPointCloudPolygonOperation.pattern === EPolygonPattern.Normal\n              ? EPolygonPattern.Rect\n              : EPolygonPattern.Normal;\n          TopPointCloudPolygonOperation.setPattern(newPattern);\n          const POLYGON_PATTERN = {\n            [EPolygonPattern.Normal]: 'Normal Pattern',\n            [EPolygonPattern.Rect]: 'Rect Pattern',\n          };\n          message.success(`Change Pattern to ${POLYGON_PATTERN[newPattern]} successfully`);\n\n          // Clear Status\n          TopPointCloudPolygonOperation.clearActiveStatus();\n          TopPointCloudPolygonOperation.clearDrawingStatus();\n        }\n\n        break;\n\n      // +: Increase points size\n      case '+':\n        mainViewInstance?.updatePointSize(true);\n        break;\n\n      // -: Reduce points size\n      case '-':\n        mainViewInstance?.updatePointSize(false);\n        break;\n\n      case 'v':\n        ptCtx.setPointCloudValid(!ptCtx.valid);\n        break;\n\n      case 'tab':\n        if (e.shiftKey) {\n          selectPrevBox();\n          break;\n        }\n        selectNextBox();\n        break;\n\n      case 'f':\n        changeSelectedBoxValid();\n        break;\n\n      default: {\n        return;\n      }\n    }\n  };\n\n  const ctrlKeydownEvents = (lowerCaseKey: string) => {\n    switch (lowerCaseKey) {\n      case 'c':\n        copySelectedBoxes();\n        break;\n      case 'v':\n        pasteSelectedBoxes();\n        break;\n      case 'a':\n        ptCtx.selectedAllBoxes();\n        break;\n      default:\n        break;\n    }\n  };\n\n  const onKeyDown = (e: KeyboardEvent) => {\n    const lowerCaseKey = e.key.toLocaleLowerCase();\n\n    if (e.ctrlKey) {\n      ctrlKeydownEvents(lowerCaseKey);\n      return;\n    }\n\n    keydownEvents(lowerCaseKey, e);\n  };\n\n  useEffect(() => {\n    const { topViewInstance } = ptCtx;\n    if (!topViewInstance) {\n      return;\n    }\n\n    window.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', onKeyDown);\n    };\n  }, [ptCtx, copiedBoxes]);\n\n  // Page switch data initialization\n  useEffect(() => {\n    updatePointCloudData?.();\n  }, [currentData, ptCtx.mainViewInstance]);\n\n  // Update the listener of toolInstance.\n  useEffect(() => {\n    toolInstanceRef.current.exportData = () => {\n      return [ptCtx.pointCloudBoxList, { valid: ptCtx.valid }];\n    };\n\n    toolInstanceRef.current.exportCustomData = () => {\n      return {\n        renderPolygon: ptCtx.polygonList ?? [],\n      };\n    };\n\n    toolInstanceRef.current.setDefaultAttribute = (newAttribute: string) => {\n      const selectBox = ptCtx.selectedPointCloudBox;\n      if (selectBox) {\n        selectBox.attribute = newAttribute;\n\n        updateSelectedBox(selectBox);\n      }\n    };\n\n    toolInstanceRef.current.setSubAttribute = (key: string, value: string) => {\n      const selectBox = ptCtx.selectedPointCloudBox;\n      if (selectBox) {\n        const originSubAttribute = selectBox?.subAttribute ?? {};\n\n        selectBox.subAttribute = {\n          ...originSubAttribute,\n          [key]: value,\n        };\n\n        updateSelectedBox(selectBox);\n      }\n    };\n    toolInstanceRef.current.clearResult = () => {\n      clearAllResult?.();\n    };\n  }, [ptCtx.pointCloudBoxList, ptCtx.selectedID, ptCtx.valid, ptCtx.polygonList]);\n\n  useEffect(() => {\n    toolInstanceRef.current.setValid = (valid: boolean) => {\n      toolInstanceRef.current.valid = valid;\n\n      // Avoid triggering SetState operations in the reducer phase\n      setTimeout(() => {\n        ptCtx.setPointCloudValid(valid);\n      });\n    };\n  }, []);\n\n  return null;\n};\n\nexport default connect(aMapStateToProps, null, null, { context: LabelBeeContext })(\n  PointCloudListener,\n);\n","import { IPointCloudBoxList } from '@labelbee/lb-utils';\nimport { useCallback, useContext, useMemo, useState } from 'react';\nimport _ from 'lodash';\nimport { message } from 'antd';\nimport { usePointCloudViews } from './usePointCloudViews';\nimport { PointCloudContext } from '../PointCloudContext';\nimport { useTranslation } from 'react-i18next';\n\n/**\n * Actions for selected boxes\n */\nexport const useBoxes = () => {\n  const { selectedIDs, pointCloudBoxList, setPointCloudResult } = useContext(PointCloudContext);\n  const [copiedBoxes, setCopiedBoxes] = useState<IPointCloudBoxList>([]);\n  const { pointCloudBoxListUpdated } = usePointCloudViews();\n  const { t, i18n } = useTranslation();\n\n  // const hasDuplicateID = (checkBoxList: IPointCloudBoxList) => {\n  //   return pointCloudBoxList.some((item) => {\n  //     return checkBoxList.some((i) => i.id === item.id);\n  //   });\n  // };\n\n  const selectedBoxes = useMemo(() => {\n    return pointCloudBoxList.filter((i) => selectedIDs.includes(i.id));\n  }, [selectedIDs, pointCloudBoxList]);\n\n  const copySelectedBoxes = useCallback(() => {\n    if (selectedBoxes.length > 0) {\n      setCopiedBoxes(_.cloneDeep(selectedBoxes));\n    } else {\n      setCopiedBoxes([]);\n      message.error(t('CopyEmptyInPointCloud'));\n    }\n  }, [selectedIDs, pointCloudBoxList, i18n.language]);\n\n  const pasteSelectedBoxes = useCallback(() => {\n    if (copiedBoxes.length === 0) {\n      message.error(t('PasteEmptyInPointCloud'));\n      return;\n    }\n\n    // const hasDuplicate = hasDuplicateID(copiedBoxes);\n    const hasDuplicate = false; // Temporarily hide the duplicate check;\n\n    if (hasDuplicate) {\n      message.error(t('HasDuplicateID'));\n    } else {\n      /** Paste succeed and empty */\n      const newPointCloudResult = [...pointCloudBoxList, ...copiedBoxes];\n\n      setPointCloudResult(newPointCloudResult);\n      pointCloudBoxListUpdated?.(newPointCloudResult);\n      setCopiedBoxes([]);\n    }\n  }, [copiedBoxes, pointCloudBoxList, i18n.language]);\n\n  return { copySelectedBoxes, pasteSelectedBoxes, copiedBoxes, selectedBoxes };\n};\n","/**\n * @file Annotation related hook\n * @createDate 2022-08-04\n * @author Ron <ron.f.luo@gmail.com>\n */\nimport { useEffect, useRef } from 'react';\nimport { useDispatch } from '@/store/ctx';\nimport { ANNOTATION_ACTIONS } from '@/store/Actions';\n\nexport interface ICustomToolInstance {\n  valid: boolean;\n  exportData: () => [any[], {}];\n  exportCustomData: () => {};\n  singleOn: () => void;\n  clearResult: () => void;\n  on: () => void;\n  unbind: () => void;\n  setResult: () => void;\n  setValid: (valid: boolean) => void;\n  history: {\n    initRecord: () => void;\n    pushHistory: () => void;\n  };\n  setDefaultAttribute: (attribute: string) => void;\n\n  // PointCloud Exclusive function\n  setSubAttribute: (key: string, value: string) => void;\n\n  updateRotate: () => void;\n}\n\nexport interface ICustomToolInstanceProps {\n  basicInfo?: { [v: string]: any };\n}\n\n/**\n * @returns\n * Custom an empty toolInstance to adapt old use.\n */\nconst useCustomToolInstance = ({ basicInfo }: ICustomToolInstanceProps = {}) => {\n  const dispatch = useDispatch();\n  const toolInstanceRef = useRef<ICustomToolInstance>({\n    valid: basicInfo?.valid ?? true,\n    exportData: () => {\n      return [[], {}];\n    },\n    exportCustomData: () => {\n      return {};\n    },\n    clearResult: () => {},\n    singleOn: () => {},\n    on: () => {},\n    unbind: () => {},\n    setResult: () => {\n      // Rerender Data\n    },\n    history: {\n      initRecord: () => {},\n      pushHistory: () => {},\n    },\n    setDefaultAttribute: (attribute: string) => {},\n\n    // PointCloud Exclusive function\n    setSubAttribute: (key: string, value: string) => {},\n    setValid: () => {},\n    updateRotate: () => {},\n  });\n\n  const onMounted = (instance: any) => {\n    dispatch({\n      type: ANNOTATION_ACTIONS.SET_TOOL,\n      payload: {\n        instance,\n      },\n    });\n  };\n\n  const onUnmounted = () => {\n    dispatch({\n      type: ANNOTATION_ACTIONS.SET_TOOL,\n      payload: {\n        instance: undefined,\n      },\n    });\n  };\n\n  useEffect(() => {\n    // Initial toolInstance\n    onMounted(toolInstanceRef.current);\n    return () => {\n      onUnmounted();\n    };\n  }, []);\n\n  return {\n    toolInstanceRef,\n  };\n};\n\nexport { useCustomToolInstance };\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rootReducer } from './store';\n\nexport default function configureStore() {\n  return createStore(rootReducer, applyMiddleware(thunk));\n}\n","import { combineReducers, CombinedState } from 'redux';\nimport { annotationReducer } from './annotation/reducer';\nimport { imgAttributeReducer } from './imgAttribute/reducer';\nimport { toolStyleReducer } from './toolStyle/reducer';\n\nexport const rootReducer: CombinedState<any> = combineReducers({\n  annotation: annotationReducer,\n  imgAttribute: imgAttributeReducer,\n  toolStyle: toolStyleReducer,\n});\n\nexport type AppState = ReturnType<typeof rootReducer>;\n","import { IMAGE_ATTRIBUTE_ACTIONS } from '@/store/Actions';\nimport { ImgAttributeState, ImgAttributeActionTypes } from './types';\n\nconst initialState: ImgAttributeState = {\n  contrast: 1,\n  saturation: 1,\n  brightness: 1,\n  zoomRatio: 1,\n  isOriginalSize: false,\n};\n\nexport function imgAttributeReducer(\n  state = { ...initialState },\n  action: ImgAttributeActionTypes,\n): ImgAttributeState {\n  switch (action.type) {\n    case IMAGE_ATTRIBUTE_ACTIONS.UPDATE_IMG_ATTRIBUTE: {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    }\n\n    case IMAGE_ATTRIBUTE_ACTIONS.INIT_IMG_ATTRIBUTE: {\n      return {\n        ...initialState,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import { COLORS_ARRAY, NULL_COLOR } from '@/data/Style';\nimport { ToolStyleUtils } from '@/utils/ToolStyleUtils';\nimport { TOOL_STYLE_ACTIONS } from '@/store/Actions';\nimport { ToolStyleActionTypes, ToolStyleState } from './types';\n\nconst initialState: ToolStyleState = {\n  color: 1,\n  width: 2,\n  borderOpacity: 9,\n  fillOpacity: 9,\n  toolColor: ToolStyleUtils.getToolColors(),\n  attributeColor: ToolStyleUtils.getAttributeColors(),\n  lineColor: ToolStyleUtils.getDefaultToolLineColors(),\n  attributeLineColor: [NULL_COLOR].concat(COLORS_ARRAY),\n};\n\nexport function toolStyleReducer(\n  state = { ...initialState },\n  action: ToolStyleActionTypes,\n): ToolStyleState {\n  switch (action.type) {\n    case TOOL_STYLE_ACTIONS.INIT_TOOL_STYLE_CONFIG: {\n      return {\n        ...initialState,\n      };\n    }\n\n    case TOOL_STYLE_ACTIONS.UPDATE_TOOL_STYLE_CONFIG: {\n      const computeColor = {};\n      const payload = action.payload;\n      if (payload?.borderOpacity || payload?.fillOpacity) {\n        Object.assign(\n          computeColor,\n          ToolStyleUtils.initByOpacity(\n            payload.borderOpacity || state.borderOpacity,\n            payload.fillOpacity || state.fillOpacity,\n          ),\n        );\n      }\n\n      return {\n        ...state,\n        ...action.payload,\n        ...computeColor,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import {\n  CHANGE_COLOR,\n  DEFAULT_COLOR,\n  COLORS_ARRAY,\n  NULL_COLOR,\n  BORDER_OPACITY_LEVEL,\n  FILL_OPACITY_LEVEL,\n} from '@/data/Style';\nimport _ from 'lodash';\n\nconst FILL_OPACITY = 0.8;\n\nexport class ToolStyleUtils {\n  public static changeOpacity: { [a: number]: number } = {\n    1: 0.2,\n    3: 0.4,\n    5: 0.6,\n    7: 0.8,\n    9: 1.0,\n  };\n\n  public static colorSplit(color: string, opacity: number) {\n    return color\n      .split(' ')\n      .join('')\n      .replace(/,[0-9]+([.]{1}[0-9]+){0,1}\\)/, `,${opacity.toFixed(2)})`);\n  }\n\n  public static computeOpacity(opacity: number, color: string) {\n    const s =\n      color\n        .split(' ')\n        .join('')\n        .match(/,[0-9]+([.]{1}[0-9]+){0,1}\\)/)?.[0] || '';\n    let firstOpacity = s.match(/[0-9]+([.]{1}[0-9]+){0,1}/)?.[0];\n    return opacity * Number(firstOpacity);\n  }\n\n  public static getToolColors(borderOpacityParam = 9, fillOpacityParam = 9) {\n    const colorSplit = ToolStyleUtils.colorSplit;\n    const computeOpacity = ToolStyleUtils.computeOpacity;\n\n    const toolColor = _.cloneDeep(CHANGE_COLOR);\n    const borderOpacity = BORDER_OPACITY_LEVEL[borderOpacityParam];\n    const fillOpacity = FILL_OPACITY_LEVEL[fillOpacityParam];\n\n    Object.keys(CHANGE_COLOR).forEach((color: any) => {\n      const showColor = _.cloneDeep(DEFAULT_COLOR);\n      showColor.valid.stroke = colorSplit(\n        CHANGE_COLOR[color].valid,\n        computeOpacity(borderOpacity, CHANGE_COLOR[color].valid),\n      );\n      showColor.valid.fill = colorSplit(\n        CHANGE_COLOR[color].valid,\n        computeOpacity(fillOpacity, CHANGE_COLOR[color].valid) * FILL_OPACITY,\n      );\n      showColor.validSelected.stroke = colorSplit(\n        CHANGE_COLOR[color].select.stroke,\n        computeOpacity(borderOpacity, CHANGE_COLOR[color].select.stroke),\n      );\n      showColor.validSelected.fill = colorSplit(\n        CHANGE_COLOR[color].select.fill,\n        computeOpacity(fillOpacity, CHANGE_COLOR[color].select.fill) * FILL_OPACITY,\n      );\n      showColor.validHover.stroke = colorSplit(\n        CHANGE_COLOR[color].hover,\n        computeOpacity(borderOpacity, CHANGE_COLOR[color].hover),\n      );\n      showColor.validHover.fill = colorSplit(\n        CHANGE_COLOR[color].hover,\n        computeOpacity(fillOpacity, CHANGE_COLOR[color].hover) * FILL_OPACITY,\n      );\n\n      // 无效的比例是一样的\n      showColor.invalid.stroke = colorSplit(\n        showColor.invalid.stroke,\n        computeOpacity(borderOpacity, showColor.invalid.stroke),\n      );\n      showColor.invalid.fill = colorSplit(\n        showColor.invalid.stroke,\n        computeOpacity(fillOpacity, showColor.invalid.stroke) * FILL_OPACITY,\n      );\n      showColor.invalidSelected.stroke = colorSplit(\n        showColor.invalidSelected.stroke,\n        computeOpacity(borderOpacity, showColor.invalidSelected.stroke),\n      );\n      showColor.invalidSelected.fill = colorSplit(\n        showColor.invalidSelected.fill,\n        computeOpacity(fillOpacity, showColor.invalidSelected.fill) * FILL_OPACITY,\n      );\n      showColor.invalidHover.stroke = colorSplit(\n        showColor.invalidHover.stroke,\n        computeOpacity(borderOpacity, showColor.invalidHover.fill),\n      );\n      showColor.invalidHover.fill = colorSplit(\n        showColor.invalidHover.fill,\n        computeOpacity(fillOpacity, showColor.invalidHover.fill) * FILL_OPACITY,\n      );\n      toolColor[color] = showColor;\n    });\n    return toolColor;\n  }\n\n  public static getAttributeColors(borderOpacityParam = 9, fillOpacityParam = 9) {\n    const colorSplit = ToolStyleUtils.colorSplit;\n    const computeOpacity = ToolStyleUtils.computeOpacity;\n    const borderOpacity = BORDER_OPACITY_LEVEL[borderOpacityParam];\n    const fillOpacity = FILL_OPACITY_LEVEL[fillOpacityParam];\n\n    let AttributeColorList: string[] = _.cloneDeep(COLORS_ARRAY);\n    AttributeColorList.unshift(NULL_COLOR);\n    AttributeColorList = AttributeColorList.map((item) => {\n      const showColor = JSON.parse(JSON.stringify(DEFAULT_COLOR));\n      showColor.valid.stroke = colorSplit(item, computeOpacity(borderOpacity, item));\n      showColor.valid.fill = colorSplit(\n        item,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY * 0.5,\n      );\n      showColor.validSelected.stroke = colorSplit(item, computeOpacity(borderOpacity, item));\n      showColor.validSelected.fill = colorSplit(\n        item,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY,\n      );\n      showColor.validHover.stroke = colorSplit(item, computeOpacity(borderOpacity, item));\n      showColor.validHover.fill = colorSplit(\n        item,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY,\n      );\n      showColor.invalid.stroke = colorSplit(\n        showColor.invalid.stroke,\n        computeOpacity(borderOpacity, item),\n      );\n      showColor.invalid.fill = colorSplit(\n        showColor.invalid.fill,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY * 0.5,\n      );\n      showColor.invalidSelected.stroke = colorSplit(\n        showColor.invalidSelected.stroke,\n        computeOpacity(borderOpacity, item),\n      );\n      showColor.invalidSelected.fill = colorSplit(\n        showColor.invalidSelected.fill,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY,\n      );\n      showColor.invalidHover.stroke = colorSplit(\n        showColor.invalidHover.stroke,\n        computeOpacity(borderOpacity, item),\n      );\n      showColor.invalidHover.fill = colorSplit(\n        showColor.invalidHover.fill,\n        computeOpacity(fillOpacity, item) * FILL_OPACITY,\n      );\n      return showColor;\n    });\n    return AttributeColorList;\n  }\n\n  public static getDefaultToolLineColors() {\n    const toolColor: any = {};\n    Object.keys(CHANGE_COLOR).forEach((color: any) => {\n      toolColor[color] = CHANGE_COLOR[color].line;\n    });\n    return toolColor;\n  }\n\n  public static initByOpacity(borderOpacity: number, fillOpacity: number) {\n    return {\n      toolColor: this.getToolColors(borderOpacity, fillOpacity),\n      attributeColor: this.getAttributeColors(borderOpacity, fillOpacity),\n    };\n  }\n}\n","import React, { useEffect } from 'react';\nimport { i18n } from '@labelbee/lb-utils';\nimport { I18nextProvider } from 'react-i18next';\nimport { IVideoTagInstanceAdaptorProps, TagToolInstanceAdaptor } from './TagToolInstanceAdaptor';\n\n/**\n * I18n provider for InstanceAdaptorI18nProvider\n * @param props\n */\nexport const VideoTagTool = (props: IVideoTagInstanceAdaptorProps & { lang?: string }) => {\n  useEffect(() => {\n    i18n.changeLanguage(props.lang);\n  }, [props.lang]);\n\n  return (\n    <I18nextProvider i18n={i18n}>\n      <TagToolInstanceAdaptor {...props} />\n    </I18nextProvider>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/10.1785e6e3.jpg\";","export default __webpack_public_path__ + \"static/media/19.608ec5b7.jpg\";","export default __webpack_public_path__ + \"static/media/20.ad3945c2.jpg\";","export default __webpack_public_path__ + \"static/media/66.2fa781f1.jpg\";","export default __webpack_public_path__ + \"static/media/1.a322c710.pcd\";","export const pointCloudResult1 = JSON.stringify({\n  step_1: {\n    dataSourceStep: 0,\n    result: [\n      {\n        id: '00684b5d',\n        rotation: 0.02,\n        valid: true,\n        center: {\n          x: 73.57,\n          y: -3.99,\n          z: 2.25,\n        },\n        width: 4.28,\n        height: 1.91,\n        depth: 1.54,\n        trackID: 28,\n        attribute: '1',\n      },\n      {\n        id: '045b54cc',\n        rotation: 3.14,\n        valid: true,\n        center: {\n          x: 51.35,\n          y: 8.02,\n          z: 1.05,\n        },\n        width: 4.13,\n        height: 1.96,\n        depth: 1.5,\n        trackID: 24,\n        attribute: '1',\n      },\n      {\n        id: '0c42d57f',\n        rotation: 0.03,\n        valid: true,\n        center: {\n          x: 58.43,\n          y: 9.5,\n          z: 1.6,\n        },\n        width: 0.49,\n        height: 0.48,\n        depth: 1.61,\n        trackID: 43,\n        attribute: '2',\n      },\n      {\n        id: '169d029a',\n        rotation: 3.12,\n        valid: true,\n        center: {\n          x: 58.39,\n          y: 7.95,\n          z: 1.45,\n        },\n        width: 4.25,\n        height: 1.78,\n        depth: 1.63,\n        trackID: 31,\n        attribute: '1',\n      },\n      {\n        id: '18eedc63',\n        rotation: 3.12,\n        valid: true,\n        center: {\n          x: 52.36,\n          y: 3.41,\n          z: 1.58,\n        },\n        width: 4.16,\n        height: 1.85,\n        depth: 1.44,\n        trackID: 22,\n        attribute: '1',\n      },\n      {\n        id: '1f58834b',\n        rotation: 1.52,\n        valid: true,\n        center: {\n          x: 27.3,\n          y: 17.42,\n          z: 0.15,\n        },\n        width: 5.66,\n        height: 2.15,\n        depth: 2.06,\n        trackID: 16,\n        attribute: '1',\n      },\n      {\n        id: '34a40609',\n        rotation: 0.02,\n        valid: true,\n        center: {\n          x: 52.85,\n          y: 10.48,\n          z: 1.34,\n        },\n        width: 0.96,\n        height: 0.48,\n        depth: 1.76,\n        trackID: 41,\n        attribute: '2',\n      },\n      {\n        id: '36b62ec0',\n        rotation: 3.14,\n        valid: true,\n        center: {\n          x: 46.16,\n          y: 7.85,\n          z: 1.07,\n        },\n        width: 4.39,\n        height: 2.07,\n        depth: 1.52,\n        trackID: 23,\n        attribute: '1',\n      },\n      {\n        id: '385cccc3',\n        rotation: 6.24,\n        valid: true,\n        center: {\n          x: -30.16,\n          y: -3.38,\n          z: 0.72,\n        },\n        width: 4.08,\n        height: 1.84,\n        depth: 1.41,\n        trackID: 6,\n        attribute: '1',\n      },\n      {\n        id: '4588976e',\n        rotation: 3.16,\n        valid: true,\n        center: {\n          x: 44.71,\n          y: 3.49,\n          z: 1.36,\n        },\n        width: 4.12,\n        height: 1.88,\n        depth: 1.36,\n        trackID: 21,\n        attribute: '1',\n      },\n      {\n        id: '46874415',\n        rotation: 3.11,\n        valid: true,\n        center: {\n          x: 38.33,\n          y: 4.34,\n          z: 1.27,\n        },\n        width: 4.15,\n        height: 2.1,\n        depth: 1.53,\n        trackID: 20,\n        attribute: '1',\n      },\n      {\n        id: '4fd28eec',\n        rotation: 6.24,\n        valid: true,\n        center: {\n          x: -48.22,\n          y: -3.15,\n          z: 0.69,\n        },\n        width: 4.2,\n        height: 1.81,\n        depth: 1.33,\n        trackID: 9,\n        attribute: '1',\n      },\n      {\n        id: '64f5fabb',\n        rotation: 6.28,\n        valid: true,\n        center: {\n          x: -42.77,\n          y: -3.35,\n          z: 0.75,\n        },\n        width: 4.19,\n        height: 1.89,\n        depth: 1.38,\n        trackID: 8,\n        attribute: '1',\n      },\n      {\n        id: '659adc9e',\n        rotation: 0.02,\n        valid: true,\n        center: {\n          x: -54.4,\n          y: -3.08,\n          z: 0.7,\n        },\n        width: 4.08,\n        height: 1.85,\n        depth: 1.3,\n        trackID: 10,\n        attribute: '1',\n      },\n      {\n        id: '66c9e0af',\n        rotation: 1.57,\n        valid: true,\n        center: {\n          x: 27.48,\n          y: 23.71,\n          z: -0.22,\n        },\n        width: 5.31,\n        height: 2.16,\n        depth: 2.2,\n        trackID: 17,\n        attribute: '1',\n      },\n      {\n        id: '7262d63b',\n        rotation: 3.18,\n        valid: true,\n        center: {\n          x: 50.98,\n          y: -4.98,\n          z: 1.78,\n        },\n        width: 0.68,\n        height: 0.46,\n        depth: 1.67,\n        trackID: 40,\n        attribute: '2',\n      },\n      {\n        id: '76c51f8d',\n        rotation: 0.03,\n        valid: true,\n        center: {\n          x: -10.35,\n          y: -3.51,\n          z: 0.77,\n        },\n        width: 4.28,\n        height: 2.01,\n        depth: 1.7,\n        trackID: 3,\n        attribute: '1',\n      },\n      {\n        id: '7d52441c',\n        rotation: 0.57,\n        valid: true,\n        center: {\n          x: 12.89,\n          y: 14.21,\n          z: 0.22,\n        },\n        width: 0.55,\n        height: 0.74,\n        depth: 1.68,\n        trackID: 15,\n        attribute: '2',\n      },\n      {\n        id: '7f6d3f36',\n        rotation: 1.6,\n        valid: true,\n        center: {\n          x: 27.63,\n          y: 30.17,\n          z: -1.11,\n        },\n        width: 4.12,\n        height: 1.83,\n        depth: 1.52,\n        trackID: 18,\n        attribute: '1',\n      },\n      {\n        id: '8aa4aa46',\n        rotation: 6.21,\n        valid: true,\n        center: {\n          x: 51.59,\n          y: -4.06,\n          z: 1.78,\n        },\n        width: 0.72,\n        height: 0.9,\n        depth: 1.57,\n        trackID: 27,\n        attribute: '2',\n      },\n      {\n        id: '938c4493',\n        rotation: 1.98,\n        valid: true,\n        center: {\n          x: 2.92,\n          y: -2.01,\n          z: 0.82,\n        },\n        width: 0.68,\n        height: 0.7,\n        depth: 1.67,\n        trackID: 29,\n        attribute: '2',\n      },\n      {\n        id: '998e33e7',\n        rotation: 3.12,\n        valid: true,\n        center: {\n          x: 27.15,\n          y: 11.48,\n          z: 0.75,\n        },\n        width: 0.71,\n        height: 0.8,\n        depth: 1.6,\n        trackID: 30,\n        attribute: '2',\n      },\n      {\n        id: '9c34552c',\n        rotation: 3.18,\n        valid: true,\n        center: {\n          x: 75.39,\n          y: 7.33,\n          z: 2.22,\n        },\n        width: 4.32,\n        height: 2,\n        depth: 1.45,\n        trackID: 25,\n        attribute: '1',\n      },\n      {\n        id: 'a9138b37',\n        rotation: 0.02,\n        valid: true,\n        center: {\n          x: 48.32,\n          y: -4.3,\n          z: 1.97,\n        },\n        width: 0.45,\n        height: 0.76,\n        depth: 1.78,\n        trackID: 26,\n        attribute: '2',\n      },\n      {\n        id: 'b91823aa',\n        rotation: 0.06,\n        valid: true,\n        center: {\n          x: 0.87,\n          y: -3.12,\n          z: 0.91,\n        },\n        width: 4.91,\n        height: 2.15,\n        depth: 1.87,\n        trackID: 1,\n        attribute: '1',\n      },\n      {\n        id: 'bd701a17',\n        rotation: 1.55,\n        valid: true,\n        center: {\n          x: 23.36,\n          y: 29.96,\n          z: -1.34,\n        },\n        width: 4.27,\n        height: 1.98,\n        depth: 1.63,\n        trackID: 19,\n        attribute: '1',\n      },\n      {\n        id: 'c684f76c',\n        rotation: 4.69,\n        valid: true,\n        center: {\n          x: 11.94,\n          y: 0.14,\n          z: 0.96,\n        },\n        width: 1.1,\n        height: 0.59,\n        depth: 1.79,\n        trackID: 11,\n        attribute: '2',\n      },\n      {\n        id: 'c869c0b6',\n        rotation: 6.28,\n        valid: true,\n        center: {\n          x: -4.56,\n          y: -3.6,\n          z: 0.83,\n        },\n        width: 4.71,\n        height: 2.18,\n        depth: 1.69,\n        trackID: 2,\n        attribute: '1',\n      },\n      {\n        id: 'ca78a91d',\n        rotation: 6.27,\n        valid: true,\n        center: {\n          x: -17.56,\n          y: -3.59,\n          z: 0.69,\n        },\n        width: 4.37,\n        height: 1.92,\n        depth: 1.37,\n        trackID: 4,\n        attribute: '1',\n      },\n      {\n        id: 'cc201c28',\n        rotation: 6.24,\n        valid: true,\n        center: {\n          x: -35.81,\n          y: -3.2,\n          z: 0.7,\n        },\n        width: 4.14,\n        height: 1.82,\n        depth: 1.38,\n        trackID: 7,\n        attribute: '1',\n      },\n      {\n        id: 'dad7a81b',\n        rotation: 1.62,\n        valid: true,\n        center: {\n          x: 4.41,\n          y: -6.9,\n          z: 1.01,\n        },\n        width: 0.62,\n        height: 0.75,\n        depth: 1.75,\n        trackID: 13,\n        attribute: '2',\n      },\n      {\n        id: 'dc20211c',\n        rotation: 0.01,\n        valid: true,\n        center: {\n          x: -23.75,\n          y: -3.57,\n          z: 0.69,\n        },\n        width: 4.17,\n        height: 2.04,\n        depth: 1.39,\n        trackID: 5,\n        attribute: '1',\n      },\n      {\n        id: 'ee7ee126',\n        rotation: 2.49,\n        valid: true,\n        center: {\n          x: 37.24,\n          y: -7.72,\n          z: 1.85,\n        },\n        width: 0.45,\n        height: 0.57,\n        depth: 1.69,\n        trackID: 39,\n        attribute: '2',\n      },\n      {\n        id: 'f2a3902b',\n        rotation: 0.05,\n        valid: true,\n        center: {\n          x: 3.29,\n          y: -5.63,\n          z: 1,\n        },\n        width: 0.5,\n        height: 0.59,\n        depth: 1.93,\n        trackID: 12,\n        attribute: '2',\n      },\n      {\n        id: 'f54a0dea',\n        rotation: 1.58,\n        valid: true,\n        center: {\n          x: 23.37,\n          y: -13.49,\n          z: 2.09,\n        },\n        width: 4.17,\n        height: 1.86,\n        depth: 1.81,\n        trackID: 14,\n        attribute: '1',\n      },\n    ],\n    resultPolygon: [],\n    toolName: 'pointCloudTool',\n  },\n  valid: true,\n});\n","export default __webpack_public_path__ + \"static/media/2.fdb50962.pcd\";","export default __webpack_public_path__ + \"static/media/1.379e7e82.png\";","export default __webpack_public_path__ + \"static/media/2.8ce0bca2.png\";","import img1 from './images/10.jpg';\nimport img2 from './images/19.jpg';\nimport img3 from './images/20.jpg';\nimport img4 from './images/66.jpg';\nimport { pointCloudResult1 } from './pointCloud';\n\n// POINTCLOUD_DATA\nimport pcd1 from './pointCloud/lidar/1.pcd';\nimport pcd2 from './pointCloud/lidar/2.pcd';\nimport pointCloudImg1 from './pointCloud/image/P2/1.png';\nimport pointCloudImg2 from './pointCloud/image/P2/2.png';\nimport calib1 from './pointCloud/calib/P2/1.json';\nimport calib2 from './pointCloud/calib/P2/2.json';\n\n// const MOCK_URL = 'http://bee-sdk-demo.sensebee.xyz/images/';\n// export const fileList = ['10', '19', '20', '66'].map((i) => `${MOCK_URL}${i}.jpg`);\nexport const fileList = [img1, img2, img3, img4];\nexport const videoList = [\n  'http://127.0.0.1:8080/a.mp4',\n  'http://127.0.0.1:8080/d.mp4',\n  'http://127.0.0.1:8080/c.mp4',\n  'http://127.0.0.1:8080/e.mp4',\n];\n\nexport const pointCloudList = [pcd1, pcd2];\n\nexport const pointCloudMappingImgList = [\n  {\n    url: pointCloudImg1,\n    calib: calib1,\n  },\n  {\n    url: pointCloudImg2,\n    calib: calib2,\n  },\n];\n\nconst data = [];\n\nconst polygonData = [];\n// Array(1)\n//   .fill('')\n//   .map((v, i) => ({\n//     id: i + 1,\n//     sourceID: '',\n//     pointList: Array(1000)\n//       .fill('')\n//       .map((_) => ({\n//         x: Math.random() * 300,\n//         y: Math.random() * 400,\n//       })),\n//     order: i + 1,\n//     attribute: '',\n//     valid: true,\n//   }));\n\nexport const rectDefaultResult = JSON.stringify({\n  height: 200,\n  width: 100,\n  rotate: 0,\n  step_1: {\n    dataSource: 0,\n    tool: 'rectTool',\n    result: data,\n  },\n});\n\nexport const polygonDefaultResult = JSON.stringify({\n  height: 200,\n  width: 100,\n  rotate: 0,\n  step_1: {\n    dataSource: 0,\n    tool: 'polygonTool',\n    result: polygonData,\n  },\n});\n\nexport const tagDefaultResult = JSON.stringify({\n  height: 200,\n  width: 100,\n  rotate: 0,\n  step_1: {\n    dataSource: 0,\n    tool: 'tagTool',\n    result: [],\n  },\n});\n\nexport const videoTagDefaultResult = JSON.stringify({\n  step_1: {\n    dataSource: 0,\n    tool: 'videoTagTool',\n    result: [],\n  },\n});\n\nexport const pointCloudResult = pointCloudResult1;\n\nexport const getMockResult = (tool) => {\n  if (tool === 'rectTool') {\n    return rectDefaultResult;\n  }\n  if (tool === 'tagTool') {\n    return tagDefaultResult;\n  }\n\n  if (tool === 'polygonTool') {\n    return polygonDefaultResult;\n  }\n\n  if (tool === 'videoTagTool') {\n    return videoTagDefaultResult;\n  }\n\n  if (tool === 'pointCloudTool') {\n    return '{}';\n    // return pointCloudResult;\n  }\n\n  return '';\n};\n\nexport const mockFileList = [\n  {\n    id: 1,\n    url: 'http://bee-sdk-demo.sensebee.xyz/images/10.jpg',\n    result:\n      '{\"width\":720,\"height\":1280,\"valid\":true,\"rotate\":0,\"step_1\":{\"dataSourceStep\":0,\"toolName\":\"rectTool\",\"result\":[{\"x\":272.47863247863245,\"y\":397.4928774928775,\"width\":288.0911680911681,\"height\":346.4387464387464,\"attribute\":\"\",\"valid\":true,\"id\":\"AwL2kecs\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":1}]}}',\n  },\n  {\n    id: 2,\n    url: 'http://bee-sdk-demo.sensebee.xyz/images/19.jpg',\n    result:\n      '{\"width\":720,\"height\":1280,\"valid\":true,\"rotate\":0,\"step_1\":{\"dataSourceStep\":0,\"toolName\":\"rectTool\",\"result\":[{\"x\":137.54985754985753,\"y\":262.56410256410254,\"width\":492.30769230769226,\"height\":525.1282051282051,\"attribute\":\"\",\"valid\":true,\"id\":\"iCXb9Lat\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":1},{\"x\":133.9031339031339,\"y\":627.2364672364672,\"width\":357.3789173789174,\"height\":353.7321937321937,\"attribute\":\"\",\"valid\":true,\"id\":\"siLd255B\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":2},{\"x\":640.7977207977208,\"y\":1061.196581196581,\"width\":79.2022792022792,\"height\":200.56980056980055,\"attribute\":\"\",\"valid\":true,\"id\":\"udXxQJou\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":3}]}}',\n  },\n  {\n    id: 3,\n    url: 'http://bee-sdk-demo.sensebee.xyz/images/20.jpg',\n    result:\n      '{\"width\":720,\"height\":1280,\"valid\":true,\"rotate\":0,\"step_1\":{\"dataSourceStep\":0,\"toolName\":\"rectTool\",\"result\":[{\"x\":144.84330484330485,\"y\":506.8945868945869,\"width\":324.55840455840456,\"height\":368.3190883190883,\"attribute\":\"\",\"valid\":true,\"id\":\"NFN0vzGW\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":1},{\"x\":301.65242165242165,\"y\":328.2051282051282,\"width\":350.0854700854701,\"height\":386.5527065527065,\"attribute\":\"\",\"valid\":true,\"id\":\"t91AA81j\",\"sourceID\":\"\",\"textAttribute\":\"\",\"order\":2}]}}',\n  },\n  {\n    id: 4,\n    url: 'http://bee-sdk-demo.sensebee.xyz/images/66.jpg',\n    result:\n      '{\"width\":720,\"height\":1280,\"valid\":true,\"rotate\":0,\"step_1\":{\"dataSourceStep\":0,\"toolName\":\"rectTool\",\"result\":[]}}',\n  },\n];\n\nexport const DEFAULT_ANNOTATIONS = [\n  {\n    type: 'rect',\n    annotation: {\n      id: '123123',\n      x: 123,\n      y: 23,\n      width: 100,\n      height: 100,\n      stroke: 'pink',\n      // thickness: 10,\n      label: 'laoluo',\n      attribute: 'asdasd',\n      order: 1,\n      // hiddenText: true\n    },\n  },\n  {\n    type: 'polygon',\n    annotation: {\n      id: '3',\n      // thickness: 10,\n      stroke: 'green',\n      lineType: 1,\n      pointList: [\n        {\n          x: 12,\n          y: 123,\n        },\n        {\n          x: 122,\n          y: 123,\n        },\n        {\n          x: 2,\n          y: 3,\n        },\n      ],\n    },\n  },\n  {\n    type: 'line',\n    annotation: {\n      stroke: 'yellow',\n      thickness: 5,\n      id: '4',\n      pointList: [\n        {\n          x: 123,\n          y: 12,\n        },\n        {\n          x: 2,\n          y: 12,\n        },\n        {\n          x: 34,\n          y: 132,\n        },\n      ],\n    },\n  },\n  {\n    type: 'point',\n    annotation: {\n      id: '5',\n      x: 10,\n      y: 10,\n      fill: 'green',\n      stroke: 'blue',\n      thickness: '20',\n      radius: 10,\n    },\n  },\n  {\n    type: 'rect',\n    annotation: {\n      id: '10',\n      x: 13,\n      y: 3,\n      width: 1020,\n      height: 100,\n    },\n  },\n  {\n    type: 'text',\n    annotation: {\n      position: 'rt',\n      id: '11',\n      x: 223,\n      y: 23,\n      textMaxWidth: 416,\n      color: 'yellow',\n      text: '标签1: 测试1LoooooooooooooooooooooooooooooooooogLoooooooooooooooooooooooooooooooooogLoooooooooooooooooooooooooooooooooogLoooooooooooooooooooooooooooooooooogLoooooooooooooooooooooooooooooooooog\\n标签2: 测试2sdasdas\\n\\n\\n标签1: 测试1asdasdasd\\n标签2: 测试2标签1: 测试1\\n标签2: 测试2sdasdas\\n标签1: 测试1asdasdasd\\n标签2: 测试2标签1: 测试1\\n标签2: 测试2sdasdas\\n标签1: 测试1asdasdasd\\n标签2: 测试2标签1: 测试1\\n标签2: 测试2sdasdas\\n标签1: 测试1asdasdasd\\n标签2: 测试2标签1: 测试1\\n标签2: 测试2sdasdas\\n标签1: 测试1asdasdasd\\n标签2: 测试2标签1: 测试1\\n标签2: 测试2sdasdas\\n标签1: 测试1asdasdasd\\n标签2: 测试2',\n    },\n  },\n  {\n    type: 'text',\n    annotation: {\n      id: '12',\n      x: 12,\n      y: 123,\n      textMaxWidth: 500,\n      lineHeight: 25,\n      text: 'Key: Loooooooooooooooooooooooooooooooooog value\\nSecond One: short value',\n    },\n  },\n  {\n    type: 'rect',\n    annotation: {\n      id: 'g5r2l7mcrv8',\n      x: 60,\n      y: 260,\n      width: 100,\n      height: 100,\n      stroke: 'pink',\n      name: 'Bag',\n      hiddenRectSize: true,\n      renderEnhance: (params) => {\n        const {\n          ctx,\n          data: { annotation },\n          zoom,\n          currentPos,\n        } = params;\n\n        ctx.fillStyle = annotation.stroke;\n\n        ctx.fillRect(\n          annotation.x * zoom + currentPos.x - 2,\n          annotation.y * zoom + currentPos.y - 20 * zoom,\n          40 * zoom,\n          20 * zoom,\n        );\n        ctx.strokeStyle = 'white';\n        ctx.strokeText(\n          annotation.name,\n          annotation.x * zoom + currentPos.x + 6 * zoom,\n          annotation.y * zoom + currentPos.y - 7 * zoom,\n        );\n      },\n    },\n  },\n];\n","import React, { useEffect, useRef } from 'react';\nimport AnnotationOperation from '@labelbee/lb-components';\nimport '@labelbee/lb-components/dist/index.css';\n// import { DrawUtils } from '@labelbee/lb-annotation';\nimport { fileList as urlList } from '../../mock';\nimport { message } from 'antd';\n\n// Type definition.\n// type TRunPrediction = (params: {\n//   point: ICoordinate;\n//   rect: { x: number; y: number; w: number; h: number };\n// }) => Promise<unknown>;\n\nconst Annotation = (props) => {\n  const ref = useRef();\n  const { fileList, goBack, stepList, step } = props;\n\n  // const exportData = (data) => {\n  //   console.log('exportData', data);\n  // };\n\n  useEffect(() => {\n    setTimeout(() => {\n      if (ref.current?.annotationEngine) {\n        const { annotationEngine } = ref.current;\n        const firstToolInstance = annotationEngine.firstToolInstance;\n        firstToolInstance?.setRunPrediction?.((data) => {\n          // data: TRunPrediction\n          return new Promise((resolve) => {\n            // 模拟异步的操作\n            setTimeout(() => {\n              // 关键，需要返回成功\n              resolve('');\n              message.success('Predict successfully');\n\n              // 返回的原来的工具\n              annotationEngine.switchLastTwoCanvas();\n            }, 1000);\n          });\n        });\n      }\n    });\n  }, []);\n\n  const onSubmit = (data) => {\n    // 翻页时触发当前页面数据的输出\n    console.log('submitData', data);\n  };\n\n  const onSave = (data, imgList, index) => {\n    console.log('save', data, imgList, index);\n  };\n\n  const dataInjectionAtCreation = (data) => {\n    return {\n      testDataInjection: 1,\n    };\n  };\n\n  const loadFileList = (page, pageSize) => {\n    return new Promise((resolve) => {\n      const fileList = [];\n      const total = 105;\n      for (let i = 0; i < pageSize; i++) {\n        if (page * pageSize + i >= total) {\n          break;\n        }\n        fileList.push({\n          id: Number(`${page}${i}`),\n          result: '',\n          url: urlList[i % urlList.length],\n        });\n      }\n      console.log('loadFileList', fileList);\n      setTimeout(() => {\n        resolve({ fileList, total });\n      }, 500);\n    });\n  };\n\n  // const renderEnhance = {\n  //   staticRender: (canvas, rect, style) => {\n  //     DrawUtils.drawRectWithFill(canvas, rect, { color: style.fillColor });\n  //   },\n  //   selectedRender: (canvas, rect, style) => {\n  //     DrawUtils.drawText(canvas, { x: rect.x, y: rect.y - 10 }, 'asdasdsa', { color: style.textColor });\n  //     DrawUtils.drawRectWithFill(canvas, rect, { color: 'blue' });\n  //   },\n  //   creatingRender: (canvas, rect, style) => {\n  //     console.log('style3', style);\n\n  //     DrawUtils.drawText(canvas, { x: rect.x, y: rect.y - 10 }, 'asdasdsa', { color: 'red' });\n  //     DrawUtils.drawRectWithFill(canvas, rect, { color: 'green' });\n  //   },\n  // };\n\n  return (\n    <div>\n      <AnnotationOperation\n        // exportData={exportData}\n        ref={ref}\n        headerName='测试各类工具'\n        onSubmit={onSubmit}\n        imgList={fileList}\n        pageSize={10}\n        // loadFileList={loadFileList}\n        goBack={goBack}\n        stepList={stepList}\n        step={step}\n        onSave={onSave}\n        dataInjectionAtCreation={dataInjectionAtCreation}\n        // renderEnhance={renderEnhance}\n      />\n    </div>\n  );\n};\nexport default Annotation;\n","import { cTool } from '@labelbee/lb-annotation';\nconst { EVideoToolName, EToolName, EPointCloudName } = cTool;\n\nconst rectToolConfig = {\n  showConfirm: false,\n  skipWhileNoDependencies: false,\n  drawOutsideTarget: false,\n  copyBackwardResult: true,\n  minWidth: 1,\n  minHeight: 1,\n  isShowOrder: true,\n  filterData: ['valid', 'invalid'],\n  attributeConfigurable: true,\n  attributeList: [\n    { key: '玩偶', value: 'doll' },\n    { key: '喷壶', value: 'wateringCan' },\n    { key: '脸盆', value: 'washbasin' },\n    { key: '保温杯', value: 'vacuumCup' },\n    { key: '纸巾', value: 'tissue' },\n    { key: '水壶', value: 'kettle' },\n  ],\n  textConfigurable: true,\n  textCheckType: 0,\n  customFormat: '',\n};\n\nconst scribbleToolConfig = {\n  attributeList: [\n    { key: '类别1', value: '类别1', color: 'rgba(128, 12, 249, 1)' },\n    { key: '类别bm', value: 'class-bm', color: 'rgba(0, 255, 48, 1)' },\n    { key: '类别eg', value: 'class-eg', color: 'rgba(255, 136, 247, 1)' },\n    { key: '类别vj', value: 'class-vj', color: 'rgba(255, 226, 50, 1)' },\n    { key: '类别0x', value: 'class-0x', color: 'rgba(153, 66, 23, 1)' },\n    { key: '类别GR', value: 'class-GR', color: 'rgba(2, 130, 250, 1)' },\n    { key: '类别2c', value: 'class-2c', color: 'rgba(220,94,94,1)' },\n    { key: '类别Bj', value: 'class-Bj', color: 'rgba(0, 255, 234, 1)' },\n  ],\n  showConfirm: true,\n  showDirection: false,\n  skipWhileNoDependencies: false,\n};\nconst tagToolConfig = {\n  showConfirm: true,\n  skipWhileNoDependencies: false,\n  inputList: [\n    {\n      key: '类别1',\n      value: 'class1',\n      isMulti: false,\n      subSelected: [\n        { key: '选项1', value: 'option1', isDefault: true },\n        { key: '选项2', value: 'option1-2', isDefault: false },\n      ],\n    },\n    {\n      key: '类别2',\n      value: 'class-AH',\n      isMulti: true,\n      subSelected: [\n        { key: '选项2-1', value: 'option2-1', isDefault: true },\n        { key: '选项2-2', value: 'option2-2', isDefault: true },\n        { key: '选项2-3', value: 'option2-3', isDefault: false },\n      ],\n    },\n    {\n      key: '类别3',\n      value: 'class-0P',\n      isMulti: false,\n      subSelected: [\n        { key: '选项3-1', value: 'option3-1', isDefault: false },\n        { key: '选项3-2', value: 'option3-2', isDefault: false },\n        { key: '选项3-3', value: 'option3-3', isDefault: false },\n      ],\n    },\n    {\n      key: '类别4',\n      value: 'class-4',\n      isMulti: true,\n      subSelected: [\n        { key: '选项2-1', value: 'option2-1', isDefault: false },\n        { key: '选项2-2', value: 'option2-2', isDefault: false },\n        { key: '选项2-3', value: 'option2-3', isDefault: false },\n      ],\n    },\n  ],\n};\n\nconst lineToolConfig = {\n  lineType: 0,\n  lineColor: 0,\n  edgeAdsorption: true,\n  outOfTarget: true,\n  copyBackwardResult: true,\n  isShowOrder: true,\n  attributeConfigurable: true,\n  attributeList: [\n    { key: '类别1', value: '类别1' },\n    { key: '类别ao', value: 'class-ao' },\n    { key: '类别M1', value: 'class-M1' },\n    { key: '类别Cm', value: 'class-Cm' },\n    { key: '类别c3', value: 'class-c3' },\n    { key: '类别a0', value: 'class-a0' },\n    { key: '类别u7', value: 'class-u7' },\n    { key: '类别Zb', value: 'class-Zb' },\n    { key: '类别zi', value: 'class-zi' },\n  ],\n  textConfigurable: true,\n  textCheckType: 2,\n  customFormat: '',\n  showConfirm: true,\n  lowerLimitPointNum: 2,\n  upperLimitPointNum: '',\n  preReferenceStep: 0,\n  skipWhileNoDependencies: false,\n  filterData: ['valid', 'invalid'],\n};\n\nconst textToolConfig = {\n  showConfirm: false,\n  skipWhileNoDependencies: false,\n  enableTextRecognition: false,\n  recognitionMode: 'general',\n  configList: [\n    { label: '文本', key: 'text', required: false, default: 'default1', maxLength: 1000 },\n    { label: '文本2', key: 'text2', required: true, default: 'default2', maxLength: 1000 },\n    { label: '文本3', key: 'text3', required: true, default: 'default3', maxLength: 1000 },\n  ],\n  filterData: ['valid', 'invalid'],\n};\n\nconst polygonConfig = {\n  lineType: 0,\n  lineColor: 0,\n  edgeAdsorption: true,\n  drawOutsideTarget: false,\n  copyBackwardResult: false,\n  isShowOrder: false,\n  attributeConfigurable: true,\n  attributeList: [\n    { key: '玩偶', value: 'doll' },\n    { key: '喷壶', value: 'wateringCan' },\n    { key: '脸盆', value: 'washbasin' },\n    { key: '保温杯', value: 'vacuumCup' },\n    { key: '纸巾', value: 'tissue' },\n    { key: '水壶', value: 'kettle' },\n  ],\n  textConfigurable: true,\n  textCheckType: 0,\n  customFormat: '',\n};\n\nconst pointCloudConfig = {\n  // 主属性\n  attributeList: [\n    {\n      key: '类别1',\n      value: 'class-1',\n    },\n    {\n      key: '类别Iq',\n      value: 'class-Iq',\n    },\n  ],\n  // 标注半径范围\n  radius: 90,\n  // 副属性配置开关\n  secondaryAttributeConfigurable: true,\n  // 副属性\n  inputList: [\n    {\n      key: '类别1',\n      value: 'class1',\n      subSelected: [\n        { key: '选项1-1', value: 'option1' },\n        { key: '选项1-2', value: 'option2' },\n      ],\n    },\n    {\n      key: '类别v0',\n      value: 'class-v0',\n      subSelected: [\n        { key: '选项2-1', value: 'option2-1' },\n        { key: '选项2-2', value: 'option2-2' },\n        { key: '选项2-3', value: 'option2-3' },\n      ],\n    },\n    {\n      key: '类别Rt',\n      value: 'class-Rt',\n      subSelected: [{ key: '选项3-1', value: 'option3-1' }],\n    },\n  ],\n  // 框内点数下限\n  lowerLimitPointsNumInBox: 5,\n};\n\nexport const getConfig = (tool) => {\n  if (tool === EToolName.Line) {\n    return lineToolConfig;\n  }\n\n  if (tool === EToolName.Rect) {\n    return rectToolConfig;\n  }\n\n  if (tool === EToolName.Tag) {\n    return tagToolConfig;\n  }\n\n  if (tool === EToolName.Text) {\n    return textToolConfig;\n  }\n\n  if (tool === EToolName.Polygon) {\n    return polygonConfig;\n  }\n\n  if (tool === EVideoToolName.VideoTagTool) {\n    return tagToolConfig;\n  }\n\n  if (tool === EPointCloudName.PointCloud) {\n    return pointCloudConfig;\n  }\n\n  if (tool === EToolName.ScribbleTool) {\n    return scribbleToolConfig;\n  }\n\n  return rectToolConfig;\n};\n\nexport const getStepList = (tool, sourceStep, step) => {\n  return [getStepConfig(tool)];\n};\n\nconst getStepConfig = (tool, step, sourceStep) => {\n  let toolList = tool ?? EToolName.Rect;\n  let toolName = tool;\n\n  const splitChar = ' ';\n  if (toolList.indexOf(splitChar) > -1) {\n    toolList = tool.split(splitChar);\n    toolName = toolList[toolList.length - 1];\n  }\n\n  return {\n    step: step ?? 1,\n    dataSourceStep: sourceStep || 0,\n    tool: toolList,\n    config: JSON.stringify(getConfig(toolName)),\n  };\n};\n\nexport const getDependStepList = (toolsArray) =>\n  toolsArray.map((tool, index) => getStepConfig(tool, index + 1, index));\n","/*\n * @Author: Laoluo luozefeng@sensetime.com\n * @Date: 2022-06-08 21:17:07\n * @LastEditors: Laoluo luozefeng@sensetime.com\n * @LastEditTime: 2022-06-13 19:34:53\n */\nimport { AnnotationView, PointCloudAnnotationView } from '@labelbee/lb-components';\nimport StepUtils from '@labelbee/lb-components/dist/utils/StepUtils';\nimport 'antd/dist/antd.css';\nimport qs from 'qs';\nimport React, { useState } from 'react';\nimport './App.css';\nimport Annotation from './components/Annotation';\nimport { DEFAULT_ANNOTATIONS } from './mock';\nimport {\n  fileList as mockFileList,\n  getMockResult,\n  pointCloudList,\n  pointCloudMappingImgList,\n  videoList,\n} from './mock/index';\nimport { getDependStepList, getStepList } from './mock/taskConfig';\n\nconst App = () => {\n  const tool = qs.parse(window.location.search, { ignoreQueryPrefix: true, comma: true }).tool;\n\n  const isSingleTool = !Array.isArray(tool);\n  const stepList = isSingleTool ? getStepList(tool) : getDependStepList(tool);\n  const currentIsVideo = StepUtils.currentToolIsVideo(1, stepList);\n  const currentIsPointCloud = StepUtils.currentToolIsPointCloud(1, stepList);\n  const getMockList = () => {\n    let srcList = mockFileList;\n\n    const extraData = {};\n\n    if (currentIsVideo) {\n      srcList = videoList;\n    }\n\n    if (currentIsPointCloud) {\n      srcList = pointCloudList;\n      Object.assign(extraData, {\n        mappingImgList: pointCloudMappingImgList,\n      });\n    }\n\n    return srcList.map((url, i) => ({\n      ...extraData,\n      id: i + 1,\n      url,\n      result: isSingleTool ? getMockResult(tool) : '',\n    }));\n  };\n\n  const [fileList] = useState(getMockList());\n\n  const [data, setData] = useState(DEFAULT_ANNOTATIONS);\n\n  const onChange = (type, ids) => {\n    if (type === 'hover') {\n      setData((pre) => {\n        return pre.map((item) => {\n          if (item.annotation.id === 'g5r2l7mcrv8') {\n            const { annotation } = item;\n            return {\n              ...item,\n              annotation: {\n                ...annotation,\n                hiddenRectSize: !ids.includes('g5r2l7mcrv8'),\n              },\n            };\n          }\n          return item;\n        });\n      });\n    }\n  };\n\n  // 参看工具的展示\n  if (tool === 'annotationView') {\n    return (\n      <div>\n        <div style={{ height: 1000 }}>\n          <AnnotationView\n            src='https://cdn.nba.com/manage/2020/10/andre-iguodala-iso-smile-0520-784x588.jpg'\n            annotations={data}\n            style={{\n              stroke: 'blue',\n              thickness: 3,\n            }}\n            onChange={onChange}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  if (tool === 'PointCloudAnnotationView') {\n    return (\n      <PointCloudAnnotationView\n        src='http://10.152.32.16:8080/top_center_lidar/2022-02-20-12-21-03-100.pcd'\n        size={{\n          height: 1080,\n          width: 1000,\n        }}\n        // result={'{}'}\n        // result={pointCloudResult1}\n      />\n    );\n  }\n\n  const goBack = (data) => {\n    console.log('goBack', data);\n  };\n\n  if (fileList.length > 0) {\n    return <Annotation fileList={fileList} goBack={goBack} stepList={stepList} step={1} />;\n  }\n\n  return <div className='App'></div>;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />\n  // </React.StrictMode>,\n  ,\n  document.getElementById('root'),\n);"],"sourceRoot":""}