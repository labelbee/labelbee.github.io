(this["webpackJsonplb-demo"]=this["webpackJsonplb-demo"]||[]).push([[0],Array(40).concat([function(e,t,i){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(i(46));t.classnames=function(e){if(Array.isArray(e))return e.join(" ");if(a.default.isObject(e)){var t=[];return Object.keys(e).forEach((function(i){e[i]&&t.push(i)})),t.join(" ")}return""},t.getNewNode=function(e,t){return e||a.default.isNull(e)?e:t},t.jsonParser=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return"string"===typeof e?JSON.parse(e):a.default.isObject(e)?e:t}catch(i){return t}}},function(e,t,i){"use strict";var n,a;Object.defineProperty(t,"__esModule",{value:!0}),t.EStepType=void 0,(n=t.EStepType||(t.EStepType={}))[n.Check=0]="Check",n[n.ANNOTATION=1]="ANNOTATION",n[n.QUALITY_INSPECTION=2]="QUALITY_INSPECTION",n[n.PRE_ANNOTATION=3]="PRE_ANNOTATION",n[n.MANUAL_CORRECTION=4]="MANUAL_CORRECTION",t.ESubmitType=void 0,(a=t.ESubmitType||(t.ESubmitType={}))[a.Backward=1]="Backward",a[a.Forward=2]="Forward",a[a.Jump=3]="Jump",a[a.Quit=4]="Quit",a[a.Export=5]="Export",a[a.StepChanged=6]="StepChanged",a[a.Save=7]="Save";var c="".concat("bee","-component");t.componentCls=c,t.prefix="bee"},function(e,t,i){"use strict";var n=i(22),a=i(34);Object.defineProperty(t,"__esModule",{value:!0});var c=i(0),r=i(23),o=i(227),s=i(329),l=i(47),d=i(105),u=i(28),h=i(436);function f(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var g=f(c),v=Object.defineProperty,b=Object.defineProperties,p=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,w=function(e,t,i){return t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},k=o(),L=g.default.forwardRef((function(e,t){var i,o=c.useState(),h=n(o,2),f=h[0],v=h[1];return c.useImperativeHandle(t,(function(){return{toolInstance:f,pageBackwardActions:function(){return k.dispatch(l.PageBackward())},pageForwardActions:function(){return k.dispatch(l.PageForward())},pageJump:function(e){var t=~~e-1;k.dispatch(l.PageJump(t))},hello:function(){return alert("hello labelBee!!!")}}}),[f]),g.default.createElement(r.Provider,{store:k},g.default.createElement(u.I18nextProvider,{i18n:d.i18n},g.default.createElement(s,(i=function(e,t){for(var i in t||(t={}))y.call(t,i)&&w(e,i,t[i]);if(m){var n,c=a(m(t));try{for(c.s();!(n=c.n()).done;)i=n.value,x.call(t,i)&&w(e,i,t[i])}catch(r){c.e(r)}finally{c.f()}}return e}({},e),b(i,p({setToolInstance:v}))))))}));Object.defineProperty(t,"i18n",{enumerable:!0,get:function(){return d.i18n}}),t.AnnotationView=h,t.default=L,t.store=k},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(65),a=i(150),c=i(41),r=i(153),o=i(240),s=i(40),l=function(e){return e===r.EPageTurningOperation.Forward?c.ESubmitType.Forward:e===r.EPageTurningOperation.Backward?c.ESubmitType.Backward:e===r.EPageTurningOperation.Jump?c.ESubmitType.Jump:c.ESubmitType.Forward},d=function(e,t){var i,n,c=e.imgList,r=e.imgIndex,o=a.getStepConfig(e.stepList,e.step).dataSourceStep;return(null==(n=null==(i=s.jsonParser(c[r-1].result)["step_".concat(o)])?void 0:i.result)?void 0:n.length)-1||t};function u(e){return{type:n.ANNOTATION_ACTIONS.UPDATE_IMG_LIST,payload:{imgList:e}}}function h(e){var t=e.stepList,i=e.step;return{type:n.ANNOTATION_ACTIONS.SET_TASK_CONFIG,payload:{stepList:t,step:i}}}function f(e){return{type:n.ANNOTATION_ACTIONS.UPDATE_ON_SUBMIT,payload:{onSubmit:e}}}function g(e){return{type:n.ANNOTATION_ACTIONS.UPDATE_ON_SAVE,payload:{onSave:e}}}function v(e){return{type:n.ANNOTATION_ACTIONS.UPDATE_GET_FILE_DATA,payload:{getFileData:e}}}var b=function(e,t){return function(i,r){var o,s,l,d=null!=(l=null==(s=null==(o=r())?void 0:o.annotation)?void 0:s.imgIndex)?l:0;return[i({type:n.ANNOTATION_ACTIONS.SUBMIT_RESULT}),i({type:n.ANNOTATION_ACTIONS.SUBMIT_FILE_DATA,payload:{submitType:c.ESubmitType.StepChanged}}),i({type:n.ANNOTATION_ACTIONS.SET_STEP,payload:{toStep:e}}),i({type:n.ANNOTATION_ACTIONS.CALC_STEP_PROGRESS}),i(a.LoadImageAndFileData(null!=t?t:d,0))]}},p=function(e){return function(t){return[t({type:n.ANNOTATION_ACTIONS.SUBMIT_RESULT}),t({type:n.ANNOTATION_ACTIONS.SUBMIT_FILE_DATA,payload:{submitType:e}})]}},m=function(e,t,i,n){return[e(p(i)),e(a.LoadImageAndFileData(t,n))]},y=function(e,t){return[e({type:n.ANNOTATION_ACTIONS.SUBMIT_RESULT}),e({type:n.ANNOTATION_ACTIONS.SET_BASIC_INDEX,payload:{basicIndex:t}})]},x=function(e,t){e({type:n.ANNOTATION_ACTIONS.SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED,payload:{triggerEventAfterIndexChanged:t}})},w=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,r=t().annotation,s=o.getNextPageInfo(i,r,a),u=s.fileIndexChanged,h=s.fileIndex,f=s.basicIndexChanged,g=s.basicIndex,v=l(i);if(x(e,n),u){var b=v===c.ESubmitType.Backward?d(r,g):g;return m(e,h,v,b)}return f?y(e,g):e(p(v))};t.ChangeSave=function(e){e(p(c.ESubmitType.Save)),e({type:n.ANNOTATION_ACTIONS.SAVE_RESULT})},t.CopyBackWordResult=function(){return{type:n.ANNOTATION_ACTIONS.COPY_BACKWARD_RESULT}},t.DispatcherTurning=w,t.InitTaskData=function(e){var t=e.onSubmit,i=e.onSave,c=e.getFileData,r=e.imgList,o=e.step,s=e.stepList,l=e.initialIndex,d=[];return t&&d.push(f(t)),i&&d.push(g(i)),c&&d.push(v(c)),d.push(u(r)),d.push(h({stepList:s,step:o})),d.push({type:n.ANNOTATION_ACTIONS.CALC_STEP_PROGRESS}),d.push({type:n.ANNOTATION_ACTIONS.INIT_TOOL}),d.push(a.LoadImageAndFileData(l)),function(e){return function(e,t){return t.map((function(t){return e(t)}))}(e,d)}},t.PageBackward=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,i){return w(t,i,r.EPageTurningOperation.Backward,e)}},t.PageForward=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,i){return w(t,i,r.EPageTurningOperation.Forward,e)}},t.PageJump=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i,n){if(e!==n().imgIndex)return w(i,n,r.EPageTurningOperation.Jump,t,e)}},t.SetAnnotationLoading=function(e,t){e({type:n.ANNOTATION_ACTIONS.SET_LOADING,payload:{loading:t}})},t.SetTaskConfig=h,t.ToNextStep=function(e){return function(t,i){var n=i().annotation.step;return[t(b(n+1,e))]}},t.ToSubmitFileData=p,t.UpdateGetFileData=v,t.UpdateImgList=u,t.UpdateOnSave=g,t.UpdateOnSubmit=f,t.UpdateProcessingStep=b,t.UpdateRotate=function(){return{type:n.ANNOTATION_ACTIONS.UPDATE_ROTATE}}},,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ANNOTATION_ACTIONS={UPDATE_TOOL_INSTANCE:"@@UPDATE_TOOL_INSTANCE",UPDATE_IMG_LIST:"@@UPDATE_IMG_LIST",UPDATE_ANNOTATION_CONFIG:"@@UPDATE_ANNOTATION_CONFIG",LOAD_FILE_DATA:"@@LOAD_FILE_DATA",SUBMIT_FILE_DATA:"@@SUBMIT_FILE_DATA",SET_TASK_CONFIG:"@@SET_TASK_CONFIG",INIT_TOOL:"@@INIT_TOOL",UPDATE_ON_SUBMIT:"@@UPDATE_ON_SUBMIT",UPDATE_ON_SAVE:"@@UPDATE_ON_SAVE",UPDATE_ROTATE:"@@UPDATE_ROTATE",UPDATE_GET_FILE_DATA:"@@UPDATE_GET_FILE_DATA",GET_FILE_DATA:"@@GET_FILE_DATA",SET_FILE_DATA:"@@SET_FILE_DATA",COPY_BACKWARD_RESULT:"@@COPY_BACKWARD_RESULT",SET_STEP:"@@SET_STEP",SUBMIT_RESULT:"@@SUBMIT_RESULT",SAVE_RESULT:"@@SAVE_RESULT",SET_BASIC_INDEX:"@@SET_BASIC_INDEX",CALC_STEP_PROGRESS:"@@CALC_STEP_PROGRESS",SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED:"@@SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED",SET_LOADING:"@@SET_LOADING"},t.IMAGE_ATTRIBUTE_ACTIONS={UPDATE_IMG_ATTRIBUTE:"@@UPDATE_IMG_ATTRIBUTE",INIT_IMG_ATTRIBUTE:"@@INIT_IMG_ATTRIBUTE"},t.TOOL_STYLE_ACTIONS={INIT_TOOL_STYLE_CONFIG:"@@INIT_TOOL_STYLE_CONFIG",UPDATE_TOOL_STYLE_CONFIG:"@@UPDATE_TOOL_STYLE_CONFIG"}},function(e,t,i){"use strict";var n=i(71),a=i(72),c=i(41),r=function(){function e(){n(this,e)}return a(e,null,[{key:"getCurrentStepInfo",value:function(e,t){var i=this.getStepInfo(e,t);return[c.EStepType.QUALITY_INSPECTION,c.EStepType.MANUAL_CORRECTION].includes(null==i?void 0:i.type)?this.getStepInfo(i.dataSourceStep,t):i}},{key:"getStepInfo",value:function(e,t){return null==t?void 0:t.filter((function(t){return t.step===e}))[0]}}]),e}();e.exports=r},function(e,t,i){"use strict";i.r(t),i.d(t,"AnnotationEngine",(function(){return Ca})),i.d(t,"AxisUtils",(function(){return Un})),i.d(t,"BasicToolOperation",(function(){return Li})),i.d(t,"CommonToolUtils",(function(){return Pn})),i.d(t,"DblClickEventListener",(function(){return Vt})),i.d(t,"DrawUtils",(function(){return Rt})),i.d(t,"ImgUtils",(function(){return ka})),i.d(t,"LineToolOperation",(function(){return sn})),i.d(t,"MarkerUtils",(function(){return Wn})),i.d(t,"MeasureOperation",(function(){return da})),i.d(t,"PointOperation",(function(){return yn})),i.d(t,"PolygonOperation",(function(){return Ki})),i.d(t,"RectOperation",(function(){return ta})),i.d(t,"RectUtils",(function(){return Qe})),i.d(t,"TagOperation",(function(){return Yi})),i.d(t,"TagUtils",(function(){return st})),i.d(t,"TextToolOperation",(function(){return xn})),i.d(t,"ViewOperation",(function(){return xa})),i.d(t,"cAnnotation",(function(){return Fe})),i.d(t,"cAnnotationTask",(function(){return wa})),i.d(t,"cKeyCode",(function(){return Zt})),i.d(t,"cStyle",(function(){return pt})),i.d(t,"cTool",(function(){return he})),i.d(t,"toolUtils",(function(){return Ia})),i.d(t,"uuid",(function(){return $e}));var n,a,c,r,o,s,l,d,u,h,f,g,v,b,p,m,y=i(12),x=i(11),w=i(86),k=i.n(w),L=i(13),C=i(45),I=i(44),O=i(166),T=i(16),A=i(17),S=i(33),P=i(14),E=i(31),D=i(10),_=i(21),R=i.n(_),N=i(167),M=i.n(N);(l||(l={})).PointCloud="pointCloudTool",(u=d||(d={})).VideoTextTool="videoTextTool",u.VideoTagTool="videoTagTool",u.VideoClipTool="videoClipTool",(f=h||(h={}))[f.Rect=0]="Rect",f[f.Tag=1]="Tag",(v=g||(g={})).Rect="rectTool",v.Tag="tagTool",v.Point="pointTool",v.PointMarker="pointMarkerTool",v.Segmentation="segmentationTool",v.Filter="filterTool",v.Text="textTool",v.Polygon="polygonTool",v.Line="lineTool",v.LineMarker="lineMarkerTool",v.Empty="emptyTool",v.FolderTag="folderTagTool",v.RectTrack="rectTrackTool",v.Face="faceTool",v.ClientAttribute="clientAttributeTool",v.OCRRelation="OCRRelationTool",(b||(b={})).Check="check",(m=p||(p={}))[m.nothing=0]="nothing",m[m.RectBG=1]="RectBG",m[m.showOrder=2]="showOrder";var j,H,Z,B,V=(n={},Object(D.a)(n,g.Rect,"\u62c9\u6846"),Object(D.a)(n,g.Tag,"\u6807\u7b7e"),Object(D.a)(n,g.Point,"\u6807\u70b9"),Object(D.a)(n,g.PointMarker,"\u5217\u8868\u6807\u70b9"),Object(D.a)(n,g.Segmentation,"\u524d\u666f\u5206\u5272"),Object(D.a)(n,g.Filter,"\u7b5b\u9009"),Object(D.a)(n,g.Text,"\u6587\u672c"),Object(D.a)(n,g.Polygon,"\u591a\u8fb9\u5f62"),Object(D.a)(n,g.Line,"\u7ebf\u6761"),Object(D.a)(n,g.LineMarker,"\u5217\u8868\u7ebf\u6761"),Object(D.a)(n,g.FolderTag,"\u6587\u4ef6\u5939\u6807\u7b7e"),Object(D.a)(n,g.RectTrack,"\u62c9\u6846\u8ddf\u8e2a"),Object(D.a)(n,g.Face,"\u4eba\u8138106\u5de5\u5177"),Object(D.a)(n,g.ClientAttribute,"\u5ba2\u6237\u7aef\u5c5e\u6027\u5de5\u5177"),Object(D.a)(n,g.OCRRelation,"OCR\u5173\u8054\u5173\u7cfb\u5de5\u5177"),Object(D.a)(n,d.VideoTextTool,"\u89c6\u9891\u6587\u672c"),Object(D.a)(n,d.VideoTagTool,"\u89c6\u9891\u6807\u7b7e"),Object(D.a)(n,d.VideoClipTool,"\u89c6\u9891\u622a\u53d6"),Object(D.a)(n,l.PointCloud,"\u70b9\u4e91"),n);(H=j||(j={}))[H.noDepend=1]="noDepend",H[H.dependOrigin=2]="dependOrigin",H[H.dependShape=3]="dependShape",H[H.dependLine=4]="dependLine",H[H.dependPolygon=5]="dependPolygon",H[H.dependPreShape=101]="dependPreShape",H[H.dependPreLine=102]="dependPreLine",H[H.dependPrePolygon=103]="dependPrePolygon",(B=Z||(Z={})).lc="leftClick",B.rc="rightClick",B.clc="ctrlLeftClick",B.crc="ctrlRightClick";var F,U,z,W,G,K,Y,J,X,q,Q,$,ee,te,ie,ne,ae,ce;(U=F||(F={}))[U.Normal=1]="Normal",U[U.Modify=2]="Modify",(W=z||(z={}))[W.Line=0]="Line",W[W.Curve=1]="Curve",(K=G||(G={}))[K.SingleColor=0]="SingleColor",K[K.MultiColor=1]="MultiColor",(J=Y||(Y={}))[J.Form=1]="Form",J[J.Json=2]="Json",(q=X||(X={}))[q.Point=0]="Point",q[q.Line=1]="Line",q[q.Plane=2]="Plane",($=Q||(Q={}))[$.None=0]="None",$[$.Drawing=1]="Drawing",$[$.Edit=2]="Edit",(te=ee||(ee={}))[te.Backward=0]="Backward",te[te.Forward=1]="Forward",te[te.JumpSkip=2]="JumpSkip",te[te.None=3]="None",(ne=ie||(ie={}))[ne.Wait=0]="Wait",ne[ne.Pass=1]="Pass",ne[ne.Fail=2]="Fail",ne[ne.Loading=3]="Loading",(ce=ae||(ae={}))[ce.AnyString=0]="AnyString",ce[ce.Order=1]="Order",ce[ce.EnglishOnly=2]="EnglishOnly",ce[ce.NumberOnly=3]="NumberOnly",ce[ce.CustomFormat=4]="CustomFormat";var re,oe,se=1e3;(oe=re||(re={}))[oe.ImgList=1e3]="ImgList",oe[oe.TrackPrediction=1001]="TrackPrediction",oe[oe.ImgSearch=1002]="ImgSearch";var le=(a={},Object(D.a)(a,l.PointCloud,"sensebeepc"),Object(D.a)(a,g.ClientAttribute,"sensebeepc-EnumAttributeTool"),Object(D.a)(a,g.Face,"sensebeepc-FacePointsLabellingTool"),Object(D.a)(a,g.OCRRelation,"sensebeepc-OCRRelationTool"),a),de=(c={},Object(D.a)(c,l.PointCloud,"\u70b9\u4e91\u5ba2\u6237\u7aef"),Object(D.a)(c,g.ClientAttribute,"\u5ba2\u6237\u7aef\u5c5e\u6027\u5de5\u5177"),Object(D.a)(c,g.Face,"\u4eba\u8138106\u70b9\u5de5\u5177"),Object(D.a)(c,g.OCRRelation,"OCR\u5173\u8054\u5173\u7cfb\u5de5\u5177"),c),ue=16,he=Object.freeze({__proto__:null,editStepWidth:320,get EPointCloudName(){return l},get EVideoToolName(){return d},get EToolType(){return h},get EToolName(){return g},get ECheckModel(){return b},get ERectPattern(){return p},TOOL_NAME:V,get EDependPattern(){return j},get EFilterToolOperation(){return Z},OPERATION_LIST:{leftClick:"\u9f20\u6807\u5de6\u952e",rightClick:"\u9f20\u6807\u53f3\u952e",ctrlLeftClick:"ctrl + \u9f20\u6807\u5de6\u952e",ctrlRightClick:"ctrl + \u9f20\u6807\u53f3\u952e"},get EAnnotationMode(){return F},get ELineTypes(){return z},get ELineColor(){return G},get ESelectedType(){return Y},get EDragTarget(){return X},get EDrawPointPattern(){return Q},get EPageOperator(){return ee},get EAuditStatus(){return ie},get ETextType(){return ae},TEXT_TYPE:{0:"\u4efb\u610f\u5b57\u7b26",1:"\u5e8f\u53f7",2:"\u4ec5\u82f1\u6587",3:"\u4ec5\u6570\u5b57"},TEXT_ATTRIBUTE_MAX_LENGTH:se,TEXT_ATTRIBUTE_LINE_HEIGHT:16,get EThumbnailOption(){return re},CLIENT_TOOL_HEAD_TYPE:le,CLIENT_TOOL_NAME:de,SEGMENT_NUMBER:ue,edgeAdsorptionScope:10}),fe=Object.defineProperty,ge=Object.defineProperties,ve=Object.getOwnPropertyDescriptors,be=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,ye=function(e,t,i){return t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},xe=function(e,t){for(var i in t||(t={}))pe.call(t,i)&&ye(e,i,t[i]);if(be){var n,a=Object(E.a)(be(t));try{for(a.s();!(n=a.n()).done;){i=n.value;me.call(t,i)&&ye(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},we=function(e,t){return ge(e,ve(t))};function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16;if(e.length<4)return e;var a,c,r,o,s,l,d,u,h,f,g,v,b,p=[],m=e.slice(0);for(i?(m.unshift(e[e.length-1]),m.unshift(e[e.length-2]),m.unshift(e[e.length-1]),m.unshift(e[e.length-2]),m.push(e[0]),m.push(e[1])):(m.unshift(e[1]),m.unshift(e[0]),m.push(e[e.length-2]),m.push(e[e.length-1])),b=2;b<m.length-4;b+=2)for(r=(m[b+2]-m[b-2])*t,o=(m[b+4]-m[b-0])*t,s=(m[b+3]-m[b-1])*t,l=(m[b+5]-m[b+1])*t,v=0;v<=n;v++)g=v/n,d=2*Math.pow(g,3)-3*Math.pow(g,2)+1,u=-2*Math.pow(g,3)+3*Math.pow(g,2),h=Math.pow(g,3)-2*Math.pow(g,2)+g,f=Math.pow(g,3)-Math.pow(g,2),a=d*m[b]+u*m[b+2]+h*r+f*o,c=d*m[b+1]+u*m[b+3]+h*s+f*l,p.push(a),p.push(c);for(var y=[],x=0;x<p.length-1;x+=2)y.push({x:p[x],y:p[x+1]});if(i)for(var w=0;w<n+1;w++){var k=y.shift();y.push(k)}return y}var Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return ke(e.reduce((function(e,t){return[].concat(Object(P.a)(e),[t.x,t.y])}),[]),.5,!1,t)};function Ce(e,t){var i,n,a,c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Line,o=0;t=Object(P.a)(t),r===z.Curve&&(t=ke(t.reduce((function(e,t){return[].concat(Object(P.a)(e),[t.x,t.y])}),[]),.5,!0,ue));var s=t,l=Object(S.a)(s,1);a=l[0];var d=t.length;for(i=1;i<=d;i++)c=t[i%d],e.x>Math.min(a.x,c.x)&&e.x<=Math.max(a.x,c.x)&&e.y<=Math.max(a.y,c.y)&&a.x!==c.x&&(n=(e.x-a.x)*(c.y-a.y)/(c.x-a.x)+a.y,(a.y===c.y||e.y<=n)&&o++),a=c;return o%2!==0}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map((function(e){return we(xe({},e),{x:e.x*t,y:e.y*t})}))}var Oe=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"getRotate",value:function(e){return e+90>=360?e+90-360:e+90}},{key:"getLineLength",value:function(e,t){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}}]),e}(),Te=Oe;Te.isInRange=function(e,t){var i=Math.min.apply(Math,Object(P.a)(t)),n=Math.max.apply(Math,Object(P.a)(t));return(Array.isArray(e)?e:[e]).every((function(e){return function(e){return e<=n&&e>=i}(e)}))},Te.withinRange=function(e,t){var i=Math.min.apply(Math,Object(P.a)(t)),n=Math.max.apply(Math,Object(P.a)(t));return e>n?n:e<i?i:e},Te.calcViewportBoundaries=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return{top:0,bottom:0,left:0,right:0};var a=20/n,c=[],r=[],o=e;t&&(o=Le(e,i)),o.forEach((function(e){var t=e.x,i=e.y;c.push(t),r.push(i)}));var s=Math.min.apply(Math,c),l=Math.max.apply(Math,c),d=Math.min.apply(Math,r),u=Math.max.apply(Math,r),h=l-s,f=u-d;if(h<a){var g=(a-h)/2;s-=g,l+=g}if(f<a){var v=(a-f)/2;d-=v,u+=v}return{top:d,bottom:u,left:s,right:l}},Te.getFootOfPerpendicular=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={x:0,y:0},c=t.x-i.x,r=t.y-i.y;if(Math.abs(c)<1e-8&&Math.abs(r)<1e-8)return a=t;var o=(e.x-t.x)*(t.x-i.x)+(e.y-t.y)*(t.y-i.y);o/=c*c+r*r,a.x=t.x+o*c,a.y=t.y+o*r;var s=Oe.getLineLength(e,a),l=2,d=Math.min(t.x,i.x),u=Math.max(t.x,i.x),h=Math.min(t.y,i.y),f=Math.max(t.y,i.y),g=!(Oe.isInRange(e.x,[d,u])||Oe.isInRange(e.y,[h,f])),v=e.x>u+l||e.x<d-l||e.y>f+l||e.y<h-l,b=n?g:v;return b?{footPoint:a,length:1/0}:{footPoint:a,length:s}};var Ae,Se;(Se=Ae||(Ae={}))[Se.ANNOTATION=1]="ANNOTATION",Se[Se.QUALITY_INSPECTION=2]="QUALITY_INSPECTION",Se[Se.PRE_ANNOTATION=3]="PRE_ANNOTATION",Se[Se.MANUAL_CORRECTION=4]="MANUAL_CORRECTION";var Pe,Ee,De,_e,Re,Ne,Me,je,He,Ze;!function(e){e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e[e.JumpSkip=2]="JumpSkip",e[e.None=3]="None"}(Pe||(Pe={})),(De=Ee||(Ee={}))[De.Start=0]="Start",De[De.Stop=1]="Stop",De[De.Wait=2]="Wait",De[De.Move=3]="Move",function(e){e[e.Point=0]="Point",e[e.Line=1]="Line",e[e.Plane=2]="Plane"}(_e||(_e={})),(Ne=Re||(Re={}))[Ne.ascend=0]="ascend",Ne[Ne.descend=1]="descend",(je=Me||(Me={}))[je.Intelligence=0]="Intelligence",je[je.Linear=1]="Linear",(Ze=He||(He={})).Zh="zh_CN",Ze.US="en_US";var Be={offsetX:-10,offsetY:-10},Ve={shadowColor:"rgba(0,0,0,0.6)",shadowOffsetX:0,shadowOffsetY:2,shadowBlur:4},Fe=Object.freeze({__proto__:null,headerHeight:61,tipsHeight:40,footerHeight:40,sidebarWidth:240,get EStepType(){return Ae},ANNOTATION_MAX_SIZE:1e3,get EPageOperator(){return Pe},get EDragStatus(){return Ee},get EDragTarget(){return _e},get ESortDirection(){return Re},get EGrowthMode(){return Me},get ELang(){return He},DEFAULT_TEXT_OFFSET:Be,DEFAULT_TEXT_SHADOW:Ve}),Ue=Object.defineProperty,ze=Object.defineProperties,We=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,Je=function(e,t,i){return t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},Xe=function(e,t){for(var i in t||(t={}))Ke.call(t,i)&&Je(e,i,t[i]);if(Ge){var n,a=Object(E.a)(Ge(t));try{for(a.s();!(n=a.n()).done;){i=n.value;Ye.call(t,i)&&Je(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},qe=function(e,t){return ze(e,We(t))},Qe=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"composeResult",value:function(e,t,i,n,a){try{var c=JSON.parse(e),r=Pn.getCurrentStepInfo(t,n),o=r.dataSourceStep,s="step_".concat(r.step);if(Object.assign(c,a),c[s]){var l=c[s];return l.result?(l.result=i,JSON.stringify(c)):JSON.stringify(qe(Xe({},c),Object(D.a)({},s,qe(Xe({},c[s]),{result:i}))))}return JSON.stringify(qe(Xe({},c),Object(D.a)({},s,{dataSourceStep:o,toolName:r.tool,result:i})))}catch(d){return e}}},{key:"changeCoordinateByRotate",value:function(e,t,i){var n=e.x,a=e.y,c=e.width,r=e.height,o=Un.changeCoordinateByRotate({x:n,y:a},t,i);switch(t%360){case 90:return qe(Xe({},e),{x:o.x-r,y:o.y,width:r,height:c});case 180:return qe(Xe({},e),{x:o.x-c,y:o.y-r});case 270:return qe(Xe({},e),{x:o.x,y:o.y-c,width:r,height:c});default:return e}}},{key:"translateRect2Points",value:function(e){var t=e.x,i=e.y,n=e.width,a=e.height;return[{x:t,y:i},{x:t+n,y:i},{x:t+n,y:i+a},{x:t,y:i+a}]}},{key:"translatePoints2Rect",value:function(e,t){if(4===e.length){var i=e[0],n=i.x,a=i.y,c=e[1].x-e[0].x,r=e[2].y-e[1].y;return qe(Xe({},t),{x:n,y:a,width:c,height:r})}}},{key:"getRectPointList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[{x:e.x*t,y:e.y*t},{x:(e.x+e.width)*t,y:e.y*t},{x:(e.x+e.width)*t,y:(e.y+e.height)*t},{x:e.x*t,y:(e.y+e.height)*t}]}},{key:"getRectEdgeList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.getRectPointList(e,t),n=i.length;return i.map((function(e,t){return{begin:e,end:i[(t+1)%n]}}))}},{key:"isInRect",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return e.x>=t.x*n-i&&e.x<=(t.x+t.width)*n+i&&e.y>=t.y*n-i&&e.y<=(t.y+t.height)*n+i}},{key:"getRectUnderZoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=e.x,n=e.y,a=e.width,c=e.height;return qe(Xe({},e),{x:i*t,y:n*t,width:a*t,height:c*t})}},{key:"isRectNotInPolygon",value:function(e,t){return this.getRectPointList(e).some((function(e){return!Ce(e,t)}))}}]),e}();function $e(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:62,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),c=[];if(n=n||a.length,i)for(e=0;e<i;e++)c[e]=a[0|Math.random()*n];else for(c[8]=c[13]=c[18]=c[23]="-",c[14]="4",e=0;e<36;e++)c[e]||(t=0|16*Math.random(),c[e]=a[19===e?3&t|8:t]);return c.join("")}var et,tt,it=Object.defineProperty,nt=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,rt=function(e,t,i){return t in e?it(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},ot=function(e,t){for(var i in t||(t={}))at.call(t,i)&&rt(e,i,t[i]);if(nt){var n,a=Object(E.a)(nt(t));try{for(a.s();!(n=a.n()).done;){i=n.value;ct.call(t,i)&&rt(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},st=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"getTagKeyName",value:function(e,t){var i,n;if(t)return null!=(n=null==(i=t.find((function(t){return t.value===e})))?void 0:i.key)?n:""}},{key:"getTagName",value:function(e,t){var i=Object(S.a)(e,2),n=i[0],a=void 0===n?"":n,c=i[1],r=void 0===c?"":c;if(t){var o,s=Object(E.a)(t);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l.value===a){if(!l.subSelected)return console.error("\u6807\u7b7e\u89e3\u6790\u9519\u8bef",a,r),"";var d,u=Object(E.a)(l.subSelected);try{for(u.s();!(d=u.n()).done;){var h=d.value;if(h.value===r)return h.key}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){s.e(f)}finally{s.f()}}}},{key:"getTagNameList",value:function(e,t){var i=this;return Object.keys(e).length<=0?[]:Object.entries(e).reduce((function(e,n){var a=Object(S.a)(n,2),c=a[0],r=a[1];if(r&&r.length>0){var o=r.split(";"),s={keyName:i.getTagKeyName(c,t),value:o.map((function(e){return i.getTagName([c,e],t)}))};return[].concat(Object(P.a)(e),[s])}return e}),[]).filter((function(e){return e}))}},{key:"getTagnameListWithoutConfig",value:function(e){return Object.keys(e).length<=0?[]:Object.entries(e).reduce((function(e,t){var i=Object(S.a)(t,2),n={keyName:i[0],value:i[1].split(";")};return[].concat(Object(P.a)(e),[n])}),[]).filter((function(e){return e}))}},{key:"judgeResultIsInInputList",value:function(e,t,i){return!!(e&&t&&i)&&i.filter((function(i){if(i.value===e&&i.subSelected){var n=null==t?void 0:t.split(";");return(null==i?void 0:i.subSelected.filter((function(e){return n.indexOf(e.value)>-1})).length)>0}return!1})).length>0}},{key:"getDefaultResultByConfig",value:function(e){return e.reduce((function(e,t){return t.subSelected&&t.subSelected.forEach((function(i){var n;if(i.isDefault){var a=null!=(n=e[t.value])?n:"",c=[];a.length>0&&(c=a.split(";")),c.push(i.value),e[t.value]=c.join(";")}})),e}),{})}},{key:"getDefaultTagResult",value:function(e,t){var i=this.getDefaultResultByConfig(e);return t.length>0?t.map((function(e){return{id:$e(),sourceID:e.id,result:ot({},i)}})):[{id:$e(),sourceID:"",result:ot({},i)}]}}]),e}(),lt='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#ccc"/></g></g></svg>',dt='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#f33"/></g></g></svg>',ut=lt,ht=["rgba(128, 12, 249, 1)","rgba(0, 255, 48, 1)","rgba(255, 136, 247, 1)","rgba(255, 226, 50, 1)","rgba(153, 66, 23, 1)","rgba(2, 130, 250, 1)","rgba(255, 35, 35, 1)","rgba(0, 255, 234, 1)"],ft=[lt,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#800cf9"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#01ff30"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#ff88f7"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#ffe232"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#994217"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#0282fa"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#ff2323"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#00ffea"/></g></g></svg>'],gt={1:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#1f0bf9"/></g></g></svg>',3:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#3fe"/></g></g></svg>',5:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#33fe33"/></g></g></svg>',7:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#fdff37"/></g></g></svg>',9:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#f70efa"/></g></g></svg>'},vt="rgba(204, 204, 204, 1)",bt=(r={},Object(D.a)(r,Z.lc,"rgba(153, 51, 255, 1)"),Object(D.a)(r,Z.rc,"rgba(51, 153, 255, 1)"),Object(D.a)(r,Z.clc,"rgba(46, 230, 46, 1)"),Object(D.a)(r,Z.crc,"rgba(255, 51, 51, 1)"),r),pt=Object.freeze({__proto__:null,HEADER_HEIGHT:61,TAB_HEIGHT:80,SEARCH_HEIGHT:62,PADDING:20,TABLE_ROW_HEIGHT:55,PAGINATION_HEIGHT:55,TIPS_HEIGHT:40,FOOTER_HEIGHT:80,SIDERBAR_WIDTH:240,EDIT_STEP_WIDTH:320,THEME_COLOR:"rgba(102, 111, 255, 1)",COLORS_ARRAY:ht,ICON_ARRAY:ft,BASE_ICON:gt,INVALID_COLOR:"rgba(255, 51, 51, 1)",NULL_COLOR:vt,NULL_ICON:ut,INVALID_ICON:dt,FILTER_TOOL_COLOR:bt});(tt=et||(et={})).NoRotateNotice="noRotateNotice",tt.RectErrorSizeNotice="rectErrorSizeNotice",tt.TextCheckNumberErrorNotice="textCheckNumberErrorNotice",tt.TextCheckEnglishErrorNotice="textCheckEnglishErrorNotice",tt.TextCheckCustomErrorNotice="textCheckCustomErrorNotice",tt.UpperLimitErrorNotice="UpperLimitErrorNotice",tt.LowerLimitErrorNotice="LowerLimitErrorNotice",tt.InvalidImage="InvalidImage",tt.DisableDelete="DisableDelete",tt.ClearPartialData="ClearPartialData",tt.MarkerFinish="MarkerFinish",tt.LowerLimitPoint="LowerLimitPoint",tt.NoRotateInDependence="noRotateInDependence";var mt=(o={},Object(D.a)(o,et.NoRotateNotice,"This Image contains data and cannot be rotated"),Object(D.a)(o,et.RectErrorSizeNotice,"The drawing frame size is smaller than the minimum drawing size"),Object(D.a)(o,et.TextCheckNumberErrorNotice,"Please enter in number-only format"),Object(D.a)(o,et.TextCheckEnglishErrorNotice,"Please enter in English only format"),Object(D.a)(o,et.TextCheckCustomErrorNotice,"Please enter in the required format"),Object(D.a)(o,et.UpperLimitErrorNotice,"The number of vertices is not more than"),Object(D.a)(o,et.LowerLimitErrorNotice,"The number of vertices is not less than"),Object(D.a)(o,et.InvalidImage,"Invalid image, please skip this image"),Object(D.a)(o,et.DisableDelete,"Disable delete"),Object(D.a)(o,et.ClearPartialData,"Clear partial data"),Object(D.a)(o,et.MarkerFinish,"ListAnnotation is finished"),Object(D.a)(o,et.LowerLimitPoint,"\u5df2\u5230\u8fbe\u6807\u70b9\u6570\u91cf\u4e0a\u9650"),Object(D.a)(o,et.NoRotateInDependence,"Disallow rotation in dependent cases"),o),yt=(s={},Object(D.a)(s,et.NoRotateNotice,"\u672c\u56fe\u542b\u6709\u6570\u636e\uff0c\u65e0\u6cd5\u8fdb\u884c\u65cb\u8f6c"),Object(D.a)(s,et.RectErrorSizeNotice,"\u7ed8\u5236\u6846\u5c3a\u5bf8\u5c0f\u4e8e\u6700\u5c0f\u7ed8\u5236\u5c3a\u5bf8"),Object(D.a)(s,et.TextCheckNumberErrorNotice,"\u8bf7\u6309\u4ec5\u6570\u5b57\u7684\u683c\u5f0f\u8f93\u5165"),Object(D.a)(s,et.TextCheckEnglishErrorNotice,"\u8bf7\u6309\u4ec5\u82f1\u6587\u7684\u683c\u5f0f\u8f93\u5165"),Object(D.a)(s,et.TextCheckCustomErrorNotice,"\u8bf7\u6309\u8981\u6c42\u7684\u683c\u5f0f\u8f93\u5165"),Object(D.a)(s,et.UpperLimitErrorNotice,"\u9876\u70b9\u6570\u4e0d\u591a\u4e8e"),Object(D.a)(s,et.LowerLimitErrorNotice,"\u9876\u70b9\u6570\u4e0d\u5c11\u4e8e"),Object(D.a)(s,et.InvalidImage,"\u65e0\u6548\u56fe\u7247\uff0c\u8bf7\u8df3\u8fc7\u6b64\u56fe"),Object(D.a)(s,et.DisableDelete,"\u8be5\u6570\u636e\u7981\u6b62\u5220\u9664"),Object(D.a)(s,et.ClearPartialData,"\u5b58\u5728\u90e8\u5206\u6570\u636e\u65e0\u6cd5\u6e05\u9664"),Object(D.a)(s,et.MarkerFinish,"\u5217\u8868\u6807\u6ce8\u5df2\u5b8c\u6210"),Object(D.a)(s,et.LowerLimitPoint,"\u5df2\u5230\u8fbe\u6807\u70b9\u6570\u91cf\u4e0a\u9650"),Object(D.a)(s,et.NoRotateInDependence,"\u4f9d\u8d56\u60c5\u51b5\u4e0b\u65e0\u6cd5\u8fdb\u884c\u65cb\u8f6c"),s),xt=function e(){Object(T.a)(this,e)};xt.getMessagesByLocale=function(e,t){switch(t){case He.US:return mt[e];case He.Zh:default:return yt[e]}};var wt=Object.defineProperty,kt=Object.defineProperties,Lt=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,Tt=function(e,t,i){return t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},At=function(e,t){for(var i in t||(t={}))It.call(t,i)&&Tt(e,i,t[i]);if(Ct){var n,a=Object(E.a)(Ct(t));try{for(a.s();!(n=a.n()).done;){i=n.value;Ot.call(t,i)&&Tt(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},St=function(e,t){return kt(e,Lt(t))},Pt=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"getAttributeIcon",value:function(e,t){var i,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=t.findIndex((function(t){return t.value===e})),c=null!=(i=ft[a%ft.length])?i:ut;n||(c=dt),c="";var r=new Image;return r.src=c,r}},{key:"checkString",value:function(e,t){var i="";switch(e){case ae.Order:case ae.NumberOnly:i="^[0-9]+$";break;case ae.EnglishOnly:i="^[A-Za-z]+$";break;case ae.CustomFormat:i=t}return i}},{key:"checkTextAttibute",value:function(e,t){if(void 0===e||""===e)return!0;try{return new RegExp(t).test(e)}catch(i){return!1}}},{key:"getAttributeShowText",value:function(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var a=n.findIndex((function(t){return t.value===e}));return null!=(i=null==(t=n[a])?void 0:t.key)?i:e}catch(c){return e}}},{key:"getAttributeIndex",value:function(e,t){try{var i=t.findIndex((function(t){return t.value===e}));return i>=8?i%8:i}catch(n){return-1}}},{key:"getAttributeColor",value:function(e,t){try{var i=this.getAttributeIndex(e,t);return-1===i?vt:ht[i%ht.length]}catch(n){return vt}}},{key:"getTextAttribute",value:function(e,t){try{if(t===ae.Order){var i=e.map((function(e){return parseInt(e.textAttribute,10)})).filter((function(e){return Object(_.isNumber)(e)&&e<Number.MAX_SAFE_INTEGER&&e>=0}));i.sort((function(e,t){return e-t}));var n=i.pop();return"".concat((n||0)+1)}return""}catch(a){return""}}},{key:"textChange",value:function(e,t,i){return i.map((function(i){return i.id===t?St(At({},i),{textAttribute:e}):i}))}},{key:"getErrorNotice",value:function(e,t){switch(e){case ae.Order:case ae.NumberOnly:return xt.getMessagesByLocale(et.TextCheckNumberErrorNotice,t);case ae.EnglishOnly:return xt.getMessagesByLocale(et.TextCheckEnglishErrorNotice,t);case ae.CustomFormat:return xt.getMessagesByLocale(et.TextCheckCustomErrorNotice,t);default:return""}}},{key:"textAttributeValidate",value:function(e,t,i){try{return new RegExp(this.checkString(e,t)).test(i)}catch(n){}}},{key:"checkTextAttribute",value:function(e,t,i,n){var a=this,c=!1;return i.forEach((function(i){void 0!==(null==i?void 0:i.textAttribute)&&""!==(null==i?void 0:i.textAttribute)&&(n&&i.id!==n||a.textAttributeValidate(e,t,i.textAttribute)||(c=!0))})),!!c}},{key:"changeTextAttributeInLog",value:function(e,t){return null==e?void 0:e.map((function(e){return null==e?void 0:e.map((function(e){if((null==t?void 0:t.findIndex((function(t){return(null==t?void 0:t.id)===(null==e?void 0:e.id)})))>-1){var i=null==t?void 0:t.find((function(t){return(null==t?void 0:t.id)===(null==e?void 0:e.id)}));return St(At({},e),{textAttribute:null==i?void 0:i.textAttribute})}return e}))}))}},{key:"getTextIconSvg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;if(!0===i){var a=(null==t?void 0:t.findIndex((function(t){return(null==t?void 0:t.value)===e})))%ht.length+1;return ft[a]}return n}},{key:"getAttributeByKeycode",value:function(e,t){var i,n;return Te.isInRange(e,[48,57])&&(n=e-48),Te.isInRange(e,[96,105])&&(n=e-96),0===n?"":n?null==(i=t[n-1])?void 0:i.value:void 0}}]),e}(),Et=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"deg2rad",value:function(e){return e*Math.PI/180}},{key:"rad2deg",value:function(e){return 180*e/Math.PI}}]),e}(),Dt={x:0,y:0},_t="",Rt=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"drawLine",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.getContext("2d"),c=n.color,r=void 0===c?_t:c,o=n.thickness,s=void 0===o?1:o,l=n.lineCap,d=void 0===l?"round":l;a.save(),a.strokeStyle=r,a.lineWidth=s,a.lineCap=d,a.beginPath(),a.moveTo(t.x,t.y),a.lineTo(i.x+1,i.y+1),a.stroke(),a.restore()}},{key:"drawRect",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.getContext("2d"),a=i.color,c=void 0===a?_t:a,r=i.thickness,o=void 0===r?1:r,s=i.lineCap,l=void 0===s?"round":s;n.save(),n.strokeStyle=c,n.lineWidth=o,n.lineCap=l,n.beginPath(),n.fillStyle=c,n.strokeRect(t.x,t.y,t.width,t.height);var d="";if(t.attribute&&(d="".concat(d,"  ").concat(t.attribute)),this.drawText(e,{x:t.x,y:t.y-5},d),t.textAttribute){var u="".concat(~~t.width," * ").concat(~~t.height),h=7*u.length,f=0,g=Math.max(20,t.width-h);this.drawText(e,{x:t.x,y:t.y+t.height+20+f},t.textAttribute,{textMaxWidth:g})}n.restore()}},{key:"drawRectWithFill",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.getContext("2d"),a=i.color,c=void 0===a?_t:a;n.save(),n.beginPath(),n.fillStyle=c,n.fillRect(t.x,t.y,t.width,t.height),n.restore()}},{key:"drawTag",value:function(e,t){var i,n=null==e?void 0:e.parentNode,a=window.self.document.getElementById("tagToolTag");if(a&&n&&n.contains(a)&&(null==n||n.removeChild(a)),(null==t?void 0:t.length)>0){var c=document.createElement("div");c.innerHTML=null!=(i=t.reduce((function(e,t){return"".concat(e).concat(t.keyName,": ").concat(t.value.join(" \u3001 "),"\n")}),""))?i:"",c.setAttribute("id","tagToolTag"),null==n||n.appendChild(c)}}},{key:"drawLineWithPointList",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(t.length<2)){var n=e.getContext("2d"),a=i.color,c=void 0===a?_t:a,r=i.thickness,o=void 0===r?1:r,s=i.lineCap,l=void 0===s?"round":s,d=i.lineType,u=void 0===d?z.Line:d,h=i.hoverEdgeIndex;n.save(),n.strokeStyle=c,n.lineWidth=o,n.lineCap=l,n.beginPath(),u===z.Curve?(void 0!==h&&h>-1&&t.push(t[0]),t=_n.createSmoothCurvePointsFromPointList(Object(P.a)(t),ue),void 0!==h&&h>-1&&(t=t.slice(17*h,17*(h+1)))):void 0!==h&&h>-1&&(t=(t=[].concat(Object(P.a)(t),[t[0]])).slice(h,h+2));var f=t,g=Object(O.a)(f),v=g[0],b=g.slice(1);n.moveTo(v.x,v.y),b.forEach((function(e){n.lineTo(e.x,e.y)})),n.stroke(),n.restore()}}},{key:"drawCircle",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.getContext("2d"),c=n.startAngleDeg,r=void 0===c?0:c,o=n.endAngleDeg,s=void 0===o?360:o,l=n.thickness,d=void 0===l?1:l,u=n.color,h=void 0===u?_t:u,f=n.fill,g=void 0===f?_t:f,v=Et.deg2rad(r),b=Et.deg2rad(s);a.save(),a.beginPath(),a.strokeStyle=h,a.fillStyle=g,a.lineWidth=d,a.arc(t.x,t.y,i,v,b,!1),a.stroke(),a.fill(),a.closePath(),a.restore()}},{key:"drawCircleWithFill",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.getContext("2d"),c=n.color,r=void 0===c?_t:c;a.save();var o=Et.deg2rad(0),s=Et.deg2rad(360);a.fillStyle=r,a.beginPath(),a.arc(t.x,t.y,i,o,s,!1),a.fill(),a.restore()}},{key:"drawPolygon",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.isClose,a=void 0!==n&&n,c=i.lineType,r=void 0===c?z.Line:c;!0===a&&(t=[].concat(Object(P.a)(t),[t[0]])),r===z.Curve&&(t=_n.createSmoothCurvePointsFromPointList(Object(P.a)(t))),this.drawLineWithPointList(e,t,i)}},{key:"drawPolygonWithFill",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(t.length<2)){var n=e.getContext("2d"),a=i.color,c=void 0===a?_t:a,r=i.lineType,o=void 0===r?z.Line:r;n.save(),n.fillStyle=c,n.beginPath(),o===z.Curve&&(t=_n.createSmoothCurvePointsFromPointList([].concat(Object(P.a)(t),[t[0]])));var s=t,l=Object(O.a)(s),d=l[0],u=l.slice(1);n.moveTo(d.x,d.y),u.forEach((function(e){n.lineTo(e.x,e.y)})),n.fill(),n.restore()}}},{key:"drawPolygonWithFillAndLine",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.strokeColor,a=i.fillColor,c=i.thickness,r=i.lineCap,o=i.isClose,s=i.lineType;this.drawPolygon(e,t,{color:n,thickness:c,lineCap:r,isClose:o,lineType:s}),this.drawPolygonWithFill(e,t,{color:a,lineType:s})}},{key:"drawSelectedPolygonWithFillAndLine",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.pointColor,c=void 0===a?"white":a,r=n.strokeColor;this.drawPolygonWithFillAndLine(e,t,n);var o=Object(P.a)(t);o.forEach((function(t){i.drawCircleWithFill(e,t,4,{color:r}),i.drawCircleWithFill(e,t,3,{color:c})}))}},{key:"drawText",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(i){var a=e.getContext("2d"),c=n.color,r=void 0===c?_t:c,o=n.font,s=void 0===o?"normal normal 500 14px Arial":o,l=n.shadowColor,d=void 0===l?"":l,u=n.shadowBlur,h=void 0===u?0:u,f=n.shadowOffsetX,g=void 0===f?0:f,v=n.shadowOffsetY,b=void 0===v?0:v,p=n.textMaxWidth,m=void 0===p?164:p,y=n.offsetX,x=void 0===y?0:y,w=n.offsetY,k=void 0===w?0:w,L=n.textAlign,C=void 0===L?"start":L;a.save(),a.textAlign=C,a.fillStyle=null!=r?r:"white",a.font=s,a.shadowColor=d,a.shadowOffsetX=g,a.shadowOffsetY=b,a.shadowBlur=h,this.wrapText(e,"".concat(i),t.x+x,t.y+k,m),a.restore()}}},{key:"wrapText",value:function(e,t,i,n,a,c){if("string"===typeof t&&"number"===typeof i&&"number"===typeof n){var r=e.getContext("2d");"undefined"===typeof a&&(a=e&&e.width||300),"undefined"===typeof c&&(c=e&&parseInt(window.getComputedStyle(e).lineHeight,10)||parseInt(window.getComputedStyle(document.body).lineHeight,10));for(var o=t.split("\n"),s=0;s<o.length;s++){for(var l=o[s].split(""),d="",u=0;u<l.length;u++){var h=d+l[u];a||(a=300),r.measureText(h).width>a&&u>0?(r.fillText(d,i,n),d=l[u],n+=c):d=h}r.fillText(d,i,n),n+=c}}}},{key:"drawArrow",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.color,c=void 0===a?_t:a,r=n.thickness,o=void 0===r?1:r,s=n.lineCap,l=void 0===s?"round":s,d=n.theta,u=void 0===d?30:d,h=n.headLen,f=void 0===h?10:h,g=180*Math.atan2(t.y-i.y,t.x-i.x)/Math.PI,v=(g+u)*Math.PI/180,b=(g-u)*Math.PI/180,p=f*Math.cos(v),m=f*Math.sin(v),y=f*Math.cos(b),x=f*Math.sin(b);e.save(),e.strokeStyle=c,e.lineWidth=o,e.lineCap=l,e.beginPath(),e.moveTo(i.x+p,i.y+m),e.lineTo(i.x,i.y),e.lineTo(i.x+y,i.y+x),e.stroke(),e.restore()}}]),e}();Rt.drawImg=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.getContext("2d"),a=i.zoom,c=void 0===a?1:a,r=i.currentPos,o=void 0===r?Dt:r,s=i.rotate,l=void 0===s?0:s,d=i.imgAttribute;switch(n.save(),l){case 0:default:n.translate(o.x,o.y);break;case 90:n.translate(o.x+t.height*c,o.y),n.rotate(90*Math.PI/180);break;case 180:n.translate(o.x+t.width*c,o.y+t.height*c),n.rotate(Math.PI);break;case 270:n.translate(o.x,o.y+t.width*c),n.rotate(270*Math.PI/180)}if(d){var u=d.contrast,h=d.saturation,f=d.brightness;n.filter="saturate(".concat(h+100,"%) contrast(").concat(u+100,"%) brightness(").concat(f+100,"%)")}n.drawImage(t,0,0,t.width*c,t.height*c),n.restore()};var Nt,Mt,jt=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"getStrokeAndFill",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.isSelected,a=void 0!==n&&n,c=i.isHover,r=void 0!==c&&c;return a?{stroke:t?e.validSelected.stroke:e.invalidSelected.stroke,fill:t?e.validSelected.fill:e.invalidSelected.fill}:r?{stroke:t?e.validHover.stroke:e.invalidHover.stroke,fill:t?e.validHover.fill:e.invalidHover.fill}:{stroke:t?e.valid.stroke:e.invalid.stroke,fill:t?e.valid.fill:e.invalid.fill}}}]),e}();(Mt=Nt||(Nt={}))[Mt.A=65]="A",Mt[Mt.B=66]="B",Mt[Mt.C=67]="C",Mt[Mt.D=68]="D",Mt[Mt.E=69]="E",Mt[Mt.F=70]="F",Mt[Mt.G=71]="G",Mt[Mt.H=72]="H",Mt[Mt.L=76]="L",Mt[Mt.R=82]="R",Mt[Mt.Z=90]="Z",Mt[Mt.W=87]="W",Mt[Mt.X=88]="X",Mt[Mt.Y=89]="Y",Mt[Mt.S=83]="S",Mt[Mt.Q=81]="Q",Mt[Mt.Delete=46]="Delete",Mt[Mt.F11=122]="F11",Mt[Mt.Space=32]="Space",Mt[Mt.Esc=27]="Esc",Mt[Mt.Left=37]="Left",Mt[Mt.Up=38]="Up",Mt[Mt.Right=39]="Right",Mt[Mt.Down=40]="Down",Mt[Mt.Enter=13]="Enter",Mt[Mt.Ctrl=17]="Ctrl",Mt[Mt.Alt=18]="Alt",Mt[Mt.Shift=16]="Shift",Mt[Mt.Tab=9]="Tab";var Ht=Nt,Zt=Object.freeze({__proto__:null,default:Ht}),Bt=function(){function e(t){var i=this;Object(T.a)(this,e),this.record=[],this.recordIndex=-1,this.minRecordIndex=-1,this.emitHistoryChanged=function(){i.historyChanged&&(("ActionsHistory"===i.constructor.name||i.record.length>0)&&i.historyChanged(i.undoEnabled,i.redoEnabled))},this.historyChanged=t}return Object(A.a)(e,[{key:"undoEnabled",get:function(){return this.recordIndex>this.minRecordIndex}},{key:"redoEnabled",get:function(){return this.recordIndex<this.record.length-1}},{key:"pushHistory",value:function(e){if(this.recordIndex!==this.record.length-1){var t=this.record.slice(0,Math.min(this.recordIndex+1,this.record.length));this.record=t}this.record.push(R.a.cloneDeepWith(e)),this.recordIndex+=1,this.emitHistoryChanged()}},{key:"updateHistory",value:function(e){this.record[this.recordIndex]=R.a.cloneDeep(e)}},{key:"applyAttribute",value:function(e,t,i){e&&this.record.forEach((function(n){var a=n.find((function(t){return t.id===e}));a&&(a[t]=i)}))}},{key:"undo",value:function(){if(this.undoEnabled)return this.recordIndex-=1,this.emitHistoryChanged(),R.a.cloneDeep(this.record[this.recordIndex])||[]}},{key:"redo",value:function(){if(this.redoEnabled)return this.recordIndex+=1,this.emitHistoryChanged(),R.a.cloneDeep(this.record[this.recordIndex])}},{key:"init",value:function(){this.record=[[]],this.recordIndex=0,this.emitHistoryChanged()}},{key:"empty",value:function(){this.record=[],this.recordIndex=-1,this.emitHistoryChanged()}},{key:"initRecord",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.length>0||t;this.record=i?[R.a.cloneDeep(e)]:[],this.minRecordIndex=i?0:-1,this.recordIndex=0}}]),e}(),Vt=function(){function e(t,i){var n=this;Object(T.a)(this,e),this.rcTime=0,this.mouseDownTime=0,this.onMouseDown=function(){n.mouseDownTime=(new Date).getTime()},this.dom=t,this.isDoubleClick=!1,this.delay=i}return Object(A.a)(e,[{key:"getRcTime",value:function(){return this.rcTime}},{key:"getCoord",value:function(e){return{x:e.clientX,y:e.clientY}}},{key:"removeEvent",value:function(){this.dom&&(this.dom.removeEventListener("mouseup",this.mouseUp),this.dom.removeEventListener("mousemove",this.mouseMove),this.dom.removeEventListener("dblclick",this.dblclick),this.dom.removeEventListener("mousedown",this.onMouseDown))}},{key:"addEvent",value:function(e,t,i,n){var a=this;this.dom&&(this.removeEvent(),this.mouseUp=function(t){var c=(new Date).getTime(),r=!n||n(t);if(c-a.mouseDownTime>a.delay||!0!==r)e(t);else{if(2===t.button){if(0!==a.rcTime)return c-a.rcTime<a.delay&&(i(t),clearTimeout(a.setTimeFun),a.cacheFunction=void 0),void(a.rcTime=0);setTimeout((function(){a.rcTime=0}),a.delay),a.rcTime=c}a.setTimeFun&&clearTimeout(a.setTimeFun),a.clickCoord=a.getCoord(t),a.cacheFunction=function(){return e(t)},a.setTimeFun=setTimeout((function(){a.isDoubleClick?a.isDoubleClick=!1:(a.cacheFunction(),a.clickCoord=void 0)}),a.delay)}},this.mouseMove=function(e){var t=a.getCoord(e);a.clickCoord&&!Un.getIsInScope(t,a.clickCoord,10)&&(a.cacheFunction&&a.cacheFunction(),a.clickCoord=void 0,a.cacheFunction=null,clearTimeout(a.setTimeFun))},this.dblclick=function(e){a.isDoubleClick=!0,a.clickCoord=void 0,t(e)},this.dom.addEventListener("mouseup",this.mouseUp),this.dom.addEventListener("mousemove",this.mouseMove),this.dom.addEventListener("dblclick",this.dblclick),this.dom.addEventListener("mousedown",this.onMouseDown))}},{key:"clearRightDblClick",value:function(){this.rcTime=0}}]),e}(),Ft=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"getInitImgPos",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];90!==i&&270!==i||(t={width:t.height,height:t.width});var c=e.width*n/t.width,r=e.height*n/t.height,o=a?1:Math.min(c,r),s={x:(e.width-t.width*o)/2,y:(e.height-t.height*o)/2},l=t.width*o,d=t.height*o;return a&&(o=1),{zoom:o,currentPos:s,imgInfo:{width:l,height:d}}}},{key:"getBasicRecPos",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.9,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t&&e){var r=t.x,o=t.y,s=t.height,l=t.width,d=i.height/s;l/s>i.width/i.height&&(d=i.width/l);var u=c?1:d*n*a,h={x:i.width/2,y:i.height/2},f={x:(r+l/2)*u,y:(o+s/2)*u},g={x:h.x-f.x,y:h.y-f.y};return{currentPos:g,innerZoom:u}}return!1}}]),e}(),Ut=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"renderInvalidPage",value:function(e,t,i){var n=document.createElement("div");return n.setAttribute("style","\n        position: absolute;\n        left: 0px;\n        top: 0px;\n        width: ".concat(e.width,"px;\n        height: ").concat(e.height,"px;\n        background: rgba(255, 87, 34, 1);\n        overflow: hidden;\n        color: white;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 30px;\n        opacity: 0.7;\n        z-index: 30;\n      ")),n.innerHTML=xt.getMessagesByLocale(et.InvalidImage,i),t.appendChild(n),n}}]),e}(),zt=[1,5,10,20,30,50,80,100].concat(Array.from({length:9}).map((function(e,t){return 100*(t+2)}))),Wt=function e(){Object(T.a)(this,e)};Wt.zoomChanged=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Me.Linear;if(i===Me.Intelligence){var n,a=Math.max.apply(Math,Object(P.a)(zt)),c=Math.min.apply(Math,Object(P.a)(zt)),r=zt.slice(0,zt.length).findIndex((function(t,i){return e>=t&&(e<zt[i+1]||t===a)}));if(-1===r)n=e>=c&&e<=a?t?a:c:t?c:e;else{var o=t?r+1:r-(zt.includes(e)?1:0);n=zt[Te.withinRange(o,[0,zt.length-1])]}return n}var s=t?2:.5;return e*s},Wt.wheelChangePos=function(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=a.zoom,r=void 0===c?1:c,o=a.innerZoom,s=void 0===o?1:o,l=a.basicZoom,d=void 0===l?1:l,u=a.zoomMax,h=void 0===u?1e3:u,f=a.rotate,g=void 0===f?0:f,v=n.x,b=n.y,p=parseFloat((r+.1).toFixed(1))/5;if(e&&t){var m=e.width,y=e.height;[90,270].includes(g)&&(m=e.height,y=e.width);var x=m*s,w=y*s,k=t.x-v,L=t.y-b,C=k/x,I=L/w,O=r+i*p,T=m*(O=Te.withinRange(O,[d,h]))*C,A=y*O*I,S=v+(k-T),P=b+(L-A);return{zoom:O,currentPos:{x:S,y:P},imgInfo:{width:m*O,height:y*O},ratio:p}}return null};var Gt,Kt,Yt,Jt=function(){function e(){Object(T.a)(this,e),this._events=new Map}return Object(A.a)(e,[{key:"on",value:function(e,t){var i=this._events.get(e)||[];i.some((function(e){return e===t}))||this._events.set(e,i.concat(t))}},{key:"singleOn",value:function(e,t){this._events.set(e,[t])}},{key:"emit",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var a=this._events.get(e);a&&a.forEach((function(e){e&&e.apply(void 0,i)}))}},{key:"unbind",value:function(e,t){var i=this._events.get(e);i&&this._events.set(e,i.filter((function(e){return e!==t})))}},{key:"unbindAll",value:function(e){this._events.delete(e)}}]),e}(),Xt={showConfirm:!1,skipWhileNoDependencies:!1,drawOutsideTarget:!1,copyBackwardResult:!1,minWidth:1,minHeight:1,isShowOrder:!1,filterData:["valid","invalid"],attributeConfigurable:!1,attributeList:[],textConfigurable:!1,textCheckType:0,customFormat:""},qt={showConfirm:!1,skipWhileNoDependencies:!1,inputList:[{key:"\u7c7b\u522b1",value:"class1",isMulti:!1,subSelected:[{key:"\u9009\u98791",value:"option1",isDefault:!1},{key:"\u9009\u98792",value:"option1-2",isDefault:!1}]},{key:"\u7c7b\u522b2",value:"class-AH",isMulti:!0,subSelected:[{key:"\u9009\u98792-1",value:"option2-1",isDefault:!1},{key:"\u9009\u98792-2",value:"option2-2",isDefault:!1},{key:"\u9009\u98792-3",value:"option2-3",isDefault:!1}]},{key:"\u7c7b\u522b3",value:"class-0P",isMulti:!1,subSelected:[{key:"\u9009\u98793-1",value:"option3-1",isMulti:!1},{key:"\u9009\u98793-2",value:"option3-2",isDefault:!1},{key:"\u9009\u98793-3",value:"option3-3",isDefault:!1}]}]},Qt={lineType:0,lineColor:0,edgeAdsorption:!1,outOfTarget:!0,copyBackwardResult:!1,isShowOrder:!1,attributeConfigurable:!1,attributeList:[{key:"\u7c7b\u522b1",value:"\u7c7b\u522b1"},{key:"\u7c7b\u522bao",value:"class-ao"},{key:"\u7c7b\u522bM1",value:"class-M1"},{key:"\u7c7b\u522bCm",value:"class-Cm"},{key:"\u7c7b\u522bc3",value:"class-c3"},{key:"\u7c7b\u522ba0",value:"class-a0"},{key:"\u7c7b\u522bu7",value:"class-u7"},{key:"\u7c7b\u522bZb",value:"class-Zb"},{key:"\u7c7b\u522bzi",value:"class-zi"}],textConfigurable:!1,textCheckType:2,customFormat:"",showConfirm:!1,lowerLimitPointNum:2,upperLimitPointNum:"",preReferenceStep:0,skipWhileNoDependencies:!1,filterData:["valid","invalid"]},$t={showConfirm:!1,skipWhileNoDependencies:!1,enableTextRecognition:!1,recognitionMode:"general",configList:[{label:"\u6587\u672c",key:"text",required:!1,default:"",maxLength:1e3}],filterData:["valid","invalid"]},ei={lineType:0,lineColor:0,lowerLimitPointNum:3,edgeAdsorption:!1,drawOutsideTarget:!1,copyBackwardResult:!1,isShowOrder:!1,attributeConfigurable:!1,attributeList:[],textConfigurable:!0,textCheckType:0,customFormat:""},ti=function(e){return"lineTool"===e?Qt:"rectTool"===e?Xt:"tagTool"===e?qt:"textTool"===e?$t:"polygonTool"===e?ei:Xt},ii={toolColor:{1:{valid:{stroke:"rgba(0,0,255,0.50)",fill:"rgba(0,0,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.80)"},validSelected:{stroke:"rgba(0,15,255,1.00)",fill:"rgba(0,15,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,0.60)",fill:"rgba(255,0,0,0.24)"},validHover:{stroke:"rgba(0,15,255,0.80)",fill:"rgba(0,15,255,0.64)"},invalidHover:{stroke:"rgba(255,0,0,0.50)",fill:"rgba(255,0,0,0.40)"}},3:{valid:{stroke:"rgba(0,255,255,0.50)",fill:"rgba(0,255,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.80)"},validSelected:{stroke:"rgba(0,212,255,1.00)",fill:"rgba(0,212,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,0.60)",fill:"rgba(255,0,0,0.24)"},validHover:{stroke:"rgba(0,212,255,0.80)",fill:"rgba(0,212,255,0.64)"},invalidHover:{stroke:"rgba(255,0,0,0.50)",fill:"rgba(255,0,0,0.40)"}},5:{valid:{stroke:"rgba(0,255,0,0.50)",fill:"rgba(0,255,0,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.80)"},validSelected:{stroke:"rgba(149,255,1.00)",fill:"rgba(149,255,0,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,0.60)",fill:"rgba(255,0,0,0.24)"},validHover:{stroke:"rgba(149,255,0,0.80)",fill:"rgba(149,255,0,0.64)"},invalidHover:{stroke:"rgba(255,0,0,0.50)",fill:"rgba(255,0,0,0.40)"}},7:{valid:{stroke:"rgba(255,255,0,0.50)",fill:"rgba(255,255,0,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.80)"},validSelected:{stroke:"rgba(255,230,102,1.00)",fill:"rgba(255,213,0,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,0.60)",fill:"rgba(255,0,0,0.24)"},validHover:{stroke:"rgba(255,230,102,0.80)",fill:"rgba(255,230,102,0.64)"},invalidHover:{stroke:"rgba(255,0,0,0.50)",fill:"rgba(255,0,0,0.40)"}},9:{valid:{stroke:"rgba(255,0,255,0.50)",fill:"rgba(255,0,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.80)"},validSelected:{stroke:"rgba(230,102,255,1.00)",fill:"rgba(213,0,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,0.60)",fill:"rgba(255,0,0,0.24)"},validHover:{stroke:"rgba(230,102,255,0.80)",fill:"rgba(230,102,255,0.64)"},invalidHover:{stroke:"rgba(255,0,0,0.50)",fill:"rgba(255,0,0,0.40)"}}},attributeColor:[{valid:{stroke:"rgba(204,204,204,1.00)",fill:"rgba(204,204,204,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(204,204,204,1.00)",fill:"rgba(204,204,204,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(204,204,204,1.00)",fill:"rgba(204,204,204,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(153,51,255,1.00)",fill:"rgba(153,51,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(153,51,255,1.00)",fill:"rgba(153,51,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(153,51,255,1.00)",fill:"rgba(153,51,255,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(51,254,51,1.00)",fill:"rgba(51,254,51,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(51,254,51,1.00)",fill:"rgba(51,254,51,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(51,254,51,1.00)",fill:"rgba(51,254,51,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(255,51,255,1.00)",fill:"rgba(255,51,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(255,51,255,1.00)",fill:"rgba(255,51,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(255,51,255,1.00)",fill:"rgba(255,51,255,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(204,255,51,1.00)",fill:"rgba(204,255,51,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(204,255,51,1.00)",fill:"rgba(204,255,51,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(204,255,51,1.00)",fill:"rgba(204,255,51,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(51,153,255,1.00)",fill:"rgba(51,153,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(51,153,255,1.00)",fill:"rgba(51,153,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(51,153,255,1.00)",fill:"rgba(51,153,255,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(255,153,51,1.00)",fill:"rgba(255,153,51,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(255,153,51,1.00)",fill:"rgba(255,153,51,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(255,153,51,1.00)",fill:"rgba(255,153,51,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(51,255,238,1.00)",fill:"rgba(51,255,238,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(51,255,238,1.00)",fill:"rgba(51,255,238,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(51,255,238,1.00)",fill:"rgba(51,255,238,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(255,221,51,1.00)",fill:"rgba(255,221,51,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(255,221,51,1.00)",fill:"rgba(255,221,51,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(255,221,51,1.00)",fill:"rgba(255,221,51,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}}],lineColor:{1:"rgba(102, 111, 255, 1 )",3:"rgba(102, 230, 255, 1)",5:"rgba(191, 255, 102, 1)",7:"rgba(255, 230, 102, 1)",9:"rgba(230, 102, 255, 1)"},attributeLineColor:["rgba(204, 204, 204, 1)","rgba(153, 51, 255, 1)","rgba(51, 254, 51, 1)","rgba(255, 51, 255, 1)","rgba(204, 255, 51, 1)","rgba(51, 153, 255, 1)","rgba(255, 153, 51, 1)","rgba(51, 255, 238, 1)","rgba(255, 221, 51, 1)"],color:1,width:2,opacity:9},ni=Object.defineProperty,ai=Object.defineProperties,ci=Object.getOwnPropertyDescriptors,ri=Object.getOwnPropertySymbols,oi=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable,li=function(e,t,i){return t in e?ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},di=function(e,t){for(var i in t||(t={}))oi.call(t,i)&&li(e,i,t[i]);if(ri){var n,a=Object(E.a)(ri(t));try{for(a.s();!(n=a.n()).done;){i=n.value;si.call(t,i)&&li(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},ui=function(e,t){return ai(e,ci(t))};(Kt=Gt||(Gt={}))[Kt.Create=0]="Create",Kt[Kt.Active=1]="Active",Kt[Kt.Edit=1]="Edit",Kt[Kt.None=2]="None",(Yt||(Yt={})).ActiveArea="#B3B8FF";var hi=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"isInLine",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=Te.getFootOfPerpendicular(e,t,i),c=a.length;return c<n}}]),e}(),fi=hi;fi.setSpecialEdgeStyle=function(e){e.lineCap="butt",e.setLineDash([10,10])},fi.setReferenceCtx=function(e){e.lineCap="butt",e.setLineDash([6])},fi.calcOptimalIntersection=function(e,t,i,n,a){var c,r,o=1/0;return e.find((function(i,n){if(0!==n){var a=hi.isInLine(t.pointA,i,e[n-1]),c=hi.isInLine(t.pointB,i,e[n-1]);return a&&c}}))?{point:i}:(e.forEach((function(s,l){if(0!==l){var d={pointA:e[l-1],pointB:s},u=hi.lineIntersection(t,d);if(u&&t){var h=u.onLine2,f=u.onLine1,g=u.x,v=u.y,b=hi.calcDistance(i,u);if(hi.isOnLine(t.pointB.x,t.pointB.y,s.x,s.y,e[l-1].x,e[l-1].y)){if(hi.calcDistance(i,u)<n/a){var p=t.pointB,m=Te.getFootOfPerpendicular(p,d.pointA,d.pointB,!0),y=m.footPoint,x=m.length;if(void 0!==x){var w=hi.calcDistance(d.pointA,y),k=hi.calcDistance(d.pointB,y);r={point:y,minDistance:x},x===1/0&&(r.point=w>k?d.pointB:d.pointA)}}return}b<o&&h&&f&&(o=b,c={x:g,y:v})}}})),c?{point:c,minDistance:o}:r||void 0)},fi.lineIntersection=function(e,t){var i=!1,n=!1,a=hi.getAxisDiff(e),c=hi.getAxisDiff(t),r=c.y*a.x-c.x*a.y;if(0===r)return!1;var o=e.pointA.y-t.pointA.y,s=e.pointA.x-t.pointA.x,l=(t.pointB.x-t.pointA.x)*o-(t.pointB.y-t.pointA.y)*s,d=(e.pointB.x-e.pointA.x)*o-(e.pointB.y-e.pointA.y)*s;return(o=l/r)>0&&o<1&&(i=!0),(s=d/r)>0&&s<1&&(n=!0),{x:e.pointA.x+o*(e.pointB.x-e.pointA.x),y:e.pointA.y+o*(e.pointB.y-e.pointA.y),onLine1:i,onLine2:n}},fi.getAxisDiff=function(e){return{x:e.pointB.x-e.pointA.x,y:e.pointB.y-e.pointA.y}},fi.calcDistance=function(e,t){return Math.sqrt(Math.pow(Math.abs(e.x-t.x),2)+Math.pow(Math.abs(e.y-t.y),2))},fi.drawCurveLine=function(e,t,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5?arguments[5]:void 0,r=Le(t,16);e.save(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=i.color,n&&(e.lineWidth=i.lineWidth),a&&hi.setReferenceCtx(e),t.forEach((function(t,i){var n=null==t?void 0:t.specialEdge,a=r.splice(0,17);e.save(),e.beginPath(),c===i&&(e.lineWidth=4),a.forEach((function(t,i){var a=t.x,c=t.y,r=i>0?"lineTo":"moveTo";n&&hi.setSpecialEdgeStyle(e),e[r](a,c)})),e.stroke(),e.restore()})),e.restore()},fi.calcTwoPointDistance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},fi.pointOverTarget=function(e,t,i,n,a,c,r,o,s,l){var d=e;if(!t)return e;if(i===g.Polygon){var u=hi.getPolygonPointList(n,a);if(0===u.length)return d;if(_n.isInPolygon(e,u))return d;var h=u.concat(u[0]).map((function(e){return s(e)})),f=s(t),v={pointA:f,pointB:s(e)},b=hi.calcOptimalIntersection(h,v,f,r,o);if(!b)return t;var p=l(null==b?void 0:b.point);return d.x=p.x,d.y=p.y,d}if(i===g.Rect){var m=n.x,y=n.y,x=n.width,w=n.height;return d.x=Te.withinRange(d.x,[m,m+x]),d.y=Te.withinRange(d.y,[y,y+w]),d}return d.x=Te.withinRange(d.x,[0,c.width]),d.y=Te.withinRange(d.y,[0,c.height]),d},fi.getPolygonPointList=function(e,t){var i=e.pointList;return t.lineType===z.Line?i:_n.createSmoothCurvePoints(i.reduce((function(e,t){return[].concat(Object(P.a)(e),[t.x,t.y])}),[]),.5,!0,20)},fi.isOnLine=function(e,t,i,n,a,c){return Math.abs((n-t)/(i-e)*(a-e)+t-c)<1e-6&&a>=e&&a<=i},fi.inArea=function(e,t){var i=e.top,n=e.left,a=e.right,c=e.bottom,r=t.x,o=t.y;return o>=i&&o<=c&&r>=n&&r<=a},fi.getVHPoint=function(e,t,i,n){var a=hi.getAngle(e,i);return Math.abs(a)<45?ui(di({},t),{y:n.y}):ui(di({},t),{x:n.x})},fi.getAngle=function(e,t){var i=t.x-e.x,n=t.y-e.y;return 360*Math.atan(n/i)/(2*Math.PI)};var gi=Object.defineProperty,vi=Object.defineProperties,bi=Object.getOwnPropertyDescriptors,pi=Object.getOwnPropertySymbols,mi=Object.prototype.hasOwnProperty,yi=Object.prototype.propertyIsEnumerable,xi=function(e,t,i){return t in e?gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},wi=function(e,t){for(var i in t||(t={}))mi.call(t,i)&&xi(e,i,t[i]);if(pi){var n,a=Object(E.a)(pi(t));try{for(a.s();!(n=a.n()).done;){i=n.value;yi.call(t,i)&&xi(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},ki={min:.2,max:1e3,ratio:.4},Li=function(e){Object(C.a)(i,e);var t=Object(I.a)(i);function i(e){var n,a,c,r,o,s,l,d,u;return Object(T.a)(this,i),(n=t.call(this)).isDrag=!1,n.isSpaceKey=!1,n.innerZoom=1,n.basicZoom=.01,n.isSpaceClick=!1,n.isDragStart=!1,n.startTime=0,n.initImgPos=function(){return e=Object(L.a)(n),t=null,i=k.a.mark((function e(){var t,i,n,a,c,r,o,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.imgNode){e.next=2;break}return e.abrupt("return");case 2:n=null==(t=this._imgAttribute)?void 0:t.zoomRatio,a=null==(i=this._imgAttribute)?void 0:i.isOriginalSize,c=Ft.getInitImgPos(this.size,{width:this.imgNode.width,height:this.imgNode.height},this.rotate,n,a),r=c.currentPos,o=c.imgInfo,s=c.zoom,this.setCurrentPos(r),this.currentPosStorage=r,this.imgInfo=o,this.setZoom(s),this.innerZoom=s,this.render(),this.renderBasicCanvas(),this.emit("dependRender"),this.emit("renderZoom",s);case 14:case"end":return e.stop()}}),e,this)})),new Promise((function(n,a){var c=function(e){try{o(i.next(e))}catch(t){a(t)}},r=function(e){try{o(i.throw(e))}catch(t){a(t)}},o=function(e){return e.done?n(e.value):Promise.resolve(e.value).then(c,r)};o((i=i.apply(e,t)).next())}));var e,t,i},n.getCurrentPos=function(e){var t=Object(L.a)(n),i=t._firstClickCoordinate,a=t.currentPosStorage;try{return i&&a?{y:a.y+e.y-i.y,x:a.x+e.x-i.x}:{x:0,y:0}}catch(c){return console.error(c),{x:0,y:0}}},n.wheelChangePos=function(e,t,i){var a=Object(L.a)(n),c=a.currentPos,r=a.imgNode;if(r){if(n.zoom!==n.basicZoom||-1!==t){var o=Wt.wheelChangePos(r,e,t,c,{zoom:i||n.zoom,innerZoom:n.innerZoom,basicZoom:n.basicZoom,zoomMax:ki.max,rotate:n.rotate});if(o){var s=o.currentPos,l=o.ratio,d=o.zoom,u=o.imgInfo;n.innerZoom=d,n.setZoom(d),n.setCurrentPos(s),n.currentPosStorage=s,n.imgInfo=u,ki.ratio=l,n.emit("renderZoom",d)}}}else console.error("unable to load image")},n.zoomChanged=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me.Linear,i=Wt.zoomChanged(n.zoom,e,t);n.wheelChangePos(n.getGetCenterCoordinate(),i>n.zoom?1:-1,i),n.render(),n.renderBasicCanvas()},n.drawImg=function(){n.imgNode&&Rt.drawImg(n.basicCanvas,n.imgNode,{zoom:n.zoom,currentPos:n.currentPos,rotate:n.rotate,imgAttribute:n._imgAttribute})},n.container=e.container,n.showDefaultCursor=e.showDefaultCursor||!1,n.destroyCanvas(),n.createCanvas(e.size),n.imgNode=e.imgNode,n.isImgError=!e.imgNode,n.basicImgInfo={width:null!=(c=null==(a=e.imgNode)?void 0:a.width)?c:0,height:null!=(o=null==(r=e.imgNode)?void 0:r.height)?o:0,valid:!0,rotate:0},n.forbidOperation=null!=(s=e.forbidOperation)&&s,n.size=e.size,n.currentPos={x:0,y:0},n.zoom=1,n.coord={x:-1,y:-1},n.currentPosStorage={x:0,y:0},n.isShowCursor=!1,n.style={strokeColor:ht[4],fillColor:ht[4],strokeWidth:2,opacity:1},n.attributeLockList=[],n.history=new Bt,n.style=null!=(l=e.style)?l:{},n._imgAttribute=null!=(d=e.imgAttribute)?d:{},n.isHidden=!1,n.dragStatus=Ee.Wait,n.defaultAttribute=null!=(u=null==e?void 0:e.defaultAttribute)?u:"",n.forbidCursorLine=!!e.forbidCursorLine,n.lang=He.Zh,n.onMouseDown=n.onMouseDown.bind(Object(L.a)(n)),n.onMouseMove=n.onMouseMove.bind(Object(L.a)(n)),n.onMouseLeave=n.onMouseLeave.bind(Object(L.a)(n)),n.onMouseUp=n.onMouseUp.bind(Object(L.a)(n)),n.onKeyDown=n.onKeyDown.bind(Object(L.a)(n)),n.onKeyUp=n.onKeyUp.bind(Object(L.a)(n)),n.onWheel=n.onWheel.bind(Object(L.a)(n)),n.onLeftDblClick=n.onLeftDblClick.bind(Object(L.a)(n)),n.onRightDblClick=n.onRightDblClick.bind(Object(L.a)(n)),n.onClick=n.onClick.bind(Object(L.a)(n)),n.clearImgDrag=n.clearImgDrag.bind(Object(L.a)(n)),n.dblClickListener=new Vt(n.container,200),n.coordUtils=new zn(Object(L.a)(n)),n.coordUtils.setBasicImgInfo(n.basicImgInfo),n}return Object(A.a)(i,[{key:"onContextmenu",value:function(e){e.preventDefault()}},{key:"ctx",get:function(){var e;return this._ctx||(null==(e=this.canvas)?void 0:e.getContext("2d"))}},{key:"basicCtx",get:function(){var e;return null==(e=this.basicCanvas)?void 0:e.getContext("2d")}},{key:"rotate",get:function(){var e,t;return null!=(t=null==(e=this.basicImgInfo)?void 0:e.rotate)?t:0}},{key:"valid",get:function(){var e,t;return null==(t=null==(e=this.basicImgInfo)?void 0:e.valid)||t}},{key:"baseIcon",get:function(){return gt[this.style.color]}},{key:"defaultCursor",get:function(){return this.showDefaultCursor?"default":"none"}},{key:"dataList",get:function(){return[]}},{key:"setZoom",value:function(e){this.zoom=e,this.coordUtils.setZoomAndCurrentPos(this.zoom,this.currentPos)}},{key:"setCurrentPos",value:function(e){this.currentPos=e,this.coordUtils.setZoomAndCurrentPos(this.zoom,this.currentPos)}},{key:"updatePosition",value:function(e){var t=e.zoom,i=e.currentPos;this.setZoom(t),this.setCurrentPos(i),this.currentPosStorage=i,this.innerZoom=t,this.renderBasicCanvas(),this.render()}},{key:"setLang",value:function(e){this.lang=e}},{key:"setShowDefaultCursor",value:function(e){this.showDefaultCursor=e,this.container.style.cursor=this.defaultCursor}},{key:"forbidMouseOperation",get:function(){return this.forbidOperation||!1===this.valid}},{key:"init",value:function(){this.eventUnbinding(),this.initPosition(),this.eventBinding(),this.render(),this.renderBasicCanvas()}},{key:"destroy",value:function(){this.destroyCanvas(),this.eventUnbinding()}},{key:"createCanvas",value:function(e){var t=document.createElement("canvas");t.setAttribute("width","".concat(e.width)),t.setAttribute("height","".concat(e.height)),t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.zIndex="0",this.container.appendChild(t),this.basicCanvas=t;var i=document.createElement("canvas");i.setAttribute("width","".concat(e.width)),i.setAttribute("height","".concat(e.height)),i.style.position="absolute",i.style.left="0",i.style.top="0",i.style.zIndex="10",this.container.appendChild(i),this.canvas=i,this.container.style.cursor=this.defaultCursor}},{key:"destroyCanvas",value:function(){this.canvas&&this.container.contains(this.canvas)&&this.container.removeChild(this.canvas),this.basicCanvas&&this.container.contains(this.basicCanvas)&&this.container.removeChild(this.basicCanvas),this.clearInvalidPage(),this.clearImgDrag()}},{key:"setStyle",value:function(e){this.style=e,this.render()}},{key:"setImgNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.imgNode=e,this.setBasicImgInfo(wi({width:e.width,height:e.height,valid:!0,rotate:0},t)),!0===this.isImgError&&(this.isImgError=!1,this.emit("changeAnnotationShow")),"boolean"===typeof t.valid&&this.setValid(t.valid),this.initImgPos(),this.render(),this.renderBasicCanvas()}},{key:"setErrorImg",value:function(){var e=this.isImgError;this.isImgError=!0,this.imgNode=void 0,this.setBasicImgInfo({width:0,height:0,valid:!0,rotate:0}),!1===e&&this.emit("changeAnnotationShow")}},{key:"setBasicImgInfo",value:function(e){this.basicImgInfo=e,this.coordUtils.setBasicImgInfo(e)}},{key:"setForbidOperation",value:function(e){this.forbidOperation=e,this.render()}},{key:"setForbidCursorLine",value:function(e){this.forbidCursorLine=e,this.render()}},{key:"setIsHidden",value:function(e){this.isHidden=e,this.emit("hiddenChange")}},{key:"setIsShowOrder",value:function(e){this.config.isShowOrder=e,this.render()}},{key:"getCoordinate",value:function(e){var t=this.canvas.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}},{key:"getCoordinateUnderZoom",value:function(e){var t=this.canvas.getBoundingClientRect();return{x:e.clientX-t.left-this.currentPos.x,y:e.clientY-t.top-this.currentPos.y}}},{key:"getGetCenterCoordinate",value:function(){return{x:this.size.width/2,y:this.size.height/2}}},{key:"initPosition",value:function(){if(this.basicResult&&this.imgInfo){var e=this.basicResult,t=this.size,i=this.imgNode,n=this._imgAttribute,a=this.imgInfo,c=this.dependToolName;if(e&&i&&c){var r=e;switch(c){case g.Polygon:case g.Line:if(e.pointList){var o=Te.calcViewportBoundaries(e.pointList);r={x:o.left,y:o.top,width:o.right-o.left,height:o.bottom-o.top}}}var s=Ft.getBasicRecPos(i,r,t,void 0,null==n?void 0:n.zoomRatio,null==n?void 0:n.isOriginalSize);s&&(this.setCurrentPos(s.currentPos),this.currentPosStorage=this.currentPos,this.imgInfo=(l=wi({},a),d={width:a.width/this.innerZoom*s.innerZoom,height:a.height/this.innerZoom*s.innerZoom},vi(l,bi(d))),this.innerZoom=s.innerZoom,this.setZoom(s.innerZoom),this.render(),this.renderBasicCanvas())}}else this.initImgPos();var l,d}},{key:"undo",value:function(){this.history.undo()}},{key:"redo",value:function(){this.history.redo()}},{key:"clearCanvas",value:function(){var e;null==(e=this.ctx)||e.clearRect(0,0,this.size.width,this.size.height)}},{key:"clearBasicCanvas",value:function(){var e;null==(e=this.basicCtx)||e.clearRect(0,0,this.size.width,this.size.height)}},{key:"eventBinding",value:function(){this.dblClickListener.addEvent((function(){}),this.onLeftDblClick,this.onRightDblClick),this.container.addEventListener("mousedown",this.onMouseDown),this.container.addEventListener("mousemove",this.onMouseMove),this.container.addEventListener("mouseup",this.onMouseUp),this.container.addEventListener("mouseleave",this.onMouseLeave),this.container.addEventListener("click",this.onClick),this.container.addEventListener("wheel",this.onWheel),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),window.parent.document.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"eventUnbinding",value:function(){this.container.removeEventListener("mousedown",this.onMouseDown),this.container.removeEventListener("mousemove",this.onMouseMove),this.container.removeEventListener("mouseup",this.onMouseUp),this.container.removeEventListener("mouseleave",this.onMouseLeave),this.container.removeEventListener("wheel",this.onWheel),this.container.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),window.parent.document.removeEventListener("contextmenu",this.onContextmenu,!1),this.dblClickListener.removeEvent()}},{key:"clearImgDrag",value:function(){this.isDrag=!1,this.isDragStart=!1,this.isSpaceClick=!1,this.startTime=0,this.container.style.cursor=this.defaultCursor,this.forbidCursorLine=!1}},{key:"onMouseDown",value:function(e){if(!this.canvas||this.isImgError)return!0;var t=this.getCoordinate(e);(this.isSpaceKey&&0===e.button||2===e.button)&&(e.stopPropagation(),this._firstClickCoordinate=t,this.currentPosStorage=this.currentPos,this.isSpaceClick=!0,this.isDragStart=!0,this.startTime=(new Date).getTime())}},{key:"onMouseMove",value:function(e){if(!this.canvas||this.isImgError)return!0;var t=this.getCoordinate(e);this.isShowCursor&&(this.coord=t,this.render());try{if(!t||!Object(_.isNumber)(null==t?void 0:t.x)||!Object(_.isNumber)(null==t?void 0:t.y))throw new Error("coord error");if(this.coord=t,(this.isSpaceClick||this.isDragStart)&&this._firstClickCoordinate){var i=this.getCurrentPos(t);this.setCurrentPos(i),this.isDrag=!0,this.container.style.cursor="grabbing",this.forbidCursorLine=!0,this.renderBasicCanvas(),this.emit("dependRender")}this.render()}catch(n){console.error(n)}}},{key:"onMouseUp",value:function(e){if(!this.canvas||this.isImgError)return!0;if(this.container.style.cursor=this.defaultCursor,this.forbidCursorLine=!1,this.isDrag=!1,this.isDragStart=!1,this.isSpaceClick=!1,0!==this.startTime&&this._firstClickCoordinate){var t=(new Date).getTime(),i=this.getCoordinate(e);if(t-this.startTime>1e3||!0===this.isSpaceKey||fi.calcTwoPointDistance(i,this._firstClickCoordinate)>10)return e.stopPropagation(),this.startTime=0,this.render(),!0}this.startTime=0,this.render()}},{key:"onMouseLeave",value:function(){this.clearImgDrag()}},{key:"onClick",value:function(e){}},{key:"onLeftDblClick",value:function(e){}},{key:"onRightDblClick",value:function(e){this.clearImgDrag()}},{key:"onKeyDown",value:function(e){switch(e.keyCode===Ht.Alt&&e.preventDefault(),e.keyCode){case Ht.Space:this.isSpaceKey=!0;break;case Ht.Z:if(e.ctrlKey)return e.shiftKey?this.redo():this.undo(),!1}return!0}},{key:"onKeyUp",value:function(e){if(e.keyCode===Ht.Space)this.isSpaceKey=!1}},{key:"onWheel",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.imgNode&&this.coord){e.preventDefault(),e.stopPropagation();var i=this.getCoordinate(e),n=e.deltaY||e.wheelDelta,a=0;n>0&&this.zoom>ki.min&&(a=-1),n<0&&this.zoom<ki.max&&(a=1),this.wheelChangePos(i,a),this.emit("dependRender"),t&&this.render(),this.renderBasicCanvas()}}},{key:"renderCursorLine",value:function(){var e,t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null!=(e=t.style.lineColor[0])?e:"";if(this.ctx&&!this.forbidCursorLine){var n=this.coord,a=n.x,c=n.y;Rt.drawLine(this.canvas,{x:0,y:c},{x:1e4,y:c},{color:i}),Rt.drawLine(this.canvas,{x:a,y:0},{x:a,y:1e4},{color:i}),Rt.drawCircleWithFill(this.canvas,{x:a,y:c},1,{color:"white"})}}},{key:"setSize",value:function(e){this.size=e,this.container.contains(this.canvas)&&(this.destroyCanvas(),this.createCanvas(e),this.eventUnbinding(),this.init())}},{key:"setImgAttribute",value:function(e){var t=this._imgAttribute;this._imgAttribute=e,(null==t?void 0:t.zoomRatio)===e.zoomRatio&&t.isOriginalSize===e.isOriginalSize?(this.renderBasicCanvas(),this.render()):this.initImgPos()}},{key:"clearResult",value:function(e){}},{key:"setValid",value:function(e){this.basicImgInfo.valid=e,!1===e?(this.renderInvalidPage(),this.clearResult(!1)):this.clearInvalidPage()}},{key:"setRotate",value:function(e){this.basicImgInfo.rotate=e}},{key:"setBasicResult",value:function(e){this.basicResult=e,this.coordUtils.setBasicResult(e),this.initPosition(),this.emit("dependRender")}},{key:"setDependName",value:function(e,t){this.dependToolName=e,this.coordUtils.setDependInfo(e,t)}},{key:"setAttributeLockList",value:function(e){this.attributeLockList=e,this.render()}},{key:"setConfig",value:function(e){this.config=Pn.jsonParser(e)}},{key:"updateRotate",value:function(){if(this.dependToolName)return this.emit("messageInfo",xt.getMessagesByLocale(et.NoRotateInDependence,this.lang)),!1;if(this.dataList.length>0)return this.emit("messageInfo",xt.getMessagesByLocale(et.NoRotateNotice,this.lang)),!1;var e=Te.getRotate(this.basicImgInfo.rotate);this.basicImgInfo.rotate=e,this.initImgPos(),this.emit("updateResult")}},{key:"getColor",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config;if(!0===(null==i?void 0:i.attributeConfigurable)&&this.style.attributeColor){var n=Pt.getAttributeIndex(t,null!=(e=i.attributeList)?e:[])+1;return this.style.attributeColor[n]}var a=this.style,c=a.color,r=a.toolColor;return r?r[c]:ii.toolColor[1]}},{key:"getLineColor",value:function(){var e,t,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!0===(null==(e=this.config)?void 0:e.attributeConfigurable)){var a=Pt.getAttributeIndex(n,null!=(i=null==(t=this.config)?void 0:t.attributeList)?i:[])+1;return this.style.attributeLineColor?this.style.attributeLineColor[a]:""}var c=this.style,r=c.color,o=c.lineColor;return r&&o?o[r]:""}},{key:"clearInvalidPage",value:function(){this._invalidDOM&&this.container&&this.container.contains(this._invalidDOM)&&(this.container.removeChild(this._invalidDOM),this._invalidDOM=void 0)}},{key:"renderInvalidPage",value:function(){this.container&&!this._invalidDOM&&(this._invalidDOM=Ut.renderInvalidPage(this.canvas,this.container,this.lang))}},{key:"renderBasicCanvas",value:function(){if(this.basicCanvas){this.clearBasicCanvas(),this.drawImg();if(this.basicResult&&this.dependToolName)switch(this.dependToolName){case g.Rect:Rt.drawRect(this.basicCanvas,Un.changeRectByZoom(this.basicResult,this.zoom,this.currentPos),{color:"rgba(204,204,204,1.00)",thickness:3});break;case g.Polygon:Rt.drawPolygonWithFillAndLine(this.basicCanvas,Un.changePointListByZoom(this.basicResult.pointList,this.zoom,this.currentPos),{fillColor:"transparent",strokeColor:"rgba(204,204,204,1.00)",isClose:!0,thickness:3});break;case g.Line:Rt.drawLineWithPointList(this.basicCanvas,Un.changePointListByZoom(this.basicResult.pointList,this.zoom,this.currentPos),{color:"rgba(204,204,204,1.00)",thickness:3})}}}},{key:"render",value:function(){this.canvas&&this.ctx&&this.imgNode&&this.clearCanvas()}},{key:"changeStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultAttribute;this.emit("changeStyle",{attribute:e})}}]),i}(Jt),Ci=Object.defineProperty,Ii=Object.getOwnPropertySymbols,Oi=Object.prototype.hasOwnProperty,Ti=Object.prototype.propertyIsEnumerable,Ai=function(e,t,i){return t in e?Ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},Si=function(e,t){for(var i in t||(t={}))Oi.call(t,i)&&Ai(e,i,t[i]);if(Ii){var n,a=Object(E.a)(Ii(t));try{for(a.s();!(n=a.n()).done;){i=n.value;Ti.call(t,i)&&Ai(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},Pi=8,Ei=26,Di=function(e){Object(C.a)(i,e);var t=Object(I.a)(i);function i(e){var n;return Object(T.a)(this,i),(n=t.call(this,e)).getHoverRectID=function(e){var t,i,a=n.getCoordinateUnderZoom(e),c=null!=(i=null==(t=n.resultList.find((function(e){return e.toolName===g.Rect})))?void 0:t.result)?i:[];if(c.length>0){var r=c.filter((function(e){return Qe.isInRect(a,e,2,n.zoom)}));if(0===r.length)return"";if(1===r.length)return r[0].id;if(r.length>1)return r.map((function(e){return{size:e.width*e.height,id:e.id}})).sort((function(e,t){return e.size-t.size}))[0].id}return""},n.resultList=[],n.hoverID=[],n.fillID=[],n.render=n.render.bind(Object(L.a)(n)),n.drawPolygon=n.drawPolygon.bind(Object(L.a)(n)),n.drawRect=n.drawRect.bind(Object(L.a)(n)),n.drawTag=n.drawTag.bind(Object(L.a)(n)),n.setShowDefaultCursor(!0),n.forbidOperation=!0,n}return Object(A.a)(i,[{key:"onMouseDown",value:function(e){var t,n;if(Object(y.a)(Object(x.a)(i.prototype),"onMouseDown",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo)return!0;var a=this.mouseHoverID,c=null!=(n=null==(t=this.resultList.find((function(e){return e.toolName===g.Rect})))?void 0:t.result)?n:[];if(0===e.button){var r=[a],o=!0;a&&c.find((function(e){return e.id===a&&(null==e?void 0:e.isSelected)}))&&(o=!1),a||(r=c.map((function(e){return e.id})),o=!1),this.emit("setSelectedID",r,o),this.render()}}},{key:"updateRotate",value:function(){}},{key:"onMouseMove",value:function(e){if(!Object(y.a)(Object(x.a)(i.prototype),"onMouseMove",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){var t=this.mouseHoverID,n=this.getHoverRectID(e);if(t!==n){this.mouseHoverID=n;var a=[n];n||(a=[]),this.emit("setHoverID",a),this.render()}}}},{key:"setResult",value:function(e){this.resultList=Object(_.cloneDeep)(e),this.render()}},{key:"drawPolygon",value:function(e,t){var i=this;null==e||e.forEach((function(e){var n,a,c,r,o,s=i.getColor(e.attribute,t),l=jt.getStrokeAndFill(s,e.valid),d=null!=(a=null==(n=i.style)?void 0:n.width)?a:2;i.hoverID.includes(e.id)?(d=4,Rt.drawPolygonWithFillAndLine(i.canvas,Un.changePointListByZoom(e.pointList,i.zoom,i.currentPos),{fillColor:l.fill,strokeColor:l.stroke,pointColor:"white",thickness:d,lineCap:"round",isClose:!0,lineType:null==t?void 0:t.lineType})):Rt.drawPolygon(i.canvas,Un.changePointListByZoom(e.pointList,i.zoom,i.currentPos),{color:l.fill,lineType:null==(c=i.config)?void 0:c.lineType,thickness:d,isClose:!0}),Rt.drawText(i.canvas,Un.changePointByZoom(e.pointList[0],i.zoom,i.currentPos),null!=(o=Pt.getAttributeShowText(e.attribute,null!=(r=null==t?void 0:t.attributeList)?r:[]))?o:"",Si({color:l.stroke},Be));var u=Un.changePointListByZoom(e.pointList||[],i.zoom,i.currentPos),h=u[u.length-1];Rt.drawText(i.canvas,{x:h.x+Pi,y:h.y+Ei},null==e?void 0:e.textAttribute,Si({color:l.stroke},Be))}))}},{key:"drawRect",value:function(e,t){var i=this;null==e||e.forEach((function(e){var n=1;i.hoverID.includes(e.id)&&(n=3);var a=i.getColor(e.attribute,t),c=Un.changeRectByZoom(e,i.zoom,i.currentPos);Rt.drawRect(i.canvas,c,{color:(null==e?void 0:e.valid)?a.valid.stroke:a.invalid.stroke,thickness:n}),i.fillID.includes(e.id)&&Rt.drawRectWithFill(i.canvas,c,{color:(null==e?void 0:e.valid)?a.valid.fill:a.invalid.fill})}))}},{key:"drawTag",value:function(e,t){var i=e.reduce((function(e,i){return[].concat(Object(P.a)(e),Object(P.a)((null==t?void 0:t.inputList)?st.getTagNameList(i.result,t.inputList):st.getTagnameListWithoutConfig(i.result)))}),[]);Rt.drawTag(this.canvas,i)}},{key:"setHoverID",value:function(e){this.hoverID=e,this.render()}},{key:"setFillID",value:function(e){this.fillID=e,this.render()}},{key:"render",value:function(){var e,t=this;Object(y.a)(Object(x.a)(i.prototype),"render",this).call(this),null==(e=this.resultList)||e.forEach((function(e){switch(null==e?void 0:e.toolName){case g.Rect:t.drawRect(e.result,Pn.jsonParser(e.config));break;case g.Polygon:t.drawPolygon(e.result,Pn.jsonParser(e.config));break;case g.Tag:t.drawTag(e.result,Pn.jsonParser(e.config))}}))}},{key:"exportData",value:function(){return[[],{}]}}]),i}(Li),_i=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"getMousePositionOnCanvasFromEvent",value:function(e,t){if(t&&e){var i=t.getBoundingClientRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}return null}},{key:"getClientRect",value:function(e){if(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return null}},{key:"getSize",value:function(e){if(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}return null}},{key:"inViewPort",value:function(e,t){return!!e&&(Te.isInRange(e.x,[t.left,t.right])&&Te.isInRange(e.y,[t.top,t.bottom]))}}]),e}();_i.getViewPort=function(e,t,i){var n=e.width,a=e.height,c=t.x,r=(0-t.y)/i,o=(0-c)/i;return{top:r,bottom:r+a/i,left:o,right:o+n/i}};var Ri,Ni=function(){function e(t){var i=this;Object(T.a)(this,e),this.textKeyDown=function(e){if(e.stopPropagation(),e.keyCode===Ht.Enter)i.submitTextarea(),i.appendToContainer()};var n=t.container,a=t.icon,c=t.color,r=t.getCurrentSelectedData,o=t.updateSelectedTextAttribute,s=t.width||164;this.container=n,this.getCurrentSelectedData=r,this.updateSelectedTextAttribute=o,this._textAttributeDOM=this.initTextAttributeDOM(),this._iconDOM=this.initIconDOM(a),this._textDOM=this.initTextDOM(s,16),this._textareaDOM=this.initTextareaDOM(s,c),this.appendToContainer()}return Object(A.a)(e,[{key:"isExit",get:function(){return!!this._textAttributeDOM&&this.container.contains(this._textAttributeDOM)}},{key:"isExitTextareaDOM",get:function(){return!!this._textareaDOM&&this.container.contains(this._textareaDOM)}},{key:"updateIcon",value:function(e){this._iconDOM&&(this._iconDOM.innerHTML=e)}},{key:"appendToContainer",value:function(){this._textAttributeDOM&&this._textDOM&&this._iconDOM&&(this.container.appendChild(this._textAttributeDOM),this._textAttributeDOM.appendChild(this._textDOM),this._textAttributeDOM.appendChild(this._iconDOM))}},{key:"initTextAttributeDOM",value:function(){var e=document.createElement("div");return e.setAttribute("id","textArea"),e}},{key:"initTextDOM",value:function(e,t){var i=document.createElement("span");return i.setAttribute("style","\n        width: ".concat(Math.max(e,30),"px;\n        line-height: ").concat(t,"px;\n        word-break: break-all;\n        white-space: pre-line;\n        font-style: italic;\n      ")),i}},{key:"initIconDOM",value:function(e){var t=this,i=document.createElement("div");return i.setAttribute("id","annotation_text"),i.innerHTML=e,i.addEventListener("mouseup",(function(e){e.stopPropagation(),t.renderTextarea()})),i.addEventListener("mousedown",(function(e){e.stopPropagation()})),i.addEventListener("contextmenu",(function(e){e.stopPropagation()})),i.setAttribute("style","\n        position: absolute;\n        left: -20px;\n        top: 4px;\n        cursor: pointer;\n        z-index: 10\n      "),i}},{key:"initTextareaDOM",value:function(e,t){var i=document.createElement("textarea");return i.addEventListener("click",(function(e){e.stopPropagation()})),i.addEventListener("mouseup",(function(e){e.stopPropagation()})),i.setAttribute("style","\n      background-color: transparent;\n      border-radius: 5px;\n      border-color: ".concat(t,";\n      outline: none;\n      resize: none;\n      width: ").concat(Math.max(e,30),"px;\n      ")),i.setAttribute("maxLength","".concat(se)),i}},{key:"removeTextDOM",value:function(){this._textAttributeDOM&&this._textDOM&&this._textAttributeDOM.removeChild(this._textDOM)}},{key:"removeIconDOM",value:function(){this._textAttributeDOM&&this._iconDOM&&this._textAttributeDOM.removeChild(this._iconDOM)}},{key:"removeTextareaDOM",value:function(){var e,t;this._textareaDOM&&this._textAttributeDOM&&(null==(e=this._textAttributeDOM)?void 0:e.contains(this._textareaDOM))&&(null==(t=this._textAttributeDOM)||t.removeChild(this._textareaDOM))}},{key:"submitTextarea",value:function(){var e;this._textareaDOM&&(this.updateSelectedTextAttribute(null==(e=this._textareaDOM)?void 0:e.value),this.removeTextareaDOM(),this.clearTextAttribute())}},{key:"clearTextAttribute",value:function(){this._textAttributeDOM&&this.container.contains(this._textAttributeDOM)&&this.container.removeChild(this._textAttributeDOM)}},{key:"renderTextarea",value:function(){if(this._textAttributeDOM&&this._textareaDOM){var e=this.getCurrentSelectedData();if(e){var t=e.width,i=void 0===t?164:t,n=e.textAttribute,a=e.color;this._textareaDOM.value="".concat(n),this._textareaDOM.setAttribute("style","\n      background-color: rgba(0,0,0,0.4);\n      border-radius: 5px;\n      border-color: ".concat(a,";\n      outline: none;\n      resize: none;\n      font-style: italic;\n      font-weight: 900;\n      text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.6);\n      width: ").concat(Math.max(i,30),"px;\n      ")),this._textareaDOM.setAttribute("maxLength","".concat(se)),this._textAttributeDOM.appendChild(this._textareaDOM),this.removeIconDOM(),this.removeTextDOM(),this._textareaDOM.focus(),this._textareaDOM.addEventListener("keydown",this.textKeyDown)}}}},{key:"update",value:function(e,t){var i,n=t.left,a=t.top,c=t.color,r=t.width,o=void 0===r?164:r,s=Math.max(o,30);null==(i=this._textAttributeDOM)||i.setAttribute("style","\n        position: absolute; \n        width: ".concat(s,"px;\n        font-size: 14px; \n        left:").concat(n,"px; \n        top: ").concat(a,"px; \n        color: ").concat(c,";\n      ")),this._textDOM&&(this._textDOM.innerHTML="".concat(e)),this._textareaDOM&&(this._textareaDOM.style.width="".concat(s,"px"),this._textareaDOM.style.borderColor="".concat(c))}},{key:"changeSelected",value:function(){this.isExitTextareaDOM&&this.submitTextarea()}}]),e}(),Mi=Object.defineProperty,ji=Object.defineProperties,Hi=Object.getOwnPropertyDescriptors,Zi=Object.getOwnPropertySymbols,Bi=Object.prototype.hasOwnProperty,Vi=Object.prototype.propertyIsEnumerable,Fi=function(e,t,i){return t in e?Mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},Ui=function(e,t){for(var i in t||(t={}))Bi.call(t,i)&&Fi(e,i,t[i]);if(Zi){var n,a=Object(E.a)(Zi(t));try{for(a.s();!(n=a.n()).done;){i=n.value;Vi.call(t,i)&&Fi(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},zi=function(e,t){return ji(e,Hi(t))},Wi=8,Gi=26,Ki=function(e){Object(C.a)(i,e);var t=Object(I.a)(i);function i(e){var n;return Object(T.a)(this,i),(n=t.call(this,e)).isAllowDouble=function(e){var t=Object(L.a)(n).selectedID,i=n.getHoverID(e);return!(!t||t!==i)},n.textChange=function(e){!1!==n.config.textConfigurable&&n.selectedID&&(n.setPolygonList(Pt.textChange(e,n.selectedID,n.polygonList)),n.emit("selectedChange"),n.render())},n.config=Pn.jsonParser(e.config),n.drawingPointList=[],n.polygonList=[],n.hoverPointIndex=-1,n.hoverEdgeIndex=-1,n.drawingHistory=new Bt,n.isCtrl=!1,n.isAlt=!1,n.getCurrentSelectedData=n.getCurrentSelectedData.bind(Object(L.a)(n)),n.updateSelectedTextAttribute=n.updateSelectedTextAttribute.bind(Object(L.a)(n)),n}return Object(A.a)(i,[{key:"eventBinding",value:function(){Object(y.a)(Object(x.a)(i.prototype),"eventBinding",this).call(this),this.container.removeEventListener("mouseup",this.onMouseUp),this.container.addEventListener("mouseup",this.dragMouseUp),this.dblClickListener.addEvent(this.onMouseUp,this.onLeftDblClick,this.onRightDblClick,this.isAllowDouble)}},{key:"eventUnbinding",value:function(){Object(y.a)(Object(x.a)(i.prototype),"eventUnbinding",this).call(this),this.container.removeEventListener("mouseup",this.dragMouseUp)}},{key:"destroy",value:function(){Object(y.a)(Object(x.a)(i.prototype),"destroy",this).call(this),this._textAttributInstance&&this._textAttributInstance.clearTextAttribute()}},{key:"selectedPolygon",get:function(){return _n.getPolygonByID(this.polygonList,this.selectedID)}},{key:"polygonListUnderZoom",get:function(){var e=this;return this.polygonList.map((function(t){return zi(Ui({},t),{pointList:Un.changePointListByZoom(t.pointList,e.zoom)})}))}},{key:"selectedText",get:function(){var e;return null==(e=this.selectedPolygon)?void 0:e.textAttribute}},{key:"dataList",get:function(){return this.polygonList}},{key:"currentShowList",get:function(){var e=[],t=Pn.getRenderResultList(this.polygonList,Pn.getSourceID(this.basicResult),this.attributeLockList,this.selectedID),i=Object(S.a)(t,2),n=i[0],a=i[1];return e=n,this.isHidden&&(e=[]),a&&e.push(a),e}},{key:"currentPageResult",get:function(){var e=Pn.getRenderResultList(this.polygonList,Pn.getSourceID(this.basicResult),[]);return Object(S.a)(e,1)[0]}},{key:"setResult",value:function(e){this.clearActiveStatus(),this.setPolygonList(e),this.render()}},{key:"setPolygonDataByID",value:function(e,t){return this.polygonList.map((function(i){return i.id===t?Ui(Ui({},i),e):i}))}},{key:"addPointInDrawing",value:function(e){if(this.imgInfo){var t=this.config,i=t.upperLimitPointNum,n=t.edgeAdsorption;if(i&&this.drawingPointList.length>=i)this.emit("messageInfo","".concat(xt.getMessagesByLocale(et.UpperLimitErrorNotice,this.lang)).concat(i));else{this.setSelectedID("");var a=this.getCoordinateUnderZoom(e),c=Un.changeDrawOutsideTarget(a,{x:0,y:0},this.imgInfo,this.config.drawOutsideTarget,this.basicResult,this.zoom);if(0!==Un.returnClosePointIndex(c,Un.changePointListByZoom(this.drawingPointList,this.zoom))){var r=_n.getClosestPoint(c,this.polygonListUnderZoom,this.config.lineType,10).dropFoot,o=Un.changePointByZoom(r&&!1===e.altKey&&n?r:c,1/this.zoom);this.drawingPointList.push(o),1===this.drawingPointList.length?this.drawingHistory.initRecord(this.drawingPointList):this.drawingHistory.pushHistory(this.drawingPointList)}else this.addDrawingPointToPolygonList()}}}},{key:"clearResult",value:function(){this.setPolygonList([]),this.setSelectedID(void 0),this.render()}},{key:"clearPolygonDrag",value:function(){this.drawingPointList=[],this.dragInfo=void 0,this.dragInfo=void 0,this.dragStatus=Ee.Wait,this.hoverEdgeIndex=-1,this.hoverPointIndex=-1,this.hoverID=""}},{key:"clearActiveStatus",value:function(){this.clearPolygonDrag(),this.setSelectedID(void 0)}},{key:"setPolygonList",value:function(e){var t=this.polygonList.length;this.polygonList=e,t!==e.length&&this.emit("updatePageNumber")}},{key:"setSelectedID",value:function(e){var t,i,n=this.selectedID;e!==n&&n&&(null==(t=this._textAttributInstance)||t.changeSelected()),e||null==(i=this._textAttributInstance)||i.clearTextAttribute(),this.selectedID=e,this.render(),this.emit("selectedChange")}},{key:"setDefaultAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.defaultAttribute;if(this.defaultAttribute=e,t!==e){this.changeStyle(e),this.emit("changeAttributeSidebar");var i=this.selectedID;if(i&&(this.selectedPolygon&&(this.selectedPolygon.attribute=e),this.history.pushHistory(this.polygonList),this.render()),this._textAttributInstance){if(this.attributeLockList.length>0&&!this.attributeLockList.includes(e))return void this._textAttributInstance.clearTextAttribute();this._textAttributInstance.updateIcon(this.getTextIconSvg(e))}}}},{key:"setStyle",value:function(e){var t;Object(y.a)(Object(x.a)(i.prototype),"setStyle",this).call(this,e),this._textAttributInstance&&!1===this.config.attributeConfigurable&&(null==(t=this._textAttributInstance)||t.updateIcon(this.getTextIconSvg()))}},{key:"setPolygonValidAndRender",value:function(e){if(e){var t=this.polygonList.map((function(t){return t.id===e?zi(Ui({},t),{valid:!t.valid}):t}));this.setPolygonList(t),this.history.pushHistory(this.polygonList),this.render(),this.emit("updateResult")}}},{key:"addDrawingPointToPolygonList",value:function(){var e=this,t=this.config.lowerLimitPointNum,i=void 0===t?3:t;if(i<3&&(i=3),this.drawingPointList.length<i)return this.drawingPointList=[],void(this.editPolygonID="");var n=Pn.getSourceID(this.basicResult),a=Object(P.a)(this.polygonList);if(this.editPolygonID){var c=a.find((function(t){return t.id===e.editPolygonID}));if(!c)return;c.pointList=this.drawingPointList,this.editPolygonID=""}else{var r=$e(8,62),o={id:r,sourceID:n,valid:!this.isCtrl,textAttribute:"",pointList:this.drawingPointList,attribute:this.defaultAttribute,order:Pn.getMaxOrder(a.filter((function(e){return Pn.isSameSourceID(e.sourceID,n)})))+1};if(this.config.textConfigurable){var s;s=Pt.getTextAttribute(this.polygonList.filter((function(e){return Pn.isSameSourceID(e.sourceID,n)})),this.config.textCheckType),o=zi(Ui({},o),{textAttribute:s})}a.push(o),this.setSelectedIdAfterAddingDrawing(r)}this.setPolygonList(a),this.isCtrl=!1,this.drawingPointList=[],this.history.pushHistory(a)}},{key:"setSelectedIdAfterAddingDrawing",value:function(e){0!==this.drawingPointList.length&&(this.config.textConfigurable?this.setSelectedID(e):this.setSelectedID())}},{key:"getHoverID",value:function(e){var t,i=this,n=this.getCoordinateUnderZoom(e),a=this.currentShowList.map((function(e){return zi(Ui({},e),{pointList:Un.changePointListByZoom(e.pointList,i.zoom)})}));return _n.getHoverPolygonID(n,a,10,null==(t=this.config)?void 0:t.lineType)}},{key:"getHoverEdgeIndex",value:function(e){var t;if(!this.selectedID)return-1;var i=this.selectedPolygon;if(!i)return-1;var n=this.getCoordinateUnderZoom(e),a=Un.changePointListByZoom(i.pointList,this.zoom);return _n.getHoverEdgeIndex(n,a,null==(t=this.config)?void 0:t.lineType)}},{key:"getHoverPointIndex",value:function(e){if(!this.selectedID)return-1;var t=this.selectedPolygon;if(!t)return-1;var i=this.getCoordinateUnderZoom(e),n=Un.changePointListByZoom(t.pointList,this.zoom);return Un.returnClosePointIndex(i,n)}},{key:"deletePolygon",value:function(e){var t;e&&(this.setPolygonList(this.polygonList.filter((function(t){return t.id!==e}))),this.history.pushHistory(this.polygonList),null==(t=this._textAttributInstance)||t.clearTextAttribute(),this.emit("selectedChange"),this.render())}},{key:"deletePolygonPoint",value:function(e){if(this.selectedID){var t=this.selectedPolygon;if(t){var i=this.config.lowerLimitPointNum;i<3&&(i=3),t.pointList.length<=i?this.emit("messageInfo","".concat(xt.getMessagesByLocale(et.LowerLimitErrorNotice,this.lang)).concat(i)):(null==t||t.pointList.splice(e,1),this.history.pushHistory(this.polygonList),this.render())}}}},{key:"spaceKeydown",value:function(){var e,t;this.selectedID&&(this.editPolygonID=this.selectedID,this.drawingPointList=null!=(t=null==(e=this.selectedPolygon)?void 0:e.pointList)?t:[],this.drawingHistory.empty(),this.drawingHistory.initRecord(this.drawingPointList),this.hoverID="",this.setSelectedID(""),this.render())}},{key:"onTabKeyDown",value:function(e){if(e.preventDefault(),!(this.drawingPointList.length>0)){var t=Re.ascend;e.shiftKey&&(t=Re.descend);var i=Pn.getRenderResultList(this.polygonList,Pn.getSourceID(this.basicResult),this.attributeLockList,this.selectedID),n=Object(S.a)(i,2),a=n[0],c=n[1],r=Object(P.a)(a);c&&(r=[].concat(Object(P.a)(r),[c]));var o=_i.getViewPort(this.canvas,this.currentPos,this.zoom),s=r.map((function(e){var t,i,n,a;return zi(Ui({},e),{x:null!=(i=null==(t=e.pointList[0])?void 0:t.x)?i:0,y:null!=(a=null==(n=e.pointList[0])?void 0:n.y)?a:0})})).filter((function(e){return _i.inViewPort({x:e.x,y:e.y},o)})),l=Pn.getNextSelectedRectID(s,t,this.selectedID);if(l){this.setSelectedID(l.id);var d=this.selectedPolygon;d&&this.setDefaultAttribute(d.attribute)}this.render()}}},{key:"onKeyDown",value:function(e){if(Pn.hotkeyFilter(e)&&!1!==Object(y.a)(Object(x.a)(i.prototype),"onKeyDown",this).call(this,e)){var t=e.keyCode;switch(t){case Ht.Space:this.spaceKeydown();break;case Ht.Esc:this.drawingPointList=[],this.editPolygonID="";break;case Ht.F:this.selectedID&&this.setPolygonValidAndRender(this.selectedID);break;case Ht.Z:this.setIsHidden(!this.isHidden),this.render();break;case Ht.Delete:this.deletePolygon(this.selectedID),this.render();break;case Ht.Ctrl:this.isCtrl=!0;break;case Ht.Alt:!1===this.isAlt&&(e.preventDefault(),this.isAlt=!0,this.render());break;case Ht.Tab:this.onTabKeyDown(e);break;default:if(this.config.attributeConfigurable){var n=Pt.getAttributeByKeycode(t,this.config.attributeList);void 0!==n&&this.setDefaultAttribute(n)}}}}},{key:"onKeyUp",value:function(e){switch(Object(y.a)(Object(x.a)(i.prototype),"onKeyUp",this).call(this,e),e.keyCode){case Ht.Ctrl:this.isCtrl=!1;break;case Ht.Alt:var t=this.isAlt;this.isAlt=!1,!0===t&&this.render()}}},{key:"rightMouseUp",value:function(){if(this.drawingPointList.length>0)this.addDrawingPointToPolygonList();else{this.setSelectedID(this.hoverID);var e=this.selectedPolygon;e&&this.setDefaultAttribute(e.attribute)}}},{key:"onLeftDblClick",value:function(e){if(this.hoverEdgeIndex>-1){var t=this.getCoordinateUnderZoom(e),i=this.selectedPolygon;if(!i)return;var n=_n.getClosestPoint(t,this.polygonListUnderZoom,this.config.lineType,10).dropFoot;if(!n)return;var a=this.config.upperLimitPointNum;if(a&&i.pointList.length>=a)return this.emit("messageInfo","".concat(xt.getMessagesByLocale(et.UpperLimitErrorNotice,this.lang)).concat(a)),void this.clearPolygonDrag();null==i||i.pointList.splice(this.hoverEdgeIndex+1,0,Un.changePointByZoom(n,1/this.zoom)),this.setPolygonDataByID(i,this.selectedID),this.history.pushHistory(this.polygonList),this.hoverPointIndex=-1,this.hoverEdgeIndex=-1,this.render()}this.dragInfo=void 0}},{key:"onRightDblClick",value:function(e){this.dragInfo=void 0,this.clearImgDrag();var t=this.getHoverID(e),i=this.getHoverPointIndex(e);if(this.hoverPointIndex>-1&&this.hoverPointIndex===i)return this.deletePolygonPoint(i),this.dragInfo=void 0,this.hoverPointIndex=-1,void this.render();this.hoverID===this.selectedID&&this.deletePolygon(t),this.render()}},{key:"onMouseDown",value:function(e){if(!Object(y.a)(Object(x.a)(i.prototype),"onMouseDown",this).call(this,e)&&!this.forbidMouseOperation&&!0!==e.ctrlKey){var t=this.selectedPolygon;if(t&&0===e.button)if(this.getHoverID(e)===this.selectedID){var n=t.pointList,a=this.getCoordinateUnderZoom(e),c=[0],r=_e.Plane;this.dragStatus=Ee.Start;var o=this.getHoverPointIndex(e),s=this.getHoverEdgeIndex(e);return o>-1?(r=_e.Point,c=[o]):s>-1&&this.hoverEdgeIndex>-1&&(r=_e.Line,c=[s,(s+1)%n.length]),this.dragInfo={dragStartCoord:a,dragTarget:r,initPointList:n,changePointIndex:c},!0}}}},{key:"onDragMove",value:function(e){var t,i=this;if(this.dragInfo&&this.selectedID){var n=null==(t=this.selectedPolygon)?void 0:t.pointList;if(n){var a=this.dragInfo,c=a.initPointList,r=a.dragStartCoord,o=a.dragTarget,s=a.changePointIndex,l=this.getCoordinateUnderZoom(e),d=(l.x-r.x)/this.zoom,u=(l.y-r.y)/this.zoom;switch(this.dragStatus=Ee.Move,o){case _e.Plane:n=n.map((function(e,t){return zi(Ui({},e),{x:c[t].x+d,y:c[t].y+u})}));break;case _e.Point:case _e.Line:n=n.map((function(e,t){return s&&s.includes(t)?zi(Ui({},e),{x:c[t].x+d,y:c[t].y+u}):e}))}if(!1===this.config.drawOutsideTarget&&this.imgInfo){if(this.dependToolName&&this.basicCanvas&&this.basicResult){var h=!1;switch(this.dependToolName){case g.Rect:h=n.filter((function(e){return!Qe.isInRect(e,i.basicResult)})).length>0;break;case g.Polygon:h=_n.isPointListOutSidePolygon(n,this.basicResult.pointList,this.config.lineType)}if(h)return}var f=Te.calcViewportBoundaries(Un.changePointListByZoom(n,this.zoom)),v=f.left,b=f.top,p=f.right,m=f.bottom,y=1e-5;if(v<0||b<0||p>this.imgInfo.width+y||m>this.imgInfo.height+y)return}var x=this.polygonList.map((function(e){return e.id===i.selectedID?zi(Ui({},e),{pointList:n}):e}));this.setPolygonList(x),this.render()}}}},{key:"onMouseMove",value:function(e){if(!Object(y.a)(Object(x.a)(i.prototype),"onMouseMove",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo)if(this.selectedID&&this.dragInfo)this.onDragMove(e);else{var t=-1,n=-1;if(this.selectedID&&(this.hoverEdgeIndex=-1,this.hoverPointIndex=-1,(t=this.getHoverPointIndex(e))>-1?this.hoverPointIndex=t:(n=this.getHoverEdgeIndex(e),this.hoverEdgeIndex=n)),!(this.drawingPointList.length>0)){var a=this.getHoverID(e);this.hoverID!==a&&(this.hoverID=a,this.render())}}}},{key:"leftMouseUp",value:function(e){var t=this.getHoverID(e);0===this.drawingPointList.length&&!0===e.ctrlKey&&t?this.setPolygonValidAndRender(t):this.addPointInDrawing(e)}},{key:"onMouseUp",value:function(e){if(!Object(y.a)(Object(x.a)(i.prototype),"onMouseUp",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){if(this.dragInfo&&this.dragStatus===Ee.Move)return this.dragInfo=void 0,this.dragStatus=Ee.Wait,this.history.pushHistory(this.polygonList),void this.emit("updateResult");switch(e.button){case 0:this.leftMouseUp(e);break;case 2:this.rightMouseUp()}this.render()}}},{key:"dragMouseUp",value:function(){this.dragStatus===Ee.Start&&(this.dragInfo=void 0,this.dragStatus=Ee.Wait)}},{key:"exportData",value:function(){return[this.polygonList,this.basicImgInfo]}},{key:"getTextIconSvg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Pt.getTextIconSvg(e,this.config.attributeList,this.config.attributeConfigurable,this.baseIcon)}},{key:"getCurrentSelectedData",value:function(){var e=this.selectedPolygon;if(e){var t=this.getColor(e.attribute),i=e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke;return{width:164,textAttribute:e.textAttribute,color:i}}}},{key:"updateSelectedTextAttribute",value:function(e){if(this._textAttributInstance&&e&&this.selectedID){var t=e;!1===Pt.textAttributeValidate(this.config.textCheckType,"",t)&&(this.emit("messageError",Pt.getErrorNotice(this.config.textCheckType,this.lang)),t=""),this.setPolygonList(Pt.textChange(t,this.selectedID,this.polygonList)),this.emit("updateTextAttribute"),this.render()}}},{key:"renderTextAttribute",value:function(){var e,t=this.selectedPolygon;if(this.ctx&&!1!==this.config.textConfigurable&&t){var i=t.pointList,n=t.attribute,a=t.valid,c=t.textAttribute,r=i[i.length-1],o=r.x,s=r.y,l=Un.getOffsetCoordinate({x:o,y:s},this.currentPos,this.zoom),d=this.getColor(n),u=a?null==d?void 0:d.valid.stroke:null==d?void 0:d.invalid.stroke;this._textAttributInstance||(this._textAttributInstance=new Ni({width:164,container:this.container,icon:this.getTextIconSvg(n),color:u,getCurrentSelectedData:this.getCurrentSelectedData,updateSelectedTextAttribute:this.updateSelectedTextAttribute})),this._textAttributInstance&&!(null==(e=this._textAttributInstance)?void 0:e.isExit)&&this._textAttributInstance.appendToContainer(),this._textAttributInstance.update("".concat(c),{left:l.x,top:l.y,color:u,width:164})}}},{key:"renderPolygon",value:function(){var e,t,i,n,a,c,r,o,s,l=this;if(!1===this.isHidden&&(null==(e=this.polygonList)||e.forEach((function(e){var t,i,n,a,c;if(![l.selectedID,l.editPolygonID].includes(e.id)){var r=e.textAttribute,o=e.attribute,s=l.getColor(o),d=jt.getStrokeAndFill(s,e.valid),u=Un.changePointListByZoom(e.pointList||[],l.zoom,l.currentPos);Rt.drawPolygonWithFillAndLine(l.canvas,u,{fillColor:d.fill,strokeColor:d.stroke,pointColor:"white",thickness:null!=(i=null==(t=l.style)?void 0:t.width)?i:2,lineCap:"round",isClose:!0,lineType:null==(n=l.config)?void 0:n.lineType});var h="".concat(null!=(a=Pt.getAttributeShowText(o,l.config.attributeList))?a:"");(null==(c=l.config)?void 0:c.isShowOrder)&&(null==e?void 0:e.order)>0&&(h="".concat(e.order," ").concat(h)),Rt.drawText(l.canvas,u[0],h,Ui({color:d.stroke},Be));var f=u[u.length-1];Rt.drawText(l.canvas,{x:f.x+Wi,y:f.y+Gi},r,Ui({color:d.stroke},Be))}}))),this.hoverID&&this.hoverID!==this.editPolygonID){var d=this.polygonList.find((function(e){return e.id===l.hoverID&&e.id!==l.selectedID}));if(d){var u="",h=this.getColor(d.attribute);u=d.valid?h.validHover.fill:jt.getStrokeAndFill(h,!1,{isHover:!0}).fill,Rt.drawPolygonWithFill(this.canvas,Un.changePointListByZoom(d.pointList,this.zoom,this.currentPos),{color:u,lineType:null==(t=this.config)?void 0:t.lineType})}}if(this.selectedID){var f=this.selectedPolygon;if(f){var g=this.getColor(f.attribute),v=jt.getStrokeAndFill(g,f.valid,{isSelected:!0});Rt.drawSelectedPolygonWithFillAndLine(this.canvas,Un.changePointListByZoom(f.pointList,this.zoom,this.currentPos),{fillColor:v.fill,strokeColor:v.stroke,pointColor:"white",thickness:2,lineCap:"round",isClose:!0,lineType:null==(i=this.config)?void 0:i.lineType});var b="".concat(null!=(n=Pt.getAttributeShowText(f.attribute,this.config.attributeList))?n:"");(null==(a=this.config)?void 0:a.isShowOrder)&&(null==f?void 0:f.order)>0&&(b="".concat(f.order," ").concat(b)),Rt.drawText(this.canvas,Un.changePointByZoom(f.pointList[0],this.zoom,this.currentPos),b,Ui({color:v.stroke},Be)),this.renderTextAttribute()}}var p=this.getColor(this.defaultAttribute),m=jt.getStrokeAndFill(p,!this.isCtrl);if((null==(c=this.drawingPointList)?void 0:c.length)>0){var y=Object(P.a)(this.drawingPointList),x=Un.getOriginCoordinateWithOffsetCoordinate(this.coord,this.zoom,this.currentPos);if((null==(r=this.config)?void 0:r.edgeAdsorption)&&!1===this.isAlt){var w=_n.getClosestPoint(x,this.polygonList,null==(o=this.config)?void 0:o.lineType,10/this.zoom).dropFoot;w&&(x=w)}y.push(x),Rt.drawSelectedPolygonWithFillAndLine(this.canvas,Un.changePointListByZoom(y,this.zoom,this.currentPos),{fillColor:m.fill,strokeColor:m.stroke,pointColor:"white",thickness:2,lineCap:"round",isClose:!1,lineType:this.config.lineType})}if(this.hoverPointIndex>-1&&this.selectedID){var k=this.selectedPolygon;if(!k)return;var L=jt.getStrokeAndFill(p,k.valid,{isSelected:!0}),C=null==k?void 0:k.pointList[this.hoverPointIndex];if(C){var I=Un.changePointByZoom(C,this.zoom,this.currentPos),O=I.x,T=I.y;Rt.drawCircleWithFill(this.canvas,{x:O,y:T},5,{color:L.fill})}}if(this.hoverEdgeIndex>-1&&this.selectedID){var A=this.selectedPolygon;if(!A)return;var S=jt.getStrokeAndFill(p,A.valid,{isSelected:!0});Rt.drawLineWithPointList(this.canvas,Un.changePointListByZoom(A.pointList,this.zoom,this.currentPos),{color:S.stroke,thickness:10,hoverEdgeIndex:this.hoverEdgeIndex,lineType:null==(s=this.config)?void 0:s.lineType})}}},{key:"render",value:function(){this.ctx&&(Object(y.a)(Object(x.a)(i.prototype),"render",this).call(this),this.renderCursorLine(this.getLineColor(this.defaultAttribute)),this.renderPolygon())}},{key:"undo",value:function(){if(this.drawingPointList.length>0){var e=this.drawingHistory.undo();if(!e)return;return this.drawingPointList=e,void this.render()}var t=this.history.undo();t&&(t.length!==this.polygonList.length&&this.setSelectedID(""),this.setPolygonList(t),this.render())}},{key:"redo",value:function(){if(this.drawingPointList.length>0){var e=this.drawingHistory.redo();if(!e)return;return this.drawingPointList=e,void this.render()}var t=this.history.redo();t&&(t.length!==this.polygonList.length&&this.setSelectedID(""),this.setPolygonList(t),this.render())}}]),i}(Li),Yi=function(e){Object(C.a)(i,e);var t=Object(I.a)(i);function i(e){var n;return Object(T.a)(this,i),(n=t.call(this,e)).getInitResultList=function(e,t){return 0!==e&&void 0!==e&&0===t.length?[]:st.getDefaultTagResult(n.config.inputList,t)},n.setLabel=function(e,t){var i,a;if(!n.isImgError&&(n.basicResult||!n.dependToolName)){var c=n.config.inputList;if(c[e]){var r=c[e].subSelected;if(e<c.length&&c[e].subSelected&&r&&t<r.length){var o=c[e].value,s=null==(i=r[t])?void 0:i.value,l=null==(a=c[e])?void 0:a.isMulti,d=n.tagResult.filter((function(e){var t="".concat(e.sourceID);return Pn.isSameSourceID(t,n.sourceID)}))[0];if(d){var u=0,h=d.result;for(var f in 0===d.sourceID&&(d.sourceID="0"),d.result)if(f===c[e].value){if(u++,!0===l){var g=h[f].split(";").filter((function(e){return""!==e})),v=g.indexOf(s);-1===v?g.push(s):g.splice(v,1),s=g.join(";")}""===s?1===Object.keys(h).length?n.tagResult=n.tagResult.filter((function(e){var t="".concat(e.sourceID);return Pn.isDifferSourceID(t,n.sourceID)})):Object.keys(h).length>1&&delete h[f]:h[f]=s}0===u&&Object.assign(d.result,Object(D.a)({},o,s))}else n.tagResult=[{sourceID:n.sourceID,id:$e(8,62),result:Object(D.a)({},o,s)}];n.render()}}}},n.clearResult=function(){var e=arguments.length>1?arguments[1]:void 0;n.tagResult=e?n.tagResult.map((function(t){return(null==t?void 0:t.result[e])&&delete t.result[e],t})):[],n.render()},n.config=Pn.jsonParser(e.config),n.tagResult=[],n.labelSelectedList=[],n.setShowDefaultCursor(!0),n}return Object(A.a)(i,[{key:"destroy",value:function(){this.clearTag(),Object(y.a)(Object(x.a)(i.prototype),"destroy",this).call(this)}},{key:"setResult",value:function(e){this.tagResult=e,this.render()}},{key:"currentPageResult",get:function(){return[this.currentTagResult]}},{key:"currentTagResult",get:function(){var e,t=this;return null!=(e=this.tagResult.filter((function(e){var i="".concat(e.sourceID);return Pn.isSameSourceID(i,t.sourceID)}))[0])?e:{}}},{key:"sourceID",get:function(){return Pn.getSourceID(this.basicResult)}},{key:"onKeyDown",value:function(e){var t=this;if(Pn.hotkeyFilter(e)){var i=e.keyCode;if(i&&(i<=57&&i>=49||i<=105&&i>=97)){if(i-=i>57?97:49,1===this.config.inputList.length)return this.labelSelectedList=[0,i],this.setLabel(0,i),void setTimeout((function(){t.labelSelectedList=[],t.render()}),500);1===this.labelSelectedList.length?(this.labelSelectedList=[this.labelSelectedList[0],i],this.setLabel(this.labelSelectedList[0],i),setTimeout((function(){t.labelSelectedList=[],t.render()}),500)):(this.labelSelectedList=[i],this.emit("expend"))}}}},{key:"clearTag",value:function(){var e,t=null==(e=this.canvas)?void 0:e.parentNode,i=window.self.document.getElementById("tagToolTag");i&&t&&t.contains(i)&&(null==t||t.removeChild(i))}},{key:"renderTag",value:function(){var e,t,i,n,a,c;if(this.clearTag(),(null==(e=this.tagResult)?void 0:e.length)>0){var r=document.createElement("div"),o=st.getTagNameList(null!=(i=null==(t=this.currentTagResult)?void 0:t.result)?i:{},this.config.inputList);r.innerHTML=null!=(n=o.reduce((function(e,t){return"".concat(e).concat(t.keyName,": ").concat(t.value.join(" \u3001 "),"\n")}),""))?n:"",r.setAttribute("id","tagToolTag"),r.setAttribute("style","\n        position: absolute;\n        top: 0;\n        right: 0;\n        z-index: 5;\n      \n        padding: 0 20px;\n      \n        font-size: 15px;\n        color: white;\n        text-align: right;\n        line-height: 32px;\n        white-space: pre;\n      \n        background: rgba(102, 111, 255, 1);\n        opacity: 0.6;\n        clear: both;\n      "),null==(c=null==(a=this.canvas)?void 0:a.parentNode)||c.appendChild(r)}}},{key:"render",value:function(){this.renderTag(),Object(y.a)(Object(x.a)(i.prototype),"render",this).call(this),this.emit("render")}},{key:"exportData",value:function(){var e=this.tagResult;return this.isImgError&&(e=[]),[e,this.basicImgInfo]}}]),i}(Li),Ji=Object.defineProperty,Xi=Object.defineProperties,qi=Object.getOwnPropertyDescriptors,Qi=Object.getOwnPropertySymbols,$i=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable,tn=function(e,t,i){return t in e?Ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},nn=function(e,t){for(var i in t||(t={}))$i.call(t,i)&&tn(e,i,t[i]);if(Qi){var n,a=Object(E.a)(Qi(t));try{for(a.s();!(n=a.n()).done;){i=n.value;en.call(t,i)&&tn(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},an=function(e,t){return Xi(e,qi(t))};!function(e){e[e.Create=0]="Create",e[e.Active=1]="Active",e[e.None=2]="None"}(Ri||(Ri={}));var cn=16,rn=0,on=20,sn=function(e){Object(C.a)(i,e);var t=Object(I.a)(i);function i(e){var n,a,c,r;return Object(T.a)(this,i),(r=t.call(this,e)).drawActivatedLine=function(e,t,i){var n=R.a.cloneDeep(r.activeLine);if(n&&0!==n.length){var a,c=r.isActiveLineValid(),o=r.selectedID?r.lineList.find((function(e){return e.id===r.selectedID})):void 0;a=o?o.order:r.nextOrder();var s=r.getLineColorByAttribute({attribute:r.defaultAttribute,valid:!!c});n.map((function(e){return Object.assign(e,r.coordUtils.getRenderCoord(e))})),r.updateActiveArea(),r.drawLine(n,e,s,!0,!0),r.drawLineNumber(n[0],a,s,"",r.defaultAttribute,c),e&&r.isCreate&&r.arc(e,3,s),!r.cursor||r.selectedPoint||i||r.isShift||r.arc(r.cursor,5,s)}},r.drawHoverPoint=function(e){if(!r.isMousedown&&e&&r.isLineSelected){var t,i=r.getPointList(r.activeLine),n=r.activeLine.find((function(t){return fi.calcDistance(r.coordUtils.getRenderCoord(t),e)<=5}));!n&&r.activeLine&&(t=r.findNearestPoint(i,e)),r.hoverPointID=n?n.id:void 0,r.cursor=n||null==t?void 0:t.point}},r.lineList=[],r.activeLine=[],r.coordsInsideActiveArea=!1,r.hoverLineSegmentIndex=-1,r.isShift=!1,r.isReference=!1,r.drawCurveLine=function(e,t,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5?arguments[5]:void 0,r=Le(t,cn);e.save(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=i.color,n&&(e.lineWidth=i.lineWidth),a&&fi.setReferenceCtx(e),t.forEach((function(t,i){var n=t.specialEdge,a=r.splice(0,17);e.save(),e.beginPath(),c===i&&(e.lineWidth=4),a.forEach((function(t,i){var a=t.x,c=t.y,r=i>0?"lineTo":"moveTo";n&&fi.setSpecialEdgeStyle(e),e[r](a,c)})),e.stroke(),e.restore()})),e.restore()},r.drawLine=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=t?e.concat(t):e,o={color:i,lineWidth:a?1:r.lineStyle.lineWidth};r.isCurve?fi.drawCurveLine(r.ctx,c,o,!n,r.isReference,a?r.hoverLineSegmentIndex:-1):r.drawStraightLine(c,o,a),n&&e.forEach((function(e){var t,n,a=e.id,c=a&&[r.hoverPointID,null==(t=r.selectedPoint)?void 0:t.id].includes(a)?5:3;r.arc(e,c,i),[r.hoverPointID,null==(n=r.selectedPoint)?void 0:n.id].includes(a)||r.arc(e,2,"white")}))},r.drawStraightLine=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Object(L.a)(r),a=n.ctx;a&&(a.save(),a.lineCap="round",a.lineJoin="round",a.strokeStyle=t.color,a.lineWidth=t.lineWidth,r.isReference&&fi.setReferenceCtx(a),e.forEach((function(t,n){if(a.beginPath(),n>0){var c=e[n-1];a.save(),(null==c?void 0:c.specialEdge)&&fi.setSpecialEdgeStyle(a),i&&r.hoverLineSegmentIndex+1===n&&(a.lineWidth=4),a.moveTo(c.x,c.y),a.lineTo(t.x,t.y),a.stroke(),a.restore()}})),a.restore())},r.drawLines=function(){try{var e=R.a.cloneDeep(r.attributeFilteredLines);if(r.isHidden)return;e.forEach((function(e){if(e.id!==r.selectedID&&e.pointList){e.pointList.map((function(e){return Object.assign(e,r.coordUtils.getRenderCoord(e))}));var t=e.order,i=e.label,n=t,a=e&&r.getLineColorByAttribute(e);r.drawLine(e.pointList,void 0,a,!1),r.drawLineNumber(e.pointList[0],n,a,i,e.attribute,e.valid),e.id!==r.textEditingID&&r.drawLineTextAttribute(e.pointList[1],a,null==e?void 0:e.textAttribute)}}))}catch(t){console.error(t,"\u7ebf\u6761\u5de5\u5177\u6570\u636e\u89e3\u6790\u9519\u8bef"),r.lineList=[],r.clearCanvas()}},r.render=function(e){Object(y.a)((n=Object(L.a)(r),Object(x.a)(i.prototype)),"render",n).call(n),r.drawLines(),r.drawActivatedLine(e,void 0,!0),r.renderTextAttribute(),r.renderCursorLine(r.getLineColor(r.defaultAttribute))},r.moveLineInPolygon=function(e,t){var i;if(!Array.isArray(r.activeLine))return!1;(null==(i=r.activeLine)?void 0:i.every((function(i){return r.isInBasicPolygon({x:i.x+e,y:i.y+t})})))&&(r.lineDragging=!0,r.moveActiveArea(e,t))},r.moveLineInRectRange=function(e,t,i,n){if(void 0!==r.activeArea){var a=r.activeArea,c=a.top,o=a.left,s=a.right,l=a.bottom,d=[o,s].map((function(t){return R.a.isNumber(t)?t+e:0})),u=[c,l].map((function(e){return R.a.isNumber(e)?e+t:0})),h=o>=0&&s&&Te.isInRange(d,i),f=c>=0&&l&&Te.isInRange(u,n),g=h?e:0,v=f?t:0;r.lineDragging=!0,r.moveActiveArea(g,v)}},r.onRightClick=function(e){if(r.cursor=void 0,r.isCreate){if(r.isLinePointsNotEnough())return;r.stopLineCreating(!0)}else r.setActiveArea(r.getCoordinate(e),!0),r.emit("contextmenu")},r.updateSelectedAttributeAfterHistoryChanged=function(){if(r.selectedID){var e=r.lineList.find((function(e){return e.id===r.selectedID})),t=null==e?void 0:e.attribute;"string"===typeof t&&(r.defaultAttribute=t,r.updateAttribute(t),r.render())}},r.onLeftClick=function(e){var t=r.getCoordinate(e),i=Object(L.a)(r).lineDragging;if(r.lineDragging=!1,!r.isSpaceKey)if(r.isNone&&e.ctrlKey){var n=r.findHoverLine(t);n&&r.setInvalidLine(n.id)}else if(!r.isLinePointsExceed()){var a=r.getNextPoint(e,t);if(r.isCreate||r.isNone)r.setCreatStatusAndAddPoint(a);else if(r.isActive){if(i)return;if(r.isMouseCoordOutsideActiveArea())return r.setNoneStatus(!1),void r.setCreatStatusAndAddPoint(a);if(e.shiftKey)return void r.updateLineSegmentSpecial(t);if(r.coordsInsideActiveArea&&e.ctrlKey)return void r.setInvalidLine(r.selectedID);r.addLinePointToActiveLine()}}},r.onDblclick=function(){},r.onKeyUp=function(e){if(Object(y.a)((a=Object(L.a)(r),Object(x.a)(i.prototype)),"onKeyUp",a).call(a,e),r.isShift=!1,r.hoverLineSegmentIndex=-1,e.keyCode!==Ht.Esc){if(r.isActive){if(e.keyCode===Ht.Delete)return void r.deleteLine();if(e.keyCode===Ht.F)return void r.setInvalidLine(r.selectedID);if(e.keyCode===Ht.Space)return void r.continueToEdit()}r.keyboardEventWhileLineCreating(e)}else r.stopLineCreating(!1)},r.onRightDblClick=function(e){Object(y.a)((c=Object(L.a)(r),Object(x.a)(i.prototype)),"onRightDblClick",c).call(c,e);var t=r.getCoordinate(e);if(r.isActive){var n=r.findHoveredPoint(t);if(n)return void r.deleteSelectedLinePoint(n.id);r.deleteSelectedLine(t)}},r.setReference=function(e){r.isReference=e},r.pointsWithinRange=function(e){return!(r.lowerLimitPointNum&&e<r.lowerLimitPointNum)&&!(r.upperLimitPointNum&&e>r.upperLimitPointNum)},r.setLineList=function(e){var t=e.length!==r.lineListLen;r.lineList=e,t&&r.emit("updatePageNumber")},r.textChange=function(e){!1!==r.config.textConfigurable&&r.selectedID&&(r.updateSelectedTextAttribute(e),r.emit("selectedChange"))},r.status=2,r.isMousedown=!1,r.lineDragging=!1,r.isLineValid=!0,r.setConfig(e.config),r.prevAxis={x:0,y:0},r.textEditingID="",r.updateSelectedTextAttribute=r.updateSelectedTextAttribute.bind(Object(L.a)(r)),r.getCurrentSelectedData=r.getCurrentSelectedData.bind(Object(L.a)(r)),r.actionsHistory=new Bt,r.dependToolConfig={lineType:z.Line},r}return Object(A.a)(i,[{key:"isLineSelected",get:function(){return this.selectedID&&this.activeLine}},{key:"selectedLinePoints",get:function(){return this.activeLine?this.getPointList(this.activeLine):[]}},{key:"isCreate",get:function(){return 0===this.status}},{key:"isActive",get:function(){return 1===this.status}},{key:"isNone",get:function(){return 2===this.status}},{key:"isCurve",get:function(){return this.config.lineType===z.Curve}},{key:"isMultipleColor",get:function(){return this.config.lineColor===G.MultiColor}},{key:"imageSize",get:function(){return this.rotate%180===0?this.basicImgInfo:{width:this.basicImgInfo.height,height:this.basicImgInfo.width}}},{key:"lineListLen",get:function(){return this.lineList.length}},{key:"edgeAdsorptionEnabled",get:function(){return this.edgeAdsorption&&!this.isCurve&&this.lineListLen>0}},{key:"attributeConfigurable",get:function(){return this.config.attributeConfigurable}},{key:"isTextConfigurable",get:function(){return this.config.textConfigurable}},{key:"isDependPolygon",get:function(){return this.dependToolName===g.Polygon}},{key:"isDependRect",get:function(){return this.dependToolName===g.Rect}},{key:"isCurrentAttributeLocked",get:function(){return this.attributeLockList.includes(this.defaultAttribute)}},{key:"attributeFilteredLines",get:function(){var e=this;return this.attributeLockList.length>0?this.lineList.filter((function(t){return e.attributeLockList.includes((null==t?void 0:t.attribute)||"")})):this.lineList}},{key:"enableOutOfTarget",get:function(){return this.config.enableOutOfTarget}},{key:"showOrder",get:function(){return this.config.showOrder}},{key:"edgeAdsorption",get:function(){return this.config.edgeAdsorption}},{key:"attributeList",get:function(){return this.config.attributeList}},{key:"lowerLimitPointNum",get:function(){return this.config.lowerLimitPointNum}},{key:"upperLimitPointNum",get:function(){return this.config.upperLimitPointNum}},{key:"textCheckType",get:function(){return this.config.textCheckType}},{key:"customFormat",get:function(){return this.config.customFormat}},{key:"dataList",get:function(){return this.lineList}},{key:"hasActiveLine",get:function(){return this.activeLine&&this.activeLine.length>0}},{key:"viewPortLines",get:function(){var e=_i.getViewPort(this.canvas,this.currentPos,this.zoom);return this.isHidden?[]:this.attributeFilteredLines.filter((function(t){var i;return null==(i=null==t?void 0:t.pointList)?void 0:i.some((function(t){return _i.inViewPort(t,e)}))}))}},{key:"lineStyle",get:function(){return{lineWidth:this.style.width,color:this.getLineColor(this.defaultAttribute),opacity:this.style.opacity}}},{key:"selectedText",get:function(){var e,t,i=this;return null!=(t=null==(e=this.lineList.find((function(e){return e.id===i.selectedID})))?void 0:e.textAttribute)?t:""}},{key:"currentPageResult",get:function(){return this.lineList}},{key:"updateStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e!==this.status){if(t){var i="";this.textCheckType===ae.Order&&this.isTextConfigurable&&(i=Pt.getTextAttribute(this.lineList,this.textCheckType)),this.emit("updateText",i)}this.status=e,this.lineStatusChanged()}}},{key:"isInBasicPolygon",value:function(e){var t,i;return Ce(e,(null==(t=this.basicResult)?void 0:t.pointList)||[],null==(i=this.dependToolConfig)?void 0:i.lineType)}},{key:"getPolygonPointList",value:function(){if(!this.basicResult)return[];var e=this.basicResult.pointList;return this.dependToolConfig.lineType===z.Curve?ke(e.reduce((function(e,t){return[].concat(Object(P.a)(e),[t.x,t.y])}),[]),.5,!0,20):e}},{key:"getNextCoordByRenderCoord",value:function(e){return this.getNextCoordByAbsCoord(this.coordUtils.getAbsCoord(e))}},{key:"getNextCoordByAbsCoord",value:function(e){var t,i=null==(t=this.activeLine)?void 0:t.slice(-1)[0];return i?this.coordUtils.getNextCoordByDependTool(e,i):e}},{key:"pointInLine",value:function(e,t,i){var n=this;return!(e.filter((function(e){return e})).length<2)&&e.some((function(a,c){if(0===c)return!1;var r=n.coordUtils.getRenderCoord(e[c-1]),o=n.coordUtils.getRenderCoord(a);return fi.isInLine(t,r,o,i)}))}},{key:"arc",value:function(e){var t,i,n,a,c,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=arguments.length>2?arguments[2]:void 0;if(this.ctx){var l=e.x,d=e.y;null==(t=this.ctx)||t.save(),null==(i=this.ctx)||i.beginPath(),this.ctx.fillStyle=s||this.lineStyle.color,null==(n=this.ctx)||n.arc(l,d,o,0,360),null==(a=this.ctx)||a.closePath(),null==(c=this.ctx)||c.fill(),null==(r=this.ctx)||r.restore()}}},{key:"renderActiveArea",value:function(){if(this.isActive&&this.activeArea&&this.ctx){var e=this.activeArea,t=e.top,i=e.left,n=e.right,a=e.bottom,c=this.coordUtils.getRenderCoord({x:i,y:t}),r=c.x,o=c.y;this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle="#B3B8FF",this.ctx.rect(r,o,(n-i)*this.zoom,(a-t)*this.zoom),this.ctx.stroke(),this.ctx.restore()}}},{key:"addLinePoint",value:function(e){var t,i,n,a;this.arc(e),null==(t=this.activeLine)||t.push(an(nn({},e),{id:$e()})),1===(null==(i=this.activeLine)?void 0:i.length)?null==(n=this.actionsHistory)||n.initRecord(this.activeLine):null==(a=this.actionsHistory)||a.pushHistory(this.activeLine),this.render()}},{key:"setCreatStatusAndAddPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.updateStatus(0,t),this.addLinePoint(e)}},{key:"isActiveLineValid",value:function(){var e,t=this;return this.selectedID?null==(e=this.lineList.find((function(e){return e.id===t.selectedID})))?void 0:e.valid:this.isLineValid}},{key:"nextOrder",value:function(){return 0===this.lineListLen?1:this.lineList.slice(-1)[0].order+1}},{key:"getLineColorByAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return jt.getStrokeAndFill(this.getColor(e.attribute),e.valid,{isSelected:t}).stroke}},{key:"updateActiveArea",value:function(){this.activeArea=this.getActiveArea(),this.renderActiveArea()}},{key:"getActiveArea",value:function(){return this.hasActiveLine?Te.calcViewportBoundaries(this.activeLine,this.isCurve,cn,this.zoom):void 0}},{key:"drawLineNumber",value:function(e){var t,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4?arguments[4]:void 0,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if((this.showOrder||this.attributeConfigurable)&&this.ctx){var l=this.showOrder?a.toString():"".concat(r);if(this.attributeConfigurable){var d=o?null!=(n=null==(i=null==(t=this.attributeList)?void 0:t.find((function(e){return e.value===o})))?void 0:i.key)?n:o:"";l=[l,"".concat(!s&&d?"\u65e0\u6548":"").concat(d)].filter((function(e){return e})).join("_")}this.drawText(e,l,c)}}},{key:"drawLineTextAttribute",value:function(e,t,i){if(e&&i)return this.drawText(e,i,t,200)}},{key:"drawText",value:function(e,t,i,n){var a,c;this.ctx&&(null==(a=this.ctx)||a.save(),this.ctx.font="italic bold 14px SourceHanSansCN-Regular",this.ctx.fillStyle=i,this.ctx.strokeStyle=i,this.ctx.shadowColor="rgba(0, 0, 0, 0.6)",this.ctx.shadowOffsetY=2,this.ctx.shadowBlur=4,n?Rt.wrapText(this.canvas,t,e.x-rn,e.y-on,n):this.ctx.fillText(t,e.x-rn,e.y-on),null==(c=this.ctx)||c.restore())}},{key:"moveActiveArea",value:function(e,t){this.activeArea&&(this.activeArea=Object.assign(this.activeArea,{top:this.activeArea.top+t,bottom:this.activeArea.bottom+t,right:this.activeArea.right+e,left:this.activeArea.left+e})),this.activeLine&&(this.activeLine.map((function(i){return Object.assign(i,{x:i.x+e,y:i.y+t})})),this.updateLines())}},{key:"findHoveredPoint",value:function(e){var t=this;if(this.activeLine)return this.activeLine.find((function(i){var n=t.coordUtils.getRenderCoord(i);return fi.calcDistance(n,e)<=5}))}},{key:"findHoverLine",value:function(e){var t=this,i=R.a.cloneDeep(this.lineList).reverse().find((function(i){var n=i.pointList,a=n?t.getPointList(n):[],c=t.getLineWidthScope();return a.some((function(i,n){if(0===n)return!1;var r=t.coordUtils.getRenderCoord(i),o=t.coordUtils.getRenderCoord(a[n-1]);return fi.isInLine(e,r,o,c)}))}));return i}},{key:"getAdsorptionPoint",value:function(e){var t,i,n=this;return R.a.cloneDeep(this.lineList).reverse().forEach((function(a){var c=a.pointList;if(a.id!==n.selectedID&&c&&!((null==c?void 0:c.length)<2)){var r=n.findNearestPoint(c,e);if(r){if(0===r.minDistance)return void(t=r.point);(void 0===i||r.minDistance<i)&&(t=r.point,i=r.minDistance)}}})),t}},{key:"findNearestPoint",value:function(e,t){for(var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,a=n,c=1;c<=e.length-1;c++){var r=this.coordUtils.getRenderCoord(e[c]),o=this.coordUtils.getRenderCoord(e[c-1]),s=Te.getFootOfPerpendicular(t,r,o),l=s.length,d=s.footPoint,u=fi.calcTwoPointDistance(r,t),h=fi.calcTwoPointDistance(o,t);if(u<=2*n){i=r,n=0;break}if(h<=2*n){i=o,n=0;break}l<n&&(i=d,n=l)}return i?{point:i,minDistance:a}:void 0}},{key:"getPointList",value:function(e){return this.isCurve?Le(e,cn):e}},{key:"moveSelectedLine",value:function(e){var t=(e.x-this.prevAxis.x)/this.zoom,i=(e.y-this.prevAxis.y)/this.zoom;if(this.enableOutOfTarget)return this.lineDragging=!0,void this.moveActiveArea(t,i);if(this.isDependPolygon)this.moveLineInPolygon(t,i);else{var n=[0,this.imageSize.width],a=[0,this.imageSize.height];if(this.isDependRect){var c=this.basicResult,r=c.x,o=c.y;n=[r,r+c.width],a=[o,o+c.height]}this.moveLineInRectRange(t,i,n,a)}}},{key:"moveSelectPoint",value:function(e){var t=e.x-this.prevAxis.x,i=e.y-this.prevAxis.y,n={x:(this.selectedPoint?this.selectedPoint.x:0)+t/this.zoom,y:(this.selectedPoint?this.selectedPoint.y:0)+i/this.zoom};Object.assign(this.selectedPoint,this.getNextCoordByAbsCoord(n)),this.updateLines(),this.render()}},{key:"getCoordByConfig",value:function(e,t){var i,n=!!e.shiftKey,a=e.altKey;if((null==(i=this.activeLine)?void 0:i.length)>0&&n){var c=this.activeLine.slice(-1)[0];return fi.getVHPoint(c,t,this.coordUtils.getAbsCoord(t),this.coordUtils.getRenderCoord(c))}return this.edgeAdsorptionEnabled&&!a?this.getAdsorptionPoint(t):t}},{key:"getNextPoint",value:function(e,t){var i=this.getCoordByConfig(e,t)||t;return this.enableOutOfTarget?i:this.getNextCoordByRenderCoord(i)}},{key:"lineHover",value:function(){this.render()}},{key:"mouseMoveHandler",value:function(e){var t=this.getCoordinate(e),i=1===e.which;if(this.isCreate)this.hasActiveLine&&this.renderNextPoint(e,t);else{if(this.isNone&&(this.lineHover(),this.edgeAdsorptionEnabled&&!e.altKey)){var n=this.getAdsorptionPoint(t);n&&this.arc(n)}if(this.isActive){if(this.isMousedown&&i){if(this.selectedPoint)return void this.moveSelectPoint(t);if(this.coordsInsideActiveArea)return this.moveSelectedLine(t),void this.drawActivatedLine(void 0,void 0,!0)}this.drawHoverPoint(t),this.render()}}}},{key:"onMouseMove",value:function(e){if(!Object(y.a)(Object(x.a)(i.prototype),"onMouseMove",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){var t=this.getCoordinate(e);this.mouseMoveHandler(e),this.prevAxis=t}}},{key:"setActiveArea",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.findHoverLine(e);if(i){var n=this.lineList.findIndex((function(e){return e.id===(null==i?void 0:i.id)})),a=Te.calcViewportBoundaries((null==i?void 0:i.pointList)||[],this.isCurve,cn,this.zoom),c=this.lineList[n];this.updateStatus(1),this.setActiveLine(c.pointList),this.setSelectedLineID(c.id),this.activeArea=a,this.updateLineAttributes(c)}else t&&this.setNoneStatus();this.render()}},{key:"setActiveLineByID",value:function(e){var t=this.lineList.find((function(t){return t.id===e}));if(t){var i=Te.calcViewportBoundaries((null==t?void 0:t.pointList)||[],this.isCurve,cn,this.zoom);this.updateStatus(1),this.setActiveLine(t.pointList),this.setSelectedLineID(t.id),this.activeArea=i,this.updateLineAttributes(t)}this.render()}},{key:"setActiveLine",value:function(e){this.activeLine=e?R.a.cloneDeep(e):void 0}},{key:"historyChanged",value:function(e){var t=this,i="".concat(e,"Enabled");if(this.isCreate){if(this.actionsHistory&&this.actionsHistory[i]){var n=this.actionsHistory&&this.actionsHistory[e]();this.setActiveLine(n),this.render()}}else{if(this.history&&this.history[i]){var a=this.history[e](),c=null==a?void 0:a.find((function(e){return e.id===t.selectedID}));this.lineList=a,this.selectedID&&c?this.setActiveLine(null==c?void 0:c.pointList):this.setNoneStatus(),this.render()}this.emit("dataUpdated",this.lineList)}}},{key:"undo",value:function(){this.historyChanged("undo"),this.updateSelectedAttributeAfterHistoryChanged()}},{key:"redo",value:function(){this.historyChanged("redo"),this.updateSelectedAttributeAfterHistoryChanged()}},{key:"isCoordInsideTarget",value:function(e){if(this.isDependPolygon)return this.isInBasicPolygon(e);if(this.isDependRect){var t=this.basicResult,i=t.x,n=t.y,a=[i,i+t.width],c=[n,n+t.height];return Te.isInRange(e.x,a)&&Te.isInRange(e.y,c)}return Te.isInRange(e.x,[0,this.imageSize.width])&&Te.isInRange(e.y,[0,this.imageSize.height])}},{key:"getPointInsertIndex",value:function(e,t){var i=this;if(e&&this.activeLine){var n=this.getPointList(this.activeLine);return 2===this.activeLine.length?1:this.activeLine.findIndex((function(a,c){if(c>0){var r=i.activeLine?i.activeLine[c-1]:void 0,o=i.isCurve?n.slice(17*(c-1),17*c):[r,a];return i.pointInLine(o,e,t||i.getLineWidthScope())}return!1}))}return-1}},{key:"getLineWidthScope",value:function(){return this.lineStyle.lineWidth}},{key:"isMouseCoordOutsideActiveArea",value:function(){return!this.coordsInsideActiveArea&&!this.selectedPoint}},{key:"isLinePointsExceed",value:function(){return this.isCreate&&this.activeLine&&this.upperLimitPointNum&&~~this.upperLimitPointNum<=this.activeLine.length}},{key:"isLinePointsNotEnough",value:function(){var e;return this.activeLine&&(null==(e=this.activeLine)?void 0:e.length)<this.lowerLimitPointNum}},{key:"updateLineSegmentSpecial",value:function(e){var t=this.getPointInsertIndex(e,2)-1;if(t>-1){var i=this.activeLine[t];i.specialEdge=!i.specialEdge,this.hoverLineSegmentIndex=-1,this.render()}}},{key:"addLinePointToActiveLine",value:function(){var e,t=this.getPointInsertIndex(this.cursor),i=this.pointsWithinRange(this.activeLine.length+1);this.cursor&&t>-1&&i&&(this.activeLine.splice(t,0,an(nn({},this.coordUtils.getAbsCoord(this.cursor)),{id:$e()})),this.updateLines(),null==(e=this.history)||e.pushHistory(this.lineList),this.render(),this.cursor=void 0)}},{key:"onMouseDown",value:function(e){if(!Object(y.a)(Object(x.a)(i.prototype),"onMouseDown",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){var t=this.getCoordinate(e);this.isMousedown=!0,this.prevAxis=t,3!==e.which?(this.selectedPoint=this.findHoveredPoint(t),this.coordsInsideActiveArea=!(!this.isActive||!this.activeArea)&&fi.inArea(this.activeArea,this.coordUtils.getAbsCoord(t)),this.lineDragging=!1):this.cursor=void 0}}},{key:"lineHasChanged",value:function(){var e=this,t=this.lineList.find((function(t){return t.id===e.selectedID}));return!!t&&JSON.stringify(t.pointList)!==JSON.stringify(this.activeLine)}},{key:"updateLines",value:function(){var e=this,t=this.lineList.find((function(t){return t.id===e.selectedID}));t&&(t.pointList=R.a.cloneDeep(this.activeLine),this.emit("dataUpdated",this.lineList))}},{key:"onMouseUp",value:function(e){var t=this,n=function(){t.isMousedown=!1,t.hoverPointID=void 0,t.cursor=void 0,t.selectedPoint=void 0};this.hoverPointID=void 0,Object(y.a)(Object(x.a)(i.prototype),"onMouseUp",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo||(1===e.which&&this.onLeftClick(e),3===e.which&&this.onRightClick(e)),n()}},{key:"isTextValid",value:function(e){return Pt.textAttributeValidate(this.textCheckType,this.customFormat,e)}},{key:"createLineData",value:function(){var e=$e(),t={pointList:R.a.cloneDeep(this.activeLine),id:e,valid:this.isLineValid,order:this.nextOrder()};return t.attribute=this.defaultAttribute,t}},{key:"stopLineCreating",value:function(){var e,t,i,n,a,c=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!!this.selectedID||!!this.isTextConfigurable;if(r)if(this.selectedID){var s=this.lineList.find((function(e){return e.id===c.selectedID}));a=this.selectedID,s&&(s.pointList=R.a.cloneWith(this.activeLine),R.a.isEqual(s.pointList,null==(e=this.history)?void 0:e.pushHistory(this.lineList))||null==(t=this.history)||t.pushHistory(this.lineList))}else if(this.isCreate&&this.activeLine&&this.activeLine.length>1){var l=this.createLineData();a=l.id,this.setLineList([].concat(Object(P.a)(this.lineList),[l])),null==(i=this.history)||i.pushHistory(this.lineList)}o?this.setActiveStatus(a):this.setNoneStatus(),null==(n=this.actionsHistory)||n.empty(),this.emit("dataUpdated",this.lineList),this.render()}},{key:"setActiveStatus",value:function(e){var t=e?this.lineList.find((function(t){return t.id===e})):void 0;if(t){var i=null==t?void 0:t.pointList;this.updateStatus(1),this.setActiveLine(i),this.setSelectedLineID(e)}else this.setNoneStatus()}},{key:"setNoneStatus",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&this.updateStatus(2),this.activeLine=[],this.setSelectedLineID(void 0),this.activeArea=void 0,this.isLineValid=!0,this.cursor=void 0}},{key:"setKeyDownStatus",value:function(e,t){this.isShift=null!=t?t:e.keyCode===Ht.Shift}},{key:"continueToEdit",value:function(){var e;this.updateStatus(0),this.cursor=void 0,null==(e=this.actionsHistory)||e.pushHistory(this.activeLine),this.render()}},{key:"setInvalidLineOnCreating",value:function(e){if((!this.selectedID||e.keyCode===Ht.Ctrl)&&this.isCreate){var t=!e.ctrlKey;this.selectedID?this.setInvalidLine(this.selectedID,t,!1):this.isLineValid=t}}},{key:"onKeyDown",value:function(e){if(Object(y.a)(Object(x.a)(i.prototype),"onKeyDown",this).call(this,e),this.setKeyDownStatus(e),e.keyCode!==Ht.Z||e.ctrlKey||this.toggleIsHide(),e.keyCode===Ht.Shift&&this.render(),e.keyCode===Ht.Tab)return e.preventDefault(),void this.selectToNextLine(e);if(this.isCreate&&this.keyboardEventWhileLineCreating(e),this.config.attributeConfigurable){var t=Pt.getAttributeByKeycode(e.keyCode,this.config.attributeList);void 0!==t&&this.setDefaultAttribute(t)}}},{key:"selectToNextLine",value:function(e){var t=Pn.getNextSelectedRectIDByEvent(this.viewPortLines.map((function(e){var t,i,n,a;return an(nn({},e),{x:null!=(i=null==(t=e.pointList[0])?void 0:t.x)?i:0,y:null!=(a=null==(n=e.pointList[0])?void 0:n.y)?a:0})})),e,this.selectedID);t&&this.setActiveLineByID(t.id)}},{key:"keyboardEventWhileLineCreating",value:function(e){this.isCreate&&(e.keyCode===Ht.Ctrl&&this.setInvalidLineOnCreating(e),[Ht.Shift,Ht.Alt].includes(e.keyCode)&&this.renderNextPoint(e,this.prevAxis))}},{key:"renderNextPoint",value:function(e,t){var i=this.coordUtils.getRenderCoord(this.getNextPoint(e,t));this.render(i)}},{key:"deleteSelectedLine",value:function(e){var t=Te.calcViewportBoundaries(this.activeLine,this.isCurve,cn,this.zoom);fi.inArea(t,this.coordUtils.getAbsCoord(e))&&this.deleteLine()}},{key:"deleteSelectedLinePoint",value:function(e){var t;this.pointsWithinRange(this.activeLine.length-1)&&e&&(this.setActiveLine(this.activeLine.filter((function(t){return t.id!==e}))),this.updateLines(),null==(t=this.history)||t.pushHistory(this.lineList)),this.cursor=void 0,this.render()}},{key:"deleteLine",value:function(){var e,t=this;this.lineList=this.lineList.filter((function(e){return e.id!==t.selectedID})),null==(e=this.history)||e.pushHistory(this.lineList),this.setNoneStatus(),this.emit("dataUpdated",this.lineList),this.render()}},{key:"setInvalidLine",value:function(e,t){var i,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.lineList.find((function(t){return t.id===e}));a&&(a.valid=void 0!==t?t:!a.valid,null==(i=this.history)||i.pushHistory(this.lineList),n&&this.render())}},{key:"empty",value:function(){var e,t;this.lineList=[],this.setNoneStatus(),this.selectedPoint=void 0,null==(e=this.actionsHistory)||e.empty(),null==(t=this.history)||t.init(),this.emit("dataUpdated",this.lineList),this.render()}},{key:"setAttribute",value:function(e){var t;this.attributeConfigurable&&(this.defaultAttribute=e,this.setLineAttribute("attribute",e),this.selectedID&&(null==(t=this.history)||t.pushHistory(this.lineList)))}},{key:"setTextAttribute",value:function(e){var t;this.isTextConfigurable&&(this.setLineAttribute("textAttribute",e),null==(t=this.history)||t.applyAttribute(this.selectedID,"textAttribute",e))}},{key:"setLineAttribute",value:function(e,t,i){var n=i||this.selectedID;if(n){var a=this.lineList.find((function(e){return e.id===n}));a&&(a[e]=t)}this.render()}},{key:"updateAttribute",value:function(e){this.emit("updateAttribute",e)}},{key:"updateLineAttributes",value:function(e){var t;if(this.attributeConfigurable&&e){var i=(null==e?void 0:e.attribute)||"";this.defaultAttribute=i,this.updateAttribute(i)}if(this.isTextConfigurable&&e){var n=(null==e?void 0:e.textAttribute)||"";this.updateTextAttribute(n)}null==(t=this.history)||t.updateHistory(this.lineList)}},{key:"lineStatusChanged",value:function(){this.emit("lineStatusChanged",{status:this.status,selectedLineID:this.selectedID})}},{key:"updateTextAttribute",value:function(e){var t=this;if(this.selectedID){var i=this.lineList.find((function(e){return e.id===t.selectedID}));i&&(i.textAttribute=e)}this.emit("updateText",e)}},{key:"saveData",value:function(){this.stopLineCreating(),this.setNoneStatus(),this.render()}},{key:"setTextEditingID",value:function(e){this.textEditingID=e,this.render()}},{key:"setSelectedLineID",value:function(e){var t,i;if(this.selectedID!==e){var n=this.selectedID;e!==n&&n&&(null==(t=this._textAttributeInstance)||t.changeSelected()),e||null==(i=this._textAttributeInstance)||i.clearTextAttribute(),this.selectedID=e,this.emit("selectedChange")}}},{key:"attributeLockListChange",value:function(e){this.attributeLockList=e,this.render()}},{key:"setResult",value:function(e){this.setNoneStatus(),this.setLineList(e),this.render()}},{key:"setConfig",value:function(e){Object(y.a)(Object(x.a)(i.prototype),"setConfig",this).call(this,e)}},{key:"toggleIsHide",value:function(){this.setIsHidden(!this.isHidden),this.render()}},{key:"clearCanvas",value:function(){Object(y.a)(Object(x.a)(i.prototype),"clearCanvas",this).call(this)}},{key:"clearResult",value:function(){this.setResult([]),this.setSelectedLineID(void 0),this.render()}},{key:"exportData",value:function(){return[this.lineList,this.basicImgInfo]}},{key:"setDefaultAttribute",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.attributeConfigurable&&(this.defaultAttribute=t,this.setLineAttribute("attribute",t),this.selectedID&&(null==(e=this.history)||e.pushHistory(this.lineList)),this.emit("changeAttributeSidebar"))}},{key:"getCurrentSelectedData",value:function(){var e,t,i=this,n=this.isActiveLineValid(),a=this.defaultAttribute,c=this.getColor(a);return{color:n?null==c?void 0:c.valid.stroke:null==c?void 0:c.invalid.stroke,textAttribute:null!=(t=null==(e=this.lineList.find((function(e){return e.id===i.selectedID})))?void 0:e.textAttribute)?t:""}}},{key:"renderTextAttribute",value:function(){var e,t,i,n,a=this;if(this.ctx&&this.activeLine&&!((null==(e=this.activeLine)?void 0:e.length)<2)&&!this.isCreate){var c=this.isActiveLineValid(),r=this.defaultAttribute,o=this.activeLine[1],s=o.x,l=o.y,d=this.coordUtils.getRenderCoord({x:s,y:l}),u=this.getColor(r),h=c?null==u?void 0:u.valid.stroke:null==u?void 0:u.invalid.stroke,f=null!=(i=null==(t=this.lineList.find((function(e){return e.id===a.selectedID})))?void 0:t.textAttribute)?i:"";this._textAttributeInstance||(this._textAttributeInstance=new Ni({container:this.container,icon:this.getTextIconSvg(r),color:h,getCurrentSelectedData:this.getCurrentSelectedData,updateSelectedTextAttribute:this.updateSelectedTextAttribute})),this._textAttributeInstance&&!(null==(n=this._textAttributeInstance)?void 0:n.isExit)&&this._textAttributeInstance.appendToContainer(),this._textAttributeInstance.update("".concat(f),{left:d.x,top:d.y,color:h}),this._textAttributeInstance.updateIcon(this.getTextIconSvg(r))}}},{key:"getTextIconSvg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Pt.getTextIconSvg(e,this.config.attributeList,this.config.attributeConfigurable,this.baseIcon)}},{key:"updateSelectedTextAttribute",value:function(e){if(this._textAttributeInstance&&e&&this.selectedID){var t=e;!Pt.textAttributeValidate(this.config.textCheckType,"",t)&&(this.emit("messageError",Pt.getErrorNotice(this.config.textCheckType,this.lang)),t=""),this.setTextAttribute(t),this.emit("updateTextAttribute"),this.render()}}}]),i}(Li),ln=Object.defineProperty,dn=Object.defineProperties,un=Object.getOwnPropertyDescriptors,hn=Object.getOwnPropertySymbols,fn=Object.prototype.hasOwnProperty,gn=Object.prototype.propertyIsEnumerable,vn=Math.pow,bn=function(e,t,i){return t in e?ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},pn=function(e,t){for(var i in t||(t={}))fn.call(t,i)&&bn(e,i,t[i]);if(hn){var n,a=Object(E.a)(hn(t));try{for(a.s();!(n=a.n()).done;){i=n.value;gn.call(t,i)&&bn(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},mn=function(e,t){return dn(e,un(t))},yn=function(e){Object(C.a)(i,e);var t=Object(I.a)(i);function i(e){var n;return Object(T.a)(this,i),(n=t.call(this,e)).textChange=function(e){!1!==n.config.textConfigurable&&n.selectedID&&(n.setPointList(Pt.textChange(e,n.selectedID,n.pointList)),n.emit("selectedChange"),n.render())},n.config=Pn.jsonParser(e.config),n.pointList=[],n.setStyle(e.style),n.createPoint=n.createPoint.bind(Object(L.a)(n)),n.getCurrentSelectedData=n.getCurrentSelectedData.bind(Object(L.a)(n)),n.updateSelectedTextAttribute=n.updateSelectedTextAttribute.bind(Object(L.a)(n)),n}return Object(A.a)(i,[{key:"dataList",get:function(){return this.pointList}},{key:"setResult",value:function(e){this.clearActiveStatus(),this.setPointList(e),this.render()}},{key:"setPointList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.pointList.length;this.pointList=e,i!==e.length&&this.emit("updatePageNumber"),t&&this.emit("updateResult")}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.config=Pn.jsonParser(e),!0===t&&this.clearResult()}},{key:"clearResult",value:function(){this.setPointList([]),this.setSelectedID(void 0),this.hoverID="",this.render()}},{key:"setDefaultAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.defaultAttribute;if(this.defaultAttribute=e,t!==e){this.changeStyle(e),this.emit("changeAttributeSidebar");var i=this.selectedID;if(i&&(this.pointList.forEach((function(t){t.id===i&&(t.attribute=e)})),this.history.pushHistory(this.pointList),this.render()),this._textAttributInstance){if(this.attributeLockList.length>0&&!this.attributeLockList.includes(e))return void this._textAttributInstance.clearTextAttribute();this._textAttributInstance.updateIcon(this.getTextIconSvg(e))}}}},{key:"selectedText",get:function(){var e,t=this;return null==(e=this.pointList.find((function(e){return e.id===t.selectedID})))?void 0:e.textAttribute}},{key:"setStyle",value:function(e){var t;Object(y.a)(Object(x.a)(i.prototype),"setStyle",this).call(this,e),this._textAttributInstance&&!1===this.config.attributeConfigurable&&(null==(t=this._textAttributInstance)||t.updateIcon(this.getTextIconSvg()))}},{key:"setSelectedID",value:function(e){var t,i,n=this.selectedID;e!==n&&n&&(null==(t=this._textAttributInstance)||t.changeSelected()),e||null==(i=this._textAttributInstance)||i.clearTextAttribute(),this.selectedID=e,this.render(),this.emit("selectedChange")}},{key:"getTextIconSvg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Pt.getTextIconSvg(e,this.config.attributeList,this.config.attributeConfigurable,this.baseIcon)}},{key:"clearActiveStatus",value:function(){this.hoverID=void 0,this.dragStatus=Ee.Wait,this.setSelectedID(void 0)}},{key:"setBasicResult",value:function(e){Object(y.a)(Object(x.a)(i.prototype),"setBasicResult",this).call(this,e),this.clearActiveStatus()}},{key:"onMouseDown",value:function(e){if(!Object(y.a)(Object(x.a)(i.prototype),"onMouseDown",this).call(this,e)&&!this.forbidMouseOperation)return 0!==e.button||this.hoverID?(this.hoverID===this.selectedID&&0===e.button&&(this.dragStatus=Ee.Start),this.render(),!0):(this.createPoint(e),void this.render())}},{key:"onMouseMove",value:function(e){Object(y.a)(Object(x.a)(i.prototype),"onMouseMove",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo||(this.hoverID=this.getHoverId(),this.dragStatus!==Ee.Start&&this.dragStatus!==Ee.Move||this.onDragMove(e),this.hoverID&&this.render())}},{key:"onMouseUp",value:function(e){if(Object(y.a)(Object(x.a)(i.prototype),"onMouseUp",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo)return!0;2===e.button&&this.rightMouseUp(),this.dragStatus===Ee.Move&&(this.dragStatus=Ee.Wait,this.history.pushHistory(this.pointList)),this.render()}},{key:"onDragMove",value:function(e){var t=this;if(this.imgInfo){this.dragStatus=Ee.Move;var i=this.getCoordinateUnderZoom(e),n=Un.changeDrawOutsideTarget(i,{x:0,y:0},this.imgInfo,this.config.drawOutsideTarget,this.basicResult,this.zoom),a=this.config.drawOutsideTarget?Un.getOriginCoordinateWithOffsetCoordinate(this.coord,this.zoom,this.currentPos):Un.changePointByZoom(n,1/this.zoom);this.pointList.forEach((function(e){e.id===t.selectedID&&(e.x=a.x,e.y=a.y)})),this.render()}}},{key:"onKeyDown",value:function(e){if(Pn.hotkeyFilter(e)&&!1!==Object(y.a)(Object(x.a)(i.prototype),"onKeyDown",this).call(this,e)){var t=e.keyCode;switch(t){case Ht.Delete:this.deletePoint();break;case Ht.Tab:this.onTabKeyDown(e);break;case Ht.Z:this.setIsHidden(!this.isHidden),this.render();break;default:if(this.config.attributeConfigurable){var n=Pt.getAttributeByKeycode(t,this.config.attributeList);void 0!==n&&this.setDefaultAttribute(n)}}}}},{key:"createPoint",value:function(e){if(this.imgInfo){var t=this.config.upperLimit;if(t&&this.pointList.length>=t)this.emit("messageInfo","".concat(xt.getMessagesByLocale(et.LowerLimitPoint,this.lang)));else{var i=Pn.getSourceID(this.basicResult),n=this.getCoordinateUnderZoom(e),a=Un.getOriginCoordinateWithOffsetCoordinate(this.coord,this.zoom,this.currentPos);if(!1===this.config.drawOutsideTarget){if(this.dependToolName&&this.basicCanvas){var c=!1;switch(this.dependToolName){case g.Rect:c=!Qe.isInRect(a,this.basicResult);break;case g.Polygon:c=!_n.isInPolygon(a,this.basicResult.pointList)}if(c)return}if(n.x<0||n.y<0||n.x>this.imgInfo.width||n.y>this.imgInfo.height)return}var r=mn(pn({},a),{attribute:this.defaultAttribute,valid:!e.ctrlKey,id:$e(8,62),sourceID:i,textAttribute:"",order:Pn.getMaxOrder(this.pointList.filter((function(e){return Pn.isSameSourceID(e.sourceID,i)})))+1});if(this.config.textConfigurable){var o;o=Pt.getTextAttribute(this.pointList.filter((function(e){return Pn.isSameSourceID(e.sourceID,i)})),this.config.textCheckType),r=mn(pn({},r),{textAttribute:o})}this.setSelectedID(r.id),this.hoverID=r.id,this.setPointList([].concat(Object(P.a)(this.pointList),[r])),this.history.pushHistory(this.pointList)}}}},{key:"isInPoint",value:function(e,t){return this.style.width+2>=Math.sqrt(vn(e.x-t.x,2)+vn(e.y-t.y,2))}},{key:"getHoverId",value:function(){var e,t=this,i=Un.getOriginCoordinateWithOffsetCoordinate(this.coord,this.zoom,this.currentPos),n=null==(e=this.pointList)?void 0:e.find((function(e){return t.isInPoint(i,e)}));return null==n?void 0:n.id}},{key:"rightMouseUp",value:function(){var e=this;if(this.selectedID===this.hoverID){var t=this.pointList.filter((function(t){return t.id!==e.selectedID}));return this.setPointList(t),this.setSelectedID(""),void(this.hoverID="")}var i=this.pointList.find((function(t){return t.id===e.hoverID}));this.setSelectedID(this.hoverID),this.setDefaultAttribute(null==i?void 0:i.attribute)}},{key:"onTabKeyDown",value:function(e){if(e.preventDefault(),this.dragStatus!==Ee.Move&&this.dragStatus!==Ee.Start){var t=Re.ascend;e.shiftKey&&(t=Re.descend);var i=Pn.getRenderResultList(this.pointList,Pn.getSourceID(this.basicResult),this.attributeLockList,this.selectedID),n=Object(S.a)(i,2),a=n[0],c=n[1],r=Object(P.a)(a);c&&(r=[].concat(Object(P.a)(r),[c]));var o=Pn.getNextSelectedRectID(r,t,this.selectedID);o&&this.setSelectedID(o.id)}}},{key:"currentPageResult",get:function(){var e=Pn.getRenderResultList(this.pointList,Pn.getSourceID(this.basicResult),[]);return Object(S.a)(e,1)[0]}},{key:"exportData",value:function(){return[this.pointList,this.basicImgInfo]}},{key:"deletePoint",value:function(){var e,t=this;this.selectedID&&(this.setPointList(this.pointList.filter((function(e){return e.id!==t.selectedID}))),this.history.pushHistory(this.pointList),null==(e=this._textAttributInstance)||e.clearTextAttribute(),this.emit("selectedChange"),this.render())}},{key:"undoAndRedo",value:function(e){var t,i,n=this;if(this.dragStatus!==Ee.Move&&this.dragStatus!==Ee.Start){var a=null==(i=(t=this.history)[e])?void 0:i.call(t);(null==a?void 0:a.some((function(e){return e.id===n.selectedID})))||this.setSelectedID(""),a&&(this.setPointList(a,!0),this.render())}}},{key:"undo",value:function(){this.undoAndRedo("undo")}},{key:"redo",value:function(){this.undoAndRedo("redo")}},{key:"getCurrentSelectedData",value:function(){var e,t=this;if(this.selectedID){var i=null==(e=this.pointList)?void 0:e.find((function(e){return e.id===t.selectedID})),n=this.getColor(null==i?void 0:i.attribute),a=(null==i?void 0:i.valid)?null==n?void 0:n.valid.stroke:null==n?void 0:n.invalid.stroke;return this.dragStatus=Ee.Wait,{width:200*this.zoom*.6,textAttribute:(null==i?void 0:i.textAttribute)||"",color:a}}}},{key:"updateSelectedTextAttribute",value:function(e){if(this._textAttributInstance&&e&&this.selectedID){var t=e;!1===Pt.textAttributeValidate(this.config.textCheckType,"",t)&&(this.emit("messageError",Pt.getErrorNotice(this.config.textCheckType,this.lang)),t=""),this.setPointList(Pt.textChange(t,this.selectedID,this.pointList)),this.emit("updateTextAttribute"),this.render()}}},{key:"renderTextAttribute",value:function(){var e,t,i=this,n=null==(e=this.pointList)?void 0:e.find((function(e){return e.id===i.selectedID}));if(this.ctx&&!1!==this.config.textConfigurable&&n){var a=n.x,c=n.y,r=n.attribute,o=n.valid,s=200*this.zoom*.6,l=Un.getOffsetCoordinate({x:a,y:c},this.currentPos,this.zoom),d=this.getColor(r),u=o?null==d?void 0:d.valid.stroke:null==d?void 0:d.invalid.stroke;this._textAttributInstance||(this._textAttributInstance=new Ni({width:s,container:this.container,icon:this.getTextIconSvg(r),color:u,getCurrentSelectedData:this.getCurrentSelectedData,updateSelectedTextAttribute:this.updateSelectedTextAttribute})),this._textAttributInstance&&!(null==(t=this._textAttributInstance)?void 0:t.isExit)&&this._textAttributInstance.appendToContainer(),this._textAttributInstance.update("".concat(n.textAttribute),{left:l.x,top:l.y+4,color:u,width:s})}}},{key:"renderPoint",value:function(){var e=this,t=this.isHidden?this.pointList.filter((function(t){return t.id===e.selectedID})):this.pointList;null==t||t.forEach((function(t){var i,n,a=t.textAttribute,c=void 0===a?"":a,r=t.attribute,o=t.id===e.selectedID,s=e.getColor(r),l=Un.changePointByZoom(t,e.zoom,e.currentPos),d=e.style.width,u=void 0===d?2:d,h=jt.getStrokeAndFill(s,t.valid,{isSelected:o||t.id===e.hoverID});Rt.drawCircle(e.canvas,l,u,{startAngleDeg:0,endAngleDeg:360,thickness:1,color:h.stroke,fill:h.fill});var f="".concat(null!=(i=Pt.getAttributeShowText(t.attribute,e.config.attributeList))?i:"");(null==(n=e.config)?void 0:n.isShowOrder)&&t.order>0&&(f="".concat(t.order," ").concat(f)),Rt.drawText(e.canvas,{x:l.x+u/2,y:l.y-u-4},f,{textAlign:"center",color:h.stroke}),o?e.renderTextAttribute():Rt.drawText(e.canvas,{x:l.x+u,y:l.y+u+24},c,pn({color:h.stroke},Be))}))}},{key:"render",value:function(){this.ctx&&(Object(y.a)(Object(x.a)(i.prototype),"render",this).call(this),this.renderPoint(),this.renderCursorLine(this.getLineColor(this.defaultAttribute)))}}]),i}(Li),xn=function(e){Object(C.a)(i,e);var t=Object(I.a)(i);function i(e){var n;return Object(T.a)(this,i),(n=t.call(this,e)).getSingleResult=function(e){var t={};return n.config.configList.length>0&&n.config.configList.forEach((function(e){var i;t[e.key]=null!=(i=e.default)?i:""})),{value:t,id:$e(),sourceID:null!=e?e:Pn.getSourceID()}},n.getInitResultList=function(e,t){return 0===e?[n.getSingleResult()]:t.map((function(e){return n.getSingleResult(e.id)}))},n.textList=[],n.setShowDefaultCursor(!0),n.setConfig(e.config),n.initTextDisplayContainer(),n}return Object(A.a)(i,[{key:"dataList",get:function(){return this.textList}},{key:"textValueContainerID",get:function(){return"textValueContainer"}},{key:"textValueContainer",get:function(){return document.getElementById(this.textValueContainerID)}},{key:"currentPageResult",get:function(){return this.textList}},{key:"setResult",value:function(e){var t,i=this;this.textList=e,this.toggleTextContainerVisible(!0);var n=null==(t=this.textList[0])?void 0:t.value;n&&Object.keys(n).forEach((function(e){i.renderText(e,n[e])})),this.emit("valueUpdated"),this.toggleTextContainerVisible(!!n)}},{key:"updateTextValue",value:function(e,t){this.textList[0].value[e]=t,this.renderText(e,t),this.emit("valueUpdated")}},{key:"renderText",value:function(e,t){var i=document.getElementById("textKey".concat(e));i&&(i.innerText=t)}},{key:"getTextDomID",value:function(e){return"textKey".concat(e)}},{key:"initTextDisplayContainer",value:function(){var e=this,t=document.createElement("div"),i={position:"absolute",right:"0",top:"0","z-index":"20","max-width":"20%","font-family":"SourceHanSansCN-Regular",background:"rgb(102, 230, 255)",color:"white","word-break":"break-all","line-height":"24px","white-space":"pre-wrap","max-height":"80%","overflow-y":"auto",opacity:"0.6"};t.setAttribute("style",Object.keys(i).reduce((function(e,t){return e+="".concat(t,": ").concat(i[t],";")}),"")),t.setAttribute("id",this.textValueContainerID),this.config.configList.forEach((function(i){var n=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div");n.setAttribute("style","padding: 8px 16px"),a.innerText="".concat(i.key,":"),c.innerText="",c.setAttribute("id",e.getTextDomID(i.key)),n.appendChild(a),n.appendChild(c),t.appendChild(n)})),this.container.appendChild(t)}},{key:"exportData",value:function(){return[this.textList,this.basicImgInfo]}},{key:"destroyCanvas",value:function(){Object(y.a)(Object(x.a)(i.prototype),"destroyCanvas",this).call(this),this.textValueContainer&&this.container.removeChild(this.textValueContainer)}},{key:"onKeyDown",value:function(e){Object(y.a)(Object(x.a)(i.prototype),"onKeyDown",this).call(this,e),e.keyCode===Ht.Z&&this.toggleTextContainerVisible()}},{key:"toggleTextContainerVisible",value:function(e){if(this.textValueContainer){var t=(void 0!==e?e:"block"!==this.textValueContainer.style.display)?"block":"none";this.textValueContainer.style.display=t}}}]),i}(Li),wn=Object.defineProperty,kn=Object.defineProperties,Ln=Object.getOwnPropertyDescriptors,Cn=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,On=Object.prototype.propertyIsEnumerable,Tn=function(e,t,i){return t in e?wn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},An=function(e,t){for(var i in t||(t={}))In.call(t,i)&&Tn(e,i,t[i]);if(Cn){var n,a=Object(E.a)(Cn(t));try{for(a.s();!(n=a.n()).done;){i=n.value;On.call(t,i)&&Tn(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},Sn=function(e,t){return kn(e,Ln(t))},Pn=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"getStepInfo",value:function(e,t){return null==t?void 0:t.filter((function(t){return t.step===e}))[0]}},{key:"getCurrentStepInfo",value:function(e,t){var i=this.getStepInfo(e,t);return!i||i.type!==Ae.QUALITY_INSPECTION&&i.type!==Ae.MANUAL_CORRECTION?i:this.getCurrentStepInfo(i.dataSourceStep,t)}},{key:"getMaxOrder",value:function(e){var t=0;return e.forEach((function(e){e.order&&e.order>t&&(t=e.order)})),t}},{key:"hotkeyFilter",value:function(e){var t=e.target||e.srcElement;if(!t)return!0;var i=t.tagName,n=t.type;if(!i||!n)return!0;var a=!0;return(t.isContentEditable||"TEXTAREA"===i||("INPUT"===i&&"radio"!==n||"TEXTAREA"===i)&&!t.readOnly)&&(a=!1),a}},{key:"getCurrentOperation",value:function(e){switch(e){case g.Rect:case g.RectTrack:return ta;case g.Tag:return Yi;case g.Polygon:return Ki;case b.Check:return Di;case g.Line:return sn;case g.Point:return yn;case g.Text:return xn;default:throw new Error("not match tool")}}},{key:"getNextSelectedRectID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.ascend,i=arguments.length>2?arguments[2]:void 0,n=1;t===Re.descend&&(n=-1);var a=e.sort((function(e,t){return e.x-t.x===0?e.y-t.y:n*(e.x-t.x)})),c=a.findIndex((function(e){return e.id===i})),r=a.length;return a[(c+1)%r]}},{key:"getNextSelectedRectIDByEvent",value:function(e,t,i){var n=t.shiftKey?Re.descend:Re.ascend;return this.getNextSelectedRectID(e,n,i)}},{key:"getRenderResultList",value:function(e,t){var i,n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=arguments.length>3?arguments[3]:void 0,r=e.filter((function(e){return c&&c===(null==e?void 0:e.id)?(i=e,!1):!(a.length>0&&!a.includes(null==e?void 0:e.attribute))&&!n.isDifferSourceID(null==e?void 0:e.sourceID,t)}));return[r,i]}},{key:"getSourceID",value:function(e){var t;return e&&null!=(t=null==e?void 0:e.id)?t:""}},{key:"findAllLine",value:function(e){var t=[],i=Object(P.a)(e);i.length>=3&&i.push(An({},i[0]));for(var n=0;n<i.length;n++)i[n+1]&&t.push({point1:i[n],point2:i[n+1],pointIndex:n});return t}},{key:"translateSourceID",value:function(e){return void 0!==e&&0!==e&&"0"!==e||(e=""),e}},{key:"isDifferSourceID",value:function(e,t){return e=this.translateSourceID(e),t=this.translateSourceID(t),"".concat(e)!=="".concat(t)}},{key:"isSameSourceID",value:function(e,t){return e=this.translateSourceID(e),t=this.translateSourceID(t),"".concat(e)==="".concat(t)}},{key:"getNextMarker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;if(0!==(null==t?void 0:t.length)){var n=t.map((function(e,t){return Sn(An({},e),{index:t})}));if("number"===typeof i&&i>0){var a=t[i];if(a&&e.every((function(e){return e.label!==a.value})))return{label:a.value,index:i};n=[].concat(Object(P.a)(n.slice(i,t.length)),Object(P.a)(n.slice(0,i)))}for(var c=function(t){return e.some((function(e){return e.label===n[t].value}))?"continue":{v:{label:n[t].value,index:n[t].index}}},r=0;r<n.length;r++){var o=c(r);if("continue"!==o&&"object"===typeof o)return o.v}}}},{key:"getCurrentMarkerIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.findIndex((function(t){return e===t.value}))}}]),e}();Pn.jsonParser=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return"string"===typeof e?JSON.parse(e):Object(_.isObject)(e)?e:t}catch(i){return t}};var En,Dn,_n=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"getHoverPolygonID",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z.Line,c="",r=1/0,o=Un.axisArea(e,n);return t.forEach((function(e){e.pointList&&o.forEach((function(t){var n=i.calcPolygonSize(e.pointList);i.isInPolygon(t,e.pointList,a)&&n<r&&(c=e.id,r=n)}))})),c}},{key:"calcPolygonSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((null==e?void 0:e.length)<=2)return 0;var t=e.length,i=e.reduce((function(e,i,n,a){var c=a[(n+1)%t];return e+i.x*c.y-c.x*i.y}),0);return Math.abs(i)/2}},{key:"isInPolygon",value:function(e,t){var i,n,a,c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Line,o=0;t=Object(P.a)(t),r===z.Curve&&(t=this.createSmoothCurvePoints(t.reduce((function(e,t){return[].concat(Object(P.a)(e),[t.x,t.y])}),[]),.5,!0,20));var s=t,l=Object(S.a)(s,1);a=l[0];var d=t.length;for(i=1;i<=d;i++)c=t[i%d],e.x>Math.min(a.x,c.x)&&e.x<=Math.max(a.x,c.x)&&e.y<=Math.max(a.y,c.y)&&a.x!==c.x&&(n=(e.x-a.x)*(c.y-a.y)/(c.x-a.x)+a.y,(a.y===c.y||e.y<=n)&&o++),a=c;return o%2!==0}},{key:"createSmoothCurvePointsFromPointList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;return this.createSmoothCurvePoints(e.reduce((function(e,t){return[].concat(Object(P.a)(e),[t.x,t.y])}),[]),.5,!1,t)}},{key:"createSmoothCurvePoints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue;if(e.length<4)return e;var a,c,r,o,s,l,d,u,h,f,g,v,b,p=[],m=e.slice(0);for(i?(m.unshift(e[e.length-1]),m.unshift(e[e.length-2]),m.unshift(e[e.length-1]),m.unshift(e[e.length-2]),m.push(e[0]),m.push(e[1])):(m.unshift(e[1]),m.unshift(e[0]),m.push(e[e.length-2]),m.push(e[e.length-1])),b=2;b<m.length-4;b+=2)for(r=(m[b+2]-m[b-2])*t,o=(m[b+4]-m[b-0])*t,s=(m[b+3]-m[b-1])*t,l=(m[b+5]-m[b+1])*t,v=0;v<=n;v++)g=v/n,d=2*Math.pow(g,3)-3*Math.pow(g,2)+1,u=-2*Math.pow(g,3)+3*Math.pow(g,2),h=Math.pow(g,3)-2*Math.pow(g,2)+g,f=Math.pow(g,3)-Math.pow(g,2),a=d*m[b]+u*m[b+2]+h*r+f*o,c=d*m[b+1]+u*m[b+3]+h*s+f*l,p.push(a),p.push(c);for(var y=[],x=0;x<p.length-1;x+=2)y.push({x:p[x],y:p[x+1]});if(i)for(var w=0;w<n+1;w++){var k=y.shift();y.push(k)}return y}},{key:"getPolygonByID",value:function(e,t){return e.find((function(e){return e.id===t}))}},{key:"getHoverEdgeIndex",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Line,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=Object(P.a)(t);i===z.Curve?a=this.createSmoothCurvePoints(t.reduce((function(e,t){return[].concat(Object(P.a)(e),[t.x,t.y])}),[]),.5,!0,ue):i===z.Line&&a.push(a[0]);for(var c=-1,r=n,o=0;o<a.length-1;o++){var s=Te.getFootOfPerpendicular(e,a[o],a[o+1]),l=s.length;l<r&&(c=o,r=l)}return-1===c?-1:i===z.Curve?Math.floor(c/ue):c}},{key:"getClosestPoint",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Line,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,c="",r=-1,o=1/0,s=e,l=20;return t.forEach((function(t){if(t.pointList)switch(n){case z.Line:Pn.findAllLine(t.pointList).forEach((function(i,n){var l=Te.getFootOfPerpendicular(e,i.point1,i.point2),d=l.length,u=l.footPoint;d<o&&d<a&&(c=t.id,r=n,o=d,s=u)}));break;case z.Curve:for(var d=i.createSmoothCurvePoints(t.pointList.reduce((function(e,t){return[].concat(Object(P.a)(e),[t.x,t.y])}),[]),.5,!0,l),u=0;u<d.length-1;u++){var h=Te.getFootOfPerpendicular(e,d[u],d[u+1]),f=h.length,g=h.footPoint;f<o&&f<a&&(c=t.id,r=Math.floor(u/(l+1)),o=f,s=g)}}})),{dropFoot:s,closestEdgeIndex:r,closestPolygonID:c}}},{key:"isPointListInPolygon",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Line;return e.every((function(e){return i.isInPolygon(e,t,n)}))}},{key:"isPointListOutSidePolygon",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Line;return e.some((function(e){return!i.isInPolygon(e,t,n)}))}},{key:"getPolygonArea",value:function(e){for(var t=0,i=0,n=e.length;i<n;i++){t+=e[i].x*e[i===e.length-1?0:i+1].y*.5,t-=e[i===e.length-1?0:i+1].x*e[i].y*.5}return Math.abs(t)}}]),e}(),Rn=Object.defineProperty,Nn=Object.defineProperties,Mn=Object.getOwnPropertyDescriptors,jn=Object.getOwnPropertySymbols,Hn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable,Bn=function(e,t,i){return t in e?Rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},Vn=function(e,t){for(var i in t||(t={}))Hn.call(t,i)&&Bn(e,i,t[i]);if(jn){var n,a=Object(E.a)(jn(t));try{for(a.s();!(n=a.n()).done;){i=n.value;Zn.call(t,i)&&Bn(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},Fn=function(e,t){return Nn(e,Mn(t))},Un=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"getOffsetCoordinate",value:function(e,t,i){return{x:e.x*i+t.x,y:e.y*i+t.y}}},{key:"changeDrawOutsideTarget",value:function(e,t,i,n,a,c){return"boolean"!==typeof n||n||(a&&c?(e.x-t.x>(a.x+a.width)*c&&(e.x=(a.x+a.width)*c+t.x),e.x-t.x<a.x*c&&(e.x=a.x*c+t.x),e.y-t.y>(a.y+a.height)*c&&(e.y=(a.y+a.height)*c+t.y),e.y-t.y<a.y*c&&(e.y=a.y*c+t.y)):(e.x-t.x>i.width&&(e.x=i.width+t.x),e.x-t.x<0&&(e.x=t.x),e.y-t.y>i.height&&(e.y=i.height+t.y),e.y-t.y<0&&(e.y=t.y))),e}},{key:"changeCoordinateByRotate",value:function(e,t,i){var n=i.width,a=i.height,c=e.x,r=e.y;switch(t%360){case 90:return{x:a-r,y:c};case 180:return{x:n-c,y:a-r};case 270:return{x:r,y:n-c};default:return e}}},{key:"changeRectByZoom",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};return Fn(Vn({},e),{x:e.x*t+i.x,y:e.y*t+i.y,width:e.width*t,height:e.height*t})}},{key:"changePointByZoom",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};return Fn(Vn({},e),{x:e.x*t+i.x,y:e.y*t+i.y})}},{key:"changePointListByZoom",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};return e.map((function(e){return i.changePointByZoom(e,t,n)}))}},{key:"axisArea",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=e.x,n=e.y,a=[],c=i-t;c<i+t;c+=t/3)for(var r=n-t;r<n+t;r+=t/3)a.push({x:c,y:r});return a}},{key:"getOriginCoordinateWithOffsetCoordinate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};return{x:(e.x-i.x)/t,y:(e.y-i.y)/t}}},{key:"returnClosePointIndex",value:function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=-1,a=0;a<t.length;a++){var c=t[a];this.getIsInScope(e,c,i)&&(n=a)}return n}},{key:"getIsInScope",value:function(e,t,i){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}}]),e}(),zn=function(){function e(t){Object(T.a)(this,e),this.currentPos=t.currentPos,this.zoom=t.zoom,this.basicImgInfo=t.basicImgInfo,this.dependToolName=""}return Object(A.a)(e,[{key:"isDependPolygon",get:function(){return this.dependToolName===g.Polygon}},{key:"isDependRect",get:function(){return this.dependToolName===g.Rect}},{key:"isDependOriginalImage",get:function(){return""===this.dependToolName}},{key:"getAbsCoord",value:function(e){return{x:(e.x-this.currentPos.x)/this.zoom,y:(e.y-this.currentPos.y)/this.zoom}}},{key:"getRenderCoord",value:function(e){return{x:e.x*this.zoom+this.currentPos.x,y:e.y*this.zoom+this.currentPos.y}}},{key:"coordInsideRect",value:function(e,t){var i=t.x,n=t.y,a=t.width,c=t.height;return{x:Te.withinRange(e.x,[i,i+a]),y:Te.withinRange(e.y,[n,n+c])}}},{key:"getPolygonPointList",value:function(e,t){return e===z.Curve?_n.createSmoothCurvePointsFromPointList(t):t}},{key:"getIntersection",value:function(e,t,i){var n=this.getRenderCoord(t),a={pointA:n,pointB:this.getRenderCoord(e)};return fi.calcOptimalIntersection(i,a,n,3,this.zoom)}},{key:"coordInsidePolygon",value:function(e,t,i,n){var a=this,c=i.pointList,r=null==n?void 0:n.lineType;if(0===c.length)return e;var o=this.getPolygonPointList(r,c);if(_n.isInPolygon(e,o))return e;var s=o.concat(o[0]).map((function(e){return a.getRenderCoord(e)})),l=this.getIntersection(e,t,s);return l?this.getAbsCoord(null==l?void 0:l.point):e}},{key:"coordInsideImage",value:function(e){return this.coordInsideRect(e,Fn(Vn({},this.basicImgInfo),{x:0,y:0}))}},{key:"getNextCoordByDependTool",value:function(e,t){return this.isDependRect?this.coordInsideRect(e,this.basicResult):this.isDependPolygon?this.coordInsidePolygon(e,t,this.basicResult,this.dependToolConfig):this.isDependOriginalImage?this.coordInsideImage(e):void 0}},{key:"setDependInfo",value:function(e,t){this.dependToolName=null!=e?e:"",this.dependToolConfig=e?t:void 0}},{key:"setBasicImgInfo",value:function(e){this.basicImgInfo=e}},{key:"setBasicResult",value:function(e){this.basicResult=e}},{key:"setZoomAndCurrentPos",value:function(e,t){this.zoom=e,this.currentPos=t}},{key:"isCoordInsideTarget",value:function(e){if(this.isDependPolygon)return this.isInBasicPolygon(e);if(this.isDependRect){var t=this.basicResult,i=t.x,n=t.y,a=[i,i+t.width],c=[n,n+t.height];return Te.isInRange(e.x,a)&&Te.isInRange(e.y,c)}return Te.isInRange(e.x,[0,this.basicImgInfo.width])&&Te.isInRange(e.y,[0,this.basicImgInfo.height])}},{key:"isInBasicPolygon",value:function(e){var t,i;return _n.isInPolygon(e,(null==(t=this.basicResult)?void 0:t.pointList)||[],null==(i=this.dependToolConfig)?void 0:i.lineType)}}]),e}(),Wn=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"getMarkerShowText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Pt.getAttributeShowText(e,t)}}]),e}(),Gn=Object.defineProperty,Kn=Object.defineProperties,Yn=Object.getOwnPropertyDescriptors,Jn=Object.getOwnPropertySymbols,Xn=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable,Qn=function(e,t,i){return t in e?Gn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},$n=function(e,t){for(var i in t||(t={}))Xn.call(t,i)&&Qn(e,i,t[i]);if(Jn){var n,a=Object(E.a)(Jn(t));try{for(a.s();!(n=a.n()).done;){i=n.value;qn.call(t,i)&&Qn(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},ea=function(e,t){return Kn(e,Yn(t))},ta=function(e){Object(C.a)(i,e);var t=Object(I.a)(i);function i(e){var n;return Object(T.a)(this,i),(n=t.call(this,e)).setMarkerIndex=function(e){n.markerIndex=e},n.setMarkerIndexAndSelect=function(e){if(n.config.markerList){n.markerIndex=e;var t=n.config.markerList[e].value,i=n.rectList.find((function(e){return e.label===t}));i&&(n.setSelectedID(i.id),!0===n.config.attributeConfigurable&&n.setDefaultAttribute(i.attribute)),n.emit("markIndexChange")}},n.getHoverRectID=function(e){var t=n.getCoordinateUnderZoom(e),i=Object(L.a)(n).currentShowList;if(i.length>0){if(n.selectedRectID){var a=Object(L.a)(n).selectedRect;if(a&&Qe.isInRect(t,a,6,n.zoom))return a.id}var c=i.filter((function(e){return Qe.isInRect(t,e,6,n.zoom)}));if(0===c.length)return"";if(1===c.length)return c[0].id;if(c.length>1)return c.map((function(e){return{size:e.width*e.height,id:e.id}})).sort((function(e,t){return e.size-t.size}))[0].id}return""},n.textChange=function(e){!1!==n.config.textConfigurable&&n.selectedRectID&&(n.setRectList(Pt.textChange(e,n.selectedRectID,n.rectList),!0),n.emit("selectedChange"),n.render())},n.drawOutSideTarget=e.drawOutSideTarget||!1,n.rectList=[],n.isFlow=!0,n.config=Pn.jsonParser(e.config),n.hoverRectEdgeIndex=-1,n.hoverRectPointIndex=-1,n.markerIndex=0,n.setStyle(e.style),n.createNewDrawingRect=n.createNewDrawingRect.bind(Object(L.a)(n)),n.getDrawingRectWithRectList=n.getDrawingRectWithRectList.bind(Object(L.a)(n)),n.setSelectedIdAfterAddingDrawingRect=n.setSelectedIdAfterAddingDrawingRect.bind(Object(L.a)(n)),n.getCurrentSelectedData=n.getCurrentSelectedData.bind(Object(L.a)(n)),n.updateSelectedRectTextAttribute=n.updateSelectedRectTextAttribute.bind(Object(L.a)(n)),n.setSelectedID=n.setSelectedID.bind(Object(L.a)(n)),n}return Object(A.a)(i,[{key:"setResult",value:function(e){if(this.clearActiveStatus(),this.setRectList(e),this.hasMarkerConfig){var t=Pn.getNextMarker(e,this.config.markerList);t&&this.setMarkerIndex(t.index)}this.render()}},{key:"destroy",value:function(){Object(y.a)(Object(x.a)(i.prototype),"destroy",this).call(this),this._textAttributInstance&&this._textAttributInstance.clearTextAttribute()}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.config=Pn.jsonParser(e),!0===t&&this.clearResult(!1)}},{key:"setRectList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.rectList.length;this.rectList=e,i!==e.length&&this.emit("updatePageNumber"),t&&this.emit("updateResult")}},{key:"selectedRect",get:function(){var e=this;return this.rectList.find((function(t){return t.id===e.selectedRectID}))}},{key:"selectedID",get:function(){return this.selectedRectID}},{key:"selectedText",get:function(){var e;return null==(e=this.selectedRect)?void 0:e.textAttribute}},{key:"dataList",get:function(){return this.rectList}},{key:"currentShowList",get:function(){var e=[],t=Pn.getRenderResultList(this.rectList,Pn.getSourceID(this.basicResult),this.attributeLockList,this.selectedID),i=Object(S.a)(t,2),n=i[0],a=i[1];return e=n,this.isHidden&&(e=[]),a&&e.push(a),e}},{key:"currentPageResult",get:function(){var e=Pn.getRenderResultList(this.rectList,Pn.getSourceID(this.basicResult),[]);return Object(S.a)(e,1)[0]}},{key:"hasMarkerConfig",get:function(){return!0===this.config.markerConfigurable&&this.config.markerList&&this.config.markerList.length>0}},{key:"setSelectedID",value:function(e){this.setSelectedRectID(e)}},{key:"setSelectedRectID",value:function(e){var t,i,n=this.selectedRectID;e!==n&&n&&(null==(t=this._textAttributInstance)||t.changeSelected()),e||null==(i=this._textAttributInstance)||i.clearTextAttribute(),this.selectedRectID=e,this.render(),this.emit("selectedChange")}},{key:"setStyle",value:function(e){var t;Object(y.a)(Object(x.a)(i.prototype),"setStyle",this).call(this,e),this._textAttributInstance&&!1===this.config.attributeConfigurable&&(null==(t=this._textAttributInstance)||t.updateIcon(this.getTextIconSvg()))}},{key:"updateSelectedRectTextAttribute",value:function(e){var t=this;if(this._textAttributInstance&&e){var i=e;!1===Pt.textAttributeValidate(this.config.textCheckType,"",i)&&(this.emit("messageError",Pt.getErrorNotice(this.config.textCheckType,this.lang)),i=""),this.setRectList(this.rectList.map((function(e){return e.id===t.selectedRectID?ea($n({},e),{textAttribute:i}):e})),!0),this.emit("updateTextAttribute"),this.render()}}},{key:"getHoverRectPointIndex",value:function(e){return this.selectedRect?Un.returnClosePointIndex(this.getCoordinateUnderZoom(e),Qe.getRectPointList(this.selectedRect,this.zoom),8):-1}},{key:"getHoverRectEdgeIndex",value:function(e){if(!this.selectedRect)return-1;for(var t=-1,i=this.selectedRect,n=Qe.getRectEdgeList(i,this.zoom),a=this.getCoordinateUnderZoom(e),c=0;c<n.length;c++){var r=n[c];Te.getFootOfPerpendicular(a,r.begin,r.end).length<16&&(t=c)}return t}},{key:"getTextIconSvg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Pt.getTextIconSvg(e,this.config.attributeList,this.config.attributeConfigurable,this.baseIcon)}},{key:"onMouseDown",value:function(e){var t=this;if(!Object(y.a)(Object(x.a)(i.prototype),"onMouseDown",this).call(this,e)&&!this.forbidMouseOperation&&!0!==e.ctrlKey){var n=this.getCoordinateUnderZoom(e),a=this.getHoverRectID(e),c=this.currentShowList.find((function(e){return e.id===t.selectedRectID}));if(c&&2!==e.button&&(0!==e.button||!0!==this.isSpaceKey)){if(this.selectedRectID){if(this.getHoverRectPointIndex(e)>-1){var r=X.Point;return this.dragInfo={dragStartCoord:n,dragTarget:r,startTime:+new Date,firstRect:c},void(this.dragStatus=Ee.Start)}if(this.getHoverRectEdgeIndex(e)>-1){var o=X.Line;return this.dragInfo={dragStartCoord:n,dragTarget:o,startTime:+new Date,firstRect:c},void(this.dragStatus=Ee.Start)}}if(a===this.selectedRectID&&!this.drawingRect){var s=X.Plane;this.dragInfo={dragStartCoord:n,dragTarget:s,firstRect:c,startTime:+new Date},this.dragStatus=Ee.Start}}}}},{key:"onDragMove",value:function(e){var t,i,n,a,c,r,o=this;if(this.dragInfo){this.dragStatus=Ee.Move;var s=Qe.getRectUnderZoom(this.dragInfo.firstRect,this.zoom),l=s.x,d=s.y,u=s.width,h=s.height,f=e.x-this.dragInfo.dragStartCoord.x,g=e.y-this.dragInfo.dragStartCoord.y,v=this.rectList.filter((function(e){return e.id===o.selectedRectID}))[0];switch(this.dragInfo.dragTarget){case X.Plane:v=ea($n({},v),{x:l+f,y:d+g,width:u,height:h});break;case X.Point:var b=l,p=d,m=u,y=h;switch(this.hoverRectPointIndex){case 0:b=u-f<0?l+u:l+f,p=h-g<0?d+h:d+g,m=Math.abs(f-u),y=Math.abs(g-h);break;case 1:b=u+f>0?l:l+u+f,p=h-g<0?d+h:d+g,m=Math.abs(u+f),y=Math.abs(h-g);break;case 2:b=u+f>0?l:l+u+f,p=h+g>0?d:d+h+g,m=Math.abs(u+f),y=h+g>0?h+g:Math.abs(h+g);break;case 3:b=u-f<0?l+u:l+f,p=h+g>0?d:d+h+g,m=Math.abs(f-u),y=h+g>0?h+g:Math.abs(h+g);break;default:return}v=ea($n({},v),{x:b,y:p,width:m,height:y});break;case X.Line:var x=l,w=d,k=u,L=h;switch(this.hoverRectEdgeIndex){case 0:w=h-g<0?d+h:d+g,L=Math.abs(g-h);break;case 1:x=u+f>0?l:l+u+f,k=Math.abs(u+f);break;case 2:w=h+g>0?d:d+h+g,L=h+g>0?h+g:Math.abs(h+g);break;case 3:x=u-f<0?l+u:l+f,k=Math.abs(f-u);break;default:return}v=ea($n({},v),{x:x,y:w,width:k,height:L});break;default:return}if(!1===this.config.drawOutsideTarget)if(this.basicResult){if((null==(i=null==(t=this.basicResult)?void 0:t.pointList)?void 0:i.length)>0&&Qe.isRectNotInPolygon(v,Ie(this.basicResult.pointList,this.zoom)))return;var C=this.basicResult.x*this.zoom,I=this.basicResult.y*this.zoom,O=this.basicResult.width*this.zoom,T=this.basicResult.height*this.zoom;if(this.dragInfo.dragTarget!==X.Plane&&(v.x<C-.01||v.y<I-.01||v.width>C+O-v.x+.01||v.height>I+T-v.y+.01))return;if(v.x<C&&(v.x=C),v.y<I&&(v.y=I),v.width>C+O-v.x)switch(this.dragInfo.dragTarget){case X.Plane:v.x=C+O-u;break;case X.Point:case X.Line:f>0&&g>0&&(v.width=C+O-v.x);break;default:return}if(v.height>I+T-v.y&&this.dragInfo.dragTarget===X.Plane)v.y=I+T-h}else if(v.x<0&&(v.x=0),v.y<0&&(v.y=0),this.imgInfo)if(this.dragInfo.dragTarget===X.Plane)v.x+v.width>(null==(n=this.imgInfo)?void 0:n.width)&&(v.x=this.imgInfo.width-u),v.y+v.height>(null==(a=this.imgInfo)?void 0:a.height)&&(v.y=this.imgInfo.height-h);else if(v.x+v.width>(null==(c=this.imgInfo)?void 0:c.width)||v.y+v.height>(null==(r=this.imgInfo)?void 0:r.height))return;this.setRectList(this.rectList.map((function(e){return e.id===v.id?Qe.getRectUnderZoom(v,1/o.zoom):e}))),this.render()}}},{key:"onMouseMove",value:function(e){var t,n;if(!Object(y.a)(Object(x.a)(i.prototype),"onMouseMove",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){var a=this.getCoordinateUnderZoom(e),c=Un.changeDrawOutsideTarget(a,{x:0,y:0},this.imgInfo,this.config.drawOutsideTarget,this.basicResult,this.zoom);if(this.selectedRectID&&this.dragInfo)this.onDragMove(c);else{if(this.selectedRectID){var r=this.getHoverRectPointIndex(e);if(r!==this.hoverRectPointIndex)return this.hoverRectPointIndex=r,this.hoverRectEdgeIndex=-1,void this.render();if(-1===this.hoverRectPointIndex){var o=this.getHoverRectEdgeIndex(e);if(o!==this.hoverRectEdgeIndex)return this.hoverRectEdgeIndex=o,void this.render()}}var s=this.getHoverRectID(e),l=this.hoverRectID;if(this.hoverRectID=s,s!==l&&this.render(),this.drawingRect&&this.firstClickCoord){var d=this.firstClickCoord,u=d.x,h=d.y,f=this.drawingRect,g=f.width,v=f.height;if(g=Math.abs(u-c.x),v=Math.abs(h-c.y),c.x<u&&(u=c.x),c.y<h&&(h=c.y),!1===this.config.drawOutsideTarget){if((null==(n=null==(t=this.basicResult)?void 0:t.pointList)?void 0:n.length)>0&&Qe.isRectNotInPolygon(ea($n({},this.drawingRect),{x:u,y:h,width:g,height:v}),Ie(this.basicResult.pointList,this.zoom)))return;c.x<0&&(g=Math.abs(this.firstClickCoord.x),u=0),c.y<0&&(v=Math.abs(this.firstClickCoord.y),h=0),this.imgInfo&&(u+g>this.imgInfo.width&&(g=Math.abs(this.imgInfo.width-u)),h+v>this.imgInfo.height&&(v=Math.abs(this.imgInfo.height-h)))}this.drawingRect=ea($n({},this.drawingRect),{x:u,y:h,width:g,height:v}),this.render()}}}}},{key:"setAttributeLockList",value:function(e){this.setSelectedRectID(void 0),Object(y.a)(Object(x.a)(i.prototype),"setAttributeLockList",this).call(this,e)}},{key:"setBasicResult",value:function(e){Object(y.a)(Object(x.a)(i.prototype),"setBasicResult",this).call(this,e),this.clearActiveStatus()}},{key:"setRectValidAndRender",value:function(e){e&&(this.setRectList(this.rectList.map((function(t){return t.id===e?ea($n({},t),{valid:!t.valid}):t})),!0),this.render(),this.emit("updateResult"))}},{key:"createNewDrawingRect",value:function(e,t){if(this.imgInfo){var i=this.getCoordinateUnderZoom(e),n=Un.changeDrawOutsideTarget(i,{x:0,y:0},this.imgInfo,this.config.drawOutsideTarget,this.basicResult,this.zoom);if(this.setSelectedRectID(""),this.hoverRectID="",this.drawOutSideTarget&&(n.x<0&&(n.x=0),n.y<0&&(n.y=0)),this.drawingRect=ea($n({},n),{width:0,height:0,attribute:this.defaultAttribute,valid:!e.ctrlKey,id:$e(8,62),sourceID:t,textAttribute:""}),this.hasMarkerConfig){var a=Pn.getNextMarker(this.rectList,this.config.markerList,this.markerIndex);if(!a)return this.emit("messageInfo",xt.getMessagesByLocale(et.MarkerFinish,this.lang)),void(this.drawingRect=void 0);this.drawingRect&&(this.drawingRect=ea($n({},this.drawingRect),{label:a.label})),this.markerIndex=a.index,this.emit("markIndexChange")}if(this.config.textConfigurable){var c;c=Pt.getTextAttribute(this.rectList.filter((function(e){return Pn.isSameSourceID(e.sourceID,t)})),this.config.textCheckType),this.drawingRect&&(this.drawingRect=ea($n({},this.drawingRect),{textAttribute:c}))}Object.assign(this.drawingRect,{order:Pn.getMaxOrder(this.rectList.filter((function(e){return Pn.isSameSourceID(e.sourceID,t)})))+1}),this.firstClickCoord=$n({},n),this.firstCurrentPos=$n({},this.currentPos)}}},{key:"addDrawingRectToRectList",value:function(){if(this.drawingRect){var e=this.drawingRect,t=e.width,i=e.height;if(t/=this.zoom,i/=this.zoom,Math.round(t)<this.config.minWidth||Math.round(i)<this.config.minHeight)return this.emit("messageInfo",xt.getMessagesByLocale(et.RectErrorSizeNotice,this.lang)),this.drawingRect=void 0,this.firstClickCoord=void 0,this.dragInfo=void 0,this.dragStatus=Ee.Wait,void this.render();var n=this.getDrawingRectWithRectList();this.setRectList(n,!0),this.history.pushHistory(this.rectList),this.setSelectedIdAfterAddingDrawingRect(),this.firstClickCoord=void 0,this.drawingRect=void 0,this.dragInfo=void 0,this.dragStatus=Ee.Wait}}},{key:"setSelectedIdAfterAddingDrawingRect",value:function(){this.drawingRect&&(this.config.textConfigurable?this.setSelectedRectID(this.drawingRect.id):this.setSelectedRectID())}},{key:"getDrawingRectWithRectList",value:function(){if(!this.drawingRect)return this.rectList;var e=this.drawingRect,t=e.x,i=e.y,n=e.width,a=e.height;return t/=this.zoom,i/=this.zoom,n/=this.zoom,a/=this.zoom,[].concat(Object(P.a)(this.rectList),[ea($n({},this.drawingRect),{x:t,y:i,width:n,height:a})])}},{key:"rightMouseUp",value:function(e){var t=this.getHoverRectID(e),i=this.rectList.find((function(e){return e.id===t})),n=this.selectedRectID;if(this.setSelectedRectID(void 0),i&&this.setDefaultAttribute(i.attribute),this.drawingRect)this.drawingRect=void 0,this.firstClickCoord=void 0;else if(n!==t&&this.dblClickListener.clearRightDblClick(),this.setSelectedRectID(t),this.hoverRectID="",(null==i?void 0:i.label)&&this.hasMarkerConfig){var a=Pn.getCurrentMarkerIndex(i.label,this.config.markerList);a>=0&&(this.setMarkerIndex(a),this.emit("markIndexChange"))}this.render()}},{key:"shiftRightMouseUp",value:function(e){var t=this.getHoverRectID(e);this.emit("shiftRightMouseUp",t)}},{key:"onMouseUp",value:function(e){if(Object(y.a)(Object(x.a)(i.prototype),"onMouseUp",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo)return!0;if(this.dragInfo&&this.dragStatus===Ee.Move)return this.dragInfo=void 0,this.dragStatus=Ee.Wait,this.history.pushHistory(this.rectList),void this.emit("updateResult");if(2!==e.button||!0!==e.shiftKey)if(2!==e.button){var t=Pn.getSourceID(this.basicResult);this.drawingRect?this.addDrawingRectToRectList():!0===e.ctrlKey&&0===e.button&&this.hoverRectID?this.setRectValidAndRender(this.hoverRectID):(this.createNewDrawingRect(e,t),this.render())}else this.rightMouseUp(e);else this.shiftRightMouseUp(e)}},{key:"onRightDblClick",value:function(e){Object(y.a)(Object(x.a)(i.prototype),"onRightDblClick",this).call(this,e);var t=this.getHoverRectID(e);this.selectedRectID&&this.selectedRectID===t&&this.deleteRect(t)}},{key:"onKeyDown",value:function(e){if(Pn.hotkeyFilter(e)&&!1!==Object(y.a)(Object(x.a)(i.prototype),"onKeyDown",this).call(this,e)){var t=e.keyCode;switch(t){case Ht.Ctrl:this.drawingRect&&(this.drawingRect=ea($n({},this.drawingRect),{valid:!e.ctrlKey}),this.render());break;case Ht.F:this.selectedRectID&&this.setRectValidAndRender(this.selectedRectID);break;case Ht.Z:this.setIsHidden(!this.isHidden),this.render();break;case Ht.Delete:this.deleteRect(this.selectedRectID);break;case Ht.Tab:if(e.preventDefault(),this.drawingRect)return;var n=Re.ascend;e.shiftKey&&(n=Re.descend);var a=Pn.getRenderResultList(this.rectList,Pn.getSourceID(this.basicResult),this.attributeLockList,this.selectedRectID),c=Object(S.a)(a,2),r=c[0],o=c[1],s=Object(P.a)(r);o&&(s=[].concat(Object(P.a)(s),[o]));var l=_i.getViewPort(this.canvas,this.currentPos,this.zoom);s=s.filter((function(e){return _i.inViewPort({x:e.x,y:e.y},l)}));var d=Pn.getNextSelectedRectID(s,n,this.selectedRectID);d&&(this.setSelectedRectID(d.id),!0===this.config.attributeConfigurable&&this.setDefaultAttribute(d.attribute));break;default:if(this.config.attributeConfigurable){var u=Pt.getAttributeByKeycode(t,this.config.attributeList);void 0!==u&&this.setDefaultAttribute(u)}}return!0}}},{key:"onKeyUp",value:function(e){if(Object(y.a)(Object(x.a)(i.prototype),"onKeyUp",this).call(this,e),e.keyCode===Ht.Ctrl)this.drawingRect&&(this.drawingRect=ea($n({},this.drawingRect),{valid:!0}),this.render())}},{key:"onWheel",value:function(e){var t,n,a=this.zoom;this.drawingRect&&this.firstClickCoord&&(t=Qe.getRectUnderZoom(this.drawingRect,1/a),n=Un.changePointByZoom(this.firstClickCoord,1/a)),Object(y.a)(Object(x.a)(i.prototype),"onWheel",this).call(this,e,!1),t&&n&&(this.drawingRect=Qe.getRectUnderZoom(t,this.zoom),this.firstClickCoord=Un.changePointByZoom(n,this.zoom)),this.render()}},{key:"getCurrentSelectedData",value:function(){var e=this.selectedRect;if(e){var t=this.getColor(e.attribute),i=e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke;return{width:e.width*this.zoom*.6,textAttribute:e.textAttribute,color:i}}}},{key:"renderTextAttribute",value:function(){var e,t=this.selectedRect;if(this.ctx&&!1!==this.config.textConfigurable&&t){var i=t.x,n=t.y,a=t.width,c=t.height,r=t.attribute,o=t.valid,s=a*this.zoom*.6,l=Un.getOffsetCoordinate({x:i,y:n+c},this.currentPos,this.zoom),d=this.getColor(r),u=o?null==d?void 0:d.valid.stroke:null==d?void 0:d.invalid.stroke;this._textAttributInstance||(this._textAttributInstance=new Ni({width:s,container:this.container,icon:this.getTextIconSvg(r),color:u,getCurrentSelectedData:this.getCurrentSelectedData,updateSelectedTextAttribute:this.updateSelectedRectTextAttribute})),this._textAttributInstance&&!(null==(e=this._textAttributInstance)?void 0:e.isExit)&&this._textAttributInstance.appendToContainer(),this._textAttributInstance.update("".concat(t.textAttribute),{left:l.x,top:l.y+4,color:u,width:s})}}},{key:"renderSelectedRect",value:function(e){var t=this,i=this.selectedRect;if(this.ctx&&e&&i){var n=this.ctx,a=10,c=Qe.getRectPointList(i),r=c.length,o=this.getColor(e.attribute);c.forEach((function(i,s){var l,d;if(n.save(),n.moveTo(i.x,i.y),n.beginPath(),a=t.hoverRectPointIndex===s?12:6,!1===e.valid?(n.strokeStyle=null==o?void 0:o.invalid.stroke,n.fillStyle=null==o?void 0:o.invalid.stroke):(n.strokeStyle=null==o?void 0:o.valid.stroke,n.fillStyle=null==o?void 0:o.valid.stroke),n.arc(i.x*t.zoom+t.currentPos.x,i.y*t.zoom+t.currentPos.y,a,0,2*Math.PI),n.fill(),t.hoverRectEdgeIndex===s){n.beginPath(),n.lineWidth=10;var u=t.getColor(e.attribute),h=!1===e.valid?null==(l=null==u?void 0:u.invalid)?void 0:l.stroke:null==(d=null==u?void 0:u.valid)?void 0:d.stroke;n.strokeStyle=h,n.moveTo(c[s].x*t.zoom+t.currentPos.x,c[s].y*t.zoom+t.currentPos.y),n.lineTo(c[(s+1)%r].x*t.zoom+t.currentPos.x,c[(s+1)%r].y*t.zoom+t.currentPos.y),n.stroke()}n.restore()})),this.renderTextAttribute()}}},{key:"renderDrawingRect",value:function(e){var t,i,n,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoom,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.ctx&&e){var o,s=this.ctx,l=this.style,d=l.hiddenText,u=void 0!==d&&d,h=this.getColor(e.attribute),f=e.x,g=e.y,v=e.width,b=e.height;f*=c,g*=c,v*=c,b*=c,s.save(),!1===e.valid?(s.strokeStyle=null==h?void 0:h.invalid.stroke,s.fillStyle=null==h?void 0:h.invalid.fill,o=null==h?void 0:h.invalid.stroke):(s.strokeStyle=null==h?void 0:h.valid.stroke,s.fillStyle=null==h?void 0:h.valid.fill,o=null==h?void 0:h.valid.stroke),s.font="lighter 14px Arial";var p="";if((null==(t=this.config)?void 0:t.isShowOrder)&&e.order&&(null==e?void 0:e.order)>0&&(p="".concat(e.order)),e.label&&this.hasMarkerConfig){var m=Pn.getCurrentMarkerIndex(e.label,this.config.markerList)+1;p="".concat(m,"_").concat(Wn.getMarkerShowText(e.label,this.config.markerList))}e.attribute&&(p="".concat(p,"  ").concat(Pt.getAttributeShowText(e.attribute,null==(i=this.config)?void 0:i.attributeList))),u||Rt.drawText(this.canvas,{x:this.currentPos.x+f,y:this.currentPos.y+g-6},p,ea($n({color:o,font:"normal normal 900 14px SourceHanSansCN-Regular"},Ve),{textMaxWidth:300})),s.lineWidth=null!=(a=null==(n=this.style)?void 0:n.width)?a:2,e.id!==this.hoverRectID&&e.id!==this.selectedRectID||s.fillRect(this.currentPos.x+f,this.currentPos.y+g,v,b),s.strokeRect(this.currentPos.x+f,this.currentPos.y+g,v,b),s.restore();var y="".concat(Math.round(v/c)," * ").concat(Math.round(b/c));!0===r&&(y="".concat(Math.round(v/this.zoom)," * ").concat(Math.round(b/this.zoom)));var x=7*y.length,w=e.valid?null==h?void 0:h.valid.stroke:null==h?void 0:h.invalid.stroke;if(u||Rt.drawText(this.canvas,{x:this.currentPos.x+f+v-x,y:this.currentPos.y+g+b+15},y,$n({color:w,font:"normal normal 600 14px Arial"},Ve)),!u&&e.textAttribute&&e.id!==this.selectedRectID){var k=0,L=Math.max(20,v-x);Rt.drawText(this.canvas,{x:this.currentPos.x+f,y:this.currentPos.y+g+b+20+k},e.textAttribute,$n({color:w,font:"italic normal 900 14px Arial",textMaxWidth:L},Ve))}}}},{key:"renderRect",value:function(){var e,t=this;if((null==(e=this.rectList)?void 0:e.length)>0&&JSON.stringify(this.rectList)){var i=Pn.getRenderResultList(this.rectList,Pn.getSourceID(this.basicResult),this.attributeLockList,this.selectedRectID),n=Object(S.a)(i,2),a=n[0],c=n[1];this.isHidden||null==a||a.forEach((function(e){return t.renderDrawingRect(e)})),c&&(this.renderDrawingRect(c),this.renderSelectedRect(c))}this.drawingRect&&this.renderDrawingRect(this.drawingRect,1,!0)}},{key:"render",value:function(){this.ctx&&(Object(y.a)(Object(x.a)(i.prototype),"render",this).call(this),this.renderRect(),this.renderCursorLine(this.getLineColor(this.defaultAttribute)))}},{key:"setDefaultAttribute",value:function(e){var t=this,i=this.defaultAttribute;if((this.defaultAttribute=null!=e?e:"",i!==e)&&(this.changeStyle(e),this.emit("changeAttributeSidebar"),this.selectedRect&&(this.setRectList(this.rectList.map((function(e){return e.id===t.selectedID?ea($n({},e),{attribute:t.defaultAttribute}):e})),!0),this.history.pushHistory(this.rectList),this.render()),this.drawingRect&&(this.drawingRect=ea($n({},this.drawingRect),{attribute:this.defaultAttribute}),this.render()),this._textAttributInstance)){if(this.attributeLockList.length>0&&!this.attributeLockList.includes(this.defaultAttribute))return void this._textAttributInstance.clearTextAttribute();this._textAttributInstance.updateIcon(this.getTextIconSvg(e))}}},{key:"setValid",value:function(e){Object(y.a)(Object(x.a)(i.prototype),"setValid",this).call(this,e),this.emit("updateResult")}},{key:"clearActiveStatus",value:function(){this.drawingRect=void 0,this.firstClickCoord=void 0,this.dragInfo=void 0,this.dragStatus=Ee.Wait,this.setSelectedRectID(void 0)}},{key:"clearResult",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.rectList.filter((function(e){return!0===e.disableDelete}));t.length>0&&e&&this.emit("messageInfo",xt.getMessagesByLocale(et.ClearPartialData,this.lang)),this.setRectList(t,!0),this.setSelectedRectID(void 0)}},{key:"deleteRect",value:function(e){var t;if(e){var i=this.rectList.find((function(t){return t.id===e}));!0!==(null==i?void 0:i.disableDelete)?(this.setRectList(this.rectList.filter((function(t){return t.id!==e})),!0),this.history.pushHistory(this.rectList),this.setSelectedRectID(void 0),null==(t=this._textAttributInstance)||t.clearTextAttribute(),this.render()):this.emit("messageInfo",xt.getMessagesByLocale(et.DisableDelete,this.lang))}}},{key:"exportData",value:function(){return[this.rectList,this.basicImgInfo]}},{key:"undo",value:function(){var e=this.history.undo();e&&(e.length!==this.rectList.length&&this.setSelectedRectID(""),this.setRectList(e,!0),this.render())}},{key:"redo",value:function(){var e=this.history.redo();e&&(e.length!==this.rectList.length&&this.setSelectedRectID(""),this.setRectList(e,!0),this.render())}}]),i}(Li),ia=Object.defineProperty,na=Object.defineProperties,aa=Object.getOwnPropertyDescriptors,ca=Object.getOwnPropertySymbols,ra=Object.prototype.hasOwnProperty,oa=Object.prototype.propertyIsEnumerable,sa=function(e,t,i){return t in e?ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},la={textConfigurable:!1,attributeConfigurable:!0,attributeList:[]},da=function(e){Object(C.a)(i,e);var t=Object(I.a)(i);function i(e){return Object(T.a)(this,i),t.call(this,(n=function(e,t){for(var i in t||(t={}))ra.call(t,i)&&sa(e,i,t[i]);if(ca){var n,a=Object(E.a)(ca(t));try{for(a.s();!(n=a.n()).done;)i=n.value,oa.call(t,i)&&sa(e,i,t[i])}catch(c){a.e(c)}finally{a.f()}}return e}({},e),a={config:JSON.stringify(la)},na(n,aa(a))));var n,a}return Object(A.a)(i,[{key:"setSelectedIdAfterAddingDrawingRect",value:function(){this.drawingRect&&this.setSelectedRectID(this.drawingRect.id)}}]),i}(ta),ua=Object.defineProperty,ha=Object.defineProperties,fa=Object.getOwnPropertyDescriptors,ga=Object.getOwnPropertySymbols,va=Object.prototype.hasOwnProperty,ba=Object.prototype.propertyIsEnumerable,pa=function(e,t,i){return t in e?ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},ma=function(e,t){for(var i in t||(t={}))va.call(t,i)&&pa(e,i,t[i]);if(ga){var n,a=Object(E.a)(ga(t));try{for(a.s();!(n=a.n()).done;){i=n.value;ba.call(t,i)&&pa(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},ya=function(e,t){return ha(e,fa(t))},xa=function(e){Object(C.a)(i,e);var t=Object(I.a)(i);function i(e){var n,a;return Object(T.a)(this,i),(n=t.call(this,ya(ma({},e),{showDefaultCursor:!0}))).style={},n.annotations=[],n.getHoverRectID=function(e){var t,i,a=n.getCoordinateUnderZoom(e),c=Un.changePointByZoom(a,1/n.zoom);if(!((null==(t=n.annotations)?void 0:t.length)<=0)&&(null==(i=n.annotations)?void 0:i.length)){for(var r="",o=Number.MAX_SAFE_INTEGER,s=0;s<n.annotations.length;s++){var l=n.annotations[s];switch(l.type){case"rect":var d=l.annotation;if(Qe.isInRect(a,d,3,n.zoom)){var u=d.width*d.height;u<o&&(r=d.id,o=u)}break;case"polygon":var h=l.annotation;if(_n.isInPolygon(c,h.pointList)){var f=_n.getPolygonArea(h.pointList);f<o&&(r=h.id,o=f)}}}return r}},n.style=null!=(a=e.style)?a:{color:"#6371FF",thickness:1},n.annotations=e.annotations,n.loading=!1,n}return Object(A.a)(i,[{key:"setLoading",value:function(e){this.loading=e,this.render()}},{key:"onMouseLeave",value:function(){Object(y.a)(Object(x.a)(i.prototype),"onMouseLeave",this).call(this),this.mouseHoverID=void 0,this.emit("onChange","hover",[])}},{key:"onMouseDown",value:function(e){if(Object(y.a)(Object(x.a)(i.prototype),"onMouseDown",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo)return!0;var t=this.mouseHoverID;if(0===e.button){var n=[];t&&(n=[t]),this.emit("onChange","selected",n),this.render()}}},{key:"onMouseMove",value:function(e){if(!Object(y.a)(Object(x.a)(i.prototype),"onMouseMove",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){var t=this.mouseHoverID,n=this.getHoverRectID(e);if(t!==n){this.mouseHoverID=n;var a=[];n&&(a=[n]),this.emit("onChange","hover",a),this.render()}}}},{key:"updateData",value:function(e){this.annotations=e,this.render()}},{key:"getSpecificStyle",value:function(e){var t=R.a.pick(e,["color","thickness","fill","radius"]);return ma(ma({},this.style),t)}},{key:"render",value:function(){var e=this;Object(y.a)(Object(x.a)(i.prototype),"render",this).call(this),!0!==this.loading&&this.annotations.forEach((function(t){var i,n;switch(t.type){case"rect":var a=t.annotation,c=Un.changeRectByZoom(a,e.zoom,e.currentPos),r=e.getSpecificStyle(a);if(a.id===e.mouseHoverID||r.fill){var o=M()(r.color),s="rgba(".concat(o[0],", ").concat(o[1],", ").concat(o[2],",").concat(.8*o[3],")");Rt.drawRectWithFill(e.canvas,c,{color:s})}Rt.drawRect(e.canvas,c,r);break;case"polygon":var l=t.annotation,d=Un.changePointListByZoom(null!=(i=null==l?void 0:l.pointList)?i:[],e.zoom,e.currentPos),u=e.getSpecificStyle(l);if(l.id===e.mouseHoverID||u.fill){var h=M()(u.color),f="rgba(".concat(h[0],", ").concat(h[1],", ").concat(h[2],",").concat(.8*h[3],")");Rt.drawPolygonWithFill(e.canvas,d,{color:f})}Rt.drawPolygon(e.canvas,d,ya(ma({},u),{isClose:!0}));break;case"line":var g=t.annotation,v=Un.changePointListByZoom(g.pointList,e.zoom,e.currentPos),b=e.getSpecificStyle(g);Rt.drawPolygon(e.canvas,v,b);break;case"point":var p=t.annotation,m=Un.changePointByZoom(p,e.zoom,e.currentPos),y=e.getSpecificStyle(p);Rt.drawCircle(e.canvas,m,null!=(n=y.radius)?n:3,y)}}))}}]),i}(Li);(Dn=En||(En={}))[Dn.Upload=0]="Upload",Dn[Dn.UploadRetry=1]="UploadRetry",Dn[Dn.UploadFail=2]="UploadFail",Dn[Dn.Annotation=3]="Annotation",Dn[Dn.Terminated=4]="Terminated",Dn[Dn.Finish=5]="Finish",Dn[Dn.Publish=6]="Publish";var wa=Object.freeze({__proto__:null,ANNOTATION_TYPE:{0:"\u76ee\u6807\u68c0\u6d4b",1:"\u56fe\u50cf\u5206\u7c7b"},ANNOTATION_STATUS:{0:"\u6807\u6ce8\u6587\u4ef6\u4f20\u8f93\u4e2d",1:"\u6807\u6ce8\u6587\u4ef6\u4f20\u8f93\u91cd\u8bd5",2:"\u6807\u6ce8\u6587\u4ef6\u4f20\u8f93\u5931\u8d25",3:"\u6807\u6ce8\u4e2d",4:"\u4efb\u52a1\u7ec8\u6b62",5:"\u4efb\u52a1\u5b8c\u6210",6:"\u6570\u636e\u5df2\u53d1\u5e03"},get EAnnotationStatus(){return En}}),ka=function(){function e(){Object(T.a)(this,e)}return Object(A.a)(e,null,[{key:"load",value:function(e){return new Promise((function(t,i){var n=new Image;e.startsWith("file")?n.src=encodeURI(e):n.src=e,n.onload=function(){t(n)},n.onerror=function(){i(n)}}))}}]),e}(),La=function(e){return new Promise((function(t,i){var n=document.createElement("img");n.crossOrigin="Anonymous",n.onerror=function(e){console.error(e),i(n)},n.src=e,n.onload=function(){t(n)}}))},Ca=function(){function e(t){var i,n,a=this;Object(T.a)(this,e),this.setImgSrc=function(e){return t=a,i=null,n=k.a.mark((function t(){var i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,La(e);case 2:if(i=t.sent){t.next=5;break}return t.abrupt("return");case 5:this.setImgNode(i);case 6:case"end":return t.stop()}}),t,this)})),new Promise((function(e,a){var c=function(e){try{o(n.next(e))}catch(t){a(t)}},r=function(e){try{o(n.throw(e))}catch(t){a(t)}},o=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(c,r)};o((n=n.apply(t,i)).next())}));var t,i,n},this.container=t.container,this.size=t.size,this.toolName=t.toolName,this.imgNode=t.imgNode,this.config=null!=(i=t.config)?i:JSON.stringify(ti(t.toolName)),this.style=null!=(n=t.style)?n:ii,this._initToolOperation()}return Object(A.a)(e,[{key:"setToolName",value:function(e,t){this.toolName=e;var i=t||JSON.stringify(ti(e));this.config=i,this._initToolOperation()}},{key:"setImgNode",value:function(e,t){this.toolInstance&&(this.imgNode=e,this.toolInstance.setImgNode(e,t))}},{key:"setSize",value:function(e){this.size=e}},{key:"setStyle",value:function(e){this.style=e}},{key:"_initToolOperation",value:function(){this.toolInstance&&this.toolInstance.destroy();var e=Pn.getCurrentOperation(this.toolName);if(e){var t={container:this.container,size:this.size,config:this.config,drawOutSideTarget:!1,style:this.style};this.imgNode&&Object.assign(t,{imgNode:this.imgNode}),this.toolInstance=new e(t),this.toolInstance.init()}}},{key:"setBasicInfo",value:function(e,t){this.dependToolName=e,this.basicResult=t,this.toolInstance.setDependName(e),this.toolInstance.setBasicResult(t),this.toolInstance.renderBasicCanvas()}},{key:"clearBasicResult",value:function(){this.setBasicInfo()}},{key:"forbidOperation",value:function(){this.toolInstance.setForbidOperation(!0)}},{key:"launchOperation",value:function(){this.toolInstance.setForbidOperation(!1)}},{key:"setLang",value:function(e){switch(e){case"cn":this.toolInstance.setLang(He.Zh);break;case"en":this.toolInstance.setLang(He.US)}}}]),e}(),Ia=Pn},,,,,,function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ETextType=void 0,(n=t.ETextType||(t.ETextType={}))[n.AnyString=0]="AnyString",n[n.Order=1]="Order",n[n.EnglishOnly=2]="EnglishOnly",n[n.NumberOnly=3]="NumberOnly",n[n.CustomFormat=4]="CustomFormat";var a;t.EToolName=void 0,(a=t.EToolName||(t.EToolName={})).Rect="rectTool",a.Tag="tagTool",a.Point="pointTool",a.PointMarker="pointMarkerTool",a.Segmentation="segmentationTool",a.Filter="filterTool",a.Text="textTool",a.Polygon="polygonTool",a.Line="lineTool",a.LineMarker="lineMarkerTool",a.Empty="emptyTool",a.FolderTag="folderTagTool",a.RectTrack="rectTrackTool",a.Face="faceTool",a.ClientAttribute="clientAttributeTool",a.OCRRelation="OCRRelationTool",t.TEXT_ATTRIBUTE_MAX_LENGTH=1e3},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(401),a=i(402),c=i(403),r=i(404),o=i(405),s=i(406),l=i(407),d=i(408),u=i(409),h=i(410),f=i(91),g=i(90),v=i(411),b=i(412),p=i(413),m=i(414),y={name:"Undo",icon:n,shortCut:["Ctrl","Z"]},x={name:"Redo",icon:a,shortCut:["Ctrl","Shift","Z"]},w={name:"Scale",icon:c,shortCut:[r]},k={name:"Fullscreen",icon:o,shortCut:["F11"]},L={name:"Rotate",icon:s,shortCut:["R"],noticeInfo:"ToOriginalStep"},C={name:"ToggleEffectiveness",icon:l,shortCut:["Y"]},I={name:"Previous",icon:d,shortCut:["A"]},O={name:"Next",icon:u,shortCut:["D"]},T={name:"Drag",icon:h,shortCut:[f],noticeInfo:"Press"},A={name:"Drag",icon:h,shortCut:["Space",g]},S={name:"ToggleSelected",icon:v,shortCut:["Tab"]},P={name:"ToggleSelectedReverse",icon:b,shortCut:["Shift","Tab"]},E={name:"HideGraphics",icon:i(415),noticeInfo:"",shortCut:["Z"]},D={name:"ToggleLineParticularity",icon:m,noticeInfo:"ToSide",shortCut:["Shift",g]},_={name:"Save",icon:p,shortCut:["Ctrl","S"]};t.backward=I,t.changeSpecialLine=D,t.dargWithLeftClick=A,t.dargWithRightClick=T,t.forward=O,t.fullScreen=k,t.hidden=E,t.restore=x,t.revoke=y,t.rotate=L,t.saveResult=_,t.scale=w,t.setValid=C,t.tabChangeSelected=S,t.tabReverseChangeSelected=P},,,,,,,,,,,,,,,function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_mouse_left_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23ff5770%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e9%bc%a0%e6%a0%87%e6%bb%9a%e8%bd%ae'%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.982v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.97-9.7H5.865V0a5.7%2c5.7%2c0%2c0%2c1%2c3.53%2c1.267A3.812%2c3.812%2c0%2c0%2c1%2c10.85%2c4.19V5.98Zm-5.866%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.456%2c1.267%2c5.693%2c5.693%2c0%2c0%2c1%2c4.984%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(-0.698 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_mouse_right_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23ff5770%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e9%bc%a0%e6%a0%87%e6%bb%9a%e8%bd%ae'%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.982v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.97-9.7H5.865V0a5.7%2c5.7%2c0%2c0%2c1%2c3.53%2c1.267A3.812%2c3.812%2c0%2c0%2c1%2c10.85%2c4.19V5.98Zm-5.866%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.456%2c1.267%2c5.693%2c5.693%2c0%2c0%2c1%2c4.984%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(5.302 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3c/g%3e%3c/svg%3e"},,,,,,,,,,,,,,function(e,t,i){"use strict";i.r(t),i.d(t,"i18n",(function(){return r}));var n=i(168),a=i(452),c=i(206);n.a.use(a.a).init({resources:c,lng:"en",interpolation:{escapeValue:!1}});var r=n.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(151),a=i(22),c=i(86),r=i(34);Object.defineProperty(t,"__esModule",{value:!0});var o=i(65),s=i(46),l=i(234),d=i(40),u=i(66),h=i(235),f=i(172),g=i(239),v=i(173),b=i(67),p=i(20),m=i(47);function y(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var x=y(s),w=Object.defineProperty,k=Object.defineProperties,L=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,T=function(e,t,i){return t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},A=function(e,t){for(var i in t||(t={}))I.call(t,i)&&T(e,i,t[i]);if(C){var n,a=r(C(t));try{for(a.s();!(n=a.n()).done;){i=n.value;O.call(t,i)&&T(e,i,t[i])}}catch(c){a.e(c)}finally{a.f()}}return e},S=function(e,t){return k(e,L(t))},P=function(e,t){return e.find((function(e){return e.step===t}))},E={annotationEngine:null,toolInstance:null,imgList:[],config:"{}",imgIndex:-1,basicIndex:0,imgPageSize:1,step:1,stepList:[],imgNode:new Image,basicResultList:[],resultList:[],stepProgress:0,loading:!1,triggerEventAfterIndexChanged:!1},D=function(e,t){return e.reduce((function(e,i){var n=i.result;return d.jsonParser(n)["step_".concat(t)]?e+1:e}),0)/e.length},_=function(e,t){var i=e.step,n=e.stepList,a=u.getCurrentStepInfo(i,n),c=f.ConfigUtils.jsonParser(a.config),r=document.getElementById("toolContainer");if(!r)throw"Not exist dom named id-toolContainer";var o=v.getFormatSize({width:window.innerWidth,height:window.innerHeight}),s=new b.AnnotationEngine({container:r,toolName:a.tool,size:o,imgNode:t,config:c,style:JSON.parse(g)});return{toolInstance:s.toolInstance,annotationEngine:s}};t.LoadImageAndFileData=function(e,t){return function(i,n){return a=void 0,r=null,s=c.mark((function a(){var r,s,l,d,u,h;return c.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n().annotation,s=r.getFileData,l=r.imgList,d=r.toolInstance,m.SetAnnotationLoading(i,!0),!s){a.next=7;break}return a.next=5,s(l[e],e);case 5:u=a.sent,i({type:o.ANNOTATION_ACTIONS.SET_FILE_DATA,payload:{fileData:u,index:e}});case 7:return h=l[e].url,a.abrupt("return",b.ImgUtils.load(h).then((function(n){m.SetAnnotationLoading(i,!1),i({type:o.ANNOTATION_ACTIONS.LOAD_FILE_DATA,payload:{imgNode:n,nextIndex:e,nextBasicIndex:t}})})).catch((function(){m.SetAnnotationLoading(i,!1),d.setErrorImg(),i({type:o.ANNOTATION_ACTIONS.LOAD_FILE_DATA,payload:{nextIndex:e,nextBasicIndex:t}})})));case 9:case"end":return a.stop()}}),a)})),new Promise((function(e,t){var i=function(e){try{c(s.next(e))}catch(i){t(i)}},n=function(e){try{c(s.throw(e))}catch(i){t(i)}},c=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(i,n)};c((s=s.apply(a,r)).next())}));var a,r,s}},t.annotationReducer=function(){var e,t,i,c,r,s,f,g,v,m,y,w,k,L,C,I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,O=arguments.length>1?arguments[1]:void 0;switch(O.type){case o.ANNOTATION_ACTIONS.UPDATE_TOOL_INSTANCE:return S(A({},I),{toolInstance:O.payload.toolInstance});case o.ANNOTATION_ACTIONS.UPDATE_IMG_LIST:return S(A({},I),{imgList:O.payload.imgList});case o.ANNOTATION_ACTIONS.CALC_STEP_PROGRESS:var T=I.imgList,R=I.step,N=D(T,R);return S(A({},I),{stepProgress:N});case o.ANNOTATION_ACTIONS.SUBMIT_FILE_DATA:var M=I.imgList,j=I.imgIndex,H=I.step,Z=I.stepList,B=I.toolInstance,V=I.onSubmit,F=I.resultList;if(!B)return I;var U=(null==(e=M[j])?void 0:e.result)||"",z=B.exportData(),W=a(z,2),G=W[1],K=l.composeResultWithBasicImgInfo(U,G),Y=l.composeResult(K,{step:H,stepList:Z},{rect:F});M[j].result=h.dataCorrection(Y,U,H,Z),V&&V([M[j]],null==(t=O.payload)?void 0:t.submitType,j);var J=D(M,H);return S(A({},I),{stepProgress:J,imgList:M});case o.ANNOTATION_ACTIONS.SAVE_RESULT:var X=I.imgList,q=I.imgIndex,Q=I.onSave;return null==Q||Q(X[q],q,X),A({},I);case o.ANNOTATION_ACTIONS.SUBMIT_RESULT:var $=I.imgList,ee=I.basicIndex,te=I.resultList,ie=I.annotationEngine,ne=I.basicResultList;if(!ie)return I;var ae=ie.toolInstance.exportData(),ce=a(ae,1),re=ce[0],oe=re;if((null==ne?void 0:ne.length)>0){var se,le=null==(i=ne[ee])?void 0:i.id,de=re.map((function(e){return S(A({},e),{sourceID:le})}));(se=oe=x.default.cloneDeep(te).filter((function(e){return e.sourceID!==le}))).push.apply(se,n(de))}return S(A({},I),{resultList:oe,imgList:$});case o.ANNOTATION_ACTIONS.SET_BASIC_INDEX:var ue=I.toolInstance,he=I.step,fe=I.imgList,ge=I.imgIndex,ve=I.stepList,be=I.annotationEngine,pe=I.resultList,me=I.basicResultList;if(!ue||!be)return I;var ye=O.payload.basicIndex,xe=null==(c=me[ye])?void 0:c.id,we=d.jsonParser(null==(r=fe[ge])?void 0:r.result),ke=(pe||[]).filter((function(e){return e.sourceID===xe})),Le=P(ve,he),Ce=Le.dataSourceStep,Ie=Le.tool,Oe=P(ve,Ce),Te=[];return Ce&&Ie&&((null==(Te=null==(s=we["step_".concat(Ce)])?void 0:s.result)?void 0:Te.length)>0?(be.setBasicInfo(Oe.tool,Te[ye]),be.launchOperation()):(be.setBasicInfo(Oe.tool),be.forbidOperation(),p.message.info("\u5f53\u524d\u6587\u4ef6\u4e0d\u5b58\u5728\u4f9d\u8d56\u6570\u636e"))),ue.setResult(ke),ue.history.initRecord(ke,!0),S(A({},I),{basicIndex:ye});case o.ANNOTATION_ACTIONS.SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED:var Ae=O.payload.triggerEventAfterIndexChanged;return S(A({},I),{triggerEventAfterIndexChanged:!!Ae});case o.ANNOTATION_ACTIONS.LOAD_FILE_DATA:var Se=I.imgList,Pe=I.step,Ee=I.toolInstance,De=I.annotationEngine,_e=I.stepList;if(!Ee||!De)return I;var Re=u.getCurrentStepInfo(Pe,_e),Ne=O.payload,Me=Ne.nextIndex,je=Ne.imgNode,He=Ne.nextBasicIndex,Ze=Ne.imgError,Be=null!=He?He:0,Ve=d.jsonParser(null==(f=Se[Me])?void 0:f.result),Fe=Ve["step_".concat(Pe)],Ue=!Fe,ze={rotate:null!=(g=Ve.rotate)?g:0,valid:null==(v=Ve.valid)||v};je&&!0!==Ze&&De.setImgNode(je,ze);var We=P(_e,Pe),Ge=We.dataSourceStep,Ke=We.tool,Ye=P(_e,Ge),Je=Ge&&Ke,Xe=null!=(y=null==(m=Ve["step_".concat(Ge)])?void 0:m.result)?y:[],qe=h.getInitialResultList(null==Fe?void 0:Fe.result,Ee,We,Xe,Ue);if(De.launchOperation(),Je&&((null==Xe?void 0:Xe.length)>0?De.setBasicInfo(Ye.tool,Xe[Be]):(De.setBasicInfo(Ye.tool),De.forbidOperation(),p.message.info("\u5f53\u524d\u6587\u4ef6\u4e0d\u5b58\u5728\u4f9d\u8d56\u6570\u636e"))),"check"!==Re.tool){var Qe=null!=(k=null==(w=Xe[Be])?void 0:w.id)?k:"",$e=Je?qe.filter((function(e){return b.CommonToolUtils.isSameSourceID(e.sourceID,Qe)})):qe;Ee.setResult($e),Ee.history.initRecord(qe,!0)}return S(A({},I),{imgIndex:Me,basicIndex:Be,basicResultList:Xe,resultList:qe});case o.ANNOTATION_ACTIONS.UPDATE_ANNOTATION_CONFIG:return S(A({},I),{config:null!=(L=O.payload.config)?L:"{}"});case o.ANNOTATION_ACTIONS.SET_TASK_CONFIG:var et=O.payload,tt=et.stepList,it=et.step;return S(A({},I),{stepList:tt,step:it});case o.ANNOTATION_ACTIONS.INIT_TOOL:var nt=I.imgNode,at=_(I,nt),ct=at.toolInstance,rt=at.annotationEngine;return S(A({},I),{toolInstance:ct,annotationEngine:rt});case o.ANNOTATION_ACTIONS.UPDATE_ON_SUBMIT:return S(A({},I),{onSubmit:O.payload.onSubmit});case o.ANNOTATION_ACTIONS.UPDATE_ON_SAVE:return S(A({},I),{onSave:O.payload.onSave});case o.ANNOTATION_ACTIONS.UPDATE_GET_FILE_DATA:return S(A({},I),{getFileData:O.payload.getFileData});case o.ANNOTATION_ACTIONS.SET_FILE_DATA:var ot=O.payload,st=ot.fileData,lt=ot.index,dt=I.imgList;return dt[lt]=A(A({},dt[lt]),st),S(A({},I),{imgList:dt});case o.ANNOTATION_ACTIONS.UPDATE_ROTATE:var ut=I.toolInstance;return null==ut||ut.updateRotate(),I;case o.ANNOTATION_ACTIONS.COPY_BACKWARD_RESULT:var ht=I.toolInstance,ft=I.imgIndex,gt=I.imgList,vt=I.step;if(!ht)return I;if(0===ft||ft>=gt.length)return console.error("\u65e0\u6cd5\u590d\u5236\u8fb9\u754c\u5916\u7684\u5185\u5bb9"),I;var bt=gt[ft-1].result;if(!bt)return I;var pt=h.copyResultChange(bt,vt,null!=(C=gt[ft].result)?C:"");gt[ft].result=pt;var mt=d.jsonParser(pt),yt=mt["step_".concat(vt)],xt=(null==yt?void 0:yt.result)||[];return ht.setResult(xt),ht.history.pushHistory(xt),S(A({},I),{imgList:n(gt)});case o.ANNOTATION_ACTIONS.SET_STEP:var wt=I.stepList,kt=I.annotationEngine,Lt=O.payload.toStep;if(!kt)return I;if(Lt<=wt.length){var Ct=P(wt,Lt);return kt.setToolName(Ct.tool,Ct.config),S(A({},I),{step:Lt,toolInstance:kt.toolInstance})}break;case o.ANNOTATION_ACTIONS.SET_LOADING:var It=O.payload.loading;return S(A({},I),{loading:!!It});default:return I}return I},t.getStepConfig=P,t.getTotalPage=function(e){var t=e.imgList,i=e.imgPageSize;return Math.ceil(t.length/i)}},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a,c,r;t.EStepType=void 0,(n=t.EStepType||(t.EStepType={}))[n.ANNOTATION=1]="ANNOTATION",n[n.QUALITY_INSPECTION=2]="QUALITY_INSPECTION",n[n.PRE_ANNOTATION=3]="PRE_ANNOTATION",n[n.MANUAL_CORRECTION=4]="MANUAL_CORRECTION",t.EPageTurningOperation=void 0,(a=t.EPageTurningOperation||(t.EPageTurningOperation={}))[a.Backward=0]="Backward",a[a.Forward=1]="Forward",a[a.Jump=2]="Jump",t.EDragStatus=void 0,(c=t.EDragStatus||(t.EDragStatus={}))[c.Start=0]="Start",c[c.Stop=1]="Stop",c[c.Wait=2]="Wait",t.EDragTarget=void 0,(r=t.EDragTarget||(t.EDragTarget={}))[r.Point=0]="Point",r[r.Line=1]="Line",r[r.Plane=2]="Plane",t.editStepWidth=320,t.footerHeight=40,t.headerHeight=61,t.sidebarWidth=240},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BORDER_OPACITY_LEVEL={1:.2,3:.4,5:.6,7:.8,9:1},t.CHANGE_COLOR={1:{valid:"rgba(0, 0, 255, 0.5)",select:{stroke:"rgba(0, 15, 255, 1)",fill:"rgba(0,15,255, 1)"},hover:"rgba(0, 15, 255, 0.8)",line:"rgba(102, 111, 255, 1 )"},3:{valid:"rgba(0, 255, 255, 0.5)",select:{stroke:"rgba(0, 212, 255,  1)",fill:"rgba(0,212,255, 1)"},hover:"rgba(0, 212, 255, 0.8)",line:"rgba(102, 230, 255, 1)"},5:{valid:"rgba(0, 255, 0, 0.5)",select:{stroke:"rgba(149, 255, 1)",fill:"rgba(149,255,0, 1)"},hover:"rgba(149, 255, 0, 0.8)",line:"rgba(191, 255, 102, 1)"},7:{valid:"rgba(255, 255, 0, 0.5)",select:{stroke:"rgba(255, 230, 102, 1)",fill:"rgba(255,213,0, 1)"},hover:"rgba(255, 230, 102, 0.8)",line:"rgba(255, 230, 102, 1)"},9:{valid:"rgba(255, 0, 255, 0.5)",select:{stroke:"rgba(230, 102, 255, 1)",fill:"rgba(213,0,255, 1)"},hover:"rgba(230, 102, 255, 0.8)",line:"rgba(230, 102, 255, 1)"}},t.COLORS_ARRAY=["rgba(128, 12, 249, 1)","rgba(0, 255, 48, 1)","rgba(255, 136, 247, 1)","rgba(255, 226, 50, 1)","rgba(153, 66, 23, 1)","rgba(2, 130, 250, 1)","rgba(255, 35, 35, 1)","rgba(0, 255, 234, 1)"],t.DEFAULT_COLOR={valid:{stroke:"rgba(102, 111, 255, 0.6)",fill:"rgba(102, 111, 255, 0.3)"},invalid:{stroke:"rgba(255, 153, 102,1)",fill:"rgba(255, 153, 102, 0.5)"},validSelected:{stroke:"rgba(0, 15, 255, 0.8)",fill:"rgba(0, 15, 255, 0.4)"},invalidSelected:{stroke:"rgba(255,153,102,0.8)",fill:"rgba(255,153,102,0.3)"},validHover:{stroke:"rgba(0, 15, 255, 1)",fill:"rgba(0, 15, 255, 0.5)"},invalidHover:{stroke:"rgba(255,153,102,1)",fill:"rgba(255,153,102,0.5)"}},t.FILL_OPACITY_LEVEL={1:0,3:.2,5:.4,7:.6,9:.8},t.NULL_COLOR="rgba(204, 204, 204, 1)"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12.004' height='11.999' viewBox='0 0 12.004 11.999'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='icon_clearSmall_a' class='cls-1' d='M17526.469-1204.464l-.678-.678%2c1.752-1.751a.489.489%2c0%2c0%2c0-.006-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-1.039-1.043%2c1.752-1.751a.484.484%2c0%2c0%2c0%2c0-.691.489.489%2c0%2c0%2c0-.7%2c0l-1.752%2c1.751-1.037-1.038%2c1.75-1.756a.484.484%2c0%2c0%2c0%2c0-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-.682-.678a1%2c1%2c0%2c0%2c1%2c0-1.417l3.1-3.1a.972.972%2c0%2c0%2c1%2c0-1.384.981.981%2c0%2c0%2c1%2c1.387%2c0l2.422%2c2.422%2c1.736-1.732a1.47%2c1.47%2c0%2c0%2c1%2c2.076%2c0%2c1.476%2c1.476%2c0%2c0%2c1%2c0%2c2.081l-1.73%2c1.731%2c2.426%2c2.427a.98.98%2c0%2c0%2c1%2c0%2c1.386.985.985%2c0%2c0%2c1-1.391%2c0l-3.1%2c3.1a.989.989%2c0%2c0%2c1-.707.294A.987.987%2c0%2c0%2c1%2c17526.469-1204.464Z' transform='translate(-17520.656 1216.17)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12.004' height='11.999' viewBox='0 0 12.004 11.999'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23999%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='icon_clearSmall' class='cls-1' d='M17526.469-1204.464l-.678-.678%2c1.752-1.751a.489.489%2c0%2c0%2c0-.006-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-1.039-1.043%2c1.752-1.751a.484.484%2c0%2c0%2c0%2c0-.691.489.489%2c0%2c0%2c0-.7%2c0l-1.752%2c1.751-1.037-1.038%2c1.75-1.756a.484.484%2c0%2c0%2c0%2c0-.691.482.482%2c0%2c0%2c0-.689%2c0l-1.752%2c1.751-.682-.678a1%2c1%2c0%2c0%2c1%2c0-1.417l3.1-3.1a.972.972%2c0%2c0%2c1%2c0-1.384.981.981%2c0%2c0%2c1%2c1.387%2c0l2.422%2c2.422%2c1.736-1.732a1.47%2c1.47%2c0%2c0%2c1%2c2.076%2c0%2c1.476%2c1.476%2c0%2c0%2c1%2c0%2c2.081l-1.73%2c1.731%2c2.426%2c2.427a.98.98%2c0%2c0%2c1%2c0%2c1.386.985.985%2c0%2c0%2c1-1.391%2c0l-3.1%2c3.1a.989.989%2c0%2c0%2c1-.707.294A.987.987%2c0%2c0%2c1%2c17526.469-1204.464Z' transform='translate(-17520.656 1216.17)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";var n=i(22);Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),c=i(20),r=i(68),o=i(23),s=i(150),l=i(384),d=i(385),u=i(386),h=i(392),f=i(41),g=i(47),v=i(28);function b(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var p=b(a),m=function(e){var t=e.jumpSkip,i=e.imgIndex,r=a.useState(i),o=n(r,2),s=o[0],l=o[1],d=a.useRef(null);a.useEffect((function(){l(i+1)}),[i]);return p.default.createElement(c.Input,{className:"pageInput",ref:d,onChange:function(e){/^\d*$/.test(e.target.value)&&l(e.target.value)},value:s,onKeyDown:function(e){13===e.keyCode&&t(e.target.value)}})},y="".concat(f.prefix,"-footer"),x=function(){return p.default.createElement(c.Divider,{type:"vertical",style:{background:"rgba(153, 153, 153, 1)",height:"16px"}})},w=o.connect((function(e){return{totalPage:s.getTotalPage(e.annotation),imgIndex:e.annotation.imgIndex,stepList:e.annotation.stepList,step:e.annotation.step,basicIndex:e.annotation.basicIndex,basicResultList:e.annotation.basicResultList}}))((function(e){var t,i=e.stepList,n=e.step,a=e.basicResultList,c=e.basicIndex,s=e.mode,f=o.useDispatch(),b=v.useTranslation().t,w=!!(null!=(t=i[n-1])?t:{}).dataSourceStep;return p.default.createElement("div",{className:"".concat(y),style:e.style},p.default.createElement(h,null),p.default.createElement("div",{style:{flex:1}}),p.default.createElement(l,null),p.default.createElement(d,null),p.default.createElement("div",{className:"".concat(y,"__pagination")},p.default.createElement(r.LeftOutlined,{className:"".concat(y,"__highlight"),onClick:function(){f(g.PageBackward())}}),p.default.createElement(m,{imgIndex:e.imgIndex,jumpSkip:function(e){var t=~~e-1;f(g.PageJump(t))}}),"/",p.default.createElement("span",{className:"".concat(y,"__pageAll")},e.totalPage),p.default.createElement(r.RightOutlined,{className:"".concat(y,"__highlight"),onClick:function(){f(g.PageForward())}})),w&&a.length>0&&p.default.createElement(p.default.Fragment,null,p.default.createElement(x,null),p.default.createElement("span",null,b("curItems",{current:c+1,total:a.length}))),p.default.createElement(x,null),p.default.createElement(u,{mode:s}))}));t.PageInput=m,t.default=w,t.footerCls=y},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_279' data-name='%e8%b7%af%e5%be%84 279' class='cls-1' d='M11.345-10.437H8.754c0-.488-.379-1.077-.848-1.077H4.94c-.468%2c0-.848.589-.848%2c1.077H1.5c-.572%2c0-1.2.085-1.2.658v.886H12.248v-.886C12.248-10.352%2c11.917-10.437%2c11.345-10.437ZM1.357-7.857V.582a2.019%2c2.019%2c0%2c0%2c0%2c1.7%2c1.9H9.79c.859%2c0%2c1.421-1.046%2c1.421-1.9V-7.857ZM4.186.758H3.15V-6.709H4.186Zm2.6%2c0H5.747V-6.709H6.783Zm2.6%2c0H8.344V-6.709H9.38Z' transform='translate(-0.3 11.514)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_del_kj' transform='translate(0.7 10.514)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_95' data-name='%e7%9f%a9%e5%bd%a2 95' class='cls-1' width='16' height='16' transform='translate(-0.7 -10.514)'/%3e %3cg id='%e7%bb%84_481' data-name='%e7%bb%84 481' class='cls-2' transform='translate(1.3 -9.514)'%3e %3cpath id='%e8%b7%af%e5%be%84_278' data-name='%e8%b7%af%e5%be%84 278' class='cls-3' d='M-4.7-16.514H19.956V10.194H-4.7Z' transform='translate(-1.654 10.16)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},,,,,,,,,,,function(e,t,i){"use strict";var n=i(71),a=i(72);Object.defineProperty(t,"__esModule",{value:!0});var c=i(46),r=function(){function e(){n(this,e)}return a(e,null,[{key:"jsonParser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return"string"===typeof e?JSON.parse(e):c.isObject(e)?e:t}catch(i){return t}}}]),e}();r.getStepConfig=function(e,t){return e.find((function(e){return e.step===t}))},t.ConfigUtils=r},function(e,t,i){"use strict";var n=i(22);Object.defineProperty(t,"__esModule",{value:!0});var a=i(153),c=i(67),r=i(0),o=i(23),s=i(47);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var d=l(r),u=c.cKeyCode.default,h=d.default.createContext({width:window.innerWidth,height:window.innerHeight}),f=function(e){var t=e.children,i=e.dispatch,a=r.useState(window.innerWidth),o=n(a,1)[0],l=r.useState(window.innerHeight),f=n(l,1)[0],g=function(e){c.toolUtils.hotkeyFilter(e)&&(e.keyCode===u.A&&i(s.PageBackward()),e.keyCode===u.D&&i(s.PageForward()),e.keyCode===u.R&&i(s.UpdateRotate()))};r.useEffect((function(){return window.addEventListener("keydown",g),function(){window.removeEventListener("keydown",g)}}),[]);var v=r.useMemo((function(){return{width:o,height:f}}),[o,f]);return d.default.createElement(h.Provider,{value:v},t)},g=o.connect((function(e){return{annotation:e.annotation}}))(f);t.ViewportProvider=g,t.ViewportProviderComponent=f,t.getFormatSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.width,c=e.height,r=a.headerHeight+a.footerHeight,o=i?40+r+40:r,s=t?a.editStepWidth+a.sidebarWidth:a.sidebarWidth;return{width:n-s,height:c-o}},t.viewportContext=h},,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(22),a=i(0),c=i(69),r=i(351),o=i(352);function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var l=s(c);e.exports=function(e){var t=o((function(){var t=r.getTargetElement(e);return{width:(t||{}).clientWidth,height:(t||{}).clientHeight}})),i=n(t,2),c=i[0],s=i[1];return a.useLayoutEffect((function(){var t=r.getTargetElement(e);if(!t)return function(){};var i=new l.default((function(e){e.forEach((function(e){s({width:e.target.clientWidth,height:e.target.clientHeight})}))}));return i.observe(t),function(){i.disconnect()}}),[e]),c}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(65);t.InitToolStyleConfig=function(){return{type:n.TOOL_STYLE_ACTIONS.INIT_TOOL_STYLE_CONFIG,payload:void 0}},t.UpdateToolStyleConfig=function(e){return{type:n.TOOL_STYLE_ACTIONS.UPDATE_TOOL_STYLE_CONFIG,payload:e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(65);function a(e){return{type:n.IMAGE_ATTRIBUTE_ACTIONS.UPDATE_IMG_ATTRIBUTE,payload:e}}function c(){return{type:n.IMAGE_ATTRIBUTE_ACTIONS.INIT_IMG_ATTRIBUTE,payload:{}}}var r={UpdateImgAttribute:a,InitImgAttribute:c};t.InitImgAttribute=c,t.UpdateImgAttribute=a,t.default=r},function(e,t,i){"use strict";var n=i(151);Object.defineProperty(t,"__esModule",{value:!0});var a=i(157),c=i(367),r=i(20);function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var s=o(i(0)),l=[a.NULL_COLOR].concat(a.COLORS_ARRAY),d=s.default.forwardRef((function(e,t){var i=s.default.useRef(),o=e.list||[],d=n(l);!0===e.forbidDefault&&(d=d.slice(1));var u="sensebee-radio-group";return e.noHeightLimit&&(u="sensebee-radio-group-no-limit-height"),s.default.createElement("div",{className:u},s.default.createElement(r.Radio.Group,{name:"radiogroup",defaultValue:null==e?void 0:e.selectedAttribute,value:null==e?void 0:e.selectedAttribute,onChange:function(t){return e.attributeChanged(t.target.value)},ref:t},o.map((function(t,n){var o,l=null!=(o=null==e?void 0:e.num)?o:n;return!0===e.forbidDefault&&l++,"number"===typeof l&&l<=9&&l>=0||(l="-"),s.default.createElement(r.Radio,{value:t.value,ref:i,key:n},s.default.createElement("span",{className:"sensebee-radio-label",title:t.label},!(null==e?void 0:e.forbidColor)&&s.default.createElement(c.ColorTag,{color:n>8&&!e.forbidDefault?a.COLORS_ARRAY[(n-1)%a.COLORS_ARRAY.length]:d[n%d.length],style:{marginRight:"8px"}}),t.label),s.default.createElement("span",{className:"sensebee-radio-num"},l))}))))}));t.ATTRIBUTE_COLORS=l,t.default=d},function(e,t,i){"use strict";var n=i(71),a=i(72);Object.defineProperty(t,"__esModule",{value:!0});var c=i(73),r="^[0-9]+$",o="^[A-Za-z]+$",s=function(){function e(){n(this,e)}return a(e,null,[{key:"checkString",value:function(e,t){var i="";switch(e){case c.ETextType.Order:case c.ETextType.NumberOnly:i=r;break;case c.ETextType.EnglishOnly:i=o;break;case c.ETextType.CustomFormat:i=t}return i}},{key:"getErrorNotice",value:function(e){switch(e){case c.ETextType.Order:case c.ETextType.NumberOnly:return"\u8bf7\u6309\u4ec5\u6570\u5b57\u7684\u683c\u5f0f\u8f93\u5165";case c.ETextType.EnglishOnly:return"\u8bf7\u6309\u4ec5\u82f1\u6587\u7684\u683c\u5f0f\u8f93\u5165";case c.ETextType.CustomFormat:return"\u8bf7\u6309\u8981\u6c42\u7684\u683c\u5f0f\u8f93\u5165";default:return""}}}]),e}();t.REGEXP_ENGLISH=o,t.REGEXP_NUMBER=r,t.TextUtils=s},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_polygon_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2%2c .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-2 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-4' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-4' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_lineCont_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-3 %7b fill: none%3b %7d .cls-2%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_unGrip_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_14' data-name='%e5%87%8f%e5%8e%bb 14' class='cls-2' d='M12806.69-12915.114c-.083%2c0-.175%2c0-.282-.008a5.869%2c5.869%2c0%2c0%2c1-3.878-1.69%2c5.509%2c5.509%2c0%2c0%2c1-1.6-4.091%2c6.209%2c6.209%2c0%2c0%2c1%2c2.044-4.437l1.039-.934%2c2.459%2c2.731-1.168%2c1.052a2.434%2c2.434%2c0%2c0%2c0-.522%2c2.823%2c2.39%2c2.39%2c0%2c0%2c0%2c1.854.923%2c2%2c2%2c0%2c0%2c0%2c1.346-.508l1.3-1.171%2c2.46%2c2.732-1.169%2c1.054A5.813%2c5.813%2c0%2c0%2c1%2c12806.69-12915.114Zm6.1-3.518h0l-2.477-2.717%2c1.962-1.769a.619.619%2c0%2c0%2c1%2c.412-.164.6.6%2c0%2c0%2c1%2c.454.209l1.639%2c1.824a.6.6%2c0%2c0%2c1-.046.863l-1.942%2c1.753Zm-5.33-5.8h0l-2.523-2.675%2c1.938-1.745a.614.614%2c0%2c0%2c1%2c.412-.163.609.609%2c0%2c0%2c1%2c.455.209l1.769%2c1.7a.6.6%2c0%2c0%2c1-.046.866l-2%2c1.8Z' transform='translate(-12800 12929.97)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_271' data-name='%e7%9f%a9%e5%bd%a2 271' class='cls-2' width='1.166' height='18.662' transform='matrix(0.719%2c -0.695%2c 0.695%2c 0.719%2c 0.745%2c 2.047)'/%3e%3c/svg%3e"},,,,,,,,,,function(e){e.exports=JSON.parse('{"en":{"translation":{"ConfirmTo":"Confirm To ","TextInput":"Text Input","NoAttribute":"No Attribute","Save":"Save","Undo":"Undo","Redo":"Redo","Rotate":"Rotate","Style":"Style","Adjust":"Adjust","BorderThickness":"Border Thickness","Color":"Color","BorderOpacity":"Border Opacity","FillOpacity":"Fill Opacity","Saturation":"Saturation","Contrast":"Contrast","Exposure":"Exposure","ScreenRatio":"Screen Ratio","OriginalScale":"Original Scale","CopyThePrevious":"Copy Prev","ClearLabel":"Clear","SetAsInvalid":"Set As Invalid","SetAsValid":"Set As Valid","Confirm":"Confirm","Cancel":"Cancel","ItemsOfThisPage":"Items Of This Page","Hotkeys":"Hotkeys","AnnotateRect":"Annotate Rect","AnnotateInvalidRect":"Annotate Invalid Rect","SelectRect":"Select Rect","RightClick":"Right Click","ToggleRectEffectiveness":"Toggle Rect Validity","ToggleEffectiveness":"Toggle Validity","DeleteRect":"Delete Rect","SelectAndDoubleClick":"Select And Double Click","Scale":"Scale","Fullscreen":"Fullscreen","Previous":"Previous","Next":"Next","PreviousFolder":"Previous Folder","NextFolder":"Next Folder","Drag":"Drag","ToggleSelected":"Toggle Selected","ToggleSelectedReverse":"Toggle Selected Reverse","HideGraphics":"Hide Graphics","ToggleLineParticularity":"Toggle Line Particularity","ToSide":"To Line","SpecifiedAttributesOnly":"Specified Attributes Only","Number":"Number","Press":"Press","ToOriginalStep":"To Original","HorizontalOrVertical":"Horizontal/Vertical","AnnotateInvalidLine":"Annotate Invalid Line","AnnotateLine":"Annotate Line","SelectLine":"Select Line","ToggleLineEffectiveness":"Toggle Line Validity","DeleteLine":"Delete Line","ContinueToLabel":"Continue To Label","Select":"Select","InsertPoint":"Insert Point","ClickOnLine":"Click On Line","DeletePoint":"Delete Point","DblClickOnPoint":"Double Click On Point","StopAdsorption":"Stop Adsorption","PreviousLine":"Previous Line","NextLine":"Next Line","SelectPoint":"Select Point","AnnotateInvalidPoint":"Annotate Invalid Point","AnnotatePoint":"Annotate Point","AnnotatePolygon":"Annotate Polygon","SelectPolygon":"Select Polygon","AnnotateInvalidPolygon":"Annotate Invalid Polygon","TogglePolygonEffectiveness":"Toggle Polygon Validity","DeletePolygon":"Delete Polygon","TogglePointParticularity":"Toggle Point Particularity","CropOverlapArea":"Crop Overlap Area","SegmentationRecognition":"Segmentation Recognition","SwitchPattern":"Switch Pattern","Tagging":"Tagging","Hide":"Hide ","HideDrawnAnnotation":"Hidden Drawn Annotation","Blue":"Blue","Cyan":"Cyan","Green":"Green","Yellow":"Yellow","Pink":"Pink","Steps":"Steps","Export":"Export","NextStep":"Next Step","StepNotFinishedNotify":"There are unannotated files in the current step , please finish before the next step","curItems":"{{current}}/{{total}} Items","TurnPage":"Turn Page","Switch":"Switch","EmptyTextInput":"Empty Text Input","RegularExpIncorrectly":"Regular expression is incorrectly","NoConfiguration":"Missing Configuration","ClearThisOption":"Clear This Option","RestoreImageAttributes":"Restore Image Attributes","rectTool":"RectTool","tagTool":"TagTool","polygonTool":"PolygonTool","lineTool":"LineTool","pointTool":"PointTool","textTool":"TextTool"}},"cn":{"translation":{"TextInput":"\u6587\u672c\u8f93\u5165","NoAttribute":"\u65e0\u5c5e\u6027","Save":"\u4fdd\u5b58","Undo":"\u64a4\u9500","Redo":"\u91cd\u505a","Rotate":"\u65cb\u8f6c","Style":"\u6837\u5f0f","Adjust":"\u56fe\u7247\u8c03\u6574","BorderThickness":"\u8fb9\u6846\u7c97\u7ec6","Color":"\u989c\u8272","BorderOpacity":"\u8fb9\u6846\u900f\u660e\u5ea6","FillOpacity":"\u586b\u5145\u900f\u660e\u5ea6","Saturation":"\u9971\u548c\u5ea6","Contrast":"\u5bf9\u6bd4\u5ea6","Exposure":"\u66dd\u5149\u5ea6","ScreenRatio":"\u753b\u9762\u5360\u6bd4","OriginalScale":"\u6309\u539f\u56fe\u6bd4\u4f8b\u663e\u793a","CopyThePrevious":"\u590d\u5236\u4e0a\u5f20","ClearLabel":"\u6e05\u7a7a\u6807\u6ce8","SetAsInvalid":"\u6807\u4e3a\u65e0\u6548","SetAsValid":"\u53d6\u6d88\u65e0\u6548","Confirm":"\u786e\u8ba4","Cancel":"\u53d6\u6d88","ItemsOfThisPage":"\u672c\u9875\u4ef6\u6570","Hotkeys":"\u5feb\u6377\u952e","AnnotateRect":"\u62c9\u6846","AnnotateInvalidRect":"\u62c9\u65e0\u6548\u6846","SelectRect":"\u9009\u4e2d\u6846","RightClick":"\u53f3\u51fb","ToggleRectEffectiveness":"\u5207\u6362\u6846\u662f\u5426\u6709\u6548","ToggleEffectiveness":"\u662f\u5426\u6807\u4e3a\u65e0\u6548","DeleteRect":"\u5220\u9664\u6846","SelectAndDoubleClick":"\u9009\u4e2d\u53cc\u51fb","Scale":"\u7f29\u653e","Fullscreen":"\u5168\u5c4f","Previous":"\u4e0a\u4e00\u5f20","Next":"\u4e0b\u4e00\u5f20","PreviousFolder":"\u4e0a\u4e00\u6587\u4ef6\u5939","NextFolder":"\u4e0b\u4e00\u6587\u4ef6\u5939","Drag":"\u62d6\u52a8\u56fe\u7247","ToggleSelected":"\u5207\u6362\u9009\u4e2d","ToggleSelectedReverse":"\u9006\u5e8f\u5207\u6362\u9009\u4e2d","HideGraphics":"\u9690\u85cf\u56fe\u5f62","ToggleLineParticularity":"\u6362\u7279\u6b8a\u8fb9","ToSide":"\u5bf9\u8fb9","SpecifiedAttributesOnly":"\u4ec5\u770b\u6307\u5b9a\u5c5e\u6027","Number":"\u6570\u5b57","Press":"\u957f\u6309","ToOriginalStep":"\u4ec5\u539f\u56fe","HorizontalOrVertical":"\u6807\u6c34\u5e73/\u5782\u76f4\u7ebf","AnnotateInvalidLine":"\u6807\u65e0\u6548\u7ebf","AnnotateLine":"\u6807\u7ebf","SelectLine":"\u9009\u4e2d\u7ebf","ToggleLineEffectiveness":"\u5207\u6362\u7ebf\u662f\u5426\u6709\u6548","DeleteLine":"\u5220\u9664\u7ebf","ContinueToLabel":"\u7eed\u6807","Select":"\u9009\u4e2d","InsertPoint":"\u63d2\u5165\u70b9","ClickOnLine":"\u5bf9\u7ebf\u5355\u51fb","DeletePoint":"\u5220\u9664\u70b9","DblClickOnPoint":"\u5bf9\u70b9\u53cc\u51fb","StopAdsorption":"\u6682\u505c\u5438\u9644","PreviousLine":"\u4e0a\u6761\u7ebf","NextLine":"\u4e0b\u6761\u7ebf","SelectPoint":"\u9009\u4e2d\u70b9","AnnotateInvalidPoint":"\u6807\u65e0\u6548\u70b9","AnnotatePoint":"\u6807\u70b9","AnnotatePolygon":"\u6807\u591a\u8fb9\u5f62","SelectPolygon":"\u9009\u4e2d\u591a\u8fb9\u5f62","AnnotateInvalidPolygon":"\u6807\u65e0\u6548\u591a\u8fb9\u5f62","TogglePolygonEffectiveness":"\u5207\u6362\u591a\u8fb9\u5f62\u662f\u5426\u6709\u6548","DeletePolygon":"\u5220\u9664\u591a\u8fb9\u5f62","TogglePointParticularity":"\u6362\u7279\u6b8a\u70b9","CropOverlapArea":"\u88c1\u526a\u91cd\u53e0\u533a\u57df","SegmentationRecognition":"\u5206\u5272\u8f85\u52a9","SwitchPattern":"\u5207\u6362\u7ed8\u5236\u5f62\u5f0f","Tagging":"\u6253\u6807\u7b7e","Hide":"\u6253\u6807\u7b7e","HideDrawnAnnotation":"\u6807\u6ce8\u9690\u85cf\u4e2d","Blue":"\u84dd","Cyan":"\u9752","Green":"\u7eff","Yellow":"\u9ec4","Pink":"\u7c89","Steps":"\u6807\u6ce8\u6b65\u9aa4","Export":"\u5bfc\u51fa","NextStep":"\u4e0b\u4e00\u6b65","StepNotFinishedNotify":"\u5f53\u524d\u6b65\u9aa4\u5b58\u5728\u4e3a\u672a\u6807\u6ce8\u8fc7\u7684\u56fe\u7247\uff0c\u8bf7\u6807\u6ce8\u5b8c\u6210\u518d\u70b9\u51fb\u4e0b\u4e00\u6b65","curItems":"\u7b2c{{current}}/{{total}}\u5206\u9875","TurnPage":"\u7ffb\u9875","Switch":"\u5207\u6362","EmptyTextInput":"\u6e05\u7a7a\u6587\u672c\u8f93\u5165","RegularExpIncorrectly":"\u6b63\u5219\u8868\u8fbe\u5f0f\u586b\u5199\u9519\u8bef","NoConfiguration":"\u6682\u65e0\u4fe1\u606f\u914d\u7f6e","ClearThisOption":"\u6e05\u7a7a\u6b64\u9009\u9879","RestoreImageAttributes":"\u8fd8\u539f\u56fe\u7247\u5c5e\u6027","ConfirmTo":"\u786e\u8ba4","rectTool":"\u6807\u7b7e","tagTool":"\u6807\u70b9","polygonTool":"\u591a\u8fb9\u5f62","lineTool":"\u7ebf\u6761","pointTool":"\u6807\u70b9","textTool":"\u6587\u672c"}}}')},,,,,,,,,,function(e,t,i){},function(e,t,i){},,,,,,,,,,function(e,t,i){"use strict";var n=i(170),a=i(228),c=i(229);function r(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var o=r(a);e.exports=function(){return n.createStore(c.rootReducer,n.applyMiddleware(o.default))}},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(170),a=i(150),c=i(326),r=i(327),o=n.combineReducers({annotation:a.annotationReducer,imgAttribute:c.imgAttributeReducer,toolStyle:r.toolStyleReducer});t.rootReducer=o},,,,,function(e,t,i){"use strict";var n=i(152),a=i(151),c=i(34);Object.defineProperty(t,"__esModule",{value:!0});var r=i(40),o=i(66),s=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=function(e,t,i){return t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},v=function(e,t){for(var i in t||(t={}))h.call(t,i)&&g(e,i,t[i]);if(u){var n,a=c(u(t));try{for(a.s();!(n=a.n()).done;){i=n.value;f.call(t,i)&&g(e,i,t[i])}}catch(r){a.e(r)}finally{a.f()}}return e},b=function(e,t){return l(e,d(t))};t.composeResult=function(e,t,i){var c=t.step,s=t.stepList,l=i.rect,d=i.basicRectID;try{var u=r.jsonParser(e),h=o.getCurrentStepInfo(c,s),f=h.dataSourceStep,g="step_".concat(h.step);if(u[g]){var p=u[g];return p.result?(JSON.stringify(p.result)===JSON.stringify(l)||(p.result=d?[].concat(a(p.result.filter((function(e){return!(e.sourceID&&e.sourceID===d)}))),a(l.filter((function(e){return e.sourceID&&e.sourceID===d})))):l),JSON.stringify(u)):JSON.stringify(b(v({},u),n({},g,b(v({},u[g]),{result:l}))))}return JSON.stringify(b(v({},u),n({},g,{dataSourceStep:f,toolName:s[c-1].tool,result:l})))}catch(m){return e}},t.composeResultWithBasicImgInfo=function(e,t){return JSON.stringify(v(v({},r.jsonParser(e)),t))}},function(e,t,i){"use strict";var n=i(71),a=i(72),c=i(34),r=i(67),o=i(40),s=i(73),l=i(46),d=i(66);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var h=u(l),f=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,y=function(e,t,i){return t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},x=function(){function e(){n(this,e)}return a(e,null,[{key:"copyResultChange",value:function(e,t,i){try{var n=o.jsonParser(e),a=o.jsonParser(i),s="step_".concat(t);if(n[s]){var l=n[s];if(l.result)return l.result=l.result.map((function(e){return t=function(e,t){for(var i in t||(t={}))p.call(t,i)&&y(e,i,t[i]);if(b){var n,a=c(b(t));try{for(a.s();!(n=a.n()).done;)i=n.value,m.call(t,i)&&y(e,i,t[i])}catch(r){a.e(r)}finally{a.f()}}return e}({},e),i={id:r.uuid(8,62)},g(t,v(i));var t,i})),a[s]=l,JSON.stringify(a)}return e}catch(d){return e}}},{key:"isResultSourceMatchedDependence",value:function(e,t){var i=null==e?void 0:e.map((function(e){return e.sourceID})).sort(),n=null==t?void 0:t.map((function(e){return e.id})).sort();return h.default.isEqual(i,n)}},{key:"deltaUpdateBasicResultList",value:function(e,t){var i=null==e?void 0:e.map((function(e){return e.sourceID})).sort();return t.filter((function(e){return!i.includes(e.id)}))}},{key:"getInitialResultList",value:function(e,t,i,n,a){var c=null!=e?e:[];switch(i.tool){case s.EToolName.Tag:case s.EToolName.Text:if(i.dataSourceStep>0){var r=this.deltaUpdateBasicResultList(c,n);if(r.length>0)return c.concat(t.getInitResultList(i.dataSourceStep,r))}return!0!==a?c:t.getInitResultList(i.dataSourceStep,n);default:return c}}},{key:"dataCorrection",value:function(e,t,i,n){var a,c;try{var r=d.getStepInfo(i,n),s="step_".concat(r.step),l=o.jsonParser(e),u=o.jsonParser(t),f=null==(a=l[s])?void 0:a.result,g=null==(c=u[s])?void 0:c.result;if(!g)return e;if(h.default.isEqual(f.sort(this.idCmp),g.sort(this.idCmp)))return e;var v=this.findDeletedIds(f,g);if(0===v.length)return e;var b=i,p=this.getStepKeys(l).sort();return this.deleteRes(l,b,v,p),JSON.stringify(l)}catch(m){return console.error(m),e}}},{key:"idCmp",value:function(e,t){var i=e.id,n=t.id;return i<n?-1:i>n?1:0}},{key:"findDeletedIds",value:function(e,t){return this.findDeletedItems(t,e).map((function(e){return e.id}))}},{key:"findDeletedItems",value:function(e,t){var i=[];return e.forEach((function(e){t.some((function(t){return t.id===e.id}))||i.push(e)})),i}},{key:"getStepKeys",value:function(e){return Object.keys(e).map((function(e){return parseInt(e.replace("step_",""),10)})).filter((function(e){return!isNaN(e)}))}},{key:"deleteRes",value:function(e,t,i,n){var a=this;n.forEach((function(c){if(c>t){var r=e["step_".concat(c)];if([s.EToolName.FolderTag,s.EToolName.Segmentation].includes(r.tool))return;if(r.dataSourceStep===t){var o=[];r.result=r.result.filter((function(e){return!i.includes(e.sourceID)||(o.push(e.id),!1)})),a.deleteRes(e,c,o,n)}else r.result=r.result.filter((function(e){return!i.includes(e.sourceID)}))}}))}}]),e}();e.exports=x},,,,function(e,t,i){"use strict";e.exports='{"toolColor":{"1":{"valid":{"stroke":"rgba(0,0,255,0.50)","fill":"rgba(0,0,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.80)"},"validSelected":{"stroke":"rgba(0,15,255,1.00)","fill":"rgba(0,15,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,0.60)","fill":"rgba(255,0,0,0.24)"},"validHover":{"stroke":"rgba(0,15,255,0.80)","fill":"rgba(0,15,255,0.64)"},"invalidHover":{"stroke":"rgba(255,0,0,0.50)","fill":"rgba(255,0,0,0.40)"}},"3":{"valid":{"stroke":"rgba(0,255,255,0.50)","fill":"rgba(0,255,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.80)"},"validSelected":{"stroke":"rgba(0,212,255,1.00)","fill":"rgba(0,212,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,0.60)","fill":"rgba(255,0,0,0.24)"},"validHover":{"stroke":"rgba(0,212,255,0.80)","fill":"rgba(0,212,255,0.64)"},"invalidHover":{"stroke":"rgba(255,0,0,0.50)","fill":"rgba(255,0,0,0.40)"}},"5":{"valid":{"stroke":"rgba(0,255,0,0.50)","fill":"rgba(0,255,0,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.80)"},"validSelected":{"stroke":"rgba(149,255,1.00)","fill":"rgba(149,255,0,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,0.60)","fill":"rgba(255,0,0,0.24)"},"validHover":{"stroke":"rgba(149,255,0,0.80)","fill":"rgba(149,255,0,0.64)"},"invalidHover":{"stroke":"rgba(255,0,0,0.50)","fill":"rgba(255,0,0,0.40)"}},"7":{"valid":{"stroke":"rgba(255,255,0,0.50)","fill":"rgba(255,255,0,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.80)"},"validSelected":{"stroke":"rgba(255,230,102,1.00)","fill":"rgba(255,213,0,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,0.60)","fill":"rgba(255,0,0,0.24)"},"validHover":{"stroke":"rgba(255,230,102,0.80)","fill":"rgba(255,230,102,0.64)"},"invalidHover":{"stroke":"rgba(255,0,0,0.50)","fill":"rgba(255,0,0,0.40)"}},"9":{"valid":{"stroke":"rgba(255,0,255,0.50)","fill":"rgba(255,0,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.80)"},"validSelected":{"stroke":"rgba(230,102,255,1.00)","fill":"rgba(213,0,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,0.60)","fill":"rgba(255,0,0,0.24)"},"validHover":{"stroke":"rgba(230,102,255,0.80)","fill":"rgba(230,102,255,0.64)"},"invalidHover":{"stroke":"rgba(255,0,0,0.50)","fill":"rgba(255,0,0,0.40)"}}},"attributeColor":[{"valid":{"stroke":"rgba(204,204,204,1.00)","fill":"rgba(204,204,204,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(204,204,204,1.00)","fill":"rgba(204,204,204,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(204,204,204,1.00)","fill":"rgba(204,204,204,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(153,51,255,1.00)","fill":"rgba(153,51,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(153,51,255,1.00)","fill":"rgba(153,51,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(153,51,255,1.00)","fill":"rgba(153,51,255,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(51,254,51,1.00)","fill":"rgba(51,254,51,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(51,254,51,1.00)","fill":"rgba(51,254,51,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(51,254,51,1.00)","fill":"rgba(51,254,51,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(255,51,255,1.00)","fill":"rgba(255,51,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(255,51,255,1.00)","fill":"rgba(255,51,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(255,51,255,1.00)","fill":"rgba(255,51,255,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(204,255,51,1.00)","fill":"rgba(204,255,51,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(204,255,51,1.00)","fill":"rgba(204,255,51,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(204,255,51,1.00)","fill":"rgba(204,255,51,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(51,153,255,1.00)","fill":"rgba(51,153,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(51,153,255,1.00)","fill":"rgba(51,153,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(51,153,255,1.00)","fill":"rgba(51,153,255,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(255,153,51,1.00)","fill":"rgba(255,153,51,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(255,153,51,1.00)","fill":"rgba(255,153,51,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(255,153,51,1.00)","fill":"rgba(255,153,51,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(51,255,238,1.00)","fill":"rgba(51,255,238,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(51,255,238,1.00)","fill":"rgba(51,255,238,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(51,255,238,1.00)","fill":"rgba(51,255,238,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(255,221,51,1.00)","fill":"rgba(255,221,51,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(255,221,51,1.00)","fill":"rgba(255,221,51,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(255,221,51,1.00)","fill":"rgba(255,221,51,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}}],"lineColor":{"1":"rgba(102, 111, 255, 1 )","3":"rgba(102, 230, 255, 1)","5":"rgba(191, 255, 102, 1)","7":"rgba(255, 230, 102, 1)","9":"rgba(230, 102, 255, 1)"},"attributeLineColor":["rgba(204, 204, 204, 1)","rgba(153, 51, 255, 1)","rgba(51, 254, 51, 1)","rgba(255, 51, 255, 1)","rgba(204, 255, 51, 1)","rgba(51, 153, 255, 1)","rgba(255, 153, 51, 1)","rgba(51, 255, 238, 1)","rgba(255, 221, 51, 1)"],"color":1,"width":2,"opacity":9}'},function(e,t,i){"use strict";var n=i(71),a=i(72),c=i(153),r=i(46),o=i(40);function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var l=s(r),d=function(){function e(){n(this,e)}return a(e,null,[{key:"getPageInfo",value:function(e){var t=e.imgIndex,i=e.imgList,n=e.basicResultList;return{fileIndex:t,basicIndex:e.basicIndex,basicList:n,fileList:i,step:e.step,stepList:e.stepList}}},{key:"getNextPageInfo",value:function(t,i,n){var a=e.getPageInfo(i),r=e.getPageInfo(i).fileIndex,o=e.getNextFileIndex(t,a,n),s=e.getNextBasicIndex(t,a.basicIndex),l=o!==r,d=e.hasNextBasicIndex(t,a),u={fileIndex:o,basicIndex:s,fileIndexChanged:l,basicIndexChanged:d};return d?(u.fileIndexChanged=!1,u.fileIndex=r,u):(u.basicIndex=t===c.EPageTurningOperation.Backward?e.getBasicResultIndexForNextFile(a,u.fileIndex):0,u)}}]),e}(),u=d;u.getNextBasicIndex=function(e,t){return t+(e===c.EPageTurningOperation.Forward?1:-1)},u.hasNextBasicIndex=function(e,t){var i=t.basicList;if((null==i?void 0:i.length)>0){var n=d.getNextBasicIndex(e,t.basicIndex);return n>=0&&i.length>n}return!1},u.getBasicResultIndexForNextFile=function(e,t){var i,n=e.stepList,a=e.step,c=e.fileList,r=n.find((function(e){return e.step===a})),s=null==r?void 0:r.dataSourceStep;if(s){var l=null==(i=o.jsonParser(c[t].result)["step_".concat(s)])?void 0:i.result;return l&&(null==l?void 0:l.length)?(null==l?void 0:l.length)-1:0}return 0},u.getNextFileIndex=function(e,t,i){var n=t.fileIndex,a=t.fileList,r=void 0!==i?i:n;switch(e){case c.EPageTurningOperation.Forward:r+=1;break;case c.EPageTurningOperation.Backward:r-=1;case c.EPageTurningOperation.Jump:}return l.default.inRange(r,0,a.length)?r:n},e.exports=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(34);Object.defineProperty(t,"__esModule",{value:!0});var a=i(65),c=Object.defineProperty,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=function(e,t,i){return t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},d=function(e,t){for(var i in t||(t={}))o.call(t,i)&&l(e,i,t[i]);if(r){var a,c=n(r(t));try{for(c.s();!(a=c.n()).done;){i=a.value;s.call(t,i)&&l(e,i,t[i])}}catch(d){c.e(d)}finally{c.f()}}return e},u={contrast:1,saturation:1,brightness:1,zoomRatio:1,isOriginalSize:!1};t.imgAttributeReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d({},u),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.IMAGE_ATTRIBUTE_ACTIONS.UPDATE_IMG_ATTRIBUTE:return d(d({},e),t.payload);case a.IMAGE_ATTRIBUTE_ACTIONS.INIT_IMG_ATTRIBUTE:return d({},u);default:return e}}},function(e,t,i){"use strict";var n=i(34);Object.defineProperty(t,"__esModule",{value:!0});var a=i(157),c=i(328),r=i(65),o=Object.defineProperty,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=function(e,t,i){return t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},h=function(e,t){for(var i in t||(t={}))l.call(t,i)&&u(e,i,t[i]);if(s){var a,c=n(s(t));try{for(c.s();!(a=c.n()).done;){i=a.value;d.call(t,i)&&u(e,i,t[i])}}catch(r){c.e(r)}finally{c.f()}}return e},f={color:1,width:2,borderOpacity:9,fillOpacity:9,toolColor:c.ToolStyleUtils.getToolColors(),attributeColor:c.ToolStyleUtils.getAttributeColors(),lineColor:c.ToolStyleUtils.getDefaultToolLineColors(),attributeLineColor:[a.NULL_COLOR].concat(a.COLORS_ARRAY)};t.toolStyleReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h({},f),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.TOOL_STYLE_ACTIONS.INIT_TOOL_STYLE_CONFIG:return h({},f);case r.TOOL_STYLE_ACTIONS.UPDATE_TOOL_STYLE_CONFIG:var i={},n=t.payload;return((null==n?void 0:n.borderOpacity)||(null==n?void 0:n.fillOpacity))&&Object.assign(i,c.ToolStyleUtils.initByOpacity(n.borderOpacity||e.borderOpacity,n.fillOpacity||e.fillOpacity)),h(h(h({},e),t.payload),i);default:return e}}},function(e,t,i){"use strict";var n=i(71),a=i(72);Object.defineProperty(t,"__esModule",{value:!0});var c=i(157);function r(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var o=r(i(46)),s=.8,l=function(){function e(){n(this,e)}return a(e,null,[{key:"colorSplit",value:function(e,t){return e.split(" ").join("").replace(/,[0-9]+([.]{1}[0-9]+){0,1}\)/,",".concat(t.toFixed(2),")"))}},{key:"computeOpacity",value:function(e,t){var i,n,a=null==(n=((null==(i=t.split(" ").join("").match(/,[0-9]+([.]{1}[0-9]+){0,1}\)/))?void 0:i[0])||"").match(/[0-9]+([.]{1}[0-9]+){0,1}/))?void 0:n[0];return e*Number(a)}},{key:"getToolColors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=e.colorSplit,a=e.computeOpacity,r=o.default.cloneDeep(c.CHANGE_COLOR),l=c.BORDER_OPACITY_LEVEL[t],d=c.FILL_OPACITY_LEVEL[i];return Object.keys(c.CHANGE_COLOR).forEach((function(e){var t=o.default.cloneDeep(c.DEFAULT_COLOR);t.valid.stroke=n(c.CHANGE_COLOR[e].valid,a(l,c.CHANGE_COLOR[e].valid)),t.valid.fill=n(c.CHANGE_COLOR[e].valid,a(d,c.CHANGE_COLOR[e].valid)*s),t.validSelected.stroke=n(c.CHANGE_COLOR[e].select.stroke,a(l,c.CHANGE_COLOR[e].select.stroke)),t.validSelected.fill=n(c.CHANGE_COLOR[e].select.fill,a(d,c.CHANGE_COLOR[e].select.fill)*s),t.validHover.stroke=n(c.CHANGE_COLOR[e].hover,a(l,c.CHANGE_COLOR[e].hover)),t.validHover.fill=n(c.CHANGE_COLOR[e].hover,a(d,c.CHANGE_COLOR[e].hover)*s),t.invalid.stroke=n(t.invalid.stroke,a(l,t.invalid.stroke)),t.invalid.fill=n(t.invalid.stroke,a(d,t.invalid.stroke)*s),t.invalidSelected.stroke=n(t.invalidSelected.stroke,a(l,t.invalidSelected.stroke)),t.invalidSelected.fill=n(t.invalidSelected.fill,a(d,t.invalidSelected.fill)*s),t.invalidHover.stroke=n(t.invalidHover.stroke,a(l,t.invalidHover.fill)),t.invalidHover.fill=n(t.invalidHover.fill,a(d,t.invalidHover.fill)*s),r[e]=t})),r}},{key:"getAttributeColors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=e.colorSplit,a=e.computeOpacity,r=c.BORDER_OPACITY_LEVEL[t],l=c.FILL_OPACITY_LEVEL[i],d=o.default.cloneDeep(c.COLORS_ARRAY);return d.unshift(c.NULL_COLOR),d=d.map((function(e){var t=JSON.parse(JSON.stringify(c.DEFAULT_COLOR));return t.valid.stroke=n(e,a(r,e)),t.valid.fill=n(e,a(l,e)*s*.5),t.validSelected.stroke=n(e,a(r,e)),t.validSelected.fill=n(e,a(l,e)*s),t.validHover.stroke=n(e,a(r,e)),t.validHover.fill=n(e,a(l,e)*s),t.invalid.stroke=n(t.invalid.stroke,a(r,e)),t.invalid.fill=n(t.invalid.fill,a(l,e)*s*.5),t.invalidSelected.stroke=n(t.invalidSelected.stroke,a(r,e)),t.invalidSelected.fill=n(t.invalidSelected.fill,a(l,e)*s),t.invalidHover.stroke=n(t.invalidHover.stroke,a(r,e)),t.invalidHover.fill=n(t.invalidHover.fill,a(l,e)*s),t}))}},{key:"getDefaultToolLineColors",value:function(){var e={};return Object.keys(c.CHANGE_COLOR).forEach((function(t){e[t]=c.CHANGE_COLOR[t].line})),e}},{key:"initByOpacity",value:function(e,t){return{toolColor:this.getToolColors(e,t),attributeColor:this.getAttributeColors(e,t)}}}]),e}(),d=l;d.changeOpacity={1:.2,3:.4,5:.6,7:.8,9:1},t.ToolStyleUtils=d},function(e,t,i){"use strict";var n=i(34),a=i(0),c=i(23),r=i(42),o=i(47),s=i(330),l=i(105);function d(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u=d(a),h=Object.defineProperty,f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=function(e,t,i){return t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},p=c.connect((function(e){return{toolInstance:e.annotation.toolInstance}}))((function(e){var t=e.imgList,i=e.step,c=e.stepList,d=e.onSubmit,h=e.onSave,p=e.initialIndex,m=void 0===p?0:p,y=e.toolInstance,x=e.setToolInstance,w=e.getFileData,k=e.defaultLang,L=void 0===k?"cn":k;return a.useEffect((function(){r.store.dispatch(o.InitTaskData({imgList:t,onSubmit:d,stepList:c,step:i,initialIndex:m,getFileData:w,onSave:h})),l.i18n.changeLanguage(L)}),[]),a.useEffect((function(){null==x||x(y)}),[y]),u.default.createElement("div",null,u.default.createElement(s,function(e,t){for(var i in t||(t={}))g.call(t,i)&&b(e,i,t[i]);if(f){var a,c=n(f(t));try{for(c.s();!(a=c.n()).done;)i=a.value,v.call(t,i)&&b(e,i,t[i])}catch(r){c.e(r)}finally{c.f()}}return e}({},e)))}));e.exports=p},function(e,t,i){"use strict";var n=i(34),a=i(0),c=i(173),r=i(331),o=i(353),s=i(355),l=i(160),d=i(41),u=i(40),h=i(20);function f(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var g=f(a),v=Object.defineProperty,b=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,y=function(e,t,i){return t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},x=h.Layout,w=x.Sider,k=x.Content,L="".concat(d.prefix,"-layout");e.exports=function(e){var t,i,a,d;return g.default.createElement(c.ViewportProvider,null,g.default.createElement(h.Layout,{className:"".concat(L," ").concat(e.className),style:null==(t=e.style)?void 0:t.layout},g.default.createElement("header",{className:"".concat(L,"__header"),style:null==(i=e.style)?void 0:i.header},u.getNewNode(e.header,g.default.createElement(r,{headerName:e.headerName,goBack:e.goBack,exportData:e.exportData}))),g.default.createElement(h.Layout,null,g.default.createElement(k,{className:"".concat(L,"__content")},g.default.createElement(o,function(e,t){for(var i in t||(t={}))p.call(t,i)&&y(e,i,t[i]);if(b){var a,c=n(b(t));try{for(c.s();!(a=c.n()).done;)i=a.value,m.call(t,i)&&y(e,i,t[i])}catch(r){c.e(r)}finally{c.f()}}return e}({},e)),u.getNewNode(e.footer,g.default.createElement(l.default,{style:null==(a=e.style)?void 0:a.footer,mode:e.mode}))),g.default.createElement(w,{className:"".concat(L,"__side"),width:"auto",style:null==(d=e.style)?void 0:d.sider},u.getNewNode(e.sider,g.default.createElement(s,null))))))}},function(e,t,i){"use strict";var n=i(22),a=i(0),c=i(68),r=i(23),o=i(42),s=i(5),l=i(41),d=i(332),u=i(339),h=i(20),f=i(47),g=i(348),v=i(105),b=i(28),p=i(189);function m(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var y=m(a),x=m(s),w=function(e){var t=e.disabled,i=b.useTranslation().t;return y.default.createElement(h.Button,{type:"primary",style:{marginLeft:10},onClick:function(){o.store.dispatch(f.ToNextStep(0))},disabled:t},i("NextStep"))},k=function(e){var t=e.step,i=e.stepProgress,n=e.stepList,a=b.useTranslation().t;if(n.length<2||t===n.length)return null;var c=i<1;return c?y.default.createElement(h.Tooltip,{title:a("StepNotFinishedNotify")},y.default.createElement("span",null,y.default.createElement(w,{disabled:c}))):y.default.createElement(w,{disabled:c})},L=r.connect((function(e){var t;return{imgList:e.annotation.imgList,annotationEngine:e.annotation.annotationEngine,stepProgress:e.annotation.stepProgress,toolName:null==(t=e.annotation.stepList[e.annotation.step-1])?void 0:t.tool,stepList:e.annotation.stepList,stepInfo:e.annotation.stepList[e.annotation.step-1],step:e.annotation.step}}))((function(e){var t,i=e.goBack,o=e.exportData,s=e.headerName,h=e.imgList,b=e.stepProgress,m=e.stepInfo,w=e.stepList,L=e.step,C=e.annotationEngine,I=r.useDispatch(),O=a.useReducer((function(e){return e+1}),0),T=n(O,2)[1],A=a.useRef(null),S=p(A),P=y.default.createElement(d,{exportData:o}),E=function(e){v.i18n.changeLanguage(e),C.setLang(e),T()},D=v.i18n.language,_=null!=(t=null==S?void 0:S.width)?t:window.innerWidth;return y.default.createElement("div",{className:x.default("".concat(l.prefix,"-header")),ref:A},y.default.createElement("div",{className:"".concat(l.prefix,"-header__title")},y.default.createElement(c.LeftOutlined,{className:"".concat(l.prefix,"-header__icon"),onClick:function(){I(f.ToSubmitFileData(l.ESubmitType.Quit)),i&&i(h)}}),s?y.default.createElement("span",{className:"".concat(l.prefix,"-header__name")},s):"",w.length>1&&y.default.createElement(y.default.Fragment,null,y.default.createElement(g,{stepProgress:b}),y.default.createElement(k,{step:L,stepProgress:b,stepList:w})),P,y.default.createElement("div",{id:"operationNode",className:"".concat(l.prefix,"-header__operationNode"),style:{left:_/2-87}},y.default.createElement(u,{stepInfo:m})),y.default.createElement("div",{className:"".concat(l.prefix,"-header__titlePlacement")}),y.default.createElement("div",{className:"".concat(l.prefix,"-header__lang")},y.default.createElement("span",{className:"".concat(l.prefix,"-langCN ").concat("cn"===D?"active":""),onClick:function(){return E("cn")}},"\u4e2d\u6587")," / ",y.default.createElement("span",{className:"".concat(l.prefix,"-langEN ").concat("en"===D?"active":""),onClick:function(){return E("en")}},"En"))))}));e.exports=L},function(e,t,i){"use strict";var n=i(0),a=i(20),c=i(23),r=i(65),o=i(41),s=i(28);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var d=l(n),u=c.connect((function(e){return{toolInstance:e.annotation.toolInstance,imgList:e.annotation.imgList,onSubmit:e.annotation.onSubmit}}))((function(e){var t=e.imgList,i=e.dispatch,n=(e.onSubmit,e.exportData),c=s.useTranslation().t;if(!n)return null;return d.default.createElement(a.Button,{style:{marginLeft:20},onClick:function(){i({type:r.ANNOTATION_ACTIONS.SUBMIT_FILE_DATA,payload:{submitType:o.ESubmitType.Export}}),n&&n(t)}},c("Export"))}));e.exports=u},,,,,,,function(e,t,i){"use strict";var n=i(22),a=i(0),c=i(23),r=i(340),o=i(341),s=i(342),l=i(343),d=i(344),u=i(345),h=i(346),f=i(347),g=i(41),v=i(73),b=i(47),p=i(28);function m(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var y,x,w=m(a);(x=y||(y={})).Hover="#666fff",x.Normal="#cccccc";e.exports=function(e){var t=a.useState(""),i=n(t,2),m=i[0],x=i[1],k=e.stepInfo,L=c.useDispatch(),C=c.useSelector((function(e){return{annotation:e.annotation,imgAttribute:e.imgAttribute}})).annotation,I=C.toolInstance,O=C.onSave,T=p.useTranslation().t,A=e.isBegin||(null==k?void 0:k.tool)===v.EToolName.Tag,S=a.useCallback((function(){null==I||I.undo()}),[I]),P=a.useCallback((function(){null==I||I.redo()}),[I]),E=[{toolName:"save",title:"Save",show:!!O,commonSvg:h,selectedSvg:f,click:function(){L(b.ChangeSave)},style:{fontSize:"12px",color:A||"save"!==m?y.Normal:y.Hover}},{toolName:"revocation",title:"Undo",show:!0,commonSvg:s,selectedSvg:u,click:function(){S()},style:{opacity:!0===A?.4:1,fontSize:"12px",color:A||"revocation"!==m?y.Normal:y.Hover}},{toolName:"restore",title:"Redo",show:!0,commonSvg:o,selectedSvg:d,click:function(){P()},style:{opacity:!0===A?.4:1,fontSize:"12px",color:A||"restore"!==m?y.Normal:y.Hover}},{toolName:"rotate",title:"Rotate",show:!0,selectedSvg:l,commonSvg:r,click:function(){0!==k.dataSourceStep&&void 0!==k.dataSourceStep||null==I||I.updateRotate()},style:{fontSize:"12px",color:A||"rotate"!==m?y.Normal:y.Hover}}];return w.default.createElement("div",{className:"".concat(g.prefix,"-header__hotKey")},E.map((function(e){return e.show&&w.default.createElement("div",{key:e.toolName,className:"item",onMouseEnter:function(){return x(e.toolName)},onMouseLeave:function(){return x("")}},w.default.createElement("a",{className:"item",onClick:e.click},w.default.createElement("img",{className:"singleTool",src:m===e.toolName?e.selectedSvg:e.commonSvg,style:e.style}),w.default.createElement("div",{style:e.style},T(e.title))))})))}},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_r' xmlns='http://www.w3.org/2000/svg' width='22' height='22' viewBox='0 0 22 22'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22'/%3e %3cg id='reload' transform='translate(1 1)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-2' data-name='%e7%9f%a9%e5%bd%a2' class='cls-1' width='20' height='20'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M14.762%2c2.234l-1.032.84A7.56%2c7.56%2c0%2c0%2c0%2c7.68%2c0%2c7.84%2c7.84%2c0%2c0%2c0%2c0%2c7.99%2c7.845%2c7.845%2c0%2c0%2c0%2c7.68%2c16%2c7.709%2c7.709%2c0%2c0%2c0%2c14.9%2c10.741a.154.154%2c0%2c0%2c0-.09-.2l-1.037-.371a.145.145%2c0%2c0%2c0-.185.091c-.033.1-.07.19-.108.284a6.539%2c6.539%2c0%2c0%2c1-1.348%2c2.084%2c6.3%2c6.3%2c0%2c0%2c1-2%2c1.406%2c6.08%2c6.08%2c0%2c0%2c1-4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1-2-1.406%2c6.539%2c6.539%2c0%2c0%2c1-1.348-2.084%2c6.833%2c6.833%2c0%2c0%2c1%2c0-5.1A6.539%2c6.539%2c0%2c0%2c1%2c3.237%2c3.364a6.3%2c6.3%2c0%2c0%2c1%2c2-1.406%2c6.08%2c6.08%2c0%2c0%2c1%2c4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1%2c2%2c1.406%2c6.489%2c6.489%2c0%2c0%2c1%2c.508.6l-1.1.9a.155.155%2c0%2c0%2c0%2c.055.269l3.212.819a.148.148%2c0%2c0%2c0%2c.181-.147L15%2c2.352a.147.147%2c0%2c0%2c0-.238-.118Z' transform='translate(2 2)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='22.001' height='22.017' viewBox='0 0 22.001 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_next' transform='translate(-0.999)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(1 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.884%2c4.3C12.188-.639%2c6.625-1.322.4%2c2.294A.794.794%2c0%2c0%2c0%2c.39%2c3.665a.765.765%2c0%2c0%2c0%2c.781%2c0C6.8.387%2c11.616.983%2c15.831%2c5.467L12.41%2c9.255l7.109-.016.018-7.875Z' transform='translate(0.99 15.142) rotate(-42)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_back' xmlns='http://www.w3.org/2000/svg' width='22' height='22.017' viewBox='0 0 22 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(0 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.88%2c4.954C12.184%2c9.894%2c6.621%2c10.576.4%2c6.96A.794.794%2c0%2c0%2c1%2c.386%2c5.59a.765.765%2c0%2c0%2c1%2c.781%2c0C6.8%2c8.868%2c11.612%2c8.272%2c15.827%2c3.788L12.406%2c0l7.109.016.018%2c7.875Z' transform='translate(15.814 22.017) rotate(-138)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_rA' xmlns='http://www.w3.org/2000/svg' width='22' height='22' viewBox='0 0 22 22'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22'/%3e %3cg id='reload' transform='translate(1 1)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-2' data-name='%e7%9f%a9%e5%bd%a2' class='cls-1' width='20' height='20'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M14.762%2c2.234l-1.032.84A7.56%2c7.56%2c0%2c0%2c0%2c7.68%2c0%2c7.84%2c7.84%2c0%2c0%2c0%2c0%2c7.99%2c7.845%2c7.845%2c0%2c0%2c0%2c7.68%2c16%2c7.709%2c7.709%2c0%2c0%2c0%2c14.9%2c10.741a.154.154%2c0%2c0%2c0-.09-.2l-1.037-.371a.145.145%2c0%2c0%2c0-.185.091c-.033.1-.07.19-.108.284a6.539%2c6.539%2c0%2c0%2c1-1.348%2c2.084%2c6.3%2c6.3%2c0%2c0%2c1-2%2c1.406%2c6.08%2c6.08%2c0%2c0%2c1-4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1-2-1.406%2c6.539%2c6.539%2c0%2c0%2c1-1.348-2.084%2c6.833%2c6.833%2c0%2c0%2c1%2c0-5.1A6.539%2c6.539%2c0%2c0%2c1%2c3.237%2c3.364a6.3%2c6.3%2c0%2c0%2c1%2c2-1.406%2c6.08%2c6.08%2c0%2c0%2c1%2c4.895%2c0%2c6.239%2c6.239%2c0%2c0%2c1%2c2%2c1.406%2c6.489%2c6.489%2c0%2c0%2c1%2c.508.6l-1.1.9a.155.155%2c0%2c0%2c0%2c.055.269l3.212.819a.148.148%2c0%2c0%2c0%2c.181-.147L15%2c2.352a.147.147%2c0%2c0%2c0-.238-.118Z' transform='translate(2 2)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='22.001' height='22.017' viewBox='0 0 22.001 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_nextA' transform='translate(-0.999)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(1 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.884%2c4.3C12.188-.639%2c6.625-1.322.4%2c2.294A.794.794%2c0%2c0%2c0%2c.39%2c3.665a.765.765%2c0%2c0%2c0%2c.781%2c0C6.8.387%2c11.616.983%2c15.831%2c5.467L12.41%2c9.255l7.109-.016.018-7.875Z' transform='translate(0.99 15.142) rotate(-42)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_backA' xmlns='http://www.w3.org/2000/svg' width='22' height='22.017' viewBox='0 0 22 22.017'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666fff%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='22' height='22' transform='translate(0 0)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M16.88%2c4.954C12.184%2c9.894%2c6.621%2c10.576.4%2c6.96A.794.794%2c0%2c0%2c1%2c.386%2c5.59a.765.765%2c0%2c0%2c1%2c.781%2c0C6.8%2c8.868%2c11.612%2c8.272%2c15.827%2c3.788L12.406%2c0l7.109.016.018%2c7.875Z' transform='translate(15.814 22.017) rotate(-138)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg t='1632896115713' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='1995' width='22' height='22' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cstyle type='text/css'%3e%3c/style%3e%3c/defs%3e%3cpath d='M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184z m456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840z' p-id='1996' fill='%23666666'%3e%3c/path%3e%3cpath d='M512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144z m0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z' p-id='1997' fill='%23666666'%3e%3c/path%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg t='1632896115713' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='1995' width='22' height='22' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cstyle type='text/css'%3e%3c/style%3e%3c/defs%3e%3cpath d='M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184z m456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840z' p-id='1996' fill='%23666fff'%3e%3c/path%3e%3cpath d='M512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144z m0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z' p-id='1997' fill='%23666fff'%3e%3c/path%3e%3c/svg%3e"},function(e,t,i){"use strict";var n=i(20),a=i(68),c=i(0),r=i(23),o=i(349),s=i(41),l=i(350),d=i(47),u=i(28);function h(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var f=h(c),g=r.connect((function(e){return{stepList:e.annotation.stepList,step:e.annotation.step}}))((function(e){e.stepProgress;var t=e.step,i=e.stepList,c=r.useDispatch(),h=u.useTranslation().t;return f.default.createElement("span",{className:"".concat(s.prefix)},f.default.createElement(n.Dropdown,{overlay:f.default.createElement(l,{stepList:i,updateStep:function(e){c(d.UpdateProcessingStep(e))},currentStep:t})},f.default.createElement(o,{text:h("Steps"),Icon:a.OrderedListOutlined,iconChildren:f.default.createElement(a.CaretDownOutlined,{style:{fontSize:8}})})))}));e.exports=g},function(e,t,i){"use strict";var n=i(34),a=i(41);function c(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var r=c(i(0)),o=Object.defineProperty,s=Object.defineProperties,l=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=function(e,t,i){return t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i};e.exports=function(e){var t,i,c=e,o=c.Icon,g=c.text,v=c.iconChildren,b=function(e,t){var i={};for(var a in e)u.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&d){var c,r=n(d(e));try{for(r.s();!(c=r.n()).done;)a=c.value,t.indexOf(a)<0&&h.call(e,a)&&(i[a]=e[a])}catch(o){r.e(o)}finally{r.f()}}return i}(c,["Icon","text","iconChildren"]),p=void 0===e.marginLeft?30:e.marginLeft;return r.default.createElement("div",(t=function(e,t){for(var i in t||(t={}))u.call(t,i)&&f(e,i,t[i]);if(d){var a,c=n(d(t));try{for(c.s();!(a=c.n()).done;)i=a.value,h.call(t,i)&&f(e,i,t[i])}catch(r){c.e(r)}finally{c.f()}}return e}({},b),i={className:a.componentCls},s(t,l(i))),r.default.createElement("div",{className:"".concat(a.componentCls,"__iconWithText"),style:{marginLeft:p}},r.default.createElement("div",{className:"iconGroup"},r.default.createElement(o,{className:"icon"}),v),r.default.createElement("span",{className:"name"},g)))}},function(e,t,i){"use strict";var n=i(41),a=i(40),c=i(0),r=i(28);function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var s=o(c);e.exports=function(e){var t=r.useTranslation().t,i=e.stepList,c=e.updateStep,o=e.currentStep;return s.default.createElement("div",{className:"".concat(n.componentCls,"__annotationStepPopover")},i.map((function(e){var i=e.step===o;return s.default.createElement("div",{key:"stepList".concat(e.step),className:a.classnames({step:!0}),onClick:function(){o&&!i&&c(e.step)}},s.default.createElement("div",{className:a.classnames({name:!0,highlight:i})},"".concat(e.step," - ").concat(e.name||t(e.tool))))})))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTargetElement=function(e,t){return e?"function"===typeof e?e():"current"in e?e.current:e:t}},function(e,t,i){"use strict";var n=i(22),a=i(0);e.exports=function(e){var t=a.useRef(0),i=a.useState(e),c=n(i,2),r=c[0],o=c[1],s=a.useCallback((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){o(e)}))}),[]);return a.useEffect((function(){return function(){return cancelAnimationFrame(t.current)}}),[]),[r,s]}},function(e,t,i){"use strict";var n=i(22),a=i(34),c=i(0),r=i(20),o=i(23),s=i(46),l=i(42),d=i(189),u=i(190),h=i(67),f=i(354),g=i(105);function v(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var b=v(c),p=v(s),m=Object.defineProperty,y=Object.defineProperties,x=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,C=function(e,t,i){return t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},I=function(e,t){for(var i in t||(t={}))k.call(t,i)&&C(e,i,t[i]);if(w){var n,c=a(w(t));try{for(c.s();!(n=c.n()).done;){i=n.value;L.call(t,i)&&C(e,i,t[i])}}catch(r){c.e(r)}finally{c.f()}}return e},O=o.connect((function(e){var t=p.default.pickBy(e.annotation,(function(e,t){return["imgList","imgIndex","stepList","step","toolInstance","annotationEngine","loading"].includes(t)}));return I({imgAttribute:e.imgAttribute,toolStyle:e.toolStyle},t)}))((function(e){var t=c.useState(0),i=n(t,2)[1],a=e.imgAttribute,o=e.toolStyle,s=e.toolInstance,v=e.annotationEngine,p=e.loading,m=e.imgList,w=e.imgIndex,k=c.useRef(null),L=c.useRef(null),C=d(k);c.useEffect((function(){l.store.dispatch(u.InitToolStyleConfig())}),[]),c.useEffect((function(){if(v)switch(g.i18n.language){case"cn":case"en":v.setLang(g.i18n.language)}}),[v]),c.useEffect((function(){s&&(s.singleOn("messageError",(function(e){r.message.error(e)})),s.singleOn("messageInfo",(function(e){r.message.info(e)})),s.singleOn("changeAnnotationShow",(function(){i((function(e){return e+1}))})))}),[s]),c.useEffect((function(){s&&s.setImgAttribute(a)}),[a]),c.useEffect((function(){s&&s.setStyle(o),v&&v.setStyle(o)}),[o]),c.useEffect((function(){(null==s?void 0:s.setSize)&&s.setSize(C),v&&v.setSize(C)}),[C]);var O;return b.default.createElement("div",{ref:k,className:"annotationOperation"},b.default.createElement(r.Spin,{spinning:p,delay:500},b.default.createElement("div",{className:"canvas",ref:L,style:C,id:"toolContainer"})),!0===(null==s?void 0:s.isImgError)&&b.default.createElement(f,(O=I({},C),y(O,x({reloadImage:function(){var e=m[w];e.url&&h.ImgUtils.load(e.url).then((function(e){v.setImgNode(e)}))},backgroundColor:"#e2e2e2",ignoreOffsetY:!0})))))}));e.exports=O},function(e,t,i){"use strict";var n=i(68),a=i(20);function c(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var r=c(i(0));e.exports=function(e){var t=e.width,i=e.height,c=e.reloadImage,o=e.hideSetInvalidTips,s=e.ignoreOffsetY,l=e.backgroundColor,d=e.fileTypeName,u=void 0===d?"\u56fe\u7247":d,h=s?0:40,f=e.layerStyle||{position:"absolute",left:0,top:h,cursor:"initial",zIndex:20,fontSize:12};t&&i?Object.assign(f,{width:t,height:i}):Object.assign(f,{bottom:0,right:0}),l&&Object.assign(f,{backgroundColor:l});return r.default.createElement("div",{style:f},r.default.createElement("div",{style:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -50%)"}},r.default.createElement("div",{style:{textAlign:"center",marginBottom:10}},r.default.createElement(a.Button,{type:"primary",shape:"circle",icon:r.default.createElement(n.ReloadOutlined,null),onClick:c})),r.default.createElement("div",null,"".concat(u,"\u52a0\u8f7d\u5931\u8d25, \u8bf7\u91cd\u65b0\u52a0\u8f7d").concat(o?"":" \u6216 \u5c06".concat(u,"\u6807\u4e3a\u65e0\u6548")))))}},function(e,t,i){"use strict";var n=i(0),a=i(20),c=i(356),r=i(357),o=i(358),s=i(359),l=i(66),d=i(23),u=i(73),h=i(360),f=i(366),g=i(368),v=i(373),b=i(375),p=i(380),m=i(381),y=i(41),x=i(383),w=i(28);function k(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var L=k(n),C=a.Collapse.Panel,I=[{toolName:u.EToolName.Rect,commonSvg:c,selectedSvg:c},{toolName:u.EToolName.Polygon,commonSvg:r,selectedSvg:r},{toolName:u.EToolName.Line,commonSvg:s,selectedSvg:s,pattern:u.EToolName.Line},{toolName:u.EToolName.Point,commonSvg:o,selectedSvg:o,pattern:"drawPoint"}],O="".concat(y.prefix,"-sidebar");e.exports=function(){var e=d.useSelector((function(e){return l.getCurrentStepInfo(e.annotation.step,e.annotation.stepList)})),t=null==e?void 0:e.tool,i=w.useTranslation().t;if(!t)return null;if([u.EToolName.Rect,u.EToolName.Point,u.EToolName.Line,u.EToolName.Rect,u.EToolName.Polygon].includes(t)){var n=null==I?void 0:I.find((function(e){return(null==e?void 0:e.toolName)===t}));return L.default.createElement("div",{className:"".concat(O)},L.default.createElement("div",{className:"".concat(O,"__level")},L.default.createElement(a.Row,{className:"".concat(O,"__toolsOption")},n&&L.default.createElement("a",null,L.default.createElement("img",{className:"".concat(O,"__singleTool"),src:null==n?void 0:n.selectedSvg})))),L.default.createElement("div",{className:"".concat(O,"__horizontal")}),L.default.createElement(f,null),L.default.createElement(v,null),L.default.createElement("div",{className:"".concat(O,"__horizontal")}),L.default.createElement(a.Collapse,{defaultActiveKey:["1","imgAttribute"],bordered:!1,expandIconPosition:"right",className:"".concat(O,"__content"),expandIcon:m.expandIconFuc},function(e){var t=L.default.createElement(b,null);return L.default.createElement(C,{header:i("Style"),className:"panel",key:e},t)}("1"),L.default.createElement(C,{header:L.default.createElement("div",null,i("Adjust"),L.default.createElement(p,null)),className:"panel",key:"imgAttribute"},L.default.createElement(h,null))),L.default.createElement(g,null))}return t===u.EToolName.Tag?L.default.createElement("div",{className:"".concat(O)},L.default.createElement(m.default,null)):t===u.EToolName.Text?L.default.createElement("div",{className:"".concat(O)},L.default.createElement(x.default,null)):null}},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M20 8H8V20H20V8Z' fill='%23666FFF'/%3e%3cpath d='M11 22H17V50H11V22Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M55 22H61V50H55V22Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M50 55L50 61L22 61L22 55L50 55Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M50 11L50 17L22 17L22 11L50 11Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M64 8H52V20H64V8Z' fill='%23666FFF'/%3e%3cpath d='M20 52H8V64H20V52Z' fill='%23666FFF'/%3e%3cpath d='M64 52H52V64H64V52Z' fill='%23666FFF'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M55 22H61V50H55V22Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M50 55L50 61L22 61L22 55L50 55Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M64 8H52V20H64V8Z' fill='%23666FFF'/%3e%3cpath d='M20 52H8V64H20V52Z' fill='%23666FFF'/%3e%3cpath d='M64 52H52V64H64V52Z' fill='%23666FFF'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M50.0005 17.7692L17.7697 50H20.0005H22.0005L22.0005 52V54.2545L54.255 22H52.0005H50.0005V20V17.7692ZM56.255 20L56.6707 19.5843L52.428 15.3417L52.0005 15.7692V20L56.255 20ZM20.0005 56.2545L20.0005 52H15.7697L15.4648 52.3048L19.7075 56.5475L20.0005 56.2545Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M39 8H33V62H39V8Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3cpath d='M64 33H8V39H64V33Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3crect x='28' y='28' width='16' height='16' rx='8' fill='%23666FFF' stroke='white' stroke-width='2'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M64 8H52V20H64V8Z' fill='%23666FFF'/%3e%3cpath d='M20 52H8V64H20V52Z' fill='%23666FFF'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M50.0005 17.7692L17.7697 50H20.0005H22.0005L22.0005 52V54.2545L54.255 22H52.0005H50.0005V20V17.7692ZM56.255 20L56.6707 19.5843L52.428 15.3417L52.0005 15.7692V20L56.255 20ZM20.0005 56.2545L20.0005 52H15.7697L15.4648 52.3048L19.7075 56.5475L20.0005 56.2545Z' fill='%23666FFF' fill-opacity='0.25'/%3e%3c/svg%3e"},function(e,t,i){"use strict";var n=i(20),a=i(23),c=i(46),r=i(0),o=i(191),s=i(42),l=i(361),d=i(362),u=i(363),h=i(364),f=i(365),g=i(28);function v(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var b=v(r);var p=a.connect((function(e){return{imgAttribute:e.imgAttribute}}))((function(e){var t=e.imgAttribute,i=t.contrast,a=t.saturation,v=t.brightness,p=t.zoomRatio,m=t.isOriginalSize,y=g.useTranslation().t,x=c.throttle((function(e){s.store.dispatch(o.default.UpdateImgAttribute(e))}),60,{trailing:!0}),w=[{name:"Saturation",min:-100,max:500,step:2,onChange:function(e){return x({saturation:e})},value:a,svg:l},{name:"Contrast",min:-100,max:300,step:2,onChange:function(e){return x({contrast:e})},value:i,svg:d},{name:"Exposure",min:-100,max:400,step:2,onChange:function(e){return x({brightness:e})},value:v,svg:u},{name:"ScreenRatio",min:.1,max:10,step:.1,onChange:function(e){return x({zoomRatio:e})},value:p,svg:h}];return r.useEffect((function(){return function(){s.store.dispatch(o.default.InitImgAttribute())}}),[]),b.default.createElement("div",null,w.map((function(e,t){return b.default.createElement("div",{className:"imgAttributeController",key:"option_".concat(t)},b.default.createElement(n.Row,{className:"tools",style:{padding:"0px 0"}},b.default.createElement(n.Col,{span:24},b.default.createElement("span",{className:"singleTool"},b.default.createElement("img",{width:12,height:12,src:e.svg}),b.default.createElement("span",{className:"toolName"},y(e.name))))),b.default.createElement(n.Row,null,b.default.createElement(n.Col,{span:20},b.default.createElement(n.Slider,{min:e.min,max:e.max,step:e.step,value:e.value,onChange:e.onChange,trackStyle:{background:"#666fff"}})),b.default.createElement(n.Col,{span:4},b.default.createElement(n.Input,{value:e.value,disabled:!0,style:{fontSize:12,marginBottom:23,padding:"0px 2px",textAlign:"center"}}))))})),b.default.createElement("div",{className:"imgAttributeController"},b.default.createElement(n.Row,{className:"tools",style:{padding:"10px 0"}},b.default.createElement(n.Col,{span:18},b.default.createElement("span",{className:"singleTool"},b.default.createElement("img",{src:f,width:16,style:{marginTop:"-2px"}}),b.default.createElement("span",{className:"toolName"},y("OriginalScale")))),b.default.createElement(n.Col,null,b.default.createElement(n.Switch,{checked:m,onChange:function(e){return x({isOriginalSize:e})}})))))}));e.exports=p},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e9%a5%b1%e5%92%8c%e5%ba%a6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-481.000000%2c -124.000000)'%3e %3cg id='%e9%a5%b1%e5%92%8c%e5%ba%a6' transform='translate(481.000000%2c 124.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg id='%e9%a5%b1%e5%92%8c%e5%ba%a6-(1)' mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cg transform='translate(2.000000%2c 0.000000)'%3e %3cpath d='M6.28551136%2c15.9450284 C2.821875%2c15.9450284 0.0127840909%2c13.1268466 0.0127840909%2c9.67230114 C0.0127840909%2c5.09048295 5.24914773%2c0.00866477273 6.28551136%2c0.00866477273 C7.15823864%2c0.00866477273 12.5582386%2c5.39957386 12.5582386%2c9.67230114 C12.5582386%2c13.1268466 9.74914773%2c15.9450284 6.28551136%2c15.9450284 Z M6.26732955%2c1.21775568 C5.21278409%2c1.96321023 1.14914773%2c5.79957386 1.14914773%2c9.66321023 C1.14914773%2c12.4995739 3.45823864%2c14.8086648 6.29460227%2c14.8086648 C9.13096591%2c14.8086648 11.4400568%2c12.4995739 11.4400568%2c9.66321023 C11.4309659%2c6.2359375 7.30369318%2c2.04502841 6.26732955%2c1.21775568 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3cpath d='M9.20369318%2c6.91775568 C10.7764205%2c8.49048295 10.7764205%2c11.0450284 9.20369318%2c12.6177557 C7.63096591%2c14.190483 5.07642045%2c14.190483 3.50369318%2c12.6177557 L9.20369318%2c6.91775568 Z' id='%e8%b7%af%e5%be%84'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e6%94%be%e5%a4%a7%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-437.000000%2c -125.000000)'%3e %3cg id='%e6%94%be%e5%a4%a7' transform='translate(437.000000%2c 125.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg id='%e5%af%b9%e6%af%94%e5%ba%a6' mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cpath d='M2.25471549%2c13.5345736 L2.28377061%2c13.5698491 C3.71170509%2c15.0309327 5.68912337%2c15.9414593 7.8824479%2c15.9747872 L7.90975417%2c15.9750853 C10.0876767%2c15.988818 12.0717327%2c15.1310159 13.5224026%2c13.7355349 L13.5574794%2c13.6912368 C15.0213452%2c12.2613547 15.9294671%2c10.2834793 15.953216%2c8.07801203 C15.9769053%2c5.87765227 15.1116308%2c3.87626648 13.6789465%2c2.40995617 C12.2489055%2c0.958829251 10.2741105%2c0.0535890334 8.08152127%2c0.0199232337 L8.054215%2c0.0194677151 C5.86069173%2c0.00607137034 3.86417498%2c0.868563587 2.40521788%2c2.28856852 C0.946896739%2c3.72375685 0.0338461956%2c5.70596465 0.0101569293%2c7.90634429 C-0.0134329775%2c10.0976219 0.837115237%2c12.0836653 2.25471549%2c13.5345736 Z M8.67367358%2c1.27768049 C10.286452%2c1.44950722 11.7315969%2c2.17528929 12.8057027%2c3.27521081 L12.8101743%2c3.27525056 L12.8057027%2c3.27521081 C14.0068005%2c4.50975576 14.7514227%2c6.20240594 14.7313703%2c8.06481599 C14.7112582%2c9.93241304 13.9304662%2c11.5989096 12.7029763%2c12.8173769 L12.6725102%2c12.8468295 C11.5832608%2c13.8981403 10.127702%2c14.5878121 8.52895439%2c14.7198719 L8.67367358%2c1.27768049 Z M7.29456842%2c14.7066162 C6.99960518%2c14.6688366 6.70388674%2c14.6358664 6.42424602%2c14.5580416 L7.305479%2c13.6932043 L7.29456842%2c14.7066162 Z M7.31664792%2c12.655169 L5.61932747%2c14.3211687 C5.35725495%2c14.2186411 5.10778228%2c14.1065343 4.87090943%2c13.9751901 L7.32835345%2c11.5672908 L7.31664792%2c12.655169 L7.31664792%2c12.655169 Z M7.33948263%2c10.5341444 L4.20886184%2c13.5905772 C3.99188241%2c13.4490378 3.79237184%2c13.2931298 3.59790914%2c13.1165136 L7.35124779%2c9.44143698 L7.33948263%2c10.5341444 L7.33948263%2c10.5341444 Z M7.36247634%2c8.39823455 L3.0596539%2c12.6145077 C2.88230233%2c12.4284316 2.71542413%2c12.2330349 2.5667501%2c12.0178242 L7.37412224%2c7.31524528 L7.36247634%2c8.39823455 Z M7.38531104%2c6.27721 L2.16071359%2c11.3977495 C2.01426539%2c11.1672561 1.89530231%2c10.9274022 1.79380809%2c10.6783866 L7.3969967%2c5.19414125 L7.38531104%2c6.27721 L7.38531104%2c6.27721 Z M7.40816562%2c4.15584759 L1.5134718%2c9.91983307 C1.42966504%2c9.63568106 1.36076343%2c9.34198971 1.31408045%2c9.04817915 L7.41983141%2c3.0727987 L7.40816562%2c4.15584759 Z M3.26558364%2c3.17250431 C3.94068814%2c2.50868797 4.75868348%2c1.98561613 5.66915047%2c1.65295276 L1.69467882%2c5.54002052 C2.04222748%2c4.64447857 2.58529212%2c3.83556545 3.26558364%2c3.17250431 Z M7.06902349%2c1.30580157 C7.19108684%2c1.29187021 7.32002644%2c1.28326497 7.43928762%2c1.26440497 L7.43109971%2c2.02476702 L1.23742818%2c8.09337428 L1.23929629%2c7.91958009 C1.24287352%2c7.58679748 1.26860978%2c7.25951986 1.31737946%2c6.93695225 L7.06902349%2c1.30580157 L7.06902349%2c1.30580157 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e5%bd%a2%e7%8a%b6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-525.000000%2c -124.000000)'%3e %3cg id='%e6%9b%9d%e5%85%89' transform='translate(525.000000%2c 124.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg mask='url(%23mask-2)' fill-rule='nonzero' id='%e5%bd%a2%e7%8a%b6'%3e %3cpath d='M2.6123501%2c13.1851491 L2.64065558%2c13.2166896 L2.6413572%2c13.2203755 C4.01642052%2c14.6273605 5.88331047%2c15.4443523 7.88790599%2c15.474817 L7.9129068%2c15.4750953 C9.90015586%2c15.4876256 11.7740345%2c14.7236019 13.1304117%2c13.4251429 L13.2081022%2c13.333556 C14.6189485%2c11.9554626 15.4315386%2c10.0884174 15.453245%2c8.0726293 C15.4749051%2c6.06074757 14.701873%2c4.17234442 13.3228152%2c2.76091268 C11.944524%2c1.36229865 10.0794546%2c0.550659153 8.07318152%2c0.519853677 L8.05116145%2c0.519458391 C6.04381797%2c0.507199088 4.15921827%2c1.27912879 2.7559335%2c2.64493708 C1.34678056%2c4.03173715 0.531741066%2c5.90419121 0.510127959%2c7.91172667 C0.488530813%2c9.91789572 1.24972356%2c11.7905061 2.6123501%2c13.1851491 Z' stroke='%23666666'%3e%3c/path%3e %3cpath d='M11.8970207%2c7.47681347 L9.88251295%2c7.47681347 C9.70012953%2c6.78873057 9.16126943%2c6.24158031 8.46489637%2c6.05919689 L8.46489637%2c4.04468912 C8.46489637%2c3.77111399 8.24106218%2c3.54727979 7.96748705%2c3.54727979 C7.69391192%2c3.54727979 7.47007772%2c3.77111399 7.47007772%2c4.04468912 L7.47007772%2c6.05919689 C6.78199482%2c6.24158031 6.23484456%2c6.78044041 6.05246114%2c7.47681347 L4.03795337%2c7.47681347 C3.76437824%2c7.47681347 3.54054404%2c7.70064767 3.54054404%2c7.9742228 C3.54054404%2c8.24779793 3.76437824%2c8.47163212 4.03795337%2c8.47163212 L6.05246114%2c8.47163212 C6.23484456%2c9.15971503 6.77370466%2c9.70686528 7.47007772%2c9.8892487 L7.47007772%2c11.9037565 C7.47007772%2c12.1773316 7.69391192%2c12.4011658 7.96748705%2c12.4011658 C8.24106218%2c12.4011658 8.46489637%2c12.1773316 8.46489637%2c11.9037565 L8.46489637%2c9.8892487 C9.15297927%2c9.70686528 9.70012953%2c9.16800518 9.88251295%2c8.47163212 L11.8970207%2c8.47163212 C12.1705959%2c8.47163212 12.3944301%2c8.24779793 12.3944301%2c7.9742228 C12.3944301%2c7.70064767 12.178886%2c7.47681347 11.8970207%2c7.47681347 Z M7.96748705%2c8.9607513 C7.42862694%2c8.9607513 6.9892487%2c8.52137306 6.9892487%2c7.98251295 C6.9892487%2c7.44365285 7.42862694%2c7.00427461 7.96748705%2c7.00427461 C8.50634715%2c7.00427461 8.94572539%2c7.44365285 8.94572539%2c7.98251295 C8.94572539%2c8.52137306 8.51463731%2c8.9607513 7.96748705%2c8.9607513 L7.96748705%2c8.9607513 Z' fill='%23666666'%3e%3c/path%3e %3cpath d='M10.1643782%2c6.27474093 C10.2887306%2c6.27474093 10.4213731%2c6.225 10.5125648%2c6.12551813 L11.0928756%2c5.54520725 C11.2835492%2c5.35453368 11.2835492%2c5.03950777 11.0928756%2c4.84054404 C10.9022021%2c4.64987047 10.5871762%2c4.64987047 10.3882124%2c4.84054404 L9.80790155%2c5.42085492 C9.61722798%2c5.6115285 9.61722798%2c5.9265544 9.80790155%2c6.12551813 C9.91567358%2c6.225 10.0400259%2c6.27474093 10.1643782%2c6.27474093 Z M5.42240933%2c6.13380829 C5.52189119%2c6.23329016 5.64624352%2c6.28303109 5.77059585%2c6.28303109 C5.89494819%2c6.28303109 6.02759067%2c6.23329016 6.11878238%2c6.13380829 C6.30945596%2c5.94313472 6.30945596%2c5.62810881 6.11878238%2c5.42914508 L5.5384715%2c4.8488342 C5.34779793%2c4.65816062 5.03277202%2c4.65816062 4.83380829%2c4.8488342 C4.64313472%2c5.03950777 4.64313472%2c5.35453368 4.83380829%2c5.55349741 L5.42240933%2c6.13380829 L5.42240933%2c6.13380829 Z M5.42240933%2c9.82292746 L4.84209845%2c10.4032383 C4.65142487%2c10.5939119 4.65142487%2c10.9089378 4.84209845%2c11.1079016 C4.94158031%2c11.2073834 5.06593264%2c11.2571244 5.19028497%2c11.2571244 C5.31463731%2c11.2571244 5.44727979%2c11.2073834 5.5384715%2c11.1079016 L6.11878238%2c10.5275907 C6.30945596%2c10.3369171 6.30945596%2c10.0218912 6.11878238%2c9.82292746 C5.92810881%2c9.63225389 5.6130829%2c9.63225389 5.42240933%2c9.82292746 L5.42240933%2c9.82292746 Z M10.5208549%2c9.82292746 C10.3301813%2c9.63225389 10.0151554%2c9.63225389 9.81619171%2c9.82292746 C9.62551813%2c10.013601 9.62551813%2c10.3286269 9.81619171%2c10.5275907 L10.3965026%2c11.1079016 C10.4959845%2c11.2073834 10.6203368%2c11.2571244 10.7446891%2c11.2571244 C10.8690415%2c11.2571244 11.0016839%2c11.2073834 11.0928756%2c11.1079016 C11.2835492%2c10.917228 11.2835492%2c10.6022021 11.0928756%2c10.4032383 L10.5208549%2c9.82292746 L10.5208549%2c9.82292746 Z' fill='%23666666'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e6%94%be%e5%a4%a7%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-350.000000%2c -125.000000)'%3e %3cg id='%e6%94%be%e5%a4%a7' transform='translate(350.000000%2c 125.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cpath d='M15.6609771%2c14.3520065 L13.3912778%2c12.0823072 C14.3805588%2c10.8144379 14.9758006%2c9.22447711 14.9758007%2c7.49438563 C14.9758007%2c3.36659478 11.617683%2c0.00889542279 7.48989215%2c0.00889542279 C3.3625196%2c0.00889542279 0.00482025735%2c3.36659476 0.00482025735%2c7.49438563 C0.00482025735%2c11.6221765 3.36251961%2c14.9802941 7.48989215%2c14.9802941 C9.15116518%2c14.9805622 10.764591%2c14.4240002 12.0723758%2c13.399536 L14.3420752%2c15.6700719 C14.706368%2c16.0359836 15.2981418%2c16.0378552 15.6647418%2c15.6742549 C16.0284092%2c15.3079133 16.0267247%2c14.7162714 15.6609771%2c14.3520065 L15.6609771%2c14.3520065 Z M1.42997059%2c7.49480392 C1.42997059%2c4.15341829 4.14850654%2c1.43530066 7.48989215%2c1.43530066 C10.8312778%2c1.43530066 13.5498137%2c4.15383662 13.5498137%2c7.49480392 C13.5498137%2c10.8357712 10.8312778%2c13.5547255 7.48989215%2c13.5547255 C4.14850653%2c13.5547255 1.42997059%2c10.8357713 1.42997059%2c7.49480392 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3cpath d='M10.0122451%2c6.78201961 L8.20309478%2c6.78201961 L8.20309478%2c4.97203268 C8.20309478%2c4.59347059 7.88351309%2c4.28685621 7.48989215%2c4.28685621 C7.09627123%2c4.28685621 6.77710783%2c4.5930523 6.77710785%2c4.97203268 L6.77710785%2c6.78201961 L4.96753921%2c6.78201961 C4.58897711%2c6.78201961 4.28194445%2c7.10118301 4.28194445%2c7.49522222 C4.28194445%2c7.88884314 4.58814053%2c8.20842483 4.96753921%2c8.20842483 L6.77710785%2c8.20842483 L6.77710785%2c10.0179935 C6.77710785%2c10.3961372 7.09627125%2c10.7035882 7.48989215%2c10.7035882 C7.88351305%2c10.7035882 8.20309476%2c10.3965556 8.20309478%2c10.0179935 L8.20309478%2c8.20842483 L10.0122451%2c8.20842483 C10.3908072%2c8.20842483 10.6982582%2c7.88926143 10.6982582%2c7.49522222 C10.6982582%2c7.10118301 10.3908072%2c6.78201961 10.0122451%2c6.78201961 Z' id='%e8%b7%af%e5%be%84'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3cg transform='translate(-1838 -1616)'%3e%3crect width='16' height='16' transform='translate(1838 1616)' fill='none'/%3e%3cpath d='M1%2c1V11H11V1H1M1%2c0H11a1%2c1%2c0%2c0%2c1%2c1%2c1V11a1%2c1%2c0%2c0%2c1-1%2c1H1a1%2c1%2c0%2c0%2c1-1-1V1A1%2c1%2c0%2c0%2c1%2c1%2c0Z' transform='translate(1840 1618)' fill='%23707070'/%3e%3cpath d='M9030-7951h-1v-3h3v1h-2Z' transform='translate(-7187 9574)' fill='%23999'/%3e%3cpath d='M9030-7951h-1v-3h3v1h-2Z' transform='translate(10878.999 -6326) rotate(180)' fill='%23999'/%3e%3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";var n=i(22),a=i(0),c=i(23),r=i(192),o=i(66),s=i(40),l=i(28);function d(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u=d(a),h=c.connect((function(e){var t,i,n=o.getCurrentStepInfo(null==(t=e.annotation)?void 0:t.step,null==(i=e.annotation)?void 0:i.stepList);return{toolInstance:e.annotation.toolInstance,stepInfo:n}}))((function(e){var t,i,c=a.useState(0),o=n(c,2),d=(o[0],o[1]),h=a.useRef(null),f=e.toolInstance,g=l.useTranslation().t;if(a.useEffect((function(){return f&&f.singleOn("changeAttributeSidebar",(function(e){var t;d((function(e){return e+1})),h.current&&(null==(t=h.current.children[e])||t.scrollIntoView({block:"center"}))})),function(){f.unbindAll("changeAttributeSidebar")}}),[f,h]),!e.stepInfo)return null;if(!0!==s.jsonParser(e.stepInfo.config).attributeConfigurable)return null;if(!0===(null==f?void 0:f.config.attributeConfigurable)&&(null==(t=null==f?void 0:f.config)?void 0:t.attributeList)){var v=f.config.attributeList.map((function(e){return{label:e.key,value:e.value}}));v.unshift({label:g("NoAttribute"),value:""});return u.default.createElement("div",null,u.default.createElement(r.default,{list:v,attributeChanged:function(e){f.setDefaultAttribute(e),d((function(e){return e+1}))},selectedAttribute:null!=(i=null==f?void 0:f.defaultAttribute)?i:"",ref:h}))}return null}));e.exports=h},function(e,t,i){"use strict";var n=i(34);function a(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=a(i(0)),r=Object.defineProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,d=function(e,t,i){return t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},u=function(e,t){for(var i in t||(t={}))s.call(t,i)&&d(e,i,t[i]);if(o){var a,c=n(o(t));try{for(c.s();!(a=c.n()).done;){i=a.value;l.call(t,i)&&d(e,i,t[i])}}catch(r){c.e(r)}finally{c.f()}}return e};t.ColorTag=function(e){var t=e.color,i=e.style;return c.default.createElement("div",{style:u({display:"inline-block",height:14,width:14,backgroundColor:t,verticalAlign:"middle"},i)})}},function(e,t,i){"use strict";var n=i(22),a=i(34),c=i(0),r=i(20),o=i(369),s=i(370),l=i(371),d=i(372),u=i(68),h=i(42),f=i(23),g=i(66),v=i(40),b=i(47),p=i(28);function m(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var y=m(c),x=Object.defineProperty,w=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,C=function(e,t,i){return t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},I=function(e,t){for(var i in t||(t={}))k.call(t,i)&&C(e,i,t[i]);if(w){var n,c=a(w(t));try{for(c.s();!(n=c.n()).done;){i=n.value;L.call(t,i)&&C(e,i,t[i])}}catch(r){c.e(r)}finally{c.f()}}return e},O=function(e,t,i){return y.default.createElement("div",{key:t},"".concat(i("ConfirmTo")).concat(e.slice(0),"\uff1f"))},T=f.connect((function(e){var t,i,n=g.getCurrentStepInfo(null==(t=e.annotation)?void 0:t.step,null==(i=e.annotation)?void 0:i.stepList);return{toolInstance:e.annotation.toolInstance,stepInfo:n,imgList:e.annotation.imgList,imgIndex:e.annotation.imgIndex}}))((function(e){var t=e.toolInstance,i=e.stepInfo,a=(e.imgList,e.imgIndex,c.useState(null)),f=n(a,2),g=f[0],m=f[1],x=p.useTranslation().t,w=[{name:x("ClearLabel"),key:"sureClear",imgSvg:o,hoverSvg:s,onClick:function(){null==t||t.clearResult()}}],k=v.jsonParser(null==i?void 0:i.config);if(0===(null==i?void 0:i.dataSourceStep)){var L={height:"25px",lineHeight:"25px",display:"flex",justifyContent:"center",alignItems:"center"};w.push({name:x(!0===t.valid?"SetAsInvalid":"SetAsValid"),key:"sureQuestion",imgSvg:y.default.createElement(u.StopOutlined,{style:L}),hoverSvg:y.default.createElement(u.StopOutlined,{style:I({color:"#666fff"},L)}),onClick:function(){t.setValid(!t.valid)}})}(null==k?void 0:k.copyBackwardResult)&&w.unshift({name:x("CopyThePrevious"),key:"sureCopy",imgSvg:l,hoverSvg:d,onClick:function(){h.store.dispatch(b.CopyBackWordResult())}});var C=Math.floor(24/w.length);return y.default.createElement("div",{className:"generalOperation"},w.map((function(e,t){return y.default.createElement(r.Col,{span:C,key:t},y.default.createElement("div",{key:e.key,className:"item",onMouseEnter:function(){m(e.key)},onMouseLeave:function(){m(null)}},y.default.createElement(r.Popconfirm,{title:e.key.startsWith("sure")?O(e.name,e.key,x):e.name,disabled:!e.key.startsWith("sure"),placement:"topRight",okText:x("Confirm"),cancelText:x("Cancel"),onConfirm:e.onClick},y.default.createElement("div",{className:"icon"},function(e){return"string"===typeof e?y.default.createElement("img",{width:23,height:25,src:e}):e}(e.key===g?e.hoverSvg:e.imgSvg)),y.default.createElement("div",{className:"toolName",style:{color:e.key===g?"#666fff":""}},e.name))))})))}));e.exports=T},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='25px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3e%e5%bd%a2%e7%8a%b6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-46.000000%2c -141.000000)' fill-rule='nonzero'%3e %3cg id='%e6%b8%85%e7%a9%ba%e6%a0%87%e6%b3%a8' transform='translate(18.000000%2c 123.000000)'%3e %3cg id='icon_clear_normal' transform='translate(28.000000%2c 18.000000)'%3e %3crect id='icon_clear' fill='black' opacity='0' x='0' y='0.00780487805' width='24' height='24'%3e%3c/rect%3e %3cpath d='M24%2c10.6934683 C24%2c9.29483367 22.8777821%2c8.15502957 21.4955096%2c8.15502957 L15.5587661%2c8.15502957 L15.5587661%2c3.13276778 C15.5587661%2c1.40881408 14.1764936%2c0.00780487805 12.4755955%2c0.00780487805 L11.6485748%2c0.00780487805 C9.94767669%2c0.00780487805 8.56540414%2c1.40881408 8.56540414%2c3.13276778 L8.56540414%2c8.15502957 L2.5021476%2c8.15502957 C1.12221788%2c8.15502957 0%2c9.29245908 0%2c10.6934683 C0%2c11.835647 0.754392815%2c12.7926075 1.78055447%2c13.1108028 L1.78055447%2c21.9680305 C1.78055447%2c23.093587 2.68254588%2c24.0078049 3.79304959%2c24.0078049 L20.3615775%2c24.0078049 C21.4720812%2c24.0078049 22.3740726%2c23.093587 22.3740726%2c21.9680305 L22.3740726%2c13.0609364 C23.3205779%2c12.6999984 24%2c11.7786568 24%2c10.6934683 Z M10.114018%2c3.13276778 C10.114018%2c2.27554011 10.8028114%2c1.5774101 11.6485748%2c1.5774101 L12.4755955%2c1.5774101 C13.3213588%2c1.5774101 14.0101523%2c2.27554011 14.0101523%2c3.13276778 L14.0101523%2c8.15502957 L10.114018%2c8.15502957 L10.114018%2c3.13276778 Z M20.3615775%2c22.4381997 L17.8055447%2c22.4381997 L17.8055447%2c19.2206277 C17.8055447%2c18.7860774 17.4588052%2c18.4370124 17.0324092%2c18.4370124 C16.6060133%2c18.4370124 16.2592737%2c18.788452 16.2592737%2c19.2206277 L16.2592737%2c22.4381997 L12.8527919%2c22.4381997 L12.8527919%2c19.2206277 C12.8527919%2c18.7860774 12.5060523%2c18.4370124 12.0796564%2c18.4370124 C11.6509176%2c18.4370124 11.3065209%2c18.788452 11.3065209%2c19.2206277 L11.3065209%2c22.4381997 L7.89769621%2c22.4381997 L7.89769621%2c19.2206277 C7.89769621%2c18.7860774 7.55095666%2c18.4370124 7.12456072%2c18.4370124 C6.69582194%2c18.4370124 6.35142522%2c18.788452 6.35142522%2c19.2206277 L6.35142522%2c22.4381997 L3.79304959%2c22.4381997 C3.53768059%2c22.4381997 3.32916829%2c22.226861 3.32916829%2c21.9680305 L3.32916829%2c13.2295324 L20.8254588%2c13.2295324 L20.8254588%2c21.9656559 C20.8254588%2c22.226861 20.6169465%2c22.4381997 20.3615775%2c22.4381997 Z M21.4978524%2c11.6599272 L2.5021476%2c11.6599272 C1.97500976%2c11.6599272 1.54861382%2c11.2253769 1.54861382%2c10.6934683 C1.54861382%2c10.1591851 1.9773526%2c9.7246348 2.5021476%2c9.7246348 L21.4955096%2c9.7246348 C22.0226474%2c9.7246348 22.4513862%2c10.1591851 22.4513862%2c10.6934683 C22.4513862%2c11.2277514 22.0226474%2c11.6599272 21.4978524%2c11.6599272 Z' id='%e5%bd%a2%e7%8a%b6' fill='%23666666'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_clear_a%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-166.000000%2c -141.000000)' fill-rule='nonzero'%3e %3cg id='%e6%b8%85%e7%a9%ba%e6%a0%87%e6%b3%a8%e5%a4%87%e4%bb%bd' transform='translate(138.000000%2c 123.000000)'%3e %3cg id='icon_clear' transform='translate(28.000000%2c 18.000000)'%3e %3crect id='icon_clear_active' fill='black' opacity='0' x='0' y='0.00780487805' width='24' height='24'%3e%3c/rect%3e %3cpath d='M24%2c10.6934683 C24%2c9.29483367 22.8777821%2c8.15502957 21.4955096%2c8.15502957 L15.5587661%2c8.15502957 L15.5587661%2c3.13276778 C15.5587661%2c1.40881408 14.1764936%2c0.00780487805 12.4755955%2c0.00780487805 L11.6485748%2c0.00780487805 C9.94767669%2c0.00780487805 8.56540414%2c1.40881408 8.56540414%2c3.13276778 L8.56540414%2c8.15502957 L2.5021476%2c8.15502957 C1.12221788%2c8.15502957 0%2c9.29245908 0%2c10.6934683 C0%2c11.835647 0.754392815%2c12.7926075 1.78055447%2c13.1108028 L1.78055447%2c21.9680305 C1.78055447%2c23.093587 2.68254588%2c24.0078049 3.79304959%2c24.0078049 L20.3615775%2c24.0078049 C21.4720812%2c24.0078049 22.3740726%2c23.093587 22.3740726%2c21.9680305 L22.3740726%2c13.0609364 C23.3205779%2c12.6999984 24%2c11.7786568 24%2c10.6934683 Z M10.114018%2c3.13276778 C10.114018%2c2.27554011 10.8028114%2c1.5774101 11.6485748%2c1.5774101 L12.4755955%2c1.5774101 C13.3213588%2c1.5774101 14.0101523%2c2.27554011 14.0101523%2c3.13276778 L14.0101523%2c8.15502957 L10.114018%2c8.15502957 L10.114018%2c3.13276778 Z M20.3615775%2c22.4381997 L17.8055447%2c22.4381997 L17.8055447%2c19.2206277 C17.8055447%2c18.7860774 17.4588052%2c18.4370124 17.0324092%2c18.4370124 C16.6060133%2c18.4370124 16.2592737%2c18.788452 16.2592737%2c19.2206277 L16.2592737%2c22.4381997 L12.8527919%2c22.4381997 L12.8527919%2c19.2206277 C12.8527919%2c18.7860774 12.5060523%2c18.4370124 12.0796564%2c18.4370124 C11.6509176%2c18.4370124 11.3065209%2c18.788452 11.3065209%2c19.2206277 L11.3065209%2c22.4381997 L7.89769621%2c22.4381997 L7.89769621%2c19.2206277 C7.89769621%2c18.7860774 7.55095666%2c18.4370124 7.12456072%2c18.4370124 C6.69582194%2c18.4370124 6.35142522%2c18.788452 6.35142522%2c19.2206277 L6.35142522%2c22.4381997 L3.79304959%2c22.4381997 C3.53768059%2c22.4381997 3.32916829%2c22.226861 3.32916829%2c21.9680305 L3.32916829%2c13.2295324 L20.8254588%2c13.2295324 L20.8254588%2c21.9656559 C20.8254588%2c22.226861 20.6169465%2c22.4381997 20.3615775%2c22.4381997 Z M21.4978524%2c11.6599272 L2.5021476%2c11.6599272 C1.97500976%2c11.6599272 1.54861382%2c11.2253769 1.54861382%2c10.6934683 C1.54861382%2c10.1591851 1.9773526%2c9.7246348 2.5021476%2c9.7246348 L21.4955096%2c9.7246348 C22.0226474%2c9.7246348 22.4513862%2c10.1591851 22.4513862%2c10.6934683 C22.4513862%2c11.2277514 22.0226474%2c11.6599272 21.4978524%2c11.6599272 Z' id='%e5%bd%a2%e7%8a%b6' fill='%23666FFF'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_invalid%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='24' height='24'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-49.000000%2c -234.000000)'%3e %3cg id='%e6%a0%87%e6%b3%a8%e6%97%a0%e6%95%88' transform='translate(21.000000%2c 215.000000)'%3e %3cg id='icon_invalid' transform='translate(28.000000%2c 19.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg%3e%3c/g%3e %3cpath d='M14.8132711%2c20.5 L3.35714286%2c20.5 C2.91670867%2c20.5 2.57142857%2c20.1826213 2.57142857%2c19.8055556 L2.57142857%2c3.19444444 C2.57142857%2c2.81737868 2.91670867%2c2.5 3.35714286%2c2.5 L20.6428571%2c2.5 C21.0832913%2c2.5 21.4285714%2c2.81737868 21.4285714%2c3.19444444 L21.4285714%2c15.2898676 L23%2c16.4514553 L23%2c3.19444444 C23%2c1.97602093 21.938175%2c1 20.6428571%2c1 L3.35714286%2c1 C2.06182497%2c1 1%2c1.97602093 1%2c3.19444444 L1%2c19.8055556 C1%2c21.0239791 2.06182497%2c22 3.35714286%2c22 L15.9411765%2c22 L14.8132711%2c20.5 Z' id='%e8%b7%af%e5%be%84' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M8.5%2c10 C9.88071187%2c10 11%2c8.88071187 11%2c7.5 C11%2c6.11928813 9.88071187%2c5 8.5%2c5 C7.11928813%2c5 6%2c6.11928813 6%2c7.5 C6%2c8.88071187 7.11928813%2c10 8.5%2c10 Z M8.5%2c8.57142857 C7.90826634%2c8.57142857 7.42857143%2c8.09173366 7.42857143%2c7.5 C7.42857143%2c6.90826634 7.90826634%2c6.42857143 8.5%2c6.42857143 C9.09173366%2c6.42857143 9.57142857%2c6.90826634 9.57142857%2c7.5 C9.57142857%2c8.09173366 9.09173366%2c8.57142857 8.5%2c8.57142857 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M1.93578343%2c18 C4.08872055%2c14.8551688 6.74336715%2c13.7936147 9.20632589%2c14.9383326 C9.39666832%2c15.0267988 9.58966667%2c15.1227541 9.8383972%2c15.2511189 C11.2590222%2c15.9842746 11.4672631%2c16.0801404 12.0929951%2c16.2047792 C13.2715953%2c16.4395429 14.3253377%2c16.0173433 15.3845587%2c14.7865988 C17.834834%2c11.9395412 19.5284667%2c10.6940174 22%2c10.3111164 L21.8385808%2c9 C19.0487146%2c9.43221863 17.1525949%2c10.8266545 14.5357091%2c13.8673024 C13.7408033%2c14.7909303 13.0776295%2c15.056642 12.2992772%2c14.9016031 C11.8197086%2c14.8060784 11.6287028%2c14.7181469 10.3315315%2c14.0487032 C10.0702502%2c13.9138612 9.86453995%2c13.8115857 9.65795075%2c13.7155685 C6.66190483%2c12.3230858 3.4571787%2c13.6046086 1%2c17.1938506 L1.93578343%2c18 Z' id='%e8%b7%af%e5%be%84' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M19.5%2c23 C21.4329966%2c23 23%2c21.4329966 23%2c19.5 C23%2c17.5670034 21.4329966%2c16 19.5%2c16 C17.5670034%2c16 16%2c17.5670034 16%2c19.5 C16%2c21.4329966 17.5670034%2c23 19.5%2c23 Z M19.5%2c22 C18.1192881%2c22 17%2c20.8807119 17%2c19.5 C17%2c18.1192881 18.1192881%2c17 19.5%2c17 C20.8807119%2c17 22%2c18.1192881 22%2c19.5 C22%2c20.8807119 20.8807119%2c22 19.5%2c22 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M21.2928932%2c17.7692308 L21.6464466%2c18.1227842 L21.6464466%2c17.4156774 L21.2928932%2c17.7692308 Z M17.7692308%2c21.2928932 L17.4156774%2c21.6464466 L18.1227842%2c21.6464466 L17.7692308%2c21.2928932 Z M17.7071068%2c21.2307692 L17.3535534%2c20.8772158 L17.3535534%2c21.5843226 L17.7071068%2c21.2307692 Z M21.2307692%2c17.7071068 L21.5843226%2c17.3535534 L20.8772158%2c17.3535534 L21.2307692%2c17.7071068 Z' id='%e7%9f%a9%e5%bd%a2' stroke='%23666666' mask='url(%23mask-2)'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_invalid_a%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='24' height='24'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-166.000000%2c -234.000000)'%3e %3cg id='%e6%a0%87%e6%b3%a8%e6%97%a0%e6%95%88%e5%a4%87%e4%bb%bd' transform='translate(138.000000%2c 215.000000)'%3e %3cg id='icon_invalid' transform='translate(28.000000%2c 19.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='icon_invalid_active'%3e%3c/g%3e %3cpath d='M14.8132711%2c20.5 L3.35714286%2c20.5 C2.91670867%2c20.5 2.57142857%2c20.1826213 2.57142857%2c19.8055556 L2.57142857%2c3.19444444 C2.57142857%2c2.81737868 2.91670867%2c2.5 3.35714286%2c2.5 L20.6428571%2c2.5 C21.0832913%2c2.5 21.4285714%2c2.81737868 21.4285714%2c3.19444444 L21.4285714%2c15.2898676 L23%2c16.4514553 L23%2c3.19444444 C23%2c1.97602093 21.938175%2c1 20.6428571%2c1 L3.35714286%2c1 C2.06182497%2c1 1%2c1.97602093 1%2c3.19444444 L1%2c19.8055556 C1%2c21.0239791 2.06182497%2c22 3.35714286%2c22 L15.9411765%2c22 L14.8132711%2c20.5 Z' id='%e8%b7%af%e5%be%84' fill='%23666FFF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M8.5%2c10 C9.88071187%2c10 11%2c8.88071187 11%2c7.5 C11%2c6.11928813 9.88071187%2c5 8.5%2c5 C7.11928813%2c5 6%2c6.11928813 6%2c7.5 C6%2c8.88071187 7.11928813%2c10 8.5%2c10 Z M8.5%2c8.57142857 C7.90826634%2c8.57142857 7.42857143%2c8.09173366 7.42857143%2c7.5 C7.42857143%2c6.90826634 7.90826634%2c6.42857143 8.5%2c6.42857143 C9.09173366%2c6.42857143 9.57142857%2c6.90826634 9.57142857%2c7.5 C9.57142857%2c8.09173366 9.09173366%2c8.57142857 8.5%2c8.57142857 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%236674FF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M1.93578343%2c18 C4.08872055%2c14.8551688 6.74336715%2c13.7936147 9.20632589%2c14.9383326 C9.39666832%2c15.0267988 9.58966667%2c15.1227541 9.8383972%2c15.2511189 C11.2590222%2c15.9842746 11.4672631%2c16.0801404 12.0929951%2c16.2047792 C13.2715953%2c16.4395429 14.3253377%2c16.0173433 15.3845587%2c14.7865988 C17.834834%2c11.9395412 19.5284667%2c10.6940174 22%2c10.3111164 L21.8385808%2c9 C19.0487146%2c9.43221863 17.1525949%2c10.8266545 14.5357091%2c13.8673024 C13.7408033%2c14.7909303 13.0776295%2c15.056642 12.2992772%2c14.9016031 C11.8197086%2c14.8060784 11.6287028%2c14.7181469 10.3315315%2c14.0487032 C10.0702502%2c13.9138612 9.86453995%2c13.8115857 9.65795075%2c13.7155685 C6.66190483%2c12.3230858 3.4571787%2c13.6046086 1%2c17.1938506 L1.93578343%2c18 Z' id='%e8%b7%af%e5%be%84' fill='%23666FFF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M19.5%2c23 C21.4329966%2c23 23%2c21.4329966 23%2c19.5 C23%2c17.5670034 21.4329966%2c16 19.5%2c16 C17.5670034%2c16 16%2c17.5670034 16%2c19.5 C16%2c21.4329966 17.5670034%2c23 19.5%2c23 Z M19.5%2c22 C18.1192881%2c22 17%2c20.8807119 17%2c19.5 C17%2c18.1192881 18.1192881%2c17 19.5%2c17 C20.8807119%2c17 22%2c18.1192881 22%2c19.5 C22%2c20.8807119 20.8807119%2c22 19.5%2c22 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%236674FF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M21.2928932%2c17.7692308 L21.6464466%2c18.1227842 L21.6464466%2c17.4156774 L21.2928932%2c17.7692308 Z M17.7692308%2c21.2928932 L17.4156774%2c21.6464466 L18.1227842%2c21.6464466 L17.7692308%2c21.2928932 Z M17.7071068%2c21.2307692 L17.3535534%2c20.8772158 L17.3535534%2c21.5843226 L17.7071068%2c21.2307692 Z M21.2307692%2c17.7071068 L21.5843226%2c17.3535534 L20.8772158%2c17.3535534 L21.2307692%2c17.7071068 Z' id='%e7%9f%a9%e5%bd%a2' stroke='%23666FFF' mask='url(%23mask-2)'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";var n=i(22),a=i(0),c=i(20),r=i(374),o=i(193),s=i(23);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var d=l(a);var u=s.connect((function(e){return{toolInstance:e.annotation.toolInstance}}))((function(e){var t,i=e.toolInstance,s=a.useState(0),l=n(s,2)[1];if(a.useEffect((function(){i&&(i.singleOn("selectedChange",(function(){l((function(e){return e+1}))})),i.singleOn("updateTextAttribute",(function(){l((function(e){return e+1}))})),i.singleOn("messageError",(function(e){c.message.error(e)})))}),[i]),!i)return null;var u=i.config;return d.default.createElement("div",null,(null==(t=null==i?void 0:i.config)?void 0:t.textConfigurable)&&i.selectedID&&d.default.createElement(r,{onChange:i.textChange,textValue:i.selectedText,checkString:o.TextUtils.checkString(null==u?void 0:u.textCheckType,null==u?void 0:u.customFormat),textCheckType:u.textCheckType}))}));e.exports=u},function(e,t,i){"use strict";var n=i(22),a=i(73),c=i(193),r=i(20),o=i(0),s=i(158),l=i(159),d=i(40),u=i(28);function h(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var f=h(o);e.exports=function(e){var t=u.useTranslation().t,i=e.onChange,h=e.textValue,g=e.checkString,v=e.textCheckType,b=o.useState(0),p=n(b,2),m=p[0],y=p[1],x=o.useState(!1),w=n(x,2),k=w[0],L=w[1],C=o.useState(!1),I=n(C,2),O=I[0],T=I[1],A=o.useState(!1),S=n(A,2),P=S[0],E=S[1],D=f.default.createElement("a",null,f.default.createElement(r.Tooltip,{placement:"bottom",title:t("EmptyTextInput")},f.default.createElement("img",{onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)},style:{marginLeft:6},src:P?s:l,onClick:function(e){e.stopPropagation(),i("")}})));o.useEffect((function(){h&&y(h.length)}),[]),o.useEffect((function(){var e;if(void 0===h||""===h)L(!1);else try{h&&L(!new RegExp(g).test(h))}catch(i){L(!0),r.message.destroy(),r.message.error(t("RegularExpIncorrectly"))}y(null!=(e=null==h?void 0:h.length)?e:0)}),[h]);return f.default.createElement("div",{className:"textInputContainer"},f.default.createElement("div",{className:"label"},t("TextInput"),D),f.default.createElement("div",{className:d.classnames({textareaContainer:!0,focus:O})},f.default.createElement("div",{className:d.classnames({toolTextAreaBox:!0,toolTextAreaBoxFocus:O})},f.default.createElement(r.Input.TextArea,{style:{resize:"none",height:120,wordBreak:"break-all"},maxLength:a.TEXT_ATTRIBUTE_MAX_LENGTH,onKeyDownCapture:function(e){e.stopPropagation()},onKeyUpCapture:function(e){e.stopPropagation()},onChange:function(e){i(e.target.value),y(e.target.value.length)},onFocus:function(e){return T(!0)},onBlur:function(e){!function(e){if(k)return i(""),r.message.error(c.TextUtils.getErrorNotice(v)),!0;i(e.target.value,!0)}(e),T(!1)},value:h,onKeyDown:function(e){e.stopPropagation()},className:k?"warning":""}),f.default.createElement("div",{className:"textAreaFooter"},f.default.createElement("span",{className:"wordCount"},f.default.createElement("span",{className:m>a.TEXT_ATTRIBUTE_MAX_LENGTH||k?"warning":""},m),"/",f.default.createElement("span",null,a.TEXT_ATTRIBUTE_MAX_LENGTH))))))}},function(e,t,i){"use strict";var n=i(152),a=i(20),c=i(0),r=i(376),o=i(377),s=i(378),l=i(379),d=i(23),u=i(190),h=i(42),f=i(28);function g(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var v=g(c),b=function(e,t){var i=[],n={};switch(e){case"width":i=[{step:1,value:"1"},{step:2,value:"2"},{step:3,value:"3"},{step:4,value:"4"},{step:5,value:"5"}];break;case"color":i=[{step:1,value:"Blue"},{step:3,value:"Cyan"},{step:5,value:"Green"},{step:7,value:"Yellow"},{step:9,value:"Pink"}];break;case"borderOpacity":i=[{step:1,value:"0.2"},{step:3,value:"0.4"},{step:5,value:"0.6"},{step:7,value:"0.8"},{step:9,value:"1.0"}];break;case"fillOpacity":i=[{step:1,value:"0"},{step:3,value:"0.2"},{step:5,value:"0.4"},{step:7,value:"0.6"},{step:9,value:"0.8"}]}return i.forEach((function(e){var i=e.step,a=e.value;n[i]={style:{color:"#999999",fontSize:"12px"},label:v.default.createElement("span",null,t(a))}})),n},p=function(e){switch(e){case"width":return r;case"color":return o;case"borderOpacity":return s;case"fillOpacity":return l}},m=function(e){switch(e){case"width":return 2;case"color":return 1;case"borderOpacity":case"fillOpacity":return 9}},y=function(e){return["width"].includes(e)},x=d.connect((function(e){return{toolStyle:e.toolStyle,config:e.annotation.toolInstance.config}}))((function(e){var t=e.toolStyle,i={width:t.width,color:t.color,borderOpacity:t.borderOpacity,fillOpacity:t.fillOpacity},c=f.useTranslation().t,r=e.config;return v.default.createElement("div",{className:"toolStyle"},Object.entries(i).map((function(e){var i,o=e[0];return!0===(null==r?void 0:r.attributeConfigurable)&&"color"===o?null:v.default.createElement("div",{id:"style-".concat(o),className:"styleSlider",key:o},v.default.createElement("span",{className:"title"},v.default.createElement("img",{src:p(o),className:"icon"}),c(function(e){switch(e){case"width":return"BorderThickness";case"color":return"Color";case"borderOpacity":return"BorderOpacity";case"fillOpacity":return"FillOpacity";default:return""}}(o))),v.default.createElement("span",{className:"slider"},v.default.createElement(a.Slider,{tipFormatter:null,max:y(o)?5:10,min:y(o)?1:0,step:y(o)?1:null,value:null!=(i=t[o])?i:m(o),marks:b(o,c),onChange:function(e){return t=n({},o,e),void h.store.dispatch(u.UpdateToolStyleConfig(t));var t}})))})))}));e.exports=x},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2%2c .cls-4 %7b fill: none%3b %7d .cls-1 %7b stroke: %23707070%3b %7d .cls-3%2c .cls-5 %7b stroke: none%3b %7d .cls-5 %7b fill: %23ccc%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_border' transform='translate(0 -1.609)'%3e %3cg id='%e7%9f%a9%e5%bd%a2_162' data-name='%e7%9f%a9%e5%bd%a2 162' class='cls-1' transform='translate(0 1.609)'%3e %3crect class='cls-3' width='10' height='10'/%3e %3crect class='cls-4' x='0.5' y='0.5' width='9' height='9'/%3e %3c/g%3e %3cg id='%e8%81%94%e5%90%88_2' data-name='%e8%81%94%e5%90%88 2' class='cls-2' transform='translate(10987 5359.61)'%3e %3cpath class='cls-3' d='M-10982.4-5349v-3.6h-3.6v-.8h3.6v-3.6h.8v3.6h3.6v.8h-3.6v3.6Z'/%3e %3cpath class='cls-5' d='M -10981.6005859375 -5349 L -10982.3994140625 -5349 L -10982.3994140625 -5352.6005859375 L -10986.0009765625 -5352.6005859375 L -10986.0009765625 -5353.400390625 L -10982.3994140625 -5353.400390625 L -10982.3994140625 -5357.0009765625 L -10981.6005859375 -5357.0009765625 L -10981.6005859375 -5353.400390625 L -10977.9990234375 -5353.400390625 L -10977.9990234375 -5352.6005859375 L -10981.6005859375 -5352.6005859375 L -10981.6005859375 -5349 Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='12' height='12' viewBox='0 0 12 12'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23fafafa%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-5 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-6 %7b fill: %23999%3b %7d .cls-7 %7b clip-path: url(%23clip-path-3)%3b %7d .cls-8 %7b clip-path: url(%23clip-path-4)%3b %7d .cls-9 %7b clip-path: url(%23clip-path-5)%3b %7d .cls-10 %7b clip-path: url(%23clip-path-6)%3b %7d .cls-11 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_422' data-name='%e8%b7%af%e5%be%84 422' class='cls-1' d='M0-4H12V-16H0Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_424' data-name='%e8%b7%af%e5%be%84 424' class='cls-1' d='M11.759-9.6a.729.729%2c0%2c0%2c0%2c.729.729.729.729%2c0%2c0%2c0%2c.729-.729.729.729%2c0%2c0%2c0-.729-.729A.729.729%2c0%2c0%2c0%2c11.759-9.6Z' transform='translate(-11.759 10.33)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-3'%3e %3cpath id='%e8%b7%af%e5%be%84_426' data-name='%e8%b7%af%e5%be%84 426' class='cls-1' d='M9.031-12.726a.742.742%2c0%2c0%2c0%2c.742.742.742.742%2c0%2c0%2c0%2c.742-.742.742.742%2c0%2c0%2c0-.742-.742.742.742%2c0%2c0%2c0-.742.742Z' transform='translate(-9.031 13.469)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-4'%3e %3cpath id='%e8%b7%af%e5%be%84_428' data-name='%e8%b7%af%e5%be%84 428' class='cls-1' d='M4.727-12.239a.747.747%2c0%2c0%2c0%2c.747.747.747.747%2c0%2c0%2c0%2c.747-.747.747.747%2c0%2c0%2c0-.747-.747A.747.747%2c0%2c0%2c0%2c4.727-12.239Z' transform='translate(-4.727 12.986)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-5'%3e %3cpath id='%e8%b7%af%e5%be%84_430' data-name='%e8%b7%af%e5%be%84 430' class='cls-1' d='M2.362-8.573a.73.73%2c0%2c0%2c0%2c.365.632.73.73%2c0%2c0%2c0%2c.73%2c0%2c.73.73%2c0%2c0%2c0%2c.365-.632.73.73%2c0%2c0%2c0-.365-.632.73.73%2c0%2c0%2c0-.73%2c0%2c.73.73%2c0%2c0%2c0-.365.632Z' transform='translate(-2.362 9.303)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-6'%3e %3cpath id='%e8%b7%af%e5%be%84_432' data-name='%e8%b7%af%e5%be%84 432' class='cls-2' d='M5.887-4.052H5.873A5.888%2c5.888%2c0%2c0%2c1%2c0-10.018a5.922%2c5.922%2c0%2c0%2c1%2c6-5.931%2c5.853%2c5.853%2c0%2c0%2c1%2c6%2c5.335A3.662%2c3.662%2c0%2c0%2c1%2c9.645-7.28a6.77%2c6.77%2c0%2c0%2c1-2.439.232l-.122%2c0a.538.538%2c0%2c0%2c0-.154.408.342.342%2c0%2c0%2c0%2c.009.1.431.431%2c0%2c0%2c0%2c.046.048%2c1.36%2c1.36%2c0%2c0%2c1%2c.387%2c1.083A1.29%2c1.29%2c0%2c0%2c1%2c7-4.47%2c1.682%2c1.682%2c0%2c0%2c1%2c5.887-4.052ZM6-14.939a4.945%2c4.945%2c0%2c0%2c0-4.989%2c4.922A4.916%2c4.916%2c0%2c0%2c0%2c5.883-5.061c.22%2c0%2c.477-.063.477-.355%2c0-.274-.039-.315-.109-.388a1.093%2c1.093%2c0%2c0%2c1-.333-.841A1.319%2c1.319%2c0%2c0%2c1%2c7.077-8.064l.168%2c0A6.391%2c6.391%2c0%2c0%2c0%2c9.28-8.223a2.677%2c2.677%2c0%2c0%2c0%2c1.707-2.391A4.83%2c4.83%2c0%2c0%2c0%2c6-14.939Z' transform='translate(0 15.948)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_borderColor' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_670' data-name='%e7%bb%84 670' class='cls-3' transform='translate(0 -16)'%3e %3cpath id='%e8%b7%af%e5%be%84_421' data-name='%e8%b7%af%e5%be%84 421' class='cls-4' d='M-5-21H14.5V-1.5H-5Z' transform='translate(1.25 17.25)'/%3e %3c/g%3e %3cg id='%e7%bb%84_671' data-name='%e7%bb%84 671' class='cls-5' transform='translate(8.121 -11.61)'%3e %3cpath id='%e8%b7%af%e5%be%84_423' data-name='%e8%b7%af%e5%be%84 423' class='cls-6' d='M6.759-15.33H14.9v8.145H6.759Z' transform='translate(-10.103 11.986)'/%3e %3c/g%3e %3cg id='%e7%bb%84_672' data-name='%e7%bb%84 672' class='cls-7' transform='translate(6.765 -13.853)'%3e %3cpath id='%e8%b7%af%e5%be%84_425' data-name='%e8%b7%af%e5%be%84 425' class='cls-6' d='M4.031-18.469h8.291v8.291H4.031Z' transform='translate(-7.434 15.066)'/%3e %3c/g%3e %3cg id='%e7%bb%84_673' data-name='%e7%bb%84 673' class='cls-8' transform='translate(3.702 -13.515)'%3e %3cpath id='%e8%b7%af%e5%be%84_427' data-name='%e8%b7%af%e5%be%84 427' class='cls-6' d='M-.273-17.986H8.073V-9.64H-.273Z' transform='translate(-3.152 14.56)'/%3e %3c/g%3e %3cg id='%e7%bb%84_674' data-name='%e7%bb%84 674' class='cls-9' transform='translate(2.723 -10.881)'%3e %3cpath id='%e8%b7%af%e5%be%84_429' data-name='%e8%b7%af%e5%be%84 429' class='cls-6' d='M-2.638-14.3H5.512v8.149H-2.638Z' transform='translate(-0.707 10.958)'/%3e %3c/g%3e %3cg id='%e7%bb%84_675' data-name='%e7%bb%84 675' class='cls-10' transform='translate(0 -15.948)'%3e %3cpath id='%e8%b7%af%e5%be%84_431' data-name='%e8%b7%af%e5%be%84 431' class='cls-11' d='M-5-20.948H14.5V-1.568H-5Z' transform='translate(1.25 17.207)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='10.001' height='10.001' viewBox='0 0 10.001 10.001'%3e%3cg transform='translate(1.001 1)'%3e%3cg transform='translate(0 -1)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(0 7.334)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(9 0.334) rotate(90)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(0.666 0.334) rotate(90)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(-1 -1)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(-1 7.333)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(7.333 -1)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(7.333 7.333)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='9.999' height='9.999' viewBox='0 0 9.999 9.999'%3e%3cg transform='translate(0 0)'%3e%3crect width='3.333' height='3.333' transform='translate(0 0)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(0 6.667)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(6.666 0)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(3.333 3.333)' fill='%23707070'/%3e%3crect width='3.333' height='3.333' transform='translate(6.666 6.667)' fill='%23ccc'/%3e%3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";var n=i(22),a=i(20),c=i(0),r=i(159),o=i(191),s=i(42),l=i(158),d=i(28);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var h=u(c);e.exports=function(){var e=c.useState(!1),t=n(e,2),i=t[0],u=t[1],f=d.useTranslation().t;return h.default.createElement(a.Tooltip,{placement:"bottom",title:f("RestoreImageAttributes")},h.default.createElement("img",{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},style:{marginLeft:6},src:i?l:r,onClick:function(e){e.stopPropagation(),s.store.dispatch(o.InitImgAttribute())}}))}},function(e,t,i){"use strict";var n=i(22);Object.defineProperty(t,"__esModule",{value:!0});var a=i(192),c=i(382),r=i(68),o=i(20),s=i(46),l=i(0),d=i(159),u=i(158),h=i(67),f=i(23),g=i(28);function v(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var b=v(l),p=o.Collapse.Panel,m=function(e){var t=e.isActive;return b.default.createElement(r.CaretRightOutlined,{rotate:t?90:0})};var y=f.connect((function(e){return{toolInstance:e.annotation.toolInstance,imgIndex:e.annotation.imgIndex}}))((function(e){var t=e.toolInstance,i=e.imgIndex,r=l.useState([]),f=n(r,2),v=f[0],y=f[1],x=l.useRef(null),w=l.useState(0),k=n(w,2)[1],L=l.useState(-1),C=n(L,2),I=C[0],O=C[1],T=g.useTranslation().t;l.useEffect((function(){t&&(y(t.config.inputList.map((function(e){return e.value}))),t.singleOn("render",(function(){k((function(e){return e+1}))})))}),[t]),l.useEffect((function(){if(t&&(t.singleOn("expend",A),1===t.labelSelectedList.length)){for(var e=0,i=0;i<t.labelSelectedList[0];i++)e+=46,E[i]&&""!==v[i]&&E[i].subSelected.forEach((function(t){e+=40}));x.current&&(x.current.children[0].scrollTop=e)}})),l.useEffect((function(){x.current&&(x.current.children[0].scrollTop=0)}),[i]);var A=function(){var e,i=t.labelSelectedList[0],n=null==(e=E.filter((function(e,t){return t===i}))[0])?void 0:e.value;S(i,n,!0)},S=l.useCallback((function(e,t,i){var n=s.cloneDeep(v);""===n[e]||!0===i?n[e]=t:n[e]="",y(n)}),[v]);if(!t)return null;var P=t.labelSelectedList,E=t.config.inputList,D=t.currentTagResult,_=t.setLabel,R=function(e){return P.length>0&&P[0]===e?b.default.createElement("span",{className:"keyDownIconActive"},e+1):b.default.createElement("span",{className:"keyDownIcon"},e+1)},N=window.innerHeight-61-80;return b.default.createElement("div",{className:"tagOperationMenu",ref:x},0===(null==E?void 0:E.length)?b.default.createElement("div",{style:{padding:20,textAlign:"center"}},T("NoConfiguration")):b.default.createElement("div",{className:"main",style:{height:N}},function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return i?i.map((function(i,r){var s,l,f,g,y;if(i.subSelected){var x=h.TagUtils.judgeResultIsInInputList(i.value,null==(s=null==D?void 0:D.result)?void 0:s[i.value],E);return b.default.createElement(o.Collapse,{bordered:!1,expandIcon:m,key:"collapse_".concat(r,"_").concat(n+1),onChange:function(){return S(r,i.value)},activeKey:[v[r]]},b.default.createElement(p,{header:b.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},b.default.createElement("span",null,i.key,b.default.createElement(o.Tooltip,{placement:"bottom",title:T("ClearThisOption")},b.default.createElement("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(e){e.stopPropagation(),t.clearResult(!0,i.value)},src:I===r||x?u:d,onMouseEnter:function(){O(r)},onMouseLeave:function(){O(-1)}})),x&&""===v[r]&&b.default.createElement(o.Badge,{color:"#87d068"})),(null==E?void 0:E.length)>1&&R(r)),key:i.value},b.default.createElement("div",{className:"level",style:{backgroundColor:P.length>0&&P[0]===r?"rgba(158, 158, 158, 0.18)":""}},e(i.subSelected,r))))}var w=(null==E?void 0:E[n])?null==E?void 0:E[n].value:0,k=(null==(g=null==(f=null==(l=null==D?void 0:D.result)?void 0:l[w])?void 0:f.split(";"))?void 0:g.indexOf(i.value))>-1?i.value:"";return!0===(null==(y=null==E?void 0:E[n])?void 0:y.isMulti)?b.default.createElement("div",{className:"singleBar",key:"".concat(w,"_").concat(n,"_").concat(r)},b.default.createElement(c,{attributeChanged:function(){return _(n,r)},selectedAttribute:[k],list:[{value:i.value,label:i.key}],num:r+1})):b.default.createElement("div",{className:"singleBar",key:"".concat(w,"_").concat(n,"_").concat(r)},b.default.createElement(a.default,{forbidColor:!0,attributeChanged:function(){return _(n,r)},selectedAttribute:k,list:[{value:i.value,label:i.key}],num:r+1}))})):null}(E)))}));t.default=y,t.expandIconFuc=m},function(e,t,i){"use strict";var n=i(20);function a(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c=a(i(0));e.exports=function(e){var t=c.default.useRef(null),i=e.list||[];return c.default.createElement("div",{className:"sensebee-checkbox-group"},c.default.createElement(n.Checkbox.Group,{name:"checkboxgroup",value:e.selectedAttribute,onChange:function(){return e.attributeChanged()}},i.map((function(i,a){var r;return c.default.createElement(n.Checkbox,{value:i.value,ref:t,onFocus:function(){var e;null==(e=null==t?void 0:t.current)||e.blur()},key:a},c.default.createElement("span",{className:"sensebee-checkbox-label",title:i.label},i.label),c.default.createElement("span",{className:"sensebee-checkbox-num"},null!=(r=null==e?void 0:e.num)?r:a))}))))}},function(e,t,i){"use strict";var n=i(22),a=i(34);Object.defineProperty(t,"__esModule",{value:!0});var c=i(0),r=i(23),o=i(46),s=i(40),l=i(20),d=i(67),u=i(47),h=i(172),f=i(28);function g(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var v=g(c),b=Object.defineProperty,p=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,x=function(e,t,i){return t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},w=d.cKeyCode.default,k=function(e){e.stopPropagation(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},L=function(e){var t=e.textareaProps,i=e.footer;return v.default.createElement(v.default.Fragment,null,v.default.createElement(l.Input.TextArea,function(e,t){for(var i in t||(t={}))m.call(t,i)&&x(e,i,t[i]);if(p){var n,c=a(p(t));try{for(c.s();!(n=c.n()).done;)i=n.value,y.call(t,i)&&x(e,i,t[i])}catch(r){c.e(r)}finally{c.f()}}return e}({bordered:!1,rows:6,onKeyDown:k,onKeyUp:k},t)),v.default.createElement("div",{className:s.classnames({textAreaLength:!0})},i))},C=function(e){var t,i=c.useRef(null),a=c.useState(!1),r=n(a,2),o=r[0],l=r[1],d=c.useState(!1),u=n(d,2),h=u[0],g=u[1],b=f.useTranslation().t,p=e.disabled,m=e.config,y=e.result,x=e.updateText,k=e.index,C=e.switchToNextTextarea,I=e.hasMultiple,O=e.onNext,T=m.maxLength,A=y?y[m.key]:"",S=null!=(t=null==A?void 0:A.length)?t:0,P=function(e){x&&(x(e,m.key),m.required&&g(!e))},E=I&&C,D={id:"textInput-".concat(k),ref:i,disabled:p,value:A,maxLength:T,autoSize:{minRows:2,maxRows:6},onChange:function(e){var t=e.target.value;P(t)},onFocus:function(){l(!0)},onBlur:function(e){l(!1),m.required&&g(!e.target.value)},style:{resize:"none",wordBreak:"break-all"},onKeyDownCapture:function(e){e.ctrlKey&&e.keyCode===w.Enter&&(O&&O(),e.preventDefault()),e.keyCode===w.Tab&&E&&(e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),C(k)),e.nativeEvent.stopPropagation()}},_=v.default.createElement("div",{className:"textAreaFooter"},v.default.createElement("div",{className:"hotkeyTip"},E&&v.default.createElement("span",null,"[".concat(b("Switch"),"]Tab")),v.default.createElement("span",null,"[".concat(b("TurnPage"),"]Ctrl+Enter"))),v.default.createElement("div",{className:"wordCount"},v.default.createElement("span",{className:S>=T?"warning":""},S),"/",v.default.createElement("span",null,T)));return c.useEffect((function(){p&&l(!1)}),[p]),v.default.createElement("div",{className:"textField"},v.default.createElement("div",{className:"label"},v.default.createElement("span",{className:s.classnames({required:m.required})},m.label),v.default.createElement("i",{className:s.classnames({clearText:!0,disabled:p}),onClick:function(){p||P("")}})),v.default.createElement("div",{className:s.classnames({disabled:p,"textarea-outline":!0,"ant-input-focused":o,textareaContainer:!0,focus:o,invalid:h})},v.default.createElement(L,{footer:_,textareaProps:D})))};var I=r.connect((function(e){return{toolInstance:e.annotation.toolInstance,imgIndex:e.annotation.imgIndex,step:e.annotation.step,basicResultList:e.annotation.basicResultList,stepList:e.annotation.stepList,triggerEventAfterIndexChanged:e.annotation.triggerEventAfterIndexChanged}}))((function(e){var t,i,a=e.toolInstance,r=e.imgIndex,s=e.dispatch,l=e.triggerEventAfterIndexChanged,d=e.step,f=e.stepList,g=e.basicResultList,b=c.useState([]),p=n(b,2),m=p[0],y=p[1],x=c.useState(0),w=n(x,2),k=w[0],L=w[1],I=c.useState(0),O=n(I,2)[1],T=function(e){var t=(e+1)%m.length;A(t)},A=function(e){setTimeout((function(){var t=document.getElementById("textInput-".concat(e));t&&(L(e),t.focus(),t.select(),t.scrollIntoView({behavior:"smooth",block:"center"}))}))};c.useEffect((function(){a&&(y(o.cloneDeep(a.config.configList)),a.singleOn("valueUpdated",(function(){O((function(e){return e+1}))})))}),[a]);var S=function(e,t){a.updateTextValue(t,e)};c.useEffect((function(){r>-1&&l&&A(0)}),[r]);var P=null!=(i=null==(t=a.textList[0])?void 0:t.value)?i:{},E=function(){s(u.PageForward(!0))},D=h.ConfigUtils.getStepConfig(f,d).dataSourceStep>0&&0===g.length;return v.default.createElement("div",{className:"textToolOperationMenu"},m.map((function(e,t){return v.default.createElement(C,{config:e,key:e.key,index:t,result:P,updateText:S,switchToNextTextarea:T,hasMultiple:m.length>1,focus:k===t,onNext:E,disabled:D})})))}));t.SingleTextInput=C,t.TextareaWithFooter=L,t.default=I},function(e,t,i){"use strict";var n=i(22),a=i(0),c=i(23),r=i(20),o=i(28);function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var l=s(a),d=c.connect((function(e){var t;return{toolInstance:null==(t=e.annotation)?void 0:t.toolInstance}}))((function(e){var t=e.toolInstance,i=a.useState(0),c=n(i,2),s=(c[0],c[1]),d=o.useTranslation().t;return a.useEffect((function(){t&&t.singleOn("hiddenChange",(function(){s((function(e){return e+1}))}))}),[t]),t&&t.isHidden?l.default.createElement("span",null,d("HideDrawnAnnotation"),l.default.createElement(r.Divider,{type:"vertical",style:{background:"rgba(153, 153, 153, 1)",height:"16px"}})):null}));e.exports=d},function(e,t,i){"use strict";var n=i(22),a=i(0),c=i(23),r=i(20),o=i(28);function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var l=s(a),d=c.connect((function(e){var t;return{toolInstance:null==(t=e.annotation)?void 0:t.toolInstance}}))((function(e){var t,i=e.toolInstance,c=a.useState(0),s=n(c,2),d=(s[0],s[1]),u=o.useTranslation().t;if(a.useEffect((function(){i&&i.singleOn("updatePageNumber",(function(){d((function(e){return e+1}))}))}),[i]),!i)return null;var h=null==(t=null==i?void 0:i.currentPageResult)?void 0:t.length;return h>=0?l.default.createElement("span",null,"".concat(u("ItemsOfThisPage"),": ").concat(h),l.default.createElement(r.Divider,{type:"vertical",style:{background:"rgba(153, 153, 153, 1)",height:"16px"}})):null}));e.exports=d},function(e,t,i){"use strict";var n=i(0),a=i(387),c=i(388),r=i(68),o=i(23),s=i(389),l=i(160);function d(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u=d(n),h=o.connect((function(e){return{toolInstance:e.annotation.toolInstance}}))((function(e){var t=e.toolInstance,i=e.mode,n=a;return"light"===i&&(n=c),u.default.createElement("div",null,u.default.createElement("span",{className:"".concat(l.footerCls,"__zoomController")},u.default.createElement(r.MinusOutlined,{className:"".concat(l.footerCls,"__highlight"),onClick:function(){t.zoomChanged(!1)}}),u.default.createElement("span",{className:"".concat(l.footerCls,"__zoomText"),onClick:function(){t.initImgPos()}},u.default.createElement("img",{src:n,className:"adaptIcon"}),u.default.createElement(s,null)),u.default.createElement(r.PlusOutlined,{className:"".concat(l.footerCls,"__highlight"),onClick:function(){t.zoomChanged(!0)}})))}));e.exports=h},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_adapt' transform='translate(-1021.825 -996)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_200' data-name='%e7%9f%a9%e5%bd%a2 200' class='cls-1' width='16' height='16' transform='translate(1021.825 996)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_191' data-name='%e7%9f%a9%e5%bd%a2 191' class='cls-2' width='8' height='7' transform='translate(1025.825 1000.167)'/%3e %3cpath id='%e8%81%94%e5%90%88_5' data-name='%e8%81%94%e5%90%88 5' class='cls-2' d='M3%2c4V1H0V0H4V4Z' transform='translate(1033.825 997)'/%3e %3cpath id='%e8%81%94%e5%90%88_7' data-name='%e8%81%94%e5%90%88 7' class='cls-2' d='M0%2c4V3H3V0H4V4Z' transform='translate(1025.825 1001.001) rotate(180)'/%3e %3cpath id='%e8%81%94%e5%90%88_8' data-name='%e8%81%94%e5%90%88 8' class='cls-2' d='M3%2c4V1H0V0H4V4Z' transform='translate(1025.825 1010.335) rotate(180)'/%3e %3cpath id='%e8%81%94%e5%90%88_6' data-name='%e8%81%94%e5%90%88 6' class='cls-2' d='M0%2c4V0H4V1H1V4Z' transform='translate(1037.824 1010.335) rotate(180)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12 4.16699H4V11.167H12V4.16699Z' fill='%23707070'/%3e%3cpath d='M15 5V2H12V1H16V5H15Z' fill='%23707070'/%3e%3cpath d='M4 1.00098V2.00098L1 2.00098L1 5.00098L0 5.00098L0 1.00098L4 1.00098Z' fill='%23707070'/%3e%3cpath d='M1 10.335L1 13.335H4V14.335H0L0 10.335H1Z' fill='%23707070'/%3e%3cpath d='M16 10.335V14.335H12V13.335H15V10.335H16Z' fill='%23707070'/%3e%3c/svg%3e"},function(e,t,i){"use strict";var n=i(22),a=i(0),c=i(23),r=i(390);function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var s=o(a),l=c.connect((function(e){return{toolInstance:e.annotation.toolInstance}}))((function(e){var t,i=e.toolInstance,c=r(0),o=n(c,2)[1];a.useEffect((function(){i&&i.singleOn("renderZoom",(function(){o((function(e){return e+1}))}))}),[i]);var l=null!=(t=null==i?void 0:i.zoom)?t:1;return s.default.createElement("span",{className:"zoomValue"},(100*l).toFixed(1),"%")}));e.exports=l},function(e,t,i){"use strict";var n=i(22),a=i(0),c=i(391);function r(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var o=r(a);e.exports=function(e){var t=c(),i=o.default.useState(e),a=n(i,2),r=a[0],s=a[1];return[r,o.default.useCallback((function(e){t.current||s(e)}),[])]}},function(e,t,i){"use strict";var n=i(0);e.exports=function(){var e=n.useRef(!1);return n.useEffect((function(){return e.current=!1,function(){e.current=!0}}),[]),e}},function(e,t,i){"use strict";var n=i(0),a=i(393);function c(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var r=c(n);e.exports=function(){return r.default.createElement("div",{className:"tipsBar"},r.default.createElement(a,null))}},function(e,t,i){"use strict";var n,a=i(22),c=i(152),r=i(20),o=i(0),s=i(23),l=i(394),d=i(395),u=i(73),h=i(396),f=i(416),g=i(420),v=i(426),b=i(433),p=i(435),m=i(66),y=i(160),x=i(28);function w(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var k=w(o),L=(c(n={},u.EToolName.Rect,h.default),c(n,u.EToolName.Tag,b.default),c(n,u.EToolName.Point,f.default),c(n,u.EToolName.Polygon,g.default),c(n,u.EToolName.Line,v.default),c(n,u.EToolName.Text,p),n);e.exports=function(e){e.isSingleImg;var t,i=e.style,n=o.useState(!1),c=a(n,2),u=c[0],h=c[1],f=x.useTranslation().t,g=s.useSelector((function(e){var t,i;return m.getCurrentStepInfo(null==(t=null==e?void 0:e.annotation)?void 0:t.step,null==(i=e.annotation)?void 0:i.stepList)})),v={width:320,display:"flex",justifyContent:"space-between",margin:"23px 21px"},b={marginRight:10},p={display:"block",padding:"0 3px",minWidth:"20px",marginRight:"3px",border:"1px solid rgba(204,204,204,1)",verticalAlign:"middle",fontSize:"12px",textAlign:"center"},w=function(e,t){return k.default.createElement("div",{style:v,key:t},k.default.createElement("span",{style:{display:"flex",alignItems:"center"}},function(e){return"string"===typeof e?k.default.createElement("img",{width:16,height:16,src:e,style:b}):e}(e.icon),f(e.name)),k.default.createElement("span",{style:{display:"flex",alignItems:"center"}},e.noticeInfo&&k.default.createElement("span",{style:{marginRight:"5px",color:"#CCCCCC"}},f(e.noticeInfo)),C(e.shortCut,e.shortCutUseHtml,e.linkSymbol)))},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=e.map((function(n,a){return t?k.default.createElement("span",{key:a,style:{display:"flex"}},k.default.createElement("span",{style:p,dangerouslySetInnerHTML:{__html:n}})):a<e.length-1?"number"===typeof n?k.default.createElement("span",{key:a,style:{display:"flex"}},k.default.createElement("span",{style:p},n),k.default.createElement("span",{style:{marginRight:"3px"}},"~")):(null==n?void 0:n.startsWith("data"))?k.default.createElement("span",{key:a,style:{display:"flex"}},k.default.createElement("span",{className:"shortCutButton",style:{marginRight:"3px"}},k.default.createElement("img",{width:16,height:23,src:n})),k.default.createElement("span",{style:{marginRight:"3px"}},"+")):k.default.createElement("span",{key:a,style:{display:"flex"}},k.default.createElement("span",{style:p},n),k.default.createElement("span",{style:{marginRight:"3px"}},i||"+")):"number"===typeof n?k.default.createElement("span",{key:a,style:{display:"flex"}},k.default.createElement("span",{style:p},n)):(null==n?void 0:n.startsWith("data"))?k.default.createElement("span",{className:"shortCutButton",key:a,style:{marginRight:"3px"}},k.default.createElement("img",{width:16,height:23,src:n})):k.default.createElement("span",{style:p,key:a},n)}));return k.default.createElement("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center"}},n)},I=k.default.createElement("div",{className:"".concat(y.footerCls,"__hotkey-content")},g&&(null==(t=L[null==g?void 0:g.tool])?void 0:t.map((function(e,t){return w(e,t)})))),O=i||{width:600};return g&&!L[null==g?void 0:g.tool]?null:k.default.createElement(r.Popover,{placement:"topLeft",content:I,onMouseMove:function(){return h(!0)},onMouseLeave:function(){h(!1)},overlayClassName:"tool-hotkeys-popover"},k.default.createElement("div",{className:"shortCutTitle",onMouseMove:function(){return h(!0)},onMouseLeave:function(){return h(!1)},style:O},k.default.createElement("a",{className:"svg"},k.default.createElement("img",{src:u?d:l,width:15,height:13,style:{marginRight:"5px"}}),f("Hotkeys"))))}},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3crect width='16' height='16' fill='none'/%3e%3cg transform='translate(1 2)'%3e%3cpath d='M2%2c12a2.071%2c2.071%2c0%2c0%2c1-1.412-.54A1.791%2c1.791%2c0%2c0%2c1%2c0%2c10.151v-8.3A1.935%2c1.935%2c0%2c0%2c1%2c2.006%2c0h9.988A1.935%2c1.935%2c0%2c0%2c1%2c14%2c1.849v8.3a1.77%2c1.77%2c0%2c0%2c1-.588%2c1.308A2.075%2c2.075%2c0%2c0%2c1%2c12%2c12H2Zm1-3.692a.926.926%2c0%2c1%2c0%2c0%2c1.846H11a.926.926%2c0%2c1%2c0%2c0-1.846Zm7.273-3.692C10.2%2c4.616%2c10%2c4.67%2c10%2c4.8V6.221c0%2c.078%2c0%2c.241.268.241H11.8c.2%2c0%2c.2-.144.2-.213V4.828a.226.226%2c0%2c0%2c0-.236-.212Zm-4%2c0C6.2%2c4.616%2c6%2c4.67%2c6%2c4.8V6.221c0%2c.078%2c0%2c.241.268.241H7.8c.2%2c0%2c.2-.144.2-.213V4.828a.226.226%2c0%2c0%2c0-.236-.212Zm-4%2c0C2.2%2c4.616%2c2%2c4.67%2c2%2c4.8V6.221c0%2c.078%2c0%2c.241.268.241H3.8c.2%2c0%2c.2-.144.2-.213V4.828a.226.226%2c0%2c0%2c0-.236-.212Zm8-2.77c-.065%2c0-.268.054-.268.18V3.451c0%2c.078%2c0%2c.241.268.241H11.8c.2%2c0%2c.2-.143.2-.212V2.059a.226.226%2c0%2c0%2c0-.236-.213Zm-4%2c0C6.2%2c1.846%2c6%2c1.9%2c6%2c2.026V3.451c0%2c.078%2c0%2c.241.268.241H7.8c.2%2c0%2c.2-.143.2-.212V2.059a.226.226%2c0%2c0%2c0-.236-.213Zm-4%2c0C2.2%2c1.846%2c2%2c1.9%2c2%2c2.026V3.451c0%2c.078%2c0%2c.241.268.241H3.8c.2%2c0%2c.2-.143.2-.212V2.059a.226.226%2c0%2c0%2c0-.236-.213Z' fill='white'/%3e%3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='17' height='15' viewBox='0 0 17 15'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666fff%3b stroke-miterlimit: 10%3b %7d .cls-2%2c .cls-3 %7b stroke: none%3b %7d .cls-3 %7b fill: white%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_kj_h' transform='translate(1 1)'%3e %3cg id='%e5%9b%be%e6%a0%87_%e8%ae%be%e7%bd%ae_%e5%bf%ab%e6%8d%b7%e9%94%ae'%3e %3cg id='%e5%bd%a2%e7%8a%b6' class='cls-1'%3e %3cpath class='cls-2' d='M 2.142650127410889 13.49960994720459 L 2.14231014251709 13.49960994720459 L 2.141970157623291 13.49960994720459 C 1.443660259246826 13.49962043762207 0.7852402329444885 13.24412059783936 0.2880001962184906 12.78017997741699 C -0.2126297950744629 12.31418991088867 -0.4999997913837433 11.66413974761963 -0.4999997913837433 10.99709987640381 L -0.4999997913837433 2.003400325775146 C -0.4999997913837433 0.6230202317237854 0.6884301900863647 -0.4999997913837433 2.149200201034546 -0.4999997913837433 L 12.85109996795654 -0.4999997913837433 C 14.31187057495117 -0.4999997913837433 15.50030040740967 0.6230202317237854 15.50030040740967 2.003400325775146 L 15.50030040740967 10.99709987640381 C 15.49915027618408 11.6742000579834 15.21883010864258 12.30697059631348 14.71096038818359 12.77968978881836 C 14.2135705947876 13.24379062652588 13.55419063568115 13.49960041046143 12.85474014282227 13.49960041046143 L 2.149200201034546 13.49960041046143 L 2.142650127410889 13.49960994720459 Z M 3.208500146865845 9.5 C 2.89663028717041 9.5 2.642900228500366 9.724249839782715 2.642900228500366 9.999899864196777 C 2.642900228500366 10.27554988861084 2.89663028717041 10.49980068206787 3.208500146865845 10.49980068206787 L 11.79090023040771 10.49980068206787 C 12.10327053070068 10.49980068206787 12.35739994049072 10.27554988861084 12.35739994049072 9.999899864196777 C 12.35739994049072 9.724249839782715 12.10327053070068 9.5 11.79090023040771 9.5 L 3.208500146865845 9.5 Z M 11.21450042724609 6.500200271606445 L 12.35739994049072 6.500200271606445 L 12.35739994049072 5.500400066375732 L 11.21450042724609 5.500400066375732 L 11.21450042724609 6.500200271606445 Z M 6.928699970245361 6.500200271606445 L 8.071599960327148 6.500200271606445 L 8.071599960327148 5.500400066375732 L 6.928699970245361 5.500400066375732 L 6.928699970245361 6.500200271606445 Z M 2.642900228500366 6.500200271606445 L 3.785800218582153 6.500200271606445 L 3.785800218582153 5.500400066375732 L 2.642900228500366 5.500400066375732 L 2.642900228500366 6.500200271606445 Z M 11.21450042724609 3.499600172042847 L 12.35739994049072 3.499600172042847 L 12.35739994049072 2.499800205230713 L 11.21450042724609 2.499800205230713 L 11.21450042724609 3.499600172042847 Z M 6.928699970245361 3.499600172042847 L 8.071599960327148 3.499600172042847 L 8.071599960327148 2.499800205230713 L 6.928699970245361 2.499800205230713 L 6.928699970245361 3.499600172042847 Z M 2.642900228500366 3.499600172042847 L 3.785800218582153 3.499600172042847 L 3.785800218582153 2.499800205230713 L 2.642900228500366 2.499800205230713 L 2.642900228500366 3.499600172042847 Z'/%3e %3cpath class='cls-3' d='M 2.141960144042969 12.99960994720459 L 2.149200201034546 12.99960041046143 L 12.85474014282227 12.99960041046143 C 13.4271297454834 12.99960041046143 13.96537017822266 12.79152011871338 14.37030029296875 12.41370010375977 C 14.77565002441406 12.03639984130859 14.99939060211182 11.53330039978027 15.00030040740967 10.99709987640381 L 15.00030040740967 2.003400325775146 C 15.00030040740967 0.8987202048301697 14.03617000579834 2.188110386214248e-07 12.85109996795654 2.188110386214248e-07 L 2.149200201034546 2.188110386214248e-07 C 0.9641302227973938 2.188110386214248e-07 2.037048290048915e-07 0.8987202048301697 2.037048290048915e-07 2.003400325775146 L 2.037048290048915e-07 10.99709987640381 C 2.037048290048915e-07 11.52581024169922 0.2293002009391785 12.04246044158936 0.6291002035140991 12.41460037231445 C 1.033440232276917 12.79186058044434 1.570720195770264 12.99962043762207 2.141960144042969 12.99960994720459 M 3.208500146865845 9 L 11.79090023040771 9 C 12.3789701461792 9 12.85739994049072 9.448550224304199 12.85739994049072 9.999899864196777 C 12.85739994049072 10.55125045776367 12.3789701461792 10.99980068206787 11.79090023040771 10.99980068206787 L 3.208500146865845 10.99980068206787 C 2.620930194854736 10.99980068206787 2.142900228500366 10.55125045776367 2.142900228500366 9.999899864196777 C 2.142900228500366 9.448550224304199 2.620930194854736 9 3.208500146865845 9 M 11.00160026550293 5.000400066375732 L 12.60449981689453 5.000400066375732 C 12.79372024536133 5.000400066375732 12.85739994049072 5.157999992370605 12.85739994049072 5.229900360107422 L 12.85739994049072 6.769800186157227 C 12.85739994049072 6.844580173492432 12.85739994049072 7.000200271606445 12.64050006866455 7.000200271606445 L 11.00160026550293 7.000200271606445 C 10.71450042724609 7.000200271606445 10.71450042724609 6.823920249938965 10.71450042724609 6.739200115203857 L 10.71450042724609 5.19480037689209 C 10.71450042724609 5.058890342712402 10.9323902130127 5.000400066375732 11.00160026550293 5.000400066375732 M 6.715800285339355 5.000400066375732 L 8.318699836730957 5.000400066375732 C 8.507920265197754 5.000400066375732 8.571599960327148 5.157999992370605 8.571599960327148 5.229900360107422 L 8.571599960327148 6.769800186157227 C 8.571599960327148 6.844580173492432 8.571599960327148 7.000200271606445 8.354700088500977 7.000200271606445 L 6.715800285339355 7.000200271606445 C 6.428699970245361 7.000200271606445 6.428699970245361 6.823920249938965 6.428699970245361 6.739200115203857 L 6.428699970245361 5.19480037689209 C 6.428699970245361 5.058890342712402 6.646590232849121 5.000400066375732 6.715800285339355 5.000400066375732 M 2.430000305175781 5.000400066375732 L 4.032900333404541 5.000400066375732 C 4.22212028503418 5.000400066375732 4.285799980163574 5.157999992370605 4.285799980163574 5.229900360107422 L 4.285799980163574 6.769800186157227 C 4.285799980163574 6.844580173492432 4.285799980163574 7.000200271606445 4.068900108337402 7.000200271606445 L 2.430000305175781 7.000200271606445 C 2.142900228500366 7.000200271606445 2.142900228500366 6.823920249938965 2.142900228500366 6.739200115203857 L 2.142900228500366 5.19480037689209 C 2.142900228500366 5.058890342712402 2.360790252685547 5.000400066375732 2.430000305175781 5.000400066375732 M 11.00160026550293 1.999800205230713 L 12.60449981689453 1.999800205230713 C 12.79372024536133 1.999800205230713 12.85739994049072 2.158020257949829 12.85739994049072 2.230200290679932 L 12.85739994049072 3.770100116729736 C 12.85739994049072 3.844590187072754 12.85739994049072 3.999600172042847 12.64050006866455 3.999600172042847 L 11.00160026550293 3.999600172042847 C 10.71450042724609 3.999600172042847 10.71450042724609 3.823320150375366 10.71450042724609 3.738600254058838 L 10.71450042724609 2.1951003074646 C 10.71450042724609 2.058560132980347 10.9323902130127 1.999800205230713 11.00160026550293 1.999800205230713 M 6.715800285339355 1.999800205230713 L 8.318699836730957 1.999800205230713 C 8.507920265197754 1.999800205230713 8.571599960327148 2.158020257949829 8.571599960327148 2.230200290679932 L 8.571599960327148 3.770100116729736 C 8.571599960327148 3.844590187072754 8.571599960327148 3.999600172042847 8.354700088500977 3.999600172042847 L 6.715800285339355 3.999600172042847 C 6.428699970245361 3.999600172042847 6.428699970245361 3.823320150375366 6.428699970245361 3.738600254058838 L 6.428699970245361 2.1951003074646 C 6.428699970245361 2.058560132980347 6.646590232849121 1.999800205230713 6.715800285339355 1.999800205230713 M 2.430000305175781 1.999800205230713 L 4.032900333404541 1.999800205230713 C 4.22212028503418 1.999800205230713 4.285799980163574 2.158020257949829 4.285799980163574 2.230200290679932 L 4.285799980163574 3.770100116729736 C 4.285799980163574 3.844590187072754 4.285799980163574 3.999600172042847 4.068900108337402 3.999600172042847 L 2.430000305175781 3.999600172042847 C 2.142900228500366 3.999600172042847 2.142900228500366 3.823320150375366 2.142900228500366 3.738600254058838 L 2.142900228500366 2.1951003074646 C 2.142900228500366 2.058560132980347 2.360790252685547 1.999800205230713 2.430000305175781 1.999800205230713 M 2.143340110778809 13.99960994720459 L 2.142660140991211 13.99960994720459 L 2.141980171203613 13.99960994720459 C 1.316610217094421 13.99962043762207 0.537050187587738 13.69639015197754 -0.05309979617595673 13.14577007293701 C -0.654549777507782 12.58592987060547 -0.9999998211860657 11.80247020721436 -0.9999998211860657 10.99709987640381 L -0.9999998211860657 2.003400325775146 C -0.9999998211860657 0.3473202288150787 0.4127302169799805 -0.9999997615814209 2.149200201034546 -0.9999997615814209 L 12.85109996795654 -0.9999997615814209 C 14.58757019042969 -0.9999997615814209 16.00029945373535 0.3473202288150787 16.00029945373535 2.003400325775146 L 16.00029945373535 10.99709987640381 C 15.99890995025635 11.81510066986084 15.66200065612793 12.57754039764404 15.0516300201416 13.14568042755127 C 14.46177005767822 13.6960506439209 13.68125057220459 13.99960041046143 12.85474014282227 13.99960041046143 L 2.149200201034546 13.99960041046143 L 2.143340110778809 13.99960994720459 Z'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(397),a=i(398),c=i(90),r=i(399),o=i(91),s=i(400),l=i(161),d=i(75),u={name:"AnnotateRect",icon:n,shortCut:[c,c]},h={name:"AnnotateInvalidRect",icon:a,shortCut:[c,"Ctrl",c]},f={name:"SelectRect",icon:r,shortCut:[o],noticeInfo:"RightClick"},g={name:"ToggleRectEffectiveness",icon:s,shortCut:["F"]},v={name:"ToggleRectEffectiveness",icon:s,shortCut:["Ctrl",c]},b={name:"DeleteRect",icon:l,shortCut:[o],noticeInfo:"SelectAndDoubleClick"},p=[u,h,f,g,v,b,d.revoke,d.restore,d.rotate,d.scale,d.backward,d.forward,d.dargWithRightClick,d.tabChangeSelected,d.tabReverseChangeSelected];t.changeValid=g,t.changeValidByClick=v,t.default=p,t.deleteRect=b,t.drawInvalidRect=h,t.drawRect=u,t.selectRect=f},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_27' data-name='%e8%b7%af%e5%be%84 27' class='cls-1' d='M3.5-16v.874h7V-16H14v3.5h-.875v7H14V-2H10.5v-.875h-7V-2H0V-5.5H.875v-7H0V-16Zm0%2c2.624v.876H2.625v7H3.5v.875h7V-5.5h.875v-7H10.5v-.875Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_26' data-name='%e8%b7%af%e5%be%84 26' class='cls-2' d='M-1747%2c836H-67V-109H-1747Z' transform='translate(1747 109)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frame_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cg id='%e7%bb%84_25' data-name='%e7%bb%84 25' class='cls-3' transform='translate(0 -16)'%3e %3cg id='%e7%bb%84_24' data-name='%e7%bb%84 24' class='cls-4' transform='translate(-1528.625 -81.375)'%3e %3cpath id='%e8%b7%af%e5%be%84_25' data-name='%e8%b7%af%e5%be%84 25' class='cls-5' d='M-5-21H17.75V1.75H-5Z' transform='translate(1529.25 98)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2%2c .cls-6 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d .cls-6 %7b stroke: %23666%3b %7d .cls-7 %7b stroke: none%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_27' data-name='%e8%b7%af%e5%be%84 27' class='cls-1' d='M3.5-16v.874h7V-16H14v3.5h-.875v7H14V-2H10.5v-.875h-7V-2H0V-5.5H.875v-7H0V-16Zm0%2c2.624v.876H2.625v7H3.5v.875h7V-5.5h.875v-7H10.5v-.875Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_26' data-name='%e8%b7%af%e5%be%84 26' class='cls-2' d='M-1747%2c836H-67V-109H-1747Z' transform='translate(1747 109)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frameNull_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_131' data-name='%e7%9f%a9%e5%bd%a2 131' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3cg id='%e7%bb%84_25' data-name='%e7%bb%84 25' class='cls-3' transform='translate(0 -16)'%3e %3cg id='%e7%bb%84_24' data-name='%e7%bb%84 24' class='cls-4' transform='translate(-1528.625 -81.375)'%3e %3cpath id='%e8%b7%af%e5%be%84_25' data-name='%e8%b7%af%e5%be%84 25' class='cls-5' d='M-5-21H17.75V1.75H-5Z' transform='translate(1529.25 98)'/%3e %3c/g%3e %3c/g%3e %3cg id='%e7%9f%a9%e5%bd%a2_92' data-name='%e7%9f%a9%e5%bd%a2 92' class='cls-6' transform='translate(1.699 -12.97) rotate(-45)'%3e %3crect class='cls-7' width='1.6' height='13'/%3e %3crect class='cls-2' x='0.5' y='0.5' width='0.6' height='12'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666%3b %7d .cls-2 %7b fill: none%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_frameActive_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_2' data-name='%e5%87%8f%e5%8e%bb 2' class='cls-1' d='M1768.5%2c9503H1765v-3.5h.875v-7H1765V9489h3.5v.873l7%2c0V9489h3.5v3.5h-.875v4.5h-1.75v-4.5h-.873v-.873l-7%2c0v.875h-.873v7h.873v.873h4.5v1.751h-4.5V9503Z' transform='translate(-1765 -9505)'/%3e %3cpath id='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd_4' data-name='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd 4' class='cls-1' d='M2.628%2c0%2c5.256%2c5.256%2c2.632%2c4.129%2c0%2c5.256Z' transform='translate(7.667 -6.406) rotate(-30)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_399' data-name='%e8%b7%af%e5%be%84 399' class='cls-2' d='M2.139-17.789H7.33L8-17.12H3.813l1.172%2c1.34h-1ZM7.5-18.627H2.306l-.67-.669H5.823l-1.172-1.34h1L7.5-18.627Z' transform='translate(-1.636 20.636)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frameChange_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_2' data-name='%e5%87%8f%e5%8e%bb 2' class='cls-1' d='M1768.5%2c9503H1765v-3.5h.875v-7H1765V9489h3.5v.873l7%2c0V9489h3.5v3.5h-.875v4.933l-1.75.025V9492.5h-.873v-.873l-7%2c0v.875h-.873v7h.873v.873h3.841l1.391%2c1.751H1768.5V9503Z' transform='translate(-1765 -9505)'/%3e %3cg id='%e7%bb%84_647' data-name='%e7%bb%84 647' transform='translate(7 14)'%3e %3cg id='%e7%bb%84_646' data-name='%e7%bb%84 646' class='cls-3' transform='translate(1.636 -20.636)'%3e %3cpath id='%e8%b7%af%e5%be%84_398' data-name='%e8%b7%af%e5%be%84 398' class='cls-1' d='M-3.364-25.636H6.07v7.927H-3.364Z' transform='translate(1.829 24.101)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_cencel_kj' transform='translate(0.494)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='15.963' transform='translate(-0.494)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.057%2c3.54C8.654%2c7.1%2c4.678%2c7.648.279%2c5.143A.544.544%2c0%2c0%2c1%2c0%2c4.662a.578.578%2c0%2c0%2c1%2c.283-.493A.548.548%2c0%2c0%2c1%2c.84%2c4.163C4.822%2c6.431%2c8.263%2c5.956%2c11.318%2c2.722L8.918.065%2c13.99%2c0l-.072%2c5.6Z' transform='translate(10.937 16) rotate(-138)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_reform_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='15.963'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.057%2c3.148C8.654-.415%2c4.678-.96.279%2c1.546A.544.544%2c0%2c0%2c0%2c0%2c2.027a.578.578%2c0%2c0%2c0%2c.283.493.548.548%2c0%2c0%2c0%2c.557.005C4.822.257%2c8.263.733%2c11.318%2c3.967l-2.4%2c2.657%2c5.072.065-.072-5.6Z' transform='translate(0.094 11.029) rotate(-42)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_274' data-name='%e8%b7%af%e5%be%84 274' class='cls-1' d='M1.732-140.268a5.914%2c5.914%2c0%2c0%2c1%2c8.364%2c0%2c5.916%2c5.916%2c0%2c0%2c1%2c.581%2c7.69L14-129.255%2c12.745-128l-3.323-3.323a5.916%2c5.916%2c0%2c0%2c1-7.69-.581A5.914%2c5.914%2c0%2c0%2c1%2c1.732-140.268Zm7.528.836a4.732%2c4.732%2c0%2c0%2c0-6.691%2c0%2c4.732%2c4.732%2c0%2c0%2c0%2c0%2c6.691%2c4.732%2c4.732%2c0%2c0%2c0%2c6.691%2c0A4.732%2c4.732%2c0%2c0%2c0%2c9.26-139.431Z' transform='translate(0 142)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_273' data-name='%e8%b7%af%e5%be%84 273' class='cls-2' d='M-29-160.285H-9.285V-180H-29Z' transform='translate(29 180)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_loupe_kj' transform='translate(4 144)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_110' data-name='%e7%9f%a9%e5%bd%a2 110' class='cls-2' width='16' height='16' transform='translate(-4 -144)'/%3e %3cg id='%e7%bb%84_470' data-name='%e7%bb%84 470' class='cls-3' transform='translate(-3 -143)'%3e %3cg id='%e7%bb%84_469' data-name='%e7%bb%84 469' class='cls-4' transform='translate(-2.859 -3.746)'%3e %3cpath id='%e8%b7%af%e5%be%84_272' data-name='%e8%b7%af%e5%be%84 272' class='cls-5' d='M-5-147H9.986v14.986H-5Z' transform='translate(7.366 150.253)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_mouse_middle_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5%2c .cls-7 %7b fill: %23ff5770%3b %7d .cls-5 %7b opacity: 0%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.983v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.969-9.7H5.865V0A5.69%2c5.69%2c0%2c0%2c1%2c9.394%2c1.267%2c3.813%2c3.813%2c0%2c0%2c1%2c10.849%2c4.19V5.98Zm-5.864%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.455%2c1.267%2c5.692%2c5.692%2c0%2c0%2c1%2c4.985%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(-0.698 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3cpath id='%e8%b7%af%e5%be%84-3' data-name='%e8%b7%af%e5%be%84' class='cls-7' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_321' data-name='%e8%b7%af%e5%be%84 321' class='cls-1' d='M0%2c0H16V-16H0Z'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_323' data-name='%e8%b7%af%e5%be%84 323' class='cls-1' d='M5.344-14.625H1.875a.5.5%2c0%2c0%2c0-.5.5v3.5a.251.251%2c0%2c0%2c0%2c.25.25h.75a.251.251%2c0%2c0%2c0%2c.25-.25v-2.75H5.344a.251.251%2c0%2c0%2c0%2c.25-.25v-.75A.251.251%2c0%2c0%2c0%2c5.344-14.625Zm9.031%2c9h-.75a.251.251%2c0%2c0%2c0-.25.25v2.75H10.656a.251.251%2c0%2c0%2c0-.25.25v.75a.251.251%2c0%2c0%2c0%2c.25.25h3.469a.5.5%2c0%2c0%2c0%2c.5-.5v-3.5A.251.251%2c0%2c0%2c0%2c14.375-5.625Zm-9.031%2c3H2.625v-2.75a.251.251%2c0%2c0%2c0-.25-.25h-.75a.251.251%2c0%2c0%2c0-.25.25v3.5a.5.5%2c0%2c0%2c0%2c.5.5H5.344a.251.251%2c0%2c0%2c0%2c.25-.25v-.75A.251.251%2c0%2c0%2c0%2c5.344-2.625Zm8.781-12H10.656a.251.251%2c0%2c0%2c0-.25.25v.75a.251.251%2c0%2c0%2c0%2c.25.25h2.719v2.75a.251.251%2c0%2c0%2c0%2c.25.25h.75a.251.251%2c0%2c0%2c0%2c.25-.25v-3.5A.5.5%2c0%2c0%2c0%2c14.125-14.625Z'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_fullView_kj' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_567' data-name='%e7%bb%84 567' class='cls-2'%3e %3cpath id='%e8%b7%af%e5%be%84_320' data-name='%e8%b7%af%e5%be%84 320' class='cls-3' d='M-5-21H21V5H-5Z'/%3e %3c/g%3e %3cg id='%e7%bb%84_568' data-name='%e7%bb%84 568' class='cls-4'%3e %3cpath id='%e8%b7%af%e5%be%84_322' data-name='%e8%b7%af%e5%be%84 322' class='cls-5' d='M-3.625-19.625h23.25V3.625H-3.625Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_reload_kj' transform='translate(-1 -1.432)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16' transform='translate(1 1.432)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.917%2c1.955l-.9.735A6.615%2c6.615%2c0%2c0%2c0%2c6.72%2c0%2c6.86%2c6.86%2c0%2c0%2c0%2c0%2c6.992%2c6.864%2c6.864%2c0%2c0%2c0%2c6.72%2c14a6.745%2c6.745%2c0%2c0%2c0%2c6.315-4.6.135.135%2c0%2c0%2c0-.078-.172L12.05%2c8.9a.127.127%2c0%2c0%2c0-.162.08c-.029.083-.061.167-.094.248a5.722%2c5.722%2c0%2c0%2c1-1.18%2c1.823%2c5.511%2c5.511%2c0%2c0%2c1-1.749%2c1.23%2c5.32%2c5.32%2c0%2c0%2c1-4.283%2c0%2c5.459%2c5.459%2c0%2c0%2c1-1.749-1.23A5.722%2c5.722%2c0%2c0%2c1%2c1.653%2c9.23a5.979%2c5.979%2c0%2c0%2c1%2c0-4.463%2c5.722%2c5.722%2c0%2c0%2c1%2c1.18-1.823%2c5.511%2c5.511%2c0%2c0%2c1%2c1.749-1.23%2c5.32%2c5.32%2c0%2c0%2c1%2c4.283%2c0%2c5.459%2c5.459%2c0%2c0%2c1%2c1.749%2c1.23%2c5.678%2c5.678%2c0%2c0%2c1%2c.445.523L10.1%2c4.25a.135.135%2c0%2c0%2c0%2c.048.235l2.81.717a.13.13%2c0%2c0%2c0%2c.158-.128l.013-3.015a.129.129%2c0%2c0%2c0-.208-.1Z' transform='translate(2 2.432)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3csvg xmlns='http://www.w3.org/2000/svg' class='icon' viewBox='0 0 1024 1024'%3e %3cpath d='M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_last_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M.163%2c6.632%2c7.735.1a.428.428%2c0%2c0%2c1%2c.7.368V13.53a.428.428%2c0%2c0%2c1-.7.368L.163%2c7.368A.5.5%2c0%2c0%2c1%2c.163%2c6.632Z' transform='translate(4 1)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_next_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M8.268%2c6.632.7.1A.428.428%2c0%2c0%2c0%2c0%2c.47V13.53a.428.428%2c0%2c0%2c0%2c.7.368l7.572-6.53A.5.5%2c0%2c0%2c0%2c8.268%2c6.632Z' transform='translate(4 1)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_277' data-name='%e8%b7%af%e5%be%84 277' class='cls-1' d='M6.857-116.857h-3.3v1.4L0-118l3.556-2.54v1.4h3.3v-3.3H9.143v3.3h3.3v-1.4L16-118l-3.556%2c2.54v-1.4h-3.3v3.3h1.4L8-110l-2.54-3.556h1.4ZM8-126l2.54%2c3.556H5.46Z' transform='translate(0 126)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_276' data-name='%e8%b7%af%e5%be%84 276' class='cls-2' d='M-37-137.6h25.4V-163H-37Z' transform='translate(37 163)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_move_kj' transform='translate(1 128)'%3e %3cg id='%e7%bb%84_475' data-name='%e7%bb%84 475' class='cls-3' transform='translate(-1 -128)'%3e %3cg id='%e7%bb%84_474' data-name='%e7%bb%84 474' class='cls-4' transform='translate(-4.698 -4.698)'%3e %3cpath id='%e8%b7%af%e5%be%84_275' data-name='%e8%b7%af%e5%be%84 275' class='cls-5' d='M-5-131H12.27v17.27H-5Z' transform='translate(9.063 135.064)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M2.1-1.769a.381.381%2c0%2c0%2c1-.382-.382h0V-7.087A.381.381%2c0%2c0%2c1%2c2.1-7.469H8.4a.381.381%2c0%2c0%2c1%2c.382.382h0V-2.15a.381.381%2c0%2c0%2c1-.382.382H2.1Zm.525-.906H7.874V-6.562H2.627Z' transform='translate(-1.721 7.469)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M17.723-5.652A4.782%2c4.782%2c0%2c0%2c0%2c19.561-9.4l.763%2c0a.093.093%2c0%2c0%2c0%2c.073-.15l-1.2-1.526a.094.094%2c0%2c0%2c0-.147%2c0L17.841-9.555a.093.093%2c0%2c0%2c0%2c.073.15h.762a4.019%2c4.019%2c0%2c0%2c1-.03.463%2c3.888%2c3.888%2c0%2c0%2c1-.461%2c1.419A3.9%2c3.9%2c0%2c0%2c1%2c17.179-6.35a3.884%2c3.884%2c0%2c0%2c1-1.381.693%2c3.887%2c3.887%2c0%2c0%2c1-1.488.106c-.064-.008-.129-.017-.192-.029v.893A4.752%2c4.752%2c0%2c0%2c0%2c17.723-5.652Z' transform='translate(-14.118 11.118)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='c'%3e%3cpath d='M19.678-21a.381.381%2c0%2c0%2c1%2c.382.382h0v4.937a.381.381%2c0%2c0%2c1-.382.382h-6.3A.381.381%2c0%2c0%2c1%2c13-15.682h0v-4.937A.381.381%2c0%2c0%2c1%2c13.382-21h6.3Zm-.525.906H13.906v3.887h5.247Z' transform='translate(-13 21)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='d'%3e%3cpath d='M3.673-17.359a4.782%2c4.782%2c0%2c0%2c0-1.839%2c3.751l-.763%2c0a.093.093%2c0%2c0%2c0-.073.15l1.2%2c1.526a.094.094%2c0%2c0%2c0%2c.147%2c0l1.206-1.528a.093.093%2c0%2c0%2c0-.073-.15H2.72a4.017%2c4.017%2c0%2c0%2c1%2c.03-.463%2c3.888%2c3.888%2c0%2c0%2c1%2c.461-1.419%2c3.9%2c3.9%2c0%2c0%2c1%2c1.005-1.173A3.884%2c3.884%2c0%2c0%2c1%2c5.6-17.354a3.887%2c3.887%2c0%2c0%2c1%2c1.488-.106c.064.008.129.017.192.029v-.893A4.752%2c4.752%2c0%2c0%2c0%2c3.673-17.359Z' transform='translate(-0.978 18.372)' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(-957 -603)'%3e%3crect width='16' height='16' transform='translate(957 603)' fill='none'/%3e%3cg transform='translate(956.022 624)'%3e%3cg transform='translate(1.545 -10.994)' clip-path='url(%23a)'%3e%3cpath d='M11.412.863H-3.279V-12.469H11.412Z' transform='translate(-0.537 8.653)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(10.679 -13.779)' clip-path='url(%23b)'%3e%3cpath d='M23.049-16.118V-2.007H9.118V-16.118Z' transform='translate(-12.934 12.302)' fill='%23666'/%3e%3c/g%3e%3crect width='6' height='5' transform='translate(10.652 -20.897)' fill='%23ccc'/%3e%3cg transform='translate(9.826 -21)' clip-path='url(%23c)'%3e%3cpath d='M8-26H22.691v13.331H8Z' transform='translate(-11.816 22.184)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(0.978 -18.995)' clip-path='url(%23d)'%3e%3cpath d='M-4.022-9.261V-23.372H9.909V-9.261Z' transform='translate(0.206 19.556)' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M8.4-7.469a.381.381%2c0%2c0%2c1%2c.382.382h0V-2.15a.381.381%2c0%2c0%2c1-.382.382H2.1a.381.381%2c0%2c0%2c1-.382-.382h0V-7.087A.381.381%2c0%2c0%2c1%2c2.1-7.469H8.4Zm-.525.906H2.627v3.887H7.874Z' transform='translate(-1.721 7.469)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M16.812-10.1a4.782%2c4.782%2c0%2c0%2c0-1.839%2c3.751l-.763%2c0a.093.093%2c0%2c0%2c0-.073.15l1.2%2c1.526a.094.094%2c0%2c0%2c0%2c.147%2c0L16.694-6.2a.093.093%2c0%2c0%2c0-.073-.15H15.86a4.019%2c4.019%2c0%2c0%2c1%2c.03-.463%2c3.888%2c3.888%2c0%2c0%2c1%2c.461-1.419%2c3.9%2c3.9%2c0%2c0%2c1%2c1.005-1.173%2c3.884%2c3.884%2c0%2c0%2c1%2c1.381-.693%2c3.887%2c3.887%2c0%2c0%2c1%2c1.488-.106c.064.008.129.017.192.029v-.893A4.752%2c4.752%2c0%2c0%2c0%2c16.812-10.1Z' transform='translate(-14.118 11.118)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='c'%3e%3cpath d='M13.382-15.3A.381.381%2c0%2c0%2c1%2c13-15.682h0v-4.937A.381.381%2c0%2c0%2c1%2c13.382-21h6.3a.381.381%2c0%2c0%2c1%2c.382.382h0v4.937a.381.381%2c0%2c0%2c1-.382.382h-6.3Zm.525-.906h5.247v-3.887H13.906Z' transform='translate(-13 21)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='d'%3e%3cpath d='M4.583-12.907a4.782%2c4.782%2c0%2c0%2c0%2c1.839-3.751l.763%2c0a.093.093%2c0%2c0%2c0%2c.073-.15l-1.2-1.526a.094.094%2c0%2c0%2c0-.147%2c0L4.7-16.809a.093.093%2c0%2c0%2c0%2c.073.15h.762a4.017%2c4.017%2c0%2c0%2c1-.03.463%2c3.888%2c3.888%2c0%2c0%2c1-.461%2c1.419A3.9%2c3.9%2c0%2c0%2c1%2c4.039-13.6a3.884%2c3.884%2c0%2c0%2c1-1.381.693%2c3.887%2c3.887%2c0%2c0%2c1-1.488.106c-.064-.008-.129-.017-.192-.029v.893A4.752%2c4.752%2c0%2c0%2c0%2c4.583-12.907Z' transform='translate(-0.978 18.372)' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(0)'%3e%3crect width='16' height='16' transform='translate(0)' fill='none'/%3e%3cg transform='translate(0 0.294)'%3e%3cg transform='translate(8.374)' clip-path='url(%23a)'%3e%3cpath d='M-3.279-12.469H11.412V.863H-3.279Z' transform='translate(-0.537 8.653)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(0 2.005)' clip-path='url(%23b)'%3e%3cpath d='M9.118-2.007V-16.118H23.049V-2.007Z' transform='translate(-12.934 12.302)' fill='%23666'/%3e%3c/g%3e%3crect width='6' height='5' transform='translate(0.327 10.603)' fill='%23ccc'/%3e%3cg transform='translate(0.093 10.006)' clip-path='url(%23c)'%3e%3cpath d='M22.691-12.669H8V-26H22.691Z' transform='translate(-11.816 22.184)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(9.701 7.221)' clip-path='url(%23d)'%3e%3cpath d='M9.909-23.372V-9.261H-4.022V-23.372Z' transform='translate(0.206 19.556)' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M0%2c0H16V-16H0Z' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M13.958-11.417l-2.541-2.541a1%2c1%2c0%2c0%2c0-.708-.292H2.25a.5.5%2c0%2c0%2c0-.5.5v11.5a.5.5%2c0%2c0%2c0%2c.5.5h11.5a.5.5%2c0%2c0%2c0%2c.5-.5v-8.461A1%2c1%2c0%2c0%2c0%2c13.958-11.417ZM6-13.25h4v1.75H6ZM8-4.594a2.251%2c2.251%2c0%2c0%2c1-2.25-2.25A2.251%2c2.251%2c0%2c0%2c1%2c8-9.094a2.251%2c2.251%2c0%2c0%2c1%2c2.25%2c2.25A2.251%2c2.251%2c0%2c0%2c1%2c8-4.594Zm0-3.5a1.25%2c1.25%2c0%2c0%2c0-1.25%2c1.25A1.25%2c1.25%2c0%2c0%2c0%2c8-5.594a1.25%2c1.25%2c0%2c0%2c0%2c1.25-1.25A1.25%2c1.25%2c0%2c0%2c0%2c8-8.094Z' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(0 16)'%3e%3cg clip-path='url(%23a)'%3e%3cpath d='M-5-21H21V5H-5Z' fill='rgba(0%2c0%2c0%2c0)'/%3e%3c/g%3e%3cg clip-path='url(%23b)'%3e%3cpath d='M-3.25-19.25h22.5V3.25H-3.25Z' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_lineSpecial_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23ccc%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='%e8%b7%af%e5%be%84_607' data-name='%e8%b7%af%e5%be%84 607' class='cls-1' d='M12.564%2c4.659l-8.833%2c9.22h8.833Z' transform='translate(0 -1)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(5.604 11.916) rotate(-135)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(8.115 9.239) rotate(-135)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(10.625 6.561) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='7' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-5' width='1.5' height='8' transform='translate(4.75 13.5) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_492' data-name='%e8%b7%af%e5%be%84 492' class='cls-1' d='M0%2c2H16V-14H0Z' transform='translate(0 14)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_noDisplay' transform='translate(0 15)'%3e %3cg id='%e7%bb%84_817' data-name='%e7%bb%84 817' class='cls-3' transform='translate(0 -15)'%3e %3cpath id='%e8%b7%af%e5%be%84_491' data-name='%e8%b7%af%e5%be%84 491' class='cls-4' d='M-5-19H21V7H-5Z' transform='translate(0 15)'/%3e %3c/g%3e %3cpath id='%e5%87%8f%e5%8e%bb_1' data-name='%e5%87%8f%e5%8e%bb 1' class='cls-2' d='M7.114%2c9.861a7.321%2c7.321%2c0%2c0%2c1-3.965-1.19A8.865%2c8.865%2c0%2c0%2c1%2c.159%2c5.522a1.179%2c1.179%2c0%2c0%2c1%2c0-1.181%2c8.865%2c8.865%2c0%2c0%2c1%2c2.989-3.15c.1-.065.206-.128.311-.188l1.51%2c1.628a2.682%2c2.682%2c0%2c0%2c0-.27%2c1.2.42.42%2c0%2c0%2c0%2c.111.292.351.351%2c0%2c0%2c0%2c.267.119.367.367%2c0%2c0%2c0%2c.274-.119.414.414%2c0%2c0%2c0%2c.111-.292%2c1.928%2c1.928%2c0%2c0%2c1%2c.086-.582L9.065%2c7.047a3.241%2c3.241%2c0%2c0%2c1-1.949.623A3.325%2c3.325%2c0%2c0%2c1%2c4.6%2c6.545%2c3.852%2c3.852%2c0%2c0%2c1%2c3.556%2c3.836%2c3.98%2c3.98%2c0%2c0%2c1%2c4.04%2c1.91%2c8.1%2c8.1%2c0%2c0%2c0%2c1.015%2c4.931a8.574%2c8.574%2c0%2c0%2c0%2c2.647%2c2.8%2c6.217%2c6.217%2c0%2c0%2c0%2c3.451%2c1.04A6.16%2c6.16%2c0%2c0%2c0%2c10%2c8.057l.755.814A7.261%2c7.261%2c0%2c0%2c1%2c7.114%2c9.861Zm4.659-1.67h0l-.739-.8A8.7%2c8.7%2c0%2c0%2c0%2c13.21%2c4.931%2c8.088%2c8.088%2c0%2c0%2c0%2c10.185%2c1.91a3.981%2c3.981%2c0%2c0%2c1%2c.484%2c1.926%2c3.868%2c3.868%2c0%2c0%2c1-.751%2c2.357L6.295%2c2.286a1.512%2c1.512%2c0%2c0%2c1%2c.818-.23.357.357%2c0%2c0%2c0%2c.27-.12.409.409%2c0%2c0%2c0%2c.111-.292.417.417%2c0%2c0%2c0-.111-.292.355.355%2c0%2c0%2c0-.27-.12%2c2.2%2c2.2%2c0%2c0%2c0-1.368.46L4.6.46A7.088%2c7.088%2c0%2c0%2c1%2c7.114%2c0a7.321%2c7.321%2c0%2c0%2c1%2c3.965%2c1.19%2c8.85%2c8.85%2c0%2c0%2c1%2c2.989%2c3.15%2c1.179%2c1.179%2c0%2c0%2c1%2c0%2c1.181%2c8.821%2c8.821%2c0%2c0%2c1-2.295%2c2.669Z' transform='translate(1.088 -11.738)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_235' data-name='%e7%9f%a9%e5%bd%a2 235' class='cls-2' width='1.166' height='18.662' transform='matrix(0.719%2c -0.695%2c 0.695%2c 0.719%2c 0.745%2c -12.953)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(417),a=i(418),c=i(419),r=i(161),o=i(90),s=i(91),l=i(75),d={name:"AnnotatePoint",icon:n,shortCut:[o]},u={name:"AnnotateInvalidPoint",icon:a,shortCut:["Ctrl",o]},h={name:"SelectPoint",icon:c,shortCut:[s],noticeInfo:"RightClick"},f={name:"DeletePoint",icon:r,shortCut:["Del"]},g=[d,u,h,f,l.revoke,l.restore,l.rotate,l.scale,l.backward,l.forward,l.dargWithRightClick,l.tabChangeSelected,l.tabReverseChangeSelected];t.default=g,t.deletePoint=f,t.drawInvalidPoint=u,t.drawPoint=d,t.selectPoint=h},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_point_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3ccircle id='%e6%a4%ad%e5%9c%86%e5%bd%a2' class='cls-2' cx='2.392' cy='2.392' r='2.392' transform='translate(4.811 4.811)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_pointNull_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d .cls-3%2c .cls-5 %7b fill: none%3b %7d .cls-3 %7b stroke: %23666%3b %7d .cls-4 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3ccircle id='%e6%a4%ad%e5%9c%86%e5%bd%a2' class='cls-2' cx='2.392' cy='2.392' r='2.392' transform='translate(4.811 4.811)'/%3e %3c/g%3e %3cg id='%e7%9f%a9%e5%bd%a2_92' data-name='%e7%9f%a9%e5%bd%a2 92' class='cls-3' transform='translate(2.757 4.089) rotate(-45)'%3e %3crect class='cls-4' width='1.6' height='13'/%3e %3crect class='cls-5' x='0.5' y='0.5' width='0.6' height='12'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_pointActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_3' data-name='%e5%87%8f%e5%8e%bb 3' class='cls-2' d='M1506.068%2c9508.987a2.393%2c2.393%2c0%2c1%2c1%2c2.391-2.394l-1.919%2c0v2.345A2.436%2c2.436%2c0%2c0%2c1%2c1506.068%2c9508.987Z' transform='translate(-1498.865 -9499.393)'/%3e %3c/g%3e %3cpath id='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd_4' data-name='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd 4' class='cls-2' d='M2.628%2c0%2c5.256%2c5.256%2c2.632%2c4.129%2c0%2c5.256Z' transform='translate(7.139 9.595) rotate(-30)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(194),a=i(421),c=i(422),r=i(423),o=i(424),s=i(90),l=i(91),d=i(195),u=i(425),h=i(196),f=i(75),g={name:"AnnotatePolygon",icon:n,shortCut:[s]},v={name:"AnnotateInvalidPolygon",icon:a,shortCut:["Ctrl",s]},b={name:"SelectPolygon",icon:c,shortCut:[l],noticeInfo:"RightClick"},p={name:"TogglePolygonEffectiveness",icon:r,shortCut:["F"]},m={name:"DeletePolygon",icon:o,shortCut:["Del"]},y={name:"ContinueToLabel",icon:d,shortCut:["Space"]},x={name:"InsertPoint",icon:u,noticeInfo:"SelectAndDoubleClick",shortCut:[s]},w={name:"DeletePoint",icon:o,noticeInfo:"SelectAndDoubleClick",shortCut:[l]},k={name:"StopAdsorption",icon:h,noticeInfo:"Press",shortCut:["Alt"]},L=[g,v,b,p,m,y,x,w,k,f.revoke,f.restore,f.rotate,f.scale,f.backward,f.forward,f.setValid,f.dargWithRightClick,f.dargWithLeftClick,f.tabChangeSelected,f.tabReverseChangeSelected];t.changePolygonAttribute=p,t.default=L,t.deletePolygon=m,t.deletePolygonPoint=w,t.insertPolygonPoint=x,t.invalidPolygon=v,t.keepLine=y,t.polygon=g,t.selectedPolygon=b,t.suspendAbsorption=k},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16.707' height='16' viewBox='0 0 16.707 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-1%2c .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d .cls-1%2c .cls-3 %7b stroke-miterlimit: 10%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b stroke: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_polygonNull_kj' transform='translate(0 -2)'%3e %3cg id='icon_line' transform='translate(10)'%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-1' width='1.499' height='15.5' transform='translate(-6.021 6.04) rotate(-45)'/%3e %3c/g%3e %3cg id='icon_polygonNull_kj-2' data-name='icon_polygonNull_kj' transform='translate(0 2)'%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_10' data-name='%e5%87%8f%e5%8e%bb 10' class='cls-4' d='M18500.451%2c2801h-6v-1.5h4.514l1.488%2c1.487%2c0%2c.012Zm-5.148-1.584h0l-1.059-1.058%2c1.783-1.789%2c1.061%2c1.059-1.785%2c1.788Zm7.895-2.75%2c0%2c0-1.5-1.5V2792.5h1.5v4.166Zm-2.578-2.579h0l-1.061-1.06%2c1.047-1.051%2c1.064%2c1.059-1.051%2c1.052Z' transform='translate(-18489.699 -2787.496)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_polygonActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-3 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-4' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-4' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_polygonChange_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23ccc%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='%e5%87%8f%e5%8e%bb_12' data-name='%e5%87%8f%e5%8e%bb 12' class='cls-1' d='M18493%2c2716.574l0%2c0%2c8.451-8.572.242%2c4.933h-3.889v3.513l-4.8.129Z' transform='translate(-18489.408 -2704.132)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_11' data-name='%e5%87%8f%e5%8e%bb 11' class='cls-5' d='M18496.65%2c2716.5H18493V2715h3.65v1.5Zm5.1-4.7h-1.5V2708h1.5v3.8Z' transform='translate(-18488.25 -2703)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_polygonDel_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_polygonInsert_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(9.222 9.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-4' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-5' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(194),a=i(90),c=i(427),r=i(428),o=i(429),s=i(91),l=i(430),d=i(161),u=i(195),h=i(431),f=i(432),g=i(196),v=i(75),b={name:"AnnotateLine",icon:n,shortCut:[a]},p={name:"AnnotateInvalidLine",icon:c,shortCut:["Ctrl",a]},m={name:"HorizontalOrVertical",icon:r,shortCut:["Shift",a]},y={name:"SelectLine",icon:o,shortCut:[s]},x={name:"ToggleLineEffectiveness",icon:l,shortCut:["F"]},w={name:"DeleteLine",icon:d,noticeInfo:"SelectAndDoubleClick",shortCut:[s]},k={name:"ContinueToLabel",icon:u,noticeInfo:"Select",shortCut:["Space"]},L={name:"InsertPoint",icon:h,noticeInfo:"ClickOnLine",shortCut:[a]},C={name:"DeletePoint",icon:f,noticeInfo:"DblClickOnPoint",shortCut:[s]},I={name:"StopAdsorption",icon:g,noticeInfo:"Press",shortCut:["Alt"]},O=[b,p,m,y,x,w,k,v.changeSpecialLine,L,C,I,v.revoke,v.restore,v.rotate,v.scale,v.backward,v.forward,v.setValid,v.dargWithRightClick,v.dargWithLeftClick,v.hidden,v.tabChangeSelected,v.tabReverseChangeSelected];t.changeLineAttribute=x,t.default=O,t.deleteLine=w,t.deletePoint=C,t.horizontalLine=m,t.insertPoint=L,t.invalidLine=p,t.keepLine=k,t.line=b,t.selectLine=y,t.suspendAbsorption=I},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_lineNull_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b stroke: rgba(0%2c0%2c0%2c0)%3b stroke-miterlimit: 10%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_6' data-name='%e5%87%8f%e5%8e%bb 6' class='cls-2' d='M14710.063%2c1373.254h0l-1.063-1.059%2c2.184-2.182%2c1.062%2c1.061-2.18%2c2.181Zm5.009-5.009h0l-1.061-1.06%2c2.417-2.415%2c1.06%2c1.06-2.414%2c2.415Z' transform='translate(-14705.021 -1360.788)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.499' height='7.5' transform='translate(4.979 6.04) rotate(-45)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_straightLine_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b stroke: rgba(0%2c0%2c0%2c0)%3b stroke-miterlimit: 10%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bb%84_955' data-name='%e7%bb%84 955' transform='translate(-0.721)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(12.721 9.721) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(1.721 9.723) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.5' height='10.5' transform='translate(3.471 9.002) rotate(-90)'/%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_lineActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: %23666%3b %7d .cls-4 %7b fill: white%3b stroke: %23707070%3b %7d .cls-5 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%9f%a9%e5%bd%a2_254' data-name='%e7%9f%a9%e5%bd%a2 254' class='cls-2' transform='translate(1.22 1.22)'%3e %3crect class='cls-5' width='14.4' height='14.4'/%3e %3crect class='cls-1' x='0.5' y='0.5' width='13.4' height='13.4'/%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' width='1.5' height='10.5' transform='translate(5.04 12.465) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-4' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-4' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_lineChange_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: %23666%3b %7d .cls-4 %7b clip-path: url(%23clip-path)%3b %7d .cls-5 %7b fill: white%3b stroke: %23707070%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_399' data-name='%e8%b7%af%e5%be%84 399' class='cls-1' d='M2.139-17.789H7.33L8-17.12H3.813l1.172%2c1.34h-1ZM7.5-18.627H2.306l-.67-.669H5.823l-1.172-1.34h1L7.5-18.627Z' transform='translate(-1.636 20.636)'/%3e %3c/clipPath%3e %3c/defs%3e %3cpath id='%e8%b7%af%e5%be%84_599' data-name='%e8%b7%af%e5%be%84 599' class='cls-2' d='M9.937%2c14.746h-7.9V1.654' transform='translate(-0.316)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' width='1.5' height='10.5' transform='translate(5.04 12.465) rotate(-135)'/%3e %3cpath id='%e8%b7%af%e5%be%84_598' data-name='%e8%b7%af%e5%be%84 598' class='cls-2' d='M2.035%2c1.654H15.557V9.5' transform='translate(-0.815)'/%3e %3cg id='%e7%bb%84_965' data-name='%e7%bb%84 965' transform='translate(8 31)'%3e %3cg id='%e7%bb%84_646' data-name='%e7%bb%84 646' class='cls-4' transform='translate(1.636 -20.636)'%3e %3cpath id='%e8%b7%af%e5%be%84_398' data-name='%e8%b7%af%e5%be%84 398' class='cls-3' d='M-3.364-25.636H6.07v7.927H-3.364Z' transform='translate(1.829 24.101)'/%3e %3c/g%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-5' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-5' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_lineInsert_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='4' height='4' transform='translate(10.222 10.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg id='icon_lineDel_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: white%3b %7d .cls-3%2c .cls-4 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-5 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d .cls-6 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3cg id='%e7%9f%a9%e5%bd%a2_273' data-name='%e7%9f%a9%e5%bd%a2 273' class='cls-1' transform='translate(1.221 1.22)'%3e %3crect class='cls-6' width='14' height='14'/%3e %3crect class='cls-2' x='0.5' y='0.5' width='13' height='13'/%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-4' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-5' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e%3c/svg%3e"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(434),a=i(75),c={name:"Tagging",icon:n,shortCut:[1,9]},r=[c,a.rotate,a.scale,a.backward,a.forward,a.dargWithRightClick,a.dargWithLeftClick];t.default=r,t.tagInSingleImg=c},function(e,t,i){"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_317' data-name='%e8%b7%af%e5%be%84 317' class='cls-1' d='M0%2c0H16V-16H0Z'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_319' data-name='%e8%b7%af%e5%be%84 319' class='cls-1' d='M14.656-8.831l-.462-4.884a.531.531%2c0%2c0%2c0-.478-.478l-4.884-.462H8.825a.16.16%2c0%2c0%2c0-.119.045L1.389-7.294a.156.156%2c0%2c0%2c0%2c0%2c.22L7.073-1.389a.155.155%2c0%2c0%2c0%2c.111.045A.155.155%2c0%2c0%2c0%2c7.3-1.389l7.317-7.317A.165.165%2c0%2c0%2c0%2c14.656-8.831ZM10.922-9.953a1%2c1%2c0%2c0%2c1-1-1%2c1%2c1%2c0%2c0%2c1%2c1-1%2c1%2c1%2c0%2c0%2c1%2c1%2c1A1%2c1%2c0%2c0%2c1%2c10.922-9.953Z'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_tag_kj' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_561' data-name='%e7%bb%84 561' class='cls-2'%3e %3cpath id='%e8%b7%af%e5%be%84_316' data-name='%e8%b7%af%e5%be%84 316' class='cls-3' d='M-5-21H21V5H-5Z'/%3e %3c/g%3e %3cg id='%e7%bb%84_562' data-name='%e7%bb%84 562' class='cls-4'%3e %3cpath id='%e8%b7%af%e5%be%84_318' data-name='%e8%b7%af%e5%be%84 318' class='cls-5' d='M-3.657-19.656H19.657V3.656H-3.657Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},function(e,t,i){"use strict";var n=i(75),a=[n.saveResult,n.scale,n.rotate,n.fullScreen,n.setValid,n.backward,n.forward,n.dargWithRightClick,n.dargWithLeftClick];e.exports=a},function(e,t,i){"use strict";var n=i(22),a=i(34),c=i(0),r=i(67),o=i(20);function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var l=s(c),d=Object.defineProperty,u=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=function(e,t,i){return t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},v=function(e,t){for(var i in t||(t={}))h.call(t,i)&&g(e,i,t[i]);if(u){var n,c=a(u(t));try{for(c.s();!(n=c.n()).done;){i=n.value;f.call(t,i)&&g(e,i,t[i])}}catch(r){c.e(r)}finally{c.f()}}return e},b={width:1280,height:720},p=l.default.forwardRef((function(e,t){var i=e.size,a=void 0===i?b:i,s=e.src,d=e.annotations,u=void 0===d?[]:d,h=e.style,f=void 0===h?{color:"blue",thickness:5}:h,g=e.zoomChange,p=e.backgroundStyle,m=void 0===p?{}:p,y=e.onChange,x=e.showLoading,w=void 0!==x&&x,k=c.useState(!1),L=n(k,2),C=L[0],I=L[1],O=c.useRef(null),T=c.useRef();c.useImperativeHandle(t,(function(){var e=T.current;return e?{zoomIn:function(){return e.zoomChanged(!0)},zoomOut:function(){return e.zoomChanged(!1)},initImgPos:function(){return e.initImgPos()},toolInstance:e}:{}}),[T.current]),c.useEffect((function(){return O.current&&(T.current=new r.ViewOperation({container:O.current,size:a,style:f,annotations:u,config:"{}"}),T.current.init()),function(){var e;null==(e=T.current)||e.destroy()}}),[]),c.useEffect((function(){var e;T.current&&(I(!0),null==(e=T.current)||e.setLoading(!0),r.ImgUtils.load(s).then((function(e){var t,i;null==(t=T.current)||t.setLoading(!1),I(!1),null==(i=T.current)||i.setImgNode(e)})).catch((function(){var e;null==(e=T.current)||e.setLoading(!1),I(!1)})))}),[s]),c.useEffect((function(){T.current&&T.current.updateData(u)}),[u]),c.useEffect((function(){var e=T.current;(null==e?void 0:e.setSize)&&e.setSize(a)}),[null==a?void 0:a.width,null==a?void 0:a.height]),c.useEffect((function(){var e,t;return T.current&&(null==(e=T.current)||e.on("onChange",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];null==y||y.apply(null,t)})),null==(t=T.current)||t.on("renderZoom",(function(e){g&&g(e)}))),function(){var e,t;null==(e=T.current)||e.unbindAll("onChange"),null==(t=T.current)||t.unbindAll("renderZoom")}}),[g,y]);var A=l.default.createElement("div",{ref:O,style:v(v({},a),m)});return l.default.createElement(o.Spin,{spinning:w||C,delay:300},A)}));e.exports=p},function(e,t,i){},,,,,,,,,,,function(e,t){},,function(e,t,i){"use strict";i.r(t);var n=i(0),a=i(19),c=i.n(a),r=(i(216),i(33)),o=(i(217),i(218),i(42)),s=i.n(o),l=(i(437),i(43)),d=function(e){var t=e.fileList,i=e.goBack,n=e.stepList,a=e.step;return Object(l.jsx)("div",{children:Object(l.jsx)(s.a,{headerName:"\u6d4b\u8bd5\u5404\u7c7b\u5de5\u5177",onSubmit:function(e){console.log("submitData",e)},imgList:t,goBack:i,stepList:n,step:a,onSave:function(e,t,i){console.log("save",e,t,i)}})})},u=[i.p+"static/media/10.1785e6e3.jpg",i.p+"static/media/19.608ec5b7.jpg",i.p+"static/media/20.ad3945c2.jpg",i.p+"static/media/66.2fa781f1.jpg"],h=JSON.stringify({height:200,width:100,rotate:0,step_1:{dataSource:0,tool:"rectTool",result:[{id:"xs23da23a",sourceID:"0",x:0,y:0,width:100,height:100,valid:!0,order:1,attribute:"",textAttribute:""}]}}),f=JSON.stringify({height:200,width:100,rotate:0,step_1:{dataSource:0,tool:"tagTool",result:[]}}),g=function(e){return"rectTool"===e?h:"tagTool"===e?f:""},v=[{type:"rect",annotation:{id:123123,x:123,y:23,width:100,height:100,color:"pink"}},{type:"polygon",annotation:{id:3,color:"green",pointList:[{x:12,y:123},{x:122,y:123},{x:2,y:3}]}},{type:"line",annotation:{color:"yellow",thickness:5,id:4,pointList:[{x:123,y:12},{x:2,y:12},{x:34,y:132}]}},{type:"point",annotation:{id:5,x:10,y:10,fill:"green",color:"blue",thickness:"20",radius:10}},{type:"rect",annotation:{id:10,x:13,y:3,width:1020,height:100}}],b={showConfirm:!1,skipWhileNoDependencies:!1,drawOutsideTarget:!1,copyBackwardResult:!0,minWidth:1,minHeight:1,isShowOrder:!0,filterData:["valid","invalid"],attributeConfigurable:!0,attributeList:[{key:"\u73a9\u5076",value:"doll"},{key:"\u55b7\u58f6",value:"wateringCan"},{key:"\u8138\u76c6",value:"washbasin"},{key:"\u4fdd\u6e29\u676f",value:"vacuumCup"},{key:"\u7eb8\u5dfe",value:"tissue"},{key:"\u6c34\u58f6",value:"kettle"}],textConfigurable:!0,textCheckType:0,customFormat:""},p={showConfirm:!0,skipWhileNoDependencies:!1,inputList:[{key:"\u7c7b\u522b1",value:"class1",isMulti:!1,subSelected:[{key:"\u9009\u98791",value:"option1",isDefault:!0},{key:"\u9009\u98792",value:"option1-2",isDefault:!1}]},{key:"\u7c7b\u522b2",value:"class-AH",isMulti:!0,subSelected:[{key:"\u9009\u98792-1",value:"option2-1",isDefault:!0},{key:"\u9009\u98792-2",value:"option2-2",isDefault:!0},{key:"\u9009\u98792-3",value:"option2-3",isDefault:!1}]},{key:"\u7c7b\u522b3",value:"class-0P",isMulti:!1,subSelected:[{key:"\u9009\u98793-1",value:"option3-1",isDefault:!1},{key:"\u9009\u98793-2",value:"option3-2",isDefault:!1},{key:"\u9009\u98793-3",value:"option3-3",isDefault:!1}]},{key:"\u7c7b\u522b4",value:"class-4",isMulti:!0,subSelected:[{key:"\u9009\u98792-1",value:"option2-1",isDefault:!1},{key:"\u9009\u98792-2",value:"option2-2",isDefault:!1},{key:"\u9009\u98792-3",value:"option2-3",isDefault:!1}]}]},m={lineType:0,lineColor:0,edgeAdsorption:!0,outOfTarget:!0,copyBackwardResult:!0,isShowOrder:!0,attributeConfigurable:!0,attributeList:[{key:"\u7c7b\u522b1",value:"\u7c7b\u522b1"},{key:"\u7c7b\u522bao",value:"class-ao"},{key:"\u7c7b\u522bM1",value:"class-M1"},{key:"\u7c7b\u522bCm",value:"class-Cm"},{key:"\u7c7b\u522bc3",value:"class-c3"},{key:"\u7c7b\u522ba0",value:"class-a0"},{key:"\u7c7b\u522bu7",value:"class-u7"},{key:"\u7c7b\u522bZb",value:"class-Zb"},{key:"\u7c7b\u522bzi",value:"class-zi"}],textConfigurable:!0,textCheckType:2,customFormat:"",showConfirm:!0,lowerLimitPointNum:2,upperLimitPointNum:"",preReferenceStep:0,skipWhileNoDependencies:!1,filterData:["valid","invalid"]},y={showConfirm:!1,skipWhileNoDependencies:!1,enableTextRecognition:!1,recognitionMode:"general",configList:[{label:"\u6587\u672c",key:"text",required:!1,default:"default1",maxLength:1e3},{label:"\u6587\u672c2",key:"text2",required:!0,default:"default2",maxLength:1e3},{label:"\u6587\u672c3",key:"text3",required:!0,default:"default3",maxLength:1e3}],filterData:["valid","invalid"]},x={lineType:0,lineColor:0,edgeAdsorption:!0,drawOutsideTarget:!1,copyBackwardResult:!1,isShowOrder:!1,attributeConfigurable:!0,attributeList:[{key:"\u73a9\u5076",value:"doll"},{key:"\u55b7\u58f6",value:"wateringCan"},{key:"\u8138\u76c6",value:"washbasin"},{key:"\u4fdd\u6e29\u676f",value:"vacuumCup"},{key:"\u7eb8\u5dfe",value:"tissue"},{key:"\u6c34\u58f6",value:"kettle"}],textConfigurable:!0,textCheckType:0,customFormat:""},w=function(e){return"lineTool"===e?m:"rectTool"===e?b:"tagTool"===e?p:"textTool"===e?y:"polygonTool"===e?x:b},k=function(e,t,i){return{step:null!==t&&void 0!==t?t:1,dataSourceStep:i||0,tool:null!==e&&void 0!==e?e:"rectTool",config:JSON.stringify(w(e))}},L=i(210),C=i.n(L),I=function(){var e=C.a.parse(window.location.search,{ignoreQueryPrefix:!0,comma:!0}).tool,t=!Array.isArray(e),i=t?function(e,t,i){return[k(e)]}(e):e.map((function(e,t){return k(e,t+1,t)})),a=Object(n.useState)(u.map((function(i,n){return{id:n+1,url:i,result:t?g(e):""}}))),c=Object(r.a)(a,1)[0];if("annotationView"===e)return Object(l.jsx)("div",{children:Object(l.jsx)("div",{style:{height:500},children:Object(l.jsx)(o.AnnotationView,{src:"https://cdn.nba.com/manage/2020/10/andre-iguodala-iso-smile-0520-784x588.jpg",annotations:v,style:{color:"blue",thickness:5}})})});return c.length>0?Object(l.jsx)(d,{fileList:c,goBack:function(e){console.log("goBack",e)},stepList:i,step:1}):Object(l.jsx)("div",{className:"App"})};c.a.render(Object(l.jsx)(I,{}),document.getElementById("root"))}]),[[450,1,2]]]);
//# sourceMappingURL=main.03ee85ca.chunk.js.map